(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function il(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ve={},_i=[],Xt=()=>{},ng=()=>!1,Xa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rl=e=>e.startsWith("onUpdate:"),tt=Object.assign,al=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ig=Object.prototype.hasOwnProperty,Be=(e,t)=>ig.call(e,t),Ie=Array.isArray,Oi=e=>$r(e)==="[object Map]",Ya=e=>$r(e)==="[object Set]",rc=e=>$r(e)==="[object Date]",Te=e=>typeof e=="function",Ke=e=>typeof e=="string",Mt=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",ud=e=>(Fe(e)||Te(e))&&Te(e.then)&&Te(e.catch),dd=Object.prototype.toString,$r=e=>dd.call(e),rg=e=>$r(e).slice(8,-1),hd=e=>$r(e)==="[object Object]",ol=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rr=il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ag=/-(\w)/g,Pt=Za(e=>e.replace(ag,(t,n)=>n?n.toUpperCase():"")),og=/\B([A-Z])/g,Bn=Za(e=>e.replace(og,"-$1").toLowerCase()),Qa=Za(e=>e.charAt(0).toUpperCase()+e.slice(1)),Eo=Za(e=>e?`on${Qa(e)}`:""),hn=(e,t)=>!Object.is(e,t),sa=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},pd=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},hs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},sg=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let ac;const Ja=()=>ac||(ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function He(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Ke(i)?dg(i):He(i);if(r)for(const a in r)t[a]=r[a]}return t}else if(Ke(e)||Fe(e))return e}const lg=/;(?![^(]*\))/g,cg=/:([^]+)/,ug=/\/\*[^]*?\*\//g;function dg(e){const t={};return e.replace(ug,"").split(lg).forEach(n=>{if(n){const i=n.split(cg);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ge(e){let t="";if(Ke(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const i=ge(e[n]);i&&(t+=i+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function hg(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ke(t)&&(e.class=ge(t)),n&&(e.style=He(n)),e}const pg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mg=il(pg);function md(e){return!!e||e===""}function gg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=eo(e[i],t[i]);return n}function eo(e,t){if(e===t)return!0;let n=rc(e),i=rc(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Mt(e),i=Mt(t),n||i)return e===t;if(n=Ie(e),i=Ie(t),n||i)return n&&i?gg(e,t):!1;if(n=Fe(e),i=Fe(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,a=Object.keys(t).length;if(r!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!eo(e[o],t[o]))return!1}}return String(e)===String(t)}function gd(e,t){return e.findIndex(n=>eo(n,t))}const fd=e=>!!(e&&e.__v_isRef===!0),J=e=>Ke(e)?e:e==null?"":Ie(e)||Fe(e)&&(e.toString===dd||!Te(e.toString))?fd(e)?J(e.value):JSON.stringify(e,yd,2):String(e),yd=(e,t)=>fd(t)?yd(e,t.value):Oi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],a)=>(n[$o(i,a)+" =>"]=r,n),{})}:Ya(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>$o(n))}:Mt(t)?$o(t):Fe(t)&&!Ie(t)&&!hd(t)?String(t):t,$o=(e,t="")=>{var n;return Mt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ut;class vd{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ut,!t&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ut;try{return ut=this,t()}finally{ut=n}}}on(){ut=this}off(){ut=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function bd(e){return new vd(e)}function sl(){return ut}function la(e,t=!1){ut&&ut.cleanups.push(e)}let Ue;const Ao=new WeakSet;class wd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ut&&ut.active&&ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ao.has(this)&&(Ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Od(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oc(this),kd(this);const t=Ue,n=$t;Ue=this,$t=!0;try{return this.fn()}finally{Id(this),Ue=t,$t=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ul(t);this.deps=this.depsTail=void 0,oc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ps(this)&&this.run()}get dirty(){return ps(this)}}let _d=0,ar,or;function Od(e,t=!1){if(e.flags|=8,t){e.next=or,or=e;return}e.next=ar,ar=e}function ll(){_d++}function cl(){if(--_d>0)return;if(or){let t=or;for(or=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ar;){let t=ar;for(ar=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function kd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Id(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ul(i),fg(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function ps(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Nd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Nd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pr))return;e.globalVersion=pr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ps(e)){e.flags&=-3;return}const n=Ue,i=$t;Ue=e,$t=!0;try{kd(e);const r=e.fn(e._value);(t.version===0||hn(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ue=n,$t=i,Id(e),e.flags&=-3}}function ul(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)ul(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function fg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let $t=!0;const Td=[];function Ln(){Td.push($t),$t=!1}function qn(){const e=Td.pop();$t=e===void 0?!0:e}function oc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ue;Ue=void 0;try{t()}finally{Ue=n}}}let pr=0;class yg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class to{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ue||!$t||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new yg(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,Pd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=i)}return n}trigger(t){this.version++,pr++,this.notify(t)}notify(t){ll();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{cl()}}}function Pd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Pd(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _a=new WeakMap,ni=Symbol(""),ms=Symbol(""),mr=Symbol("");function ot(e,t,n){if($t&&Ue){let i=_a.get(e);i||_a.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new to),r.map=i,r.key=n),r.track()}}function on(e,t,n,i,r,a){const o=_a.get(e);if(!o){pr++;return}const s=l=>{l&&l.trigger()};if(ll(),t==="clear")o.forEach(s);else{const l=Ie(e),c=l&&ol(n);if(l&&n==="length"){const u=Number(i);o.forEach((d,h)=>{(h==="length"||h===mr||!Mt(h)&&h>=u)&&s(d)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(mr)),t){case"add":l?c&&s(o.get("length")):(s(o.get(ni)),Oi(e)&&s(o.get(ms)));break;case"delete":l||(s(o.get(ni)),Oi(e)&&s(o.get(ms)));break;case"set":Oi(e)&&s(o.get(ni));break}}cl()}function vg(e,t){const n=_a.get(e);return n&&n.get(t)}function pi(e){const t=Me(e);return t===e?t:(ot(t,"iterate",mr),Tt(e)?t:t.map(st))}function no(e){return ot(e=Me(e),"iterate",mr),e}const bg={__proto__:null,[Symbol.iterator](){return Mo(this,Symbol.iterator,st)},concat(...e){return pi(this).concat(...e.map(t=>Ie(t)?pi(t):t))},entries(){return Mo(this,"entries",e=>(e[1]=st(e[1]),e))},every(e,t){return tn(this,"every",e,t,void 0,arguments)},filter(e,t){return tn(this,"filter",e,t,n=>n.map(st),arguments)},find(e,t){return tn(this,"find",e,t,st,arguments)},findIndex(e,t){return tn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return tn(this,"findLast",e,t,st,arguments)},findLastIndex(e,t){return tn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return tn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Do(this,"includes",e)},indexOf(...e){return Do(this,"indexOf",e)},join(e){return pi(this).join(e)},lastIndexOf(...e){return Do(this,"lastIndexOf",e)},map(e,t){return tn(this,"map",e,t,void 0,arguments)},pop(){return Wi(this,"pop")},push(...e){return Wi(this,"push",e)},reduce(e,...t){return sc(this,"reduce",e,t)},reduceRight(e,...t){return sc(this,"reduceRight",e,t)},shift(){return Wi(this,"shift")},some(e,t){return tn(this,"some",e,t,void 0,arguments)},splice(...e){return Wi(this,"splice",e)},toReversed(){return pi(this).toReversed()},toSorted(e){return pi(this).toSorted(e)},toSpliced(...e){return pi(this).toSpliced(...e)},unshift(...e){return Wi(this,"unshift",e)},values(){return Mo(this,"values",st)}};function Mo(e,t,n){const i=no(e),r=i[t]();return i!==e&&!Tt(e)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=n(a.value)),a}),r}const wg=Array.prototype;function tn(e,t,n,i,r,a){const o=no(e),s=o!==e&&!Tt(e),l=o[t];if(l!==wg[t]){const d=l.apply(e,a);return s?st(d):d}let c=n;o!==e&&(s?c=function(d,h){return n.call(this,st(d),h,e)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,e)}));const u=l.call(o,c,i);return s&&r?r(u):u}function sc(e,t,n,i){const r=no(e);let a=n;return r!==e&&(Tt(e)?n.length>3&&(a=function(o,s,l){return n.call(this,o,s,l,e)}):a=function(o,s,l){return n.call(this,o,st(s),l,e)}),r[t](a,...i)}function Do(e,t,n){const i=Me(e);ot(i,"iterate",mr);const r=i[t](...n);return(r===-1||r===!1)&&ml(n[0])?(n[0]=Me(n[0]),i[t](...n)):r}function Wi(e,t,n=[]){Ln(),ll();const i=Me(e)[t].apply(e,n);return cl(),qn(),i}const _g=il("__proto__,__v_isRef,__isVue"),xd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mt));function Og(e){Mt(e)||(e=String(e));const t=Me(this);return ot(t,"has",e),t.hasOwnProperty(e)}class Sd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(r?a?$g:Ad:a?$d:Ed).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Ie(t);if(!r){let l;if(o&&(l=bg[n]))return l;if(n==="hasOwnProperty")return Og}const s=Reflect.get(t,n,Ye(t)?t:i);return(Mt(n)?xd.has(n):_g(n))||(r||ot(t,"get",n),a)?s:Ye(s)?o&&ol(n)?s:s.value:Fe(s)?r?hl(s):Qt(s):s}}class Cd extends Sd{constructor(t=!1){super(!1,t)}set(t,n,i,r){let a=t[n];if(!this._isShallow){const l=oi(a);if(!Tt(i)&&!oi(i)&&(a=Me(a),i=Me(i)),!Ie(t)&&Ye(a)&&!Ye(i))return l?!1:(a.value=i,!0)}const o=Ie(t)&&ol(n)?Number(n)<t.length:Be(t,n),s=Reflect.set(t,n,i,Ye(t)?t:r);return t===Me(r)&&(o?hn(i,a)&&on(t,"set",n,i):on(t,"add",n,i)),s}deleteProperty(t,n){const i=Be(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&on(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Mt(n)||!xd.has(n))&&ot(t,"has",n),i}ownKeys(t){return ot(t,"iterate",Ie(t)?"length":ni),Reflect.ownKeys(t)}}class kg extends Sd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ig=new Cd,Ng=new kg,Tg=new Cd(!0);const gs=e=>e,Lr=e=>Reflect.getPrototypeOf(e);function Pg(e,t,n){return function(...i){const r=this.__v_raw,a=Me(r),o=Oi(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),u=n?gs:t?fs:st;return!t&&ot(a,"iterate",l?ms:ni),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:s?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function qr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function xg(e,t){const n={get(r){const a=this.__v_raw,o=Me(a),s=Me(r);e||(hn(r,s)&&ot(o,"get",r),ot(o,"get",s));const{has:l}=Lr(o),c=t?gs:e?fs:st;if(l.call(o,r))return c(a.get(r));if(l.call(o,s))return c(a.get(s));a!==o&&a.get(r)},get size(){const r=this.__v_raw;return!e&&ot(Me(r),"iterate",ni),Reflect.get(r,"size",r)},has(r){const a=this.__v_raw,o=Me(a),s=Me(r);return e||(hn(r,s)&&ot(o,"has",r),ot(o,"has",s)),r===s?a.has(r):a.has(r)||a.has(s)},forEach(r,a){const o=this,s=o.__v_raw,l=Me(s),c=t?gs:e?fs:st;return!e&&ot(l,"iterate",ni),s.forEach((u,d)=>r.call(a,c(u),c(d),o))}};return tt(n,e?{add:qr("add"),set:qr("set"),delete:qr("delete"),clear:qr("clear")}:{add(r){!t&&!Tt(r)&&!oi(r)&&(r=Me(r));const a=Me(this);return Lr(a).has.call(a,r)||(a.add(r),on(a,"add",r,r)),this},set(r,a){!t&&!Tt(a)&&!oi(a)&&(a=Me(a));const o=Me(this),{has:s,get:l}=Lr(o);let c=s.call(o,r);c||(r=Me(r),c=s.call(o,r));const u=l.call(o,r);return o.set(r,a),c?hn(a,u)&&on(o,"set",r,a):on(o,"add",r,a),this},delete(r){const a=Me(this),{has:o,get:s}=Lr(a);let l=o.call(a,r);l||(r=Me(r),l=o.call(a,r)),s&&s.call(a,r);const c=a.delete(r);return l&&on(a,"delete",r,void 0),c},clear(){const r=Me(this),a=r.size!==0,o=r.clear();return a&&on(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Pg(r,e,t)}),n}function dl(e,t){const n=xg(e,t);return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Be(n,r)&&r in i?n:i,r,a)}const Sg={get:dl(!1,!1)},Cg={get:dl(!1,!0)},Eg={get:dl(!0,!1)};const Ed=new WeakMap,$d=new WeakMap,Ad=new WeakMap,$g=new WeakMap;function Ag(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mg(e){return e.__v_skip||!Object.isExtensible(e)?0:Ag(rg(e))}function Qt(e){return oi(e)?e:pl(e,!1,Ig,Sg,Ed)}function Md(e){return pl(e,!1,Tg,Cg,$d)}function hl(e){return pl(e,!0,Ng,Eg,Ad)}function pl(e,t,n,i,r){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=Mg(e);if(o===0)return e;const s=new Proxy(e,o===2?i:n);return r.set(e,s),s}function ki(e){return oi(e)?ki(e.__v_raw):!!(e&&e.__v_isReactive)}function oi(e){return!!(e&&e.__v_isReadonly)}function Tt(e){return!!(e&&e.__v_isShallow)}function ml(e){return e?!!e.__v_raw:!1}function Me(e){const t=e&&e.__v_raw;return t?Me(t):e}function Ii(e){return!Be(e,"__v_skip")&&Object.isExtensible(e)&&pd(e,"__v_skip",!0),e}const st=e=>Fe(e)?Qt(e):e,fs=e=>Fe(e)?hl(e):e;function Ye(e){return e?e.__v_isRef===!0:!1}function re(e){return Dd(e,!1)}function gr(e){return Dd(e,!0)}function Dd(e,t){return Ye(e)?e:new Dg(e,t)}class Dg{constructor(t,n){this.dep=new to,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Me(t),this._value=n?t:st(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Tt(t)||oi(t);t=i?t:Me(t),hn(t,n)&&(this._rawValue=t,this._value=i?t:st(t),this.dep.trigger())}}function ee(e){return Ye(e)?e.value:e}function Ae(e){return Te(e)?e():ee(e)}const zg={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ye(r)&&!Ye(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function zd(e){return ki(e)?e:new Proxy(e,zg)}class Rg{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new to,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Bg(e){return new Rg(e)}function Rd(e){const t=Ie(e)?new Array(e.length):{};for(const n in e)t[n]=Bd(e,n);return t}class Lg{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return vg(Me(this._object),this._key)}}class qg{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qe(e,t,n){return Ye(e)?e:Te(e)?new qg(e):Fe(e)&&arguments.length>1?Bd(e,t,n):re(e)}function Bd(e,t,n){const i=e[t];return Ye(i)?i:new Lg(e,t,n)}class Fg{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new to(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Od(this,!0),!0}get value(){const t=this.dep.track();return Nd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Vg(e,t,n=!1){let i,r;return Te(e)?i=e:(i=e.get,r=e.set),new Fg(i,r,n)}const Fr={},Oa=new WeakMap;let jn;function Hg(e,t=!1,n=jn){if(n){let i=Oa.get(n);i||Oa.set(n,i=[]),i.push(e)}}function Ug(e,t,n=Ve){const{immediate:i,deep:r,once:a,scheduler:o,augmentJob:s,call:l}=n,c=g=>r?g:Tt(g)||r===!1||r===0?sn(g,1):sn(g);let u,d,h,p,w=!1,m=!1;if(Ye(e)?(d=()=>e.value,w=Tt(e)):ki(e)?(d=()=>c(e),w=!0):Ie(e)?(m=!0,w=e.some(g=>ki(g)||Tt(g)),d=()=>e.map(g=>{if(Ye(g))return g.value;if(ki(g))return c(g);if(Te(g))return l?l(g,2):g()})):Te(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Ln();try{h()}finally{qn()}}const g=jn;jn=u;try{return l?l(e,3,[p]):e(p)}finally{jn=g}}:d=Xt,t&&r){const g=d,D=r===!0?1/0:r;d=()=>sn(g(),D)}const k=sl(),b=()=>{u.stop(),k&&k.active&&al(k.effects,u)};if(a&&t){const g=t;t=(...D)=>{g(...D),b()}}let S=m?new Array(e.length).fill(Fr):Fr;const _=g=>{if(!(!(u.flags&1)||!u.dirty&&!g))if(t){const D=u.run();if(r||w||(m?D.some((q,O)=>hn(q,S[O])):hn(D,S))){h&&h();const q=jn;jn=u;try{const O=[D,S===Fr?void 0:m&&S[0]===Fr?[]:S,p];l?l(t,3,O):t(...O),S=D}finally{jn=q}}}else u.run()};return s&&s(_),u=new wd(d),u.scheduler=o?()=>o(_,!1):_,p=g=>Hg(g,!1,u),h=u.onStop=()=>{const g=Oa.get(u);if(g){if(l)l(g,4);else for(const D of g)D();Oa.delete(u)}},t?i?_(!0):S=u.run():o?o(_.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function sn(e,t=1/0,n){if(t<=0||!Fe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ye(e))sn(e.value,t,n);else if(Ie(e))for(let i=0;i<e.length;i++)sn(e[i],t,n);else if(Ya(e)||Oi(e))e.forEach(i=>{sn(i,t,n)});else if(hd(e)){for(const i in e)sn(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&sn(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ar(e,t,n,i){try{return i?e(...i):e()}catch(r){io(r,t,n)}}function Dt(e,t,n,i){if(Te(e)){const r=Ar(e,t,n,i);return r&&ud(r)&&r.catch(a=>{io(a,t,n)}),r}if(Ie(e)){const r=[];for(let a=0;a<e.length;a++)r.push(Dt(e[a],t,n,i));return r}}function io(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ve;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}s=s.parent}if(a){Ln(),Ar(a,null,10,[e,l,c]),qn();return}}jg(e,n,r,i,o)}function jg(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const dt=[];let Ht=-1;const Ni=[];let Nn=null,fi=0;const Ld=Promise.resolve();let ka=null;function bt(e){const t=ka||Ld;return e?t.then(this?e.bind(this):e):t}function Wg(e){let t=Ht+1,n=dt.length;for(;t<n;){const i=t+n>>>1,r=dt[i],a=fr(r);a<e||a===e&&r.flags&2?t=i+1:n=i}return t}function gl(e){if(!(e.flags&1)){const t=fr(e),n=dt[dt.length-1];!n||!(e.flags&2)&&t>=fr(n)?dt.push(e):dt.splice(Wg(t),0,e),e.flags|=1,qd()}}function qd(){ka||(ka=Ld.then(Vd))}function Gg(e){Ie(e)?Ni.push(...e):Nn&&e.id===-1?Nn.splice(fi+1,0,e):e.flags&1||(Ni.push(e),e.flags|=1),qd()}function lc(e,t,n=Ht+1){for(;n<dt.length;n++){const i=dt[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;dt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Fd(e){if(Ni.length){const t=[...new Set(Ni)].sort((n,i)=>fr(n)-fr(i));if(Ni.length=0,Nn){Nn.push(...t);return}for(Nn=t,fi=0;fi<Nn.length;fi++){const n=Nn[fi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Nn=null,fi=0}}const fr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Vd(e){try{for(Ht=0;Ht<dt.length;Ht++){const t=dt[Ht];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ar(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ht<dt.length;Ht++){const t=dt[Ht];t&&(t.flags&=-2)}Ht=-1,dt.length=0,Fd(),ka=null,(dt.length||Ni.length)&&Vd()}}let nt=null,Hd=null;function Ia(e){const t=nt;return nt=e,Hd=e&&e.type.__scopeId||null,t}function ht(e,t=nt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&bc(-1);const a=Ia(t);let o;try{o=e(...r)}finally{Ia(a),i._d&&bc(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ge(e,t){if(nt===null)return e;const n=uo(nt),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,o,s,l=Ve]=t[r];a&&(Te(a)&&(a={mounted:a,updated:a}),a.deep&&sn(o),i.push({dir:a,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Vn(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(Ln(),Dt(l,n,8,[e.el,s,e,t]),qn())}}const Kg=Symbol("_vte"),Ud=e=>e.__isTeleport,Tn=Symbol("_leaveCb"),Vr=Symbol("_enterCb");function jd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return at(()=>{e.isMounted=!0}),oo(()=>{e.isUnmounting=!0}),e}const It=[Function,Array],Wd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:It,onEnter:It,onAfterEnter:It,onEnterCancelled:It,onBeforeLeave:It,onLeave:It,onAfterLeave:It,onLeaveCancelled:It,onBeforeAppear:It,onAppear:It,onAfterAppear:It,onAppearCancelled:It},Gd=e=>{const t=e.subTree;return t.component?Gd(t.component):t},Xg={name:"BaseTransition",props:Wd,setup(e,{slots:t}){const n=Fn(),i=jd();return()=>{const r=t.default&&fl(t.default(),!0);if(!r||!r.length)return;const a=Kd(r),o=Me(e),{mode:s}=o;if(i.isLeaving)return zo(a);const l=cc(a);if(!l)return zo(a);let c=yr(l,o,i,n,d=>c=d);l.type!==pt&&si(l,c);let u=n.subTree&&cc(n.subTree);if(u&&u.type!==pt&&!Gn(l,u)&&Gd(n).type!==pt){let d=yr(u,o,i,n);if(si(u,d),s==="out-in"&&l.type!==pt)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},zo(a);s==="in-out"&&l.type!==pt?d.delayLeave=(h,p,w)=>{const m=Xd(i,u);m[String(u.key)]=u,h[Tn]=()=>{p(),h[Tn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{w(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function Kd(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==pt){t=n;break}}return t}const Yg=Xg;function Xd(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function yr(e,t,n,i,r){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:w,onLeaveCancelled:m,onBeforeAppear:k,onAppear:b,onAfterAppear:S,onAppearCancelled:_}=t,g=String(e.key),D=Xd(n,e),q=(E,B)=>{E&&Dt(E,i,9,B)},O=(E,B)=>{const V=B[1];q(E,B),Ie(E)?E.every(T=>T.length<=1)&&V():E.length<=1&&V()},P={mode:o,persisted:s,beforeEnter(E){let B=l;if(!n.isMounted)if(a)B=k||l;else return;E[Tn]&&E[Tn](!0);const V=D[g];V&&Gn(e,V)&&V.el[Tn]&&V.el[Tn](),q(B,[E])},enter(E){let B=c,V=u,T=d;if(!n.isMounted)if(a)B=b||c,V=S||u,T=_||d;else return;let U=!1;const f=E[Vr]=C=>{U||(U=!0,C?q(T,[E]):q(V,[E]),P.delayedLeave&&P.delayedLeave(),E[Vr]=void 0)};B?O(B,[E,f]):f()},leave(E,B){const V=String(e.key);if(E[Vr]&&E[Vr](!0),n.isUnmounting)return B();q(h,[E]);let T=!1;const U=E[Tn]=f=>{T||(T=!0,B(),f?q(m,[E]):q(w,[E]),E[Tn]=void 0,D[V]===e&&delete D[V])};D[V]=e,p?O(p,[E,U]):U()},clone(E){const B=yr(E,t,n,i,r);return r&&r(B),B}};return P}function zo(e){if(ro(e))return e=Dn(e),e.children=null,e}function cc(e){if(!ro(e))return Ud(e.type)&&e.children?Kd(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Te(n.default))return n.default()}}function si(e,t){e.shapeFlag&6&&e.component?(e.transition=t,si(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fl(e,t=!1,n){let i=[],r=0;for(let a=0;a<e.length;a++){let o=e[a];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:a);o.type===he?(o.patchFlag&128&&r++,i=i.concat(fl(o.children,t,s))):(t||o.type!==pt)&&i.push(s!=null?Dn(o,{key:s}):o)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function de(e,t){return Te(e)?tt({name:e.name},t,{setup:e}):e}function Yd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Na(e,t,n,i,r=!1){if(Ie(e)){e.forEach((w,m)=>Na(w,t&&(Ie(t)?t[m]:t),n,i,r));return}if(Ti(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Na(e,t,n,i.component.subTree);return}const a=i.shapeFlag&4?uo(i.component):i.el,o=r?null:a,{i:s,r:l}=e,c=t&&t.r,u=s.refs===Ve?s.refs={}:s.refs,d=s.setupState,h=Me(d),p=d===Ve?()=>!1:w=>Be(h,w);if(c!=null&&c!==l&&(Ke(c)?(u[c]=null,p(c)&&(d[c]=null)):Ye(c)&&(c.value=null)),Te(l))Ar(l,s,12,[o,u]);else{const w=Ke(l),m=Ye(l);if(w||m){const k=()=>{if(e.f){const b=w?p(l)?d[l]:u[l]:l.value;r?Ie(b)&&al(b,a):Ie(b)?b.includes(a)||b.push(a):w?(u[l]=[a],p(l)&&(d[l]=u[l])):(l.value=[a],e.k&&(u[e.k]=l.value))}else w?(u[l]=o,p(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(k.id=-1,_t(k,n)):k()}}}Ja().requestIdleCallback;Ja().cancelIdleCallback;const Ti=e=>!!e.type.__asyncLoader,ro=e=>e.type.__isKeepAlive;function Zg(e,t){Zd(e,"a",t)}function Qg(e,t){Zd(e,"da",t)}function Zd(e,t,n=rt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ao(t,i,n),n){let r=n.parent;for(;r&&r.parent;)ro(r.parent.vnode)&&Jg(i,t,n,r),r=r.parent}}function Jg(e,t,n,i){const r=ao(t,e,i,!0);so(()=>{al(i[t],r)},n)}function ao(e,t,n=rt,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Ln();const s=Mr(n),l=Dt(t,n,e,o);return s(),qn(),l});return i?r.unshift(a):r.push(a),a}}const yn=e=>(t,n=rt)=>{(!wr||e==="sp")&&ao(e,(...i)=>t(...i),n)},Qd=yn("bm"),at=yn("m"),ef=yn("bu"),Jd=yn("u"),oo=yn("bum"),so=yn("um"),tf=yn("sp"),nf=yn("rtg"),rf=yn("rtc");function af(e,t=rt){ao("ec",e,t)}const eh="components";function th(e,t){return ih(eh,e,!0,t)||e}const nh=Symbol.for("v-ndc");function Wn(e){return Ke(e)?ih(eh,e,!1)||e:e||nh}function ih(e,t,n=!0,i=!1){const r=nt||rt;if(r){const a=r.type;{const s=Uf(a,!1);if(s&&(s===t||s===Pt(t)||s===Qa(Pt(t))))return a}const o=uc(r[e]||a[e],t)||uc(r.appContext[e],t);return!o&&i?a:o}}function uc(e,t){return e&&(e[t]||e[Pt(t)]||e[Qa(Pt(t))])}function Ce(e,t,n,i){let r;const a=n&&n[i],o=Ie(e);if(o||Ke(e)){const s=o&&ki(e);let l=!1;s&&(l=!Tt(e),e=no(e)),r=new Array(e.length);for(let c=0,u=e.length;c<u;c++)r[c]=t(l?st(e[c]):e[c],c,void 0,a&&a[c])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,a&&a[s])}else if(Fe(e))if(e[Symbol.iterator])r=Array.from(e,(s,l)=>t(s,l,void 0,a&&a[l]));else{const s=Object.keys(e);r=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];r[l]=t(e[u],u,l,a&&a[l])}}else r=[];return n&&(n[i]=r),r}function We(e,t,n={},i,r){if(nt.ce||nt.parent&&Ti(nt.parent)&&nt.parent.ce)return t!=="default"&&(n.name=t),I(),fe(he,null,[ke("slot",n,i&&i())],64);let a=e[t];a&&a._c&&(a._d=!1),I();const o=a&&rh(a(n)),s=n.key||o&&o.key,l=fe(he,{key:(s&&!Mt(s)?s:`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function rh(e){return e.some(t=>vr(t)?!(t.type===pt||t.type===he&&!rh(t.children)):!0)?e:null}const ys=e=>e?Ph(e)?uo(e):ys(e.parent):null,sr=tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ys(e.parent),$root:e=>ys(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lh(e),$forceUpdate:e=>e.f||(e.f=()=>{gl(e.update)}),$nextTick:e=>e.n||(e.n=bt.bind(e.proxy)),$watch:e=>Pf.bind(e)}),Ro=(e,t)=>e!==Ve&&!e.__isScriptSetup&&Be(e,t),of={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(Ro(i,t))return o[t]=1,i[t];if(r!==Ve&&Be(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&Be(c,t))return o[t]=3,a[t];if(n!==Ve&&Be(n,t))return o[t]=4,n[t];vs&&(o[t]=0)}}const u=sr[t];let d,h;if(u)return t==="$attrs"&&ot(e.attrs,"get",""),u(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==Ve&&Be(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,Be(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;return Ro(r,t)?(r[t]=n,!0):i!==Ve&&Be(i,t)?(i[t]=n,!0):Be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!n[o]||e!==Ve&&Be(e,o)||Ro(t,o)||(s=a[0])&&Be(s,o)||Be(i,o)||Be(sr,o)||Be(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Be(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ah(){return oh().slots}function yl(){return oh().attrs}function oh(){const e=Fn();return e.setupContext||(e.setupContext=Sh(e))}function dc(e){return Ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function sf(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}let vs=!0;function lf(e){const t=lh(e),n=e.proxy,i=e.ctx;vs=!1,t.beforeCreate&&hc(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:w,activated:m,deactivated:k,beforeDestroy:b,beforeUnmount:S,destroyed:_,unmounted:g,render:D,renderTracked:q,renderTriggered:O,errorCaptured:P,serverPrefetch:E,expose:B,inheritAttrs:V,components:T,directives:U,filters:f}=t;if(c&&cf(c,i,null),o)for(const M in o){const L=o[M];Te(L)&&(i[M]=L.bind(n))}if(r){const M=r.call(n,n);Fe(M)&&(e.data=Qt(M))}if(vs=!0,a)for(const M in a){const L=a[M],j=Te(L)?L.bind(n,n):Te(L.get)?L.get.bind(n,n):Xt,H=!Te(L)&&Te(L.set)?L.set.bind(n):Xt,K=Q({get:j,set:H});Object.defineProperty(i,M,{enumerable:!0,configurable:!0,get:()=>K.value,set:te=>K.value=te})}if(s)for(const M in s)sh(s[M],i,n,M);if(l){const M=Te(l)?l.call(n):l;Reflect.ownKeys(M).forEach(L=>{Mn(L,M[L])})}u&&hc(u,e,"c");function y(M,L){Ie(L)?L.forEach(j=>M(j.bind(n))):L&&M(L.bind(n))}if(y(Qd,d),y(at,h),y(ef,p),y(Jd,w),y(Zg,m),y(Qg,k),y(af,P),y(rf,q),y(nf,O),y(oo,S),y(so,g),y(tf,E),Ie(B))if(B.length){const M=e.exposed||(e.exposed={});B.forEach(L=>{Object.defineProperty(M,L,{get:()=>n[L],set:j=>n[L]=j})})}else e.exposed||(e.exposed={});D&&e.render===Xt&&(e.render=D),V!=null&&(e.inheritAttrs=V),T&&(e.components=T),U&&(e.directives=U),E&&Yd(e)}function cf(e,t,n=Xt){Ie(e)&&(e=bs(e));for(const i in e){const r=e[i];let a;Fe(r)?"default"in r?a=$e(r.from||i,r.default,!0):a=$e(r.from||i):a=$e(r),Ye(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[i]=a}}function hc(e,t,n){Dt(Ie(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function sh(e,t,n,i){let r=i.includes(".")?_h(n,i):()=>n[i];if(Ke(e)){const a=t[e];Te(a)&&Ee(r,a)}else if(Te(e))Ee(r,e.bind(n));else if(Fe(e))if(Ie(e))e.forEach(a=>sh(a,t,n,i));else{const a=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(a)&&Ee(r,a,e)}}function lh(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>Ta(l,c,o,!0)),Ta(l,t,o)),Fe(t)&&a.set(t,l),l}function Ta(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&Ta(e,a,n,!0),r&&r.forEach(o=>Ta(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const s=uf[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const uf={data:pc,props:mc,emits:mc,methods:Qi,computed:Qi,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:Qi,directives:Qi,watch:hf,provide:pc,inject:df};function pc(e,t){return t?e?function(){return tt(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function df(e,t){return Qi(bs(e),bs(t))}function bs(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ct(e,t){return e?[...new Set([].concat(e,t))]:t}function Qi(e,t){return e?tt(Object.create(null),e,t):t}function mc(e,t){return e?Ie(e)&&Ie(t)?[...new Set([...e,...t])]:tt(Object.create(null),dc(e),dc(t??{})):t}function hf(e,t){if(!e)return t;if(!t)return e;const n=tt(Object.create(null),e);for(const i in t)n[i]=ct(e[i],t[i]);return n}function ch(){return{app:null,config:{isNativeTag:ng,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pf=0;function mf(e,t){return function(i,r=null){Te(i)||(i=tt({},i)),r!=null&&!Fe(r)&&(r=null);const a=ch(),o=new WeakSet,s=[];let l=!1;const c=a.app={_uid:pf++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:Gf,get config(){return a.config},set config(u){},use(u,...d){return o.has(u)||(u&&Te(u.install)?(o.add(u),u.install(c,...d)):Te(u)&&(o.add(u),u(c,...d))),c},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),c},component(u,d){return d?(a.components[u]=d,c):a.components[u]},directive(u,d){return d?(a.directives[u]=d,c):a.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||ke(i,r);return p.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(p,u,h),l=!0,c._container=u,u.__vue_app__=c,uo(p.component)}},onUnmount(u){s.push(u)},unmount(){l&&(Dt(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return a.provides[u]=d,c},runWithContext(u){const d=Pi;Pi=c;try{return u()}finally{Pi=d}}};return c}}let Pi=null;function Mn(e,t){if(rt){let n=rt.provides;const i=rt.parent&&rt.parent.provides;i===n&&(n=rt.provides=Object.create(i)),n[e]=t}}function $e(e,t,n=!1){const i=rt||nt;if(i||Pi){const r=Pi?Pi._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Te(t)?t.call(i&&i.proxy):t}}const uh={},dh=()=>Object.create(uh),hh=e=>Object.getPrototypeOf(e)===uh;function gf(e,t,n,i=!1){const r={},a=dh();e.propsDefaults=Object.create(null),ph(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Md(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function ff(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,s=Me(r),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(lo(e.emitsOptions,h))continue;const p=t[h];if(l)if(Be(a,h))p!==a[h]&&(a[h]=p,c=!0);else{const w=Pt(h);r[w]=ws(l,s,w,p,e,!1)}else p!==a[h]&&(a[h]=p,c=!0)}}}else{ph(e,t,r,a)&&(c=!0);let u;for(const d in s)(!t||!Be(t,d)&&((u=Bn(d))===d||!Be(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=ws(l,s,d,void 0,e,!0)):delete r[d]);if(a!==s)for(const d in a)(!t||!Be(t,d))&&(delete a[d],c=!0)}c&&on(e.attrs,"set","")}function ph(e,t,n,i){const[r,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(rr(l))continue;const c=t[l];let u;r&&Be(r,u=Pt(l))?!a||!a.includes(u)?n[u]=c:(s||(s={}))[u]=c:lo(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(a){const l=Me(n),c=s||Ve;for(let u=0;u<a.length;u++){const d=a[u];n[d]=ws(r,l,d,c[d],e,!Be(c,d))}}return o}function ws(e,t,n,i,r,a){const o=e[n];if(o!=null){const s=Be(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Te(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=Mr(r);i=c[n]=l.call(null,t),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===Bn(n))&&(i=!0))}return i}const yf=new WeakMap;function mh(e,t,n=!1){const i=n?yf:t.propsCache,r=i.get(e);if(r)return r;const a=e.props,o={},s=[];let l=!1;if(!Te(e)){const u=d=>{l=!0;const[h,p]=mh(d,t,!0);tt(o,h),p&&s.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!l)return Fe(e)&&i.set(e,_i),_i;if(Ie(a))for(let u=0;u<a.length;u++){const d=Pt(a[u]);gc(d)&&(o[d]=Ve)}else if(a)for(const u in a){const d=Pt(u);if(gc(d)){const h=a[u],p=o[d]=Ie(h)||Te(h)?{type:h}:tt({},h),w=p.type;let m=!1,k=!0;if(Ie(w))for(let b=0;b<w.length;++b){const S=w[b],_=Te(S)&&S.name;if(_==="Boolean"){m=!0;break}else _==="String"&&(k=!1)}else m=Te(w)&&w.name==="Boolean";p[0]=m,p[1]=k,(m||Be(p,"default"))&&s.push(d)}}const c=[o,s];return Fe(e)&&i.set(e,c),c}function gc(e){return e[0]!=="$"&&!rr(e)}const gh=e=>e[0]==="_"||e==="$stable",vl=e=>Ie(e)?e.map(jt):[jt(e)],vf=(e,t,n)=>{if(t._n)return t;const i=ht((...r)=>vl(t(...r)),n);return i._c=!1,i},fh=(e,t,n)=>{const i=e._ctx;for(const r in e){if(gh(r))continue;const a=e[r];if(Te(a))t[r]=vf(r,a,i);else if(a!=null){const o=vl(a);t[r]=()=>o}}},yh=(e,t)=>{const n=vl(t);e.slots.default=()=>n},vh=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},bf=(e,t,n)=>{const i=e.slots=dh();if(e.vnode.shapeFlag&32){const r=t._;r?(vh(i,t,n),n&&pd(i,"_",r,!0)):fh(t,i)}else t&&yh(e,t)},wf=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,o=Ve;if(i.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:vh(r,t,n):(a=!t.$stable,fh(t,r)),o=t}else t&&(yh(e,t),o={default:1});if(a)for(const s in r)!gh(s)&&o[s]==null&&delete r[s]},_t=Mf;function _f(e){return Of(e)}function Of(e,t){const n=Ja();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=Xt,insertStaticContent:w}=e,m=(R,F,N,x=null,$=null,A=null,W=void 0,Y=null,X=!!F.dynamicChildren)=>{if(R===F)return;R&&!Gn(R,F)&&(x=ve(R),te(R,$,A,!0),R=null),F.patchFlag===-2&&(X=!1,F.dynamicChildren=null);const{type:G,ref:ae,shapeFlag:ne}=F;switch(G){case co:k(R,F,N,x);break;case pt:b(R,F,N,x);break;case ca:R==null&&S(F,N,x,W);break;case he:T(R,F,N,x,$,A,W,Y,X);break;default:ne&1?D(R,F,N,x,$,A,W,Y,X):ne&6?U(R,F,N,x,$,A,W,Y,X):(ne&64||ne&128)&&G.process(R,F,N,x,$,A,W,Y,X,Se)}ae!=null&&$&&Na(ae,R&&R.ref,A,F||R,!F)},k=(R,F,N,x)=>{if(R==null)i(F.el=s(F.children),N,x);else{const $=F.el=R.el;F.children!==R.children&&c($,F.children)}},b=(R,F,N,x)=>{R==null?i(F.el=l(F.children||""),N,x):F.el=R.el},S=(R,F,N,x)=>{[R.el,R.anchor]=w(R.children,F,N,x,R.el,R.anchor)},_=({el:R,anchor:F},N,x)=>{let $;for(;R&&R!==F;)$=h(R),i(R,N,x),R=$;i(F,N,x)},g=({el:R,anchor:F})=>{let N;for(;R&&R!==F;)N=h(R),r(R),R=N;r(F)},D=(R,F,N,x,$,A,W,Y,X)=>{F.type==="svg"?W="svg":F.type==="math"&&(W="mathml"),R==null?q(F,N,x,$,A,W,Y,X):E(R,F,$,A,W,Y,X)},q=(R,F,N,x,$,A,W,Y)=>{let X,G;const{props:ae,shapeFlag:ne,transition:le,dirs:pe}=R;if(X=R.el=o(R.type,A,ae&&ae.is,ae),ne&8?u(X,R.children):ne&16&&P(R.children,X,null,x,$,Bo(R,A),W,Y),pe&&Vn(R,null,x,"created"),O(X,R,R.scopeId,W,x),ae){for(const De in ae)De!=="value"&&!rr(De)&&a(X,De,null,ae[De],A,x);"value"in ae&&a(X,"value",null,ae.value,A),(G=ae.onVnodeBeforeMount)&&Ft(G,x,R)}pe&&Vn(R,null,x,"beforeMount");const xe=kf($,le);xe&&le.beforeEnter(X),i(X,F,N),((G=ae&&ae.onVnodeMounted)||xe||pe)&&_t(()=>{G&&Ft(G,x,R),xe&&le.enter(X),pe&&Vn(R,null,x,"mounted")},$)},O=(R,F,N,x,$)=>{if(N&&p(R,N),x)for(let A=0;A<x.length;A++)p(R,x[A]);if($){let A=$.subTree;if(F===A||kh(A.type)&&(A.ssContent===F||A.ssFallback===F)){const W=$.vnode;O(R,W,W.scopeId,W.slotScopeIds,$.parent)}}},P=(R,F,N,x,$,A,W,Y,X=0)=>{for(let G=X;G<R.length;G++){const ae=R[G]=Y?Pn(R[G]):jt(R[G]);m(null,ae,F,N,x,$,A,W,Y)}},E=(R,F,N,x,$,A,W)=>{const Y=F.el=R.el;let{patchFlag:X,dynamicChildren:G,dirs:ae}=F;X|=R.patchFlag&16;const ne=R.props||Ve,le=F.props||Ve;let pe;if(N&&Hn(N,!1),(pe=le.onVnodeBeforeUpdate)&&Ft(pe,N,F,R),ae&&Vn(F,R,N,"beforeUpdate"),N&&Hn(N,!0),(ne.innerHTML&&le.innerHTML==null||ne.textContent&&le.textContent==null)&&u(Y,""),G?B(R.dynamicChildren,G,Y,N,x,Bo(F,$),A):W||L(R,F,Y,null,N,x,Bo(F,$),A,!1),X>0){if(X&16)V(Y,ne,le,N,$);else if(X&2&&ne.class!==le.class&&a(Y,"class",null,le.class,$),X&4&&a(Y,"style",ne.style,le.style,$),X&8){const xe=F.dynamicProps;for(let De=0;De<xe.length;De++){const ze=xe[De],lt=ne[ze],ft=le[ze];(ft!==lt||ze==="value")&&a(Y,ze,lt,ft,$,N)}}X&1&&R.children!==F.children&&u(Y,F.children)}else!W&&G==null&&V(Y,ne,le,N,$);((pe=le.onVnodeUpdated)||ae)&&_t(()=>{pe&&Ft(pe,N,F,R),ae&&Vn(F,R,N,"updated")},x)},B=(R,F,N,x,$,A,W)=>{for(let Y=0;Y<F.length;Y++){const X=R[Y],G=F[Y],ae=X.el&&(X.type===he||!Gn(X,G)||X.shapeFlag&70)?d(X.el):N;m(X,G,ae,null,x,$,A,W,!0)}},V=(R,F,N,x,$)=>{if(F!==N){if(F!==Ve)for(const A in F)!rr(A)&&!(A in N)&&a(R,A,F[A],null,$,x);for(const A in N){if(rr(A))continue;const W=N[A],Y=F[A];W!==Y&&A!=="value"&&a(R,A,Y,W,$,x)}"value"in N&&a(R,"value",F.value,N.value,$)}},T=(R,F,N,x,$,A,W,Y,X)=>{const G=F.el=R?R.el:s(""),ae=F.anchor=R?R.anchor:s("");let{patchFlag:ne,dynamicChildren:le,slotScopeIds:pe}=F;pe&&(Y=Y?Y.concat(pe):pe),R==null?(i(G,N,x),i(ae,N,x),P(F.children||[],N,ae,$,A,W,Y,X)):ne>0&&ne&64&&le&&R.dynamicChildren?(B(R.dynamicChildren,le,N,$,A,W,Y),(F.key!=null||$&&F===$.subTree)&&bh(R,F,!0)):L(R,F,N,ae,$,A,W,Y,X)},U=(R,F,N,x,$,A,W,Y,X)=>{F.slotScopeIds=Y,R==null?F.shapeFlag&512?$.ctx.activate(F,N,x,W,X):f(F,N,x,$,A,W,X):C(R,F,X)},f=(R,F,N,x,$,A,W)=>{const Y=R.component=qf(R,x,$);if(ro(R)&&(Y.ctx.renderer=Se),Ff(Y,!1,W),Y.asyncDep){if($&&$.registerDep(Y,y,W),!R.el){const X=Y.subTree=ke(pt);b(null,X,F,N)}}else y(Y,R,F,N,$,A,W)},C=(R,F,N)=>{const x=F.component=R.component;if($f(R,F,N))if(x.asyncDep&&!x.asyncResolved){M(x,F,N);return}else x.next=F,x.update();else F.el=R.el,x.vnode=F},y=(R,F,N,x,$,A,W)=>{const Y=()=>{if(R.isMounted){let{next:ne,bu:le,u:pe,parent:xe,vnode:De}=R;{const Lt=wh(R);if(Lt){ne&&(ne.el=De.el,M(R,ne,W)),Lt.asyncDep.then(()=>{R.isUnmounted||Y()});return}}let ze=ne,lt;Hn(R,!1),ne?(ne.el=De.el,M(R,ne,W)):ne=De,le&&sa(le),(lt=ne.props&&ne.props.onVnodeBeforeUpdate)&&Ft(lt,xe,ne,De),Hn(R,!0);const ft=yc(R),Bt=R.subTree;R.subTree=ft,m(Bt,ft,d(Bt.el),ve(Bt),R,$,A),ne.el=ft.el,ze===null&&Af(R,ft.el),pe&&_t(pe,$),(lt=ne.props&&ne.props.onVnodeUpdated)&&_t(()=>Ft(lt,xe,ne,De),$)}else{let ne;const{el:le,props:pe}=F,{bm:xe,m:De,parent:ze,root:lt,type:ft}=R,Bt=Ti(F);Hn(R,!1),xe&&sa(xe),!Bt&&(ne=pe&&pe.onVnodeBeforeMount)&&Ft(ne,ze,F),Hn(R,!0);{lt.ce&&lt.ce._injectChildStyle(ft);const Lt=R.subTree=yc(R);m(null,Lt,N,x,R,$,A),F.el=Lt.el}if(De&&_t(De,$),!Bt&&(ne=pe&&pe.onVnodeMounted)){const Lt=F;_t(()=>Ft(ne,ze,Lt),$)}(F.shapeFlag&256||ze&&Ti(ze.vnode)&&ze.vnode.shapeFlag&256)&&R.a&&_t(R.a,$),R.isMounted=!0,F=N=x=null}};R.scope.on();const X=R.effect=new wd(Y);R.scope.off();const G=R.update=X.run.bind(X),ae=R.job=X.runIfDirty.bind(X);ae.i=R,ae.id=R.uid,X.scheduler=()=>gl(ae),Hn(R,!0),G()},M=(R,F,N)=>{F.component=R;const x=R.vnode.props;R.vnode=F,R.next=null,ff(R,F.props,x,N),wf(R,F.children,N),Ln(),lc(R),qn()},L=(R,F,N,x,$,A,W,Y,X=!1)=>{const G=R&&R.children,ae=R?R.shapeFlag:0,ne=F.children,{patchFlag:le,shapeFlag:pe}=F;if(le>0){if(le&128){H(G,ne,N,x,$,A,W,Y,X);return}else if(le&256){j(G,ne,N,x,$,A,W,Y,X);return}}pe&8?(ae&16&&ue(G,$,A),ne!==G&&u(N,ne)):ae&16?pe&16?H(G,ne,N,x,$,A,W,Y,X):ue(G,$,A,!0):(ae&8&&u(N,""),pe&16&&P(ne,N,x,$,A,W,Y,X))},j=(R,F,N,x,$,A,W,Y,X)=>{R=R||_i,F=F||_i;const G=R.length,ae=F.length,ne=Math.min(G,ae);let le;for(le=0;le<ne;le++){const pe=F[le]=X?Pn(F[le]):jt(F[le]);m(R[le],pe,N,null,$,A,W,Y,X)}G>ae?ue(R,$,A,!0,!1,ne):P(F,N,x,$,A,W,Y,X,ne)},H=(R,F,N,x,$,A,W,Y,X)=>{let G=0;const ae=F.length;let ne=R.length-1,le=ae-1;for(;G<=ne&&G<=le;){const pe=R[G],xe=F[G]=X?Pn(F[G]):jt(F[G]);if(Gn(pe,xe))m(pe,xe,N,null,$,A,W,Y,X);else break;G++}for(;G<=ne&&G<=le;){const pe=R[ne],xe=F[le]=X?Pn(F[le]):jt(F[le]);if(Gn(pe,xe))m(pe,xe,N,null,$,A,W,Y,X);else break;ne--,le--}if(G>ne){if(G<=le){const pe=le+1,xe=pe<ae?F[pe].el:x;for(;G<=le;)m(null,F[G]=X?Pn(F[G]):jt(F[G]),N,xe,$,A,W,Y,X),G++}}else if(G>le)for(;G<=ne;)te(R[G],$,A,!0),G++;else{const pe=G,xe=G,De=new Map;for(G=xe;G<=le;G++){const wt=F[G]=X?Pn(F[G]):jt(F[G]);wt.key!=null&&De.set(wt.key,G)}let ze,lt=0;const ft=le-xe+1;let Bt=!1,Lt=0;const ji=new Array(ft);for(G=0;G<ft;G++)ji[G]=0;for(G=pe;G<=ne;G++){const wt=R[G];if(lt>=ft){te(wt,$,A,!0);continue}let qt;if(wt.key!=null)qt=De.get(wt.key);else for(ze=xe;ze<=le;ze++)if(ji[ze-xe]===0&&Gn(wt,F[ze])){qt=ze;break}qt===void 0?te(wt,$,A,!0):(ji[qt-xe]=G+1,qt>=Lt?Lt=qt:Bt=!0,m(wt,F[qt],N,null,$,A,W,Y,X),lt++)}const nc=Bt?If(ji):_i;for(ze=nc.length-1,G=ft-1;G>=0;G--){const wt=xe+G,qt=F[wt],ic=wt+1<ae?F[wt+1].el:x;ji[G]===0?m(null,qt,N,ic,$,A,W,Y,X):Bt&&(ze<0||G!==nc[ze]?K(qt,N,ic,2):ze--)}}},K=(R,F,N,x,$=null)=>{const{el:A,type:W,transition:Y,children:X,shapeFlag:G}=R;if(G&6){K(R.component.subTree,F,N,x);return}if(G&128){R.suspense.move(F,N,x);return}if(G&64){W.move(R,F,N,Se);return}if(W===he){i(A,F,N);for(let ne=0;ne<X.length;ne++)K(X[ne],F,N,x);i(R.anchor,F,N);return}if(W===ca){_(R,F,N);return}if(x!==2&&G&1&&Y)if(x===0)Y.beforeEnter(A),i(A,F,N),_t(()=>Y.enter(A),$);else{const{leave:ne,delayLeave:le,afterLeave:pe}=Y,xe=()=>i(A,F,N),De=()=>{ne(A,()=>{xe(),pe&&pe()})};le?le(A,xe,De):De()}else i(A,F,N)},te=(R,F,N,x=!1,$=!1)=>{const{type:A,props:W,ref:Y,children:X,dynamicChildren:G,shapeFlag:ae,patchFlag:ne,dirs:le,cacheIndex:pe}=R;if(ne===-2&&($=!1),Y!=null&&Na(Y,null,N,R,!0),pe!=null&&(F.renderCache[pe]=void 0),ae&256){F.ctx.deactivate(R);return}const xe=ae&1&&le,De=!Ti(R);let ze;if(De&&(ze=W&&W.onVnodeBeforeUnmount)&&Ft(ze,F,R),ae&6)ce(R.component,N,x);else{if(ae&128){R.suspense.unmount(N,x);return}xe&&Vn(R,null,F,"beforeUnmount"),ae&64?R.type.remove(R,F,N,Se,x):G&&!G.hasOnce&&(A!==he||ne>0&&ne&64)?ue(G,F,N,!1,!0):(A===he&&ne&384||!$&&ae&16)&&ue(X,F,N),x&&se(R)}(De&&(ze=W&&W.onVnodeUnmounted)||xe)&&_t(()=>{ze&&Ft(ze,F,R),xe&&Vn(R,null,F,"unmounted")},N)},se=R=>{const{type:F,el:N,anchor:x,transition:$}=R;if(F===he){ie(N,x);return}if(F===ca){g(R);return}const A=()=>{r(N),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(R.shapeFlag&1&&$&&!$.persisted){const{leave:W,delayLeave:Y}=$,X=()=>W(N,A);Y?Y(R.el,A,X):X()}else A()},ie=(R,F)=>{let N;for(;R!==F;)N=h(R),r(R),R=N;r(F)},ce=(R,F,N)=>{const{bum:x,scope:$,job:A,subTree:W,um:Y,m:X,a:G}=R;fc(X),fc(G),x&&sa(x),$.stop(),A&&(A.flags|=8,te(W,R,F,N)),Y&&_t(Y,F),_t(()=>{R.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},ue=(R,F,N,x=!1,$=!1,A=0)=>{for(let W=A;W<R.length;W++)te(R[W],F,N,x,$)},ve=R=>{if(R.shapeFlag&6)return ve(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const F=h(R.anchor||R.el),N=F&&F[Kg];return N?h(N):F};let Oe=!1;const we=(R,F,N)=>{R==null?F._vnode&&te(F._vnode,null,null,!0):m(F._vnode||null,R,F,null,null,null,N),F._vnode=R,Oe||(Oe=!0,lc(),Fd(),Oe=!1)},Se={p:m,um:te,m:K,r:se,mt:f,mc:P,pc:L,pbc:B,n:ve,o:e};return{render:we,hydrate:void 0,createApp:mf(we)}}function Bo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Hn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function kf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function bh(e,t,n=!1){const i=e.children,r=t.children;if(Ie(i)&&Ie(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Pn(r[a]),s.el=o.el),!n&&s.patchFlag!==-2&&bh(o,s)),s.type===co&&(s.el=o.el)}}function If(e){const t=e.slice(),n=[0];let i,r,a,o,s;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function wh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wh(t)}function fc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Nf=Symbol.for("v-scx"),Tf=()=>$e(Nf);function bl(e,t){return wl(e,null,t)}function Ee(e,t,n){return wl(e,t,n)}function wl(e,t,n=Ve){const{immediate:i,deep:r,flush:a,once:o}=n,s=tt({},n),l=t&&i||!t&&a!=="post";let c;if(wr){if(a==="sync"){const p=Tf();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Xt,p.resume=Xt,p.pause=Xt,p}}const u=rt;s.call=(p,w,m)=>Dt(p,u,w,m);let d=!1;a==="post"?s.scheduler=p=>{_t(p,u&&u.suspense)}:a!=="sync"&&(d=!0,s.scheduler=(p,w)=>{w?p():gl(p)}),s.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=Ug(e,t,s);return wr&&(c?c.push(h):l&&h()),h}function Pf(e,t,n){const i=this.proxy,r=Ke(e)?e.includes(".")?_h(i,e):()=>i[e]:e.bind(i,i);let a;Te(t)?a=t:(a=t.handler,n=t);const o=Mr(this),s=wl(r,a.bind(i),n);return o(),s}function _h(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const xf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pt(t)}Modifiers`]||e[`${Bn(t)}Modifiers`];function Sf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ve;let r=n;const a=t.startsWith("update:"),o=a&&xf(i,t.slice(7));o&&(o.trim&&(r=n.map(u=>Ke(u)?u.trim():u)),o.number&&(r=n.map(hs)));let s,l=i[s=Eo(t)]||i[s=Eo(Pt(t))];!l&&a&&(l=i[s=Eo(Bn(t))]),l&&Dt(l,e,6,r);const c=i[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Dt(c,e,6,r)}}function Oh(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let o={},s=!1;if(!Te(e)){const l=c=>{const u=Oh(c,t,!0);u&&(s=!0,tt(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(Fe(e)&&i.set(e,null),null):(Ie(a)?a.forEach(l=>o[l]=null):tt(o,a),Fe(e)&&i.set(e,o),o)}function lo(e,t){return!e||!Xa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Be(e,t[0].toLowerCase()+t.slice(1))||Be(e,Bn(t))||Be(e,t))}function yc(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[a],slots:o,attrs:s,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:w,inheritAttrs:m}=e,k=Ia(e);let b,S;try{if(n.shapeFlag&4){const g=r||i,D=g;b=jt(c.call(D,g,u,d,p,h,w)),S=s}else{const g=t;b=jt(g.length>1?g(d,{attrs:s,slots:o,emit:l}):g(d,null)),S=t.props?s:Cf(s)}}catch(g){lr.length=0,io(g,e,1),b=ke(pt)}let _=b;if(S&&m!==!1){const g=Object.keys(S),{shapeFlag:D}=_;g.length&&D&7&&(a&&g.some(rl)&&(S=Ef(S,a)),_=Dn(_,S,!1,!0))}return n.dirs&&(_=Dn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&si(_,n.transition),b=_,Ia(k),b}const Cf=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xa(n))&&((t||(t={}))[n]=e[n]);return t},Ef=(e,t)=>{const n={};for(const i in e)(!rl(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function $f(e,t,n){const{props:i,children:r,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?vc(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==i[h]&&!lo(c,h))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?vc(i,o,c):!0:!!o;return!1}function vc(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!lo(n,a))return!0}return!1}function Af({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const kh=e=>e.__isSuspense;function Mf(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):Gg(e)}const he=Symbol.for("v-fgt"),co=Symbol.for("v-txt"),pt=Symbol.for("v-cmt"),ca=Symbol.for("v-stc"),lr=[];let mt=null;function I(e=!1){lr.push(mt=e?null:[])}function Df(){lr.pop(),mt=lr[lr.length-1]||null}let Mi=1;function bc(e,t=!1){Mi+=e,e<0&&mt&&t&&(mt.hasOnce=!0)}function Ih(e){return e.dynamicChildren=Mi>0?mt||_i:null,Df(),Mi>0&&mt&&mt.push(e),e}function z(e,t,n,i,r,a){return Ih(v(e,t,n,i,r,a,!0))}function fe(e,t,n,i,r){return Ih(ke(e,t,n,i,r,!0))}function vr(e){return e?e.__v_isVNode===!0:!1}function Gn(e,t){return e.type===t.type&&e.key===t.key}const Nh=({key:e})=>e??null,ua=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||Ye(e)||Te(e)?{i:nt,r:e,k:t,f:!!n}:e:null);function v(e,t=null,n=null,i=0,r=null,a=e===he?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nh(t),ref:t&&ua(t),scopeId:Hd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:nt};return s?(_l(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Ke(n)?8:16),Mi>0&&!o&&mt&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&mt.push(l),l}const ke=zf;function zf(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===nh)&&(e=pt),vr(e)){const s=Dn(e,t,!0);return n&&_l(s,n),Mi>0&&!a&&mt&&(s.shapeFlag&6?mt[mt.indexOf(e)]=s:mt.push(s)),s.patchFlag=-2,s}if(jf(e)&&(e=e.__vccOpts),t){t=Rf(t);let{class:s,style:l}=t;s&&!Ke(s)&&(t.class=ge(s)),Fe(l)&&(ml(l)&&!Ie(l)&&(l=tt({},l)),t.style=He(l))}const o=Ke(e)?1:kh(e)?128:Ud(e)?64:Fe(e)?4:Te(e)?2:0;return v(e,t,n,i,r,o,a,!0)}function Rf(e){return e?ml(e)||hh(e)?tt({},e):e:null}function Dn(e,t,n=!1,i=!1){const{props:r,ref:a,patchFlag:o,children:s,transition:l}=e,c=t?br(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Nh(c),ref:t&&t.ref?n&&a?Ie(a)?a.concat(ua(t)):[a,ua(t)]:ua(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dn(e.ssContent),ssFallback:e.ssFallback&&Dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&si(u,l.clone(u)),u}function Le(e=" ",t=0){return ke(co,null,e,t)}function Th(e,t){const n=ke(ca,null,e);return n.staticCount=t,n}function Z(e="",t=!1){return t?(I(),fe(pt,null,e)):ke(pt,null,e)}function jt(e){return e==null||typeof e=="boolean"?ke(pt):Ie(e)?ke(he,null,e.slice()):vr(e)?Pn(e):ke(co,null,String(e))}function Pn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dn(e)}function _l(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),_l(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!hh(t)?t._ctx=nt:r===3&&nt&&(nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:nt},n=32):(t=String(t),i&64?(n=16,t=[Le(t)]):n=8);e.children=t,e.shapeFlag|=n}function br(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ge([t.class,i.class]));else if(r==="style")t.style=He([t.style,i.style]);else if(Xa(r)){const a=t[r],o=i[r];o&&a!==o&&!(Ie(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=i[r])}return t}function Ft(e,t,n,i=null){Dt(e,t,7,[n,i])}const Bf=ch();let Lf=0;function qf(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Bf,a={uid:Lf++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mh(i,r),emitsOptions:Oh(i,r),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:i.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Sf.bind(null,a),e.ce&&e.ce(a),a}let rt=null;const Fn=()=>rt||nt;let Pa,_s;{const e=Ja(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),a=>{r.length>1?r.forEach(o=>o(a)):r[0](a)}};Pa=t("__VUE_INSTANCE_SETTERS__",n=>rt=n),_s=t("__VUE_SSR_SETTERS__",n=>wr=n)}const Mr=e=>{const t=rt;return Pa(e),e.scope.on(),()=>{e.scope.off(),Pa(t)}},wc=()=>{rt&&rt.scope.off(),Pa(null)};function Ph(e){return e.vnode.shapeFlag&4}let wr=!1;function Ff(e,t=!1,n=!1){t&&_s(t);const{props:i,children:r}=e.vnode,a=Ph(e);gf(e,i,a,t),bf(e,r,n);const o=a?Vf(e,t):void 0;return t&&_s(!1),o}function Vf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,of);const{setup:i}=n;if(i){Ln();const r=e.setupContext=i.length>1?Sh(e):null,a=Mr(e),o=Ar(i,e,0,[e.props,r]),s=ud(o);if(qn(),a(),(s||e.sp)&&!Ti(e)&&Yd(e),s){if(o.then(wc,wc),t)return o.then(l=>{_c(e,l)}).catch(l=>{io(l,e,0)});e.asyncDep=o}else _c(e,o)}else xh(e)}function _c(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=zd(t)),xh(e)}function xh(e,t,n){const i=e.type;e.render||(e.render=i.render||Xt);{const r=Mr(e);Ln();try{lf(e)}finally{qn(),r()}}}const Hf={get(e,t){return ot(e,"get",""),e[t]}};function Sh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Hf),slots:e.slots,emit:e.emit,expose:t}}function uo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zd(Ii(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in sr)return sr[n](e)},has(t,n){return n in t||n in sr}})):e.proxy}function Uf(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function jf(e){return Te(e)&&"__vccOpts"in e}const Q=(e,t)=>Vg(e,t,wr);function Re(e,t,n){const i=arguments.length;return i===2?Fe(t)&&!Ie(t)?vr(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&vr(n)&&(n=[n]),ke(e,t,n))}function Wf(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(hn(n[i],t[i]))return!1;return Mi>0&&mt&&mt.push(e),!0}const Gf="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Os;const Oc=typeof window<"u"&&window.trustedTypes;if(Oc)try{Os=Oc.createPolicy("vue",{createHTML:e=>e})}catch{}const Ch=Os?e=>Os.createHTML(e):e=>e,Kf="http://www.w3.org/2000/svg",Xf="http://www.w3.org/1998/Math/MathML",an=typeof document<"u"?document:null,kc=an&&an.createElement("template"),Yf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?an.createElementNS(Kf,e):t==="mathml"?an.createElementNS(Xf,e):n?an.createElement(e,{is:n}):an.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>an.createTextNode(e),createComment:e=>an.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>an.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&(r===a||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{kc.innerHTML=Ch(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const s=kc.content;if(i==="svg"||i==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},bn="transition",Gi="animation",Di=Symbol("_vtc"),Eh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$h=tt({},Wd,Eh),Zf=e=>(e.displayName="Transition",e.props=$h,e),Qf=Zf((e,{slots:t})=>Re(Yg,Ah(e),t)),Un=(e,t=[])=>{Ie(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ic=e=>e?Ie(e)?e.some(t=>t.length>1):e.length>1:!1;function Ah(e){const t={};for(const T in e)T in Eh||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:c=o,appearToClass:u=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,w=Jf(r),m=w&&w[0],k=w&&w[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:_,onLeave:g,onLeaveCancelled:D,onBeforeAppear:q=b,onAppear:O=S,onAppearCancelled:P=_}=t,E=(T,U,f,C)=>{T._enterCancelled=C,_n(T,U?u:s),_n(T,U?c:o),f&&f()},B=(T,U)=>{T._isLeaving=!1,_n(T,d),_n(T,p),_n(T,h),U&&U()},V=T=>(U,f)=>{const C=T?O:S,y=()=>E(U,T,f);Un(C,[U,y]),Nc(()=>{_n(U,T?l:a),Vt(U,T?u:s),Ic(C)||Tc(U,i,m,y)})};return tt(t,{onBeforeEnter(T){Un(b,[T]),Vt(T,a),Vt(T,o)},onBeforeAppear(T){Un(q,[T]),Vt(T,l),Vt(T,c)},onEnter:V(!1),onAppear:V(!0),onLeave(T,U){T._isLeaving=!0;const f=()=>B(T,U);Vt(T,d),T._enterCancelled?(Vt(T,h),ks()):(ks(),Vt(T,h)),Nc(()=>{T._isLeaving&&(_n(T,d),Vt(T,p),Ic(g)||Tc(T,i,k,f))}),Un(g,[T,f])},onEnterCancelled(T){E(T,!1,void 0,!0),Un(_,[T])},onAppearCancelled(T){E(T,!0,void 0,!0),Un(P,[T])},onLeaveCancelled(T){B(T),Un(D,[T])}})}function Jf(e){if(e==null)return null;if(Fe(e))return[Lo(e.enter),Lo(e.leave)];{const t=Lo(e);return[t,t]}}function Lo(e){return sg(e)}function Vt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Di]||(e[Di]=new Set)).add(t)}function _n(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Di];n&&(n.delete(t),n.size||(e[Di]=void 0))}function Nc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ey=0;function Tc(e,t,n,i){const r=e._endId=++ey,a=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(a,n);const{type:o,timeout:s,propCount:l}=Mh(e,t);if(!o)return i();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),a()},h=p=>{p.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},s+1),e.addEventListener(c,h)}function Mh(e,t){const n=window.getComputedStyle(e),i=w=>(n[w]||"").split(", "),r=i(`${bn}Delay`),a=i(`${bn}Duration`),o=Pc(r,a),s=i(`${Gi}Delay`),l=i(`${Gi}Duration`),c=Pc(s,l);let u=null,d=0,h=0;t===bn?o>0&&(u=bn,d=o,h=a.length):t===Gi?c>0&&(u=Gi,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?bn:Gi:null,h=u?u===bn?a.length:l.length:0);const p=u===bn&&/\b(transform|all)(,|$)/.test(i(`${bn}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}function Pc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>xc(n)+xc(e[i])))}function xc(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ks(){return document.body.offsetHeight}function ty(e,t,n){const i=e[Di];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Sc=Symbol("_vod"),ny=Symbol("_vsh"),iy=Symbol(""),ry=/(^|;)\s*display\s*:/;function ay(e,t,n){const i=e.style,r=Ke(n);let a=!1;if(n&&!r){if(t)if(Ke(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&da(i,s,"")}else for(const o in t)n[o]==null&&da(i,o,"");for(const o in n)o==="display"&&(a=!0),da(i,o,n[o])}else if(r){if(t!==n){const o=i[iy];o&&(n+=";"+o),i.cssText=n,a=ry.test(n)}}else t&&e.removeAttribute("style");Sc in e&&(e[Sc]=a?i.display:"",e[ny]&&(i.display="none"))}const Cc=/\s*!important$/;function da(e,t,n){if(Ie(n))n.forEach(i=>da(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=oy(e,t);Cc.test(n)?e.setProperty(Bn(i),n.replace(Cc,""),"important"):e[i]=n}}const Ec=["Webkit","Moz","ms"],qo={};function oy(e,t){const n=qo[t];if(n)return n;let i=Pt(t);if(i!=="filter"&&i in e)return qo[t]=i;i=Qa(i);for(let r=0;r<Ec.length;r++){const a=Ec[r]+i;if(a in e)return qo[t]=a}return t}const $c="http://www.w3.org/1999/xlink";function Ac(e,t,n,i,r,a=mg(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS($c,t.slice(6,t.length)):e.setAttributeNS($c,t,n):n==null||a&&!md(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Mt(n)?String(n):n)}function Mc(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ch(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=md(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Kn(e,t,n,i){e.addEventListener(t,n,i)}function sy(e,t,n,i){e.removeEventListener(t,n,i)}const Dc=Symbol("_vei");function ly(e,t,n,i,r=null){const a=e[Dc]||(e[Dc]={}),o=a[t];if(i&&o)o.value=i;else{const[s,l]=cy(t);if(i){const c=a[t]=hy(i,r);Kn(e,s,c,l)}else o&&(sy(e,s,o,l),a[t]=void 0)}}const zc=/(?:Once|Passive|Capture)$/;function cy(e){let t;if(zc.test(e)){t={};let i;for(;i=e.match(zc);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bn(e.slice(2)),t]}let Fo=0;const uy=Promise.resolve(),dy=()=>Fo||(uy.then(()=>Fo=0),Fo=Date.now());function hy(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Dt(py(i,n.value),t,5,[i])};return n.value=e,n.attached=dy(),n}function py(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Rc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,my=(e,t,n,i,r,a)=>{const o=r==="svg";t==="class"?ty(e,i,o):t==="style"?ay(e,n,i):Xa(t)?rl(t)||ly(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gy(e,t,i,o))?(Mc(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ac(e,t,i,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ke(i))?Mc(e,Pt(t),i,a,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Ac(e,t,i,o))};function gy(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Rc(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Rc(t)&&Ke(n)?!1:t in e}const Dh=new WeakMap,zh=new WeakMap,xa=Symbol("_moveCb"),Bc=Symbol("_enterCb"),fy=e=>(delete e.props.mode,e),yy=fy({name:"TransitionGroup",props:tt({},$h,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Fn(),i=jd();let r,a;return Jd(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Oy(r[0].el,n.vnode.el,o))return;r.forEach(by),r.forEach(wy);const s=r.filter(_y);ks(),s.forEach(l=>{const c=l.el,u=c.style;Vt(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[xa]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[xa]=null,_n(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Me(e),s=Ah(o);let l=o.tag||he;if(r=[],a)for(let c=0;c<a.length;c++){const u=a[c];u.el&&u.el instanceof Element&&(r.push(u),si(u,yr(u,s,i,n)),Dh.set(u,u.el.getBoundingClientRect()))}a=t.default?fl(t.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&si(u,yr(u,s,i,n))}return ke(l,null,a)}}}),vy=yy;function by(e){const t=e.el;t[xa]&&t[xa](),t[Bc]&&t[Bc]()}function wy(e){zh.set(e,e.el.getBoundingClientRect())}function _y(e){const t=Dh.get(e),n=zh.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${r}px)`,a.transitionDuration="0s",e}}function Oy(e,t,n){const i=e.cloneNode(),r=e[Di];r&&r.forEach(s=>{s.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(i);const{hasTransform:o}=Mh(i);return a.removeChild(i),o}const Sa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>sa(t,n):t};function ky(e){e.target.composing=!0}function Lc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xi=Symbol("_assign"),it={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[xi]=Sa(r);const a=i||r.props&&r.props.type==="number";Kn(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),a&&(s=hs(s)),e[xi](s)}),n&&Kn(e,"change",()=>{e.value=e.value.trim()}),t||(Kn(e,"compositionstart",ky),Kn(e,"compositionend",Lc),Kn(e,"change",Lc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:a}},o){if(e[xi]=Sa(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?hs(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},vi={deep:!0,created(e,t,n){e[xi]=Sa(n),Kn(e,"change",()=>{const i=e._modelValue,r=Iy(e),a=e.checked,o=e[xi];if(Ie(i)){const s=gd(i,r),l=s!==-1;if(a&&!l)o(i.concat(r));else if(!a&&l){const c=[...i];c.splice(s,1),o(c)}}else if(Ya(i)){const s=new Set(i);a?s.add(r):s.delete(r),o(s)}else o(Rh(e,a))})},mounted:qc,beforeUpdate(e,t,n){e[xi]=Sa(n),qc(e,t,n)}};function qc(e,{value:t,oldValue:n},i){e._modelValue=t;let r;if(Ie(t))r=gd(t,i.props.value)>-1;else if(Ya(t))r=t.has(i.props.value);else{if(t===n)return;r=eo(t,Rh(e,!0))}e.checked!==r&&(e.checked=r)}function Iy(e){return"_value"in e?e._value:e.value}function Rh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ny=["ctrl","shift","alt","meta"],Ty={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ny.some(n=>e[`${n}Key`]&&!t.includes(n))},li=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...a)=>{for(let o=0;o<t.length;o++){const s=Ty[t[o]];if(s&&s(r,t))return}return e(r,...a)})},Py={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ol=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const a=Bn(r.key);if(t.some(o=>o===a||Py[o]===a))return e(r)})},xy=tt({patchProp:my},Yf);let Fc;function Sy(){return Fc||(Fc=_f(xy))}const Cy=(...e)=>{const t=Sy().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=$y(i);if(!r)return;const a=t._component;!Te(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Ey(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Ey(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $y(e){return Ke(e)?document.querySelector(e):e}class Bh{connectablesByName=new Map;establishedConnections=new Map}class Vc{target;type;inputName;constructor(t,n,i){if(this.target=t,this.type=n,n===6&&!i)throw new Error("inputName is required for NAMED_INPUT connection type.");this.inputName=i}}var _e=(e=>(e[e.ADD=1]="ADD",e[e.SUB=2]="SUB",e[e.MULTY=3]="MULTY",e[e.DIV=4]="DIV",e[e.FORMULA=5]="FORMULA",e[e.NAMED_INPUT=6]="NAMED_INPUT",e[e.GATE_THRESHOLD=7]="GATE_THRESHOLD",e[e.GATE_VALUE=8]="GATE_VALUE",e))(_e||{});class En{name;add=0;multi=[];divSources=[];multiCache=1;value=0;constructor(t){this.name=t}}class cr{name;value=0;independent=!0;constructor(t,n=0){this.name=t,this.value=n}}class Si{name;value=0;argument=0;formula;constructor(t,n){this.name=t,this.formula=n,this.value=this.formula(this.argument)}}class Xn{name;value=0;inputs={};formula;constructor(t,n,i){this.name=t,this.formula=n,i&&(this.inputs={...i}),this.value=this.formula(this.inputs)}}class bi{name;value=0;baseValue;isAboveThreshold;threshold=0;inputValue=0;constructor(t,n,i){this.name=t,this.baseValue=n,this.isAboveThreshold=i,this.value=n}}class Ay{characters=new Map;isLoaded=!1;loadCharacters(t,n){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i],a={id:i,name:r.name,gender:r.gender,initialLevel:r.initialLevel,baseUpkeep:r.baseUpkeep,bio:r.bio||"",fullImage:r.fullImage,location:r.location,portraitImage:r.portraitImage,initialAttributes:r.initialAttributes,initialSkills:r.initialSkills||{},triggerOnCreated:r.triggerOnCreated,keywords:r.keywords};this.characters.has(i)&&console.warn(`CharacterLib: Duplicate character ID "${i}" found. Overwriting with data from ${n||"current source"}.`),this.characters.set(i,a)}this.isLoaded=!0}getCharacter(t){return this.characters.get(t)}values(){return this.characters.values()}}const My={physique:{displayName:"Physique",description:"Concerns the capabilities of the body.",attributes:{strength:{displayName:"Strength",description:"Physical power, lifting capacity, and melee impact."},agility:{displayName:"Agility",description:"Speed, reaction time, coordination, and fine motor skills."},constitution:{displayName:"Constitution",description:"Health; resilience to damage, illness or toxins."},senses:{displayName:"Senses",description:"Awareness; effectiveness of sight, hearing, smell and touch."}}},spirit:{displayName:"Spirit",description:"Relates to magical aptitude.",attributes:{attunement:{displayName:"Attunement",description:"Connect with and draw upon various magical sources."},channeling:{displayName:"Channeling",description:"The raw amount of magical energy that can be harnessed and directed."},weaving:{displayName:"Weaving",description:"Precision and finesse in shaping magical energies."},resilience:{displayName:"Resilience",description:"Fortitude against magical influence and stress."}}},mind:{displayName:"Mind",description:"Encompasses intellectual and cognitive faculties.",attributes:{knowledge:{displayName:"Knowledge",description:"Accumulated learning, facts, and general erudition."},wisdom:{displayName:"Wisdom",description:"Sound judgment, foresight, and intuition."},ingenuity:{displayName:"Ingenuity",description:"Creativity, problem-solving, and logical reasoning."},willpower:{displayName:"Willpower",description:"Ability to maintain attention, multitask, and persevere through challenges."}}},social:{displayName:"Social",description:"Concerns interactions with people and animals.",attributes:{composure:{displayName:"Composure",description:"Conceal true feelings, and maintain a facade."},charisma:{displayName:"Charisma",description:"Innate personal magnetism and influence."},empathy:{displayName:"Empathy",description:"Understand and share the feelings or perspectives of others."},authority:{displayName:"Authority",description:"Inspire, direct, organize, and gain authority within groups."}}}};class Dy{attributes={};constructor(){this.loadAttributes()}loadAttributes(){this.attributes=My}getAttributeDefinitions(){return this.attributes}getAttributeDefinition(t,n){return this.attributes[t]?.attributes[n]}getCategoryDefinition(t){return this.attributes[t]}}const Hc={melee_combat:{displayName:"Melee Combat",description:"Fighting hand-to-hand with weapons",attribute:"physique",governedBy:["strength","agility"],assistedBy:["constitution","senses"],specializations:{one_handed_blades:{displayName:"One-Handed Blades",description:"Swords, Daggers, Scimitars"},one_handed_impact:{displayName:"One-Handed Impact",description:"Maces, Hammers, Axes"},two_handed_weapons:{displayName:"Two-Handed Weapons",description:"Greatswords, Greataxes, Mauls"},polearms:{displayName:"Polearms",description:"Spears, Halberds, Glaives"},flails_and_chains:{displayName:"Flails & Chains",description:"Weapons requiring specific momentum control"}}},ranged_combat:{displayName:"Ranged Combat",description:"Fighting from a distance with projectile weapons",attribute:"physique",governedBy:["agility","senses"],assistedBy:["strength","constitution"],specializations:{archery:{displayName:"Archery",description:"Longbows, Shortbows"},crossbows:{displayName:"Crossbows",description:"Light, Heavy, Repeating"},throwing_weapons:{displayName:"Throwing Weapons",description:"Daggers, Axes, Javelins, Slings"},siege_weaponry:{displayName:"Siege Weaponry",description:"Ballistae, Catapults (basic aiming/firing)"}}},unarmed_combat:{displayName:"Unarmed Combat",description:"Fighting without weapons",attribute:"physique",governedBy:["strength","agility"],assistedBy:["constitution","senses"],specializations:{striking:{displayName:"Striking",description:"Punches, Kicks, Elbows, Knees"},grappling:{displayName:"Grappling",description:"Holds, Throws, Joint Locks, Pins"},improvised_weaponry:{displayName:"Improvised Weaponry",description:"Using chairs, bottles, tools effectively in a fight"}}},defense:{displayName:"Defense",description:"Actively avoiding or mitigating harm",attribute:"physique",governedBy:["agility","senses"],assistedBy:["constitution","strength"],specializations:{dodging:{displayName:"Dodging",description:"Evading attacks through movement and positioning"},parrying:{displayName:"Parrying",description:"Deflecting blows with a weapon or item"},shields:{displayName:"Shields",description:"Effectively blocking, bashing, and covering with shields"},armor:{displayName:"Armor",description:"Effectively wearing and maneuvering in protective gear"}}},athletics:{displayName:"Athletics",description:"General physical movement and capability",attribute:"physique",governedBy:["agility","strength"],assistedBy:["constitution"],specializations:{running:{displayName:"Running",description:"Speed and short-burst endurance"},climbing:{displayName:"Climbing",description:"Scaling walls, cliffs, trees; rappelling techniques, effective use of grappling hooks"},swimming:{displayName:"Swimming",description:"Effective movement through water, diving, breath control, navigating currents"},jumping:{displayName:"Jumping",description:"Leaping gaps or over obstacles"}}},acrobatics:{displayName:"Acrobatics",description:"Feats of balance, coordination, and flexibility",attribute:"physique",governedBy:["agility"],assistedBy:["senses","constitution"],specializations:{balance:{displayName:"Balance",description:"Walking tightropes, navigating narrow ledges"},tumbling:{displayName:"Tumbling",description:"Rolling, controlled falls, diving through obstacles"},escapology:{displayName:"Escapology",description:"Slipping bonds, contorting through small spaces"},parkour:{displayName:"Parkour",description:"Swift city traversal, rooftop navigation"}}},hardiness:{displayName:"Hardiness",description:"Physical resilience and endurance",attribute:"physique",governedBy:["constitution","resilience"],assistedBy:["willpower"],specializations:{pain_tolerance:{displayName:"Pain Tolerance",description:"Resisting effects of wounds, torture, or strain"},stamina:{displayName:"Stamina",description:"Resisting fatigue from prolonged exertion (marching, labor)"},acclimatization:{displayName:"Acclimatization",description:"Thrive in heat, cold and harsh weather"},immunity:{displayName:"Immunity",description:"Natural fortitude against toxins and sickness"}}},stealth:{displayName:"Stealth",description:"Moving and hiding without being detected",attribute:"physique",governedBy:["agility","senses"],assistedBy:["willpower","composure"],specializations:{sneaking:{displayName:"Sneaking",description:"Moving silently across various surfaces"},hiding:{displayName:"Hiding",description:"Utilizing shadows, cover, and stillness effectively"},camouflage:{displayName:"Camouflage",description:"Blending into specific environments (urban, forest, snow)"}}},legerdemain:{displayName:"Legerdemain",description:"Manual dexterity for subtle manipulation",attribute:"physique",governedBy:["agility","senses"],assistedBy:["ingenuity","composure"],specializations:{sleight_of_hand:{displayName:"Sleight of Hand",description:"Pickpocketing, planting items, palming objects, cheating"},lockpicking:{displayName:"Lockpicking",description:"Bypassing mechanical locks and simple mechanisms"},trap_handling:{displayName:"Trap Handling",description:"Identifying, disarming, and setting simple physical traps"}}},perception:{displayName:"Perception",description:"Using senses to gather information",attribute:"physique",governedBy:["senses"],assistedBy:["wisdom","willpower"],specializations:{eagle_eye:{displayName:"Eagle Eye",description:"Spotting details at distance, noticing slight movements"},bat_ear:{displayName:"Bat's Ear",description:"Detecting faint sounds, eavesdropping, identifying sounds"},wolf_nose:{displayName:"Wolf's Nose",description:"Identifying scents, tracking by smell"},serpent_skin:{displayName:"Serpent's Skin",description:"Reading surfaces through touch, detecting temperature changes and vibrations"},synesthesia:{displayName:"Synesthesia",description:"Experiencing blended senses, revealing truths through unconventional sensory input"}}},riding:{displayName:"Riding",description:"Skillfully controlling mounts for travel and combat maneuvering",attribute:"physique",governedBy:["agility","empathy"],assistedBy:["strength","constitution","authority"],specializations:{equine_mounts:{displayName:"Equine Mounts",description:"Mastery of riding horses, zebras, unicorns, and similar quadrupeds"},avian_mounts:{displayName:"Avian Mounts",description:"Handling the complexities of flight and control aboard griffins, rocs, phoenixes"},exotic_mounts:{displayName:"Exotic Mounts",description:"Adapting riding techniques for wolves, lizards, boars, manticores, or even dragons"},mounted_combat:{displayName:"Mounted Combat",description:"Fighting effectively while mounted"}}},labor:{displayName:"Labor",description:"Performing strenuous physical work",attribute:"physique",governedBy:["strength","constitution"],assistedBy:["willpower"],specializations:{mining:{displayName:"Mining",description:"Extracting ore and stone"},woodcutting:{displayName:"Woodcutting",description:"Felling trees and processing wood"},farming:{displayName:"Farming",description:"Ploughing, planting, harvesting crops"},construction:{displayName:"Construction",description:"Heavy lifting, digging foundations, basic building tasks"},hauling:{displayName:"Hauling",description:"Moving heavy loads over distances"}}},artisanry:{displayName:"Artisanry",description:"Creating practical goods and structures",attribute:"physique",governedBy:["agility","strength"],assistedBy:["knowledge","ingenuity"],specializations:{smithing:{displayName:"Smithing",description:"Working metal: forging, tempering, repair"},woodworking:{displayName:"Woodworking",description:"Carpentry, carving, fletching, bowyery"},leatherworking:{displayName:"Leatherworking",description:"Preparing hides, crafting leather goods"},tailoring:{displayName:"Tailoring",description:"Creating clothing, banners, sails"},masonry:{displayName:"Masonry",description:"Working with stone for building or sculpting"}}},life_magic:{displayName:"Life Magic",description:"Harnessing positive energy to heal, protect, and bless",attribute:"spirit",governedBy:["attunement","resilience"],assistedBy:["empathy","weaving","channeling"],specializations:{restoration:{displayName:"Restoration",description:"Healing wounds, curing diseases and poisons"},protection:{displayName:"Protection",description:"Creating wards and shields against harm"},blessings:{displayName:"Blessings",description:"Imbuing allies with strength, speed, or fortitude"},spirit_bonding:{displayName:"Spirit Bonding",description:"Establishing and maintaining the empathetic link with a dedicated magical familiar creature"},anti_undead:{displayName:"Anti-Undead",description:"Channeling energy harmful to undead creatures"}}},nature_magic:{displayName:"Nature Magic",description:"Drawing power from the natural world",attribute:"spirit",governedBy:["attunement","weaving","channeling"],assistedBy:["wisdom","empathy","authority"],specializations:{verdant_call:{displayName:"Verdant Call",description:"Influencing plant growth, entangling foes"},beast_tongue:{displayName:"Beast Tongue",description:"Summoning, communicating with, or calming beasts"},sky_dance:{displayName:"Sky dance",description:"Foreseeing weather and guiding wind, fog, and rain"},terramancy:{displayName:"Terramancy",description:"Shaping earth and stone for shelter or obstacles, leveraging ley lines"},bloom:{displayName:"Bloom",description:"Fostering natural revitalization, enhancing vigor"}}},chaos_magic:{displayName:"Chaos Magic",description:"Tapping into entropic forces, destruction, and fire",attribute:"spirit",governedBy:["resilience","channeling"],assistedBy:["willpower"],specializations:{unraveling:{displayName:"Unraveling",description:"Unleashing bolts of raw energy, causing decay or explosions"},twisting_fate:{displayName:"Twisting Fate",description:"Influencing chance, causing misfires or critical successes"},infernal_summoning:{displayName:"Infernal Summoning",description:"Calling forth imps, demons, or other chaotic beings"}}},death_magic:{displayName:"Death Magic",description:"Mastery over negative energy, undeath, and decay",attribute:"spirit",governedBy:["weaving","channeling","authority"],assistedBy:["willpower","knowledge"],specializations:{necromancy:{displayName:"Necromancy",description:"Animating corpses and skeletons, controlling undead"},afflictions:{displayName:"Afflictions",description:"Spreading disease and decay, that wither body and spirit"},spectral_mastery:{displayName:"Spectral Mastery",description:"Communicating with, binding, or banishing ghosts and spirits"},shadowmancy:{displayName:"Shadowmancy",description:"Conjuring darkness, inciting terror, siphoning light"}}},order_magic:{displayName:"Order Magic",description:"Utilizing structured patterns for enhancement, illusion, and control",attribute:"spirit",governedBy:["willpower","weaving"],assistedBy:["resilience","channeling"],specializations:{augmentation:{displayName:"Augmentation",description:"Improving attributes or granting temporary abilities"},illusions:{displayName:"Illusions",description:"Creating phantasms, disguising appearances, masking sounds"},mentalism:{displayName:"Mentalism",description:"Telepathy, suggestion, controlling minds"},spatial_warping:{displayName:"Spatial Warping",description:"Teleportation, creating dimensional pockets, astral projections"},abjuration:{displayName:"Abjuration",description:"Dispelling magic, creating barriers against magic"}}},elemental_magic:{displayName:"Elemental Magic",description:"Direct command over Air, Earth, Fire, and Water",attribute:"spirit",governedBy:["willpower","channeling"],assistedBy:["resilience","knowledge"],specializations:{aeromancy:{displayName:"Aeromancy",description:"Controlling winds, conjuring lightning, flight"},geomancy:{displayName:"Geomancy",description:"Shaping earth and stone, causing tremors, earth armor"},hydromancy:{displayName:"Hydromancy",description:"Manipulating water and ice, creating fog"},pyromancy:{displayName:"Pyromancy",description:"Raw fire control, distinct from Chaos's destructive focus"},harmony:{displayName:"Harmony",description:"Balancing and combining elementals into a unified whole"},elemental_summoning:{displayName:"Elemental Summoning",description:"Calling forth Air, Earth, Fire, or Water elementals"}}},magical_lore:{displayName:"Magical Lore",description:"Theoretical knowledge of magical principles and history",attribute:"spirit",governedBy:["knowledge"],assistedBy:["willpower","resilience"],specializations:{arcane_sight:{displayName:"Arcane Sight",description:"Recognizing spells being cast or their lingering effects"},arcane_principles:{displayName:"Arcane Principles",description:"Understanding fundamental laws and interactions of magic"},arcane_history:{displayName:"Arcane History",description:"Knowledge of traditions, artifacts, historical wizards"},magical_item_analysis:{displayName:"Magical Item Analysis",description:"Discerning properties and function of enchanted objects"},monster_lore:{displayName:"Monster Lore",description:"Knowledge of magical beasts, elementals, undead, abominations etc"},cosmology:{displayName:"Cosmology",description:"Understanding other dimensions and planes, interdimensional travel"},runes:{displayName:"Runes",description:"Deciphering magical scripts, symbols, and glyphs"}}},divination:{displayName:"Divination",description:"Perceiving things beyond the normal senses",attribute:"spirit",governedBy:["attunement","weaving"],assistedBy:["wisdom","resilience","channeling"],specializations:{precognition:{displayName:"Precognition",description:"Receiving glimpses of potential futures"},retrocognition:{displayName:"Retrocognition",description:"Sensing the history of an object through touch"},clairvoyance:{displayName:"Clairvoyance",description:"Perceiving events or sounds remotely"},psychometry:{displayName:"Psychometry",description:"Perceiving the magical or emotional state of beings/places"}}},alchemy:{displayName:"Alchemy",description:"Transmuting substances and brewing potent concoctions",attribute:"spirit",governedBy:["ingenuity","knowledge"],assistedBy:["attunement","weaving","senses"],specializations:{potions:{displayName:"Potions",description:"Creating consumables with magical or curative effects"},toxicology:{displayName:"Toxicology",description:"Crafting poisons, acids, and their antidotes"},mutagenesis:{displayName:"Mutagenesis",description:"Creating elixirs that induce physical changes (risky)"},incendiaries:{displayName:"Incendiaries",description:"Crafting bombs, fire concoctions, corrosive substances"},transmutation:{displayName:"Transmutation",description:"Altering the nature of a substance"}}},enchanting:{displayName:"Enchanting",description:"Infusing existing objects or scrolls with magical power",attribute:"spirit",governedBy:["weaving","channeling"],assistedBy:["resilience","agility"],specializations:{armament_enchanting:{displayName:"Armament Enchanting",description:"Adding magical properties to gear"},imbuing:{displayName:"Imbuing",description:"Creating magical trinkets (rings, amulets) with effects"},scribing:{displayName:"Scribing",description:"Transferring spell energy into readable scrolls"},implement_crafting:{displayName:"Implement Crafting",description:"Creating wands, staves, or orbs to channel magic"},binding:{displayName:"Binding",description:"The magical step of animating constructs"}}},spellcraft:{displayName:"Spellcraft",description:"Analyzing, modifying, and designing spell formulae and magical effects",attribute:"mind",governedBy:["ingenuity","knowledge"],assistedBy:["weaving","willpower"],specializations:{spell_shaping:{displayName:"Spell Shaping",description:"Modifying the spell's parameters, area of effect, delivery method, and targeting specifications"},synergistic_casting:{displayName:"Synergistic Casting",description:"Exploiting interactions between different magical effects"},counter_spelling:{displayName:"Counter-Spelling",description:"Techniques to disrupt, negate, or redirect identified incoming spells"},spell_analysis:{displayName:"Spell Analysis",description:"Deconstructing observed spells into their function, triggers, components, and potential weaknesses"}}},lore:{displayName:"Lore",description:"General knowledge and academic understanding",attribute:"mind",governedBy:["knowledge"],assistedBy:["wisdom"],specializations:{history:{displayName:"History",description:"Knowledge of past events, dynasties, wars, fallen empires"},customs:{displayName:"Customs",description:"Traditions, laws, social structures"},geography:{displayName:"Geography",description:"Regions, terrain, landmarks, settlements; map making/reading"},mythology:{displayName:"Mythology",description:"Understanding deities, religious practices, myths, legends"},bestiary:{displayName:"Bestiary",description:"Knowledge of animals - their habitats, habits, and weaknesses"},agriculture:{displayName:"Agriculture",description:"Identifying plants, farming techniques, crop cycles"},philosophy:{displayName:"Philosophy",description:"Schools of thought, logical arguments, academic procedures"},critique:{displayName:"Critique",description:"Understanding artistic styles, history, and significance"}}},memory:{displayName:"Memory",description:"The ability to accurately retain, recall, and organize information.",attribute:"mind",governedBy:["knowledge","willpower"],assistedBy:["ingenuity","senses"],specializations:{eidetic_ecall:{displayName:"Eidetic Recall",description:"Accurate recall of visual details and imagery previously observed."},auditory_memory:{displayName:"Auditory Memory",description:"Accurate recall of sounds, voices, conversations, and musical patterns."},sequential_memory:{displayName:"Sequential Memory",description:"Remembering sequences of events, instructions, and procedures in the correct order"},associative_memory:{displayName:"Associative Memory",description:"Linking related pieces of information, facts, or memories, even if disparate"},mental_mapping:{displayName:"Mental Mapping",description:"Creating and recalling detailed spatial layouts"}}},meditation:{displayName:"Meditation",description:"Practices for achieving mental clarity, focus, self-control, and heightened awareness",attribute:"mind",governedBy:["willpower","resilience"],assistedBy:["constitution","attunement"],specializations:{introspection:{displayName:"Introspection",description:"Self-awareness; understanding one's own biases, emotional states, and thought processes"},mana_conservation:{displayName:"Mana Conservation",description:"Mental techniques and breathing exercises to reduce the expenditure of magical energy."},occlumency:{displayName:"Occlumency",description:"Active mental defenses against telepathic intrusion or emotional manipulation"},oneiromancy:{displayName:"Oneiromancy",description:"Achieving lucidity within dreams, influencing dream content, and navigating shared dreamscapes"},emotional_regulation:{displayName:"Emotional Regulation",description:"Processing feelings while maintaining behavioral control"}}},investigation:{displayName:"Investigation",description:"Gathering clues and uncovering secrets",attribute:"mind",governedBy:["ingenuity"],assistedBy:["wisdom","willpower","authority"],specializations:{forensics:{displayName:"Forensics",description:"Scene examination, Careful collection, Interpreting evidence"},interviewing:{displayName:"Interviewing",description:"Extracting information via questioning and observation"},archive_delving:{displayName:"Archive Delving",description:"Sifting through archives, libraries, records"},information_brokering:{displayName:"Information Brokering",description:"Cultivating informant networks, understanding information flow"},counter_forgery:{displayName:"Counter-forgery",description:"Identifying counterfeit documents, coins, or artifacts"}}},analysis_and_logic:{displayName:"Analysis & Logic",description:"Reasoning and problem-solving",attribute:"mind",governedBy:["ingenuity","wisdom"],assistedBy:["willpower"],specializations:{deductive_reasoning:{displayName:"Deductive Reasoning",description:"Drawing specific conclusions from general principles"},inductive_reasoning:{displayName:"Inductive Reasoning",description:"Forming general theories from specific observations"},pattern_recognition:{displayName:"Pattern Recognition",description:"Identifying recurring sequences, codes, behaviors"},puzzle_solving:{displayName:"Puzzle Solving",description:"Overcoming logical traps, riddles, complex mechanisms"},cryptography:{displayName:"Cryptography",description:"Deciphering codes, ciphers, hidden messages"}}},strategy_and_tactics:{displayName:"Strategy & Tactics",description:"Planning and directing coordinated efforts",attribute:"mind",governedBy:["wisdom","ingenuity"],assistedBy:["willpower","authority"],specializations:{battlefield_tactics:{displayName:"Battlefield Tactics",description:"Maneuvering forces, exploiting terrain, countering moves"},logistics:{displayName:"Logistics",description:"Managing supply lines, resource allocation, movement"},siegecraft:{displayName:"Siegecraft",description:"Planning assault or defense of fortified positions"},management:{displayName:"Management",description:"Structuring groups, delegating tasks, ensuring efficiency"},risk_assessment:{displayName:"Risk Assessment",description:"Evaluating dangers and benefits of courses of action"}}},medicine:{displayName:"Medicine",description:"Non-magical healing and biological knowledge",attribute:"mind",governedBy:["knowledge","ingenuity"],assistedBy:["wisdom","agility"],specializations:{first_aid:{displayName:"First Aid",description:"Immediate treatment of wounds, stabilization"},hygiene:{displayName:"Hygiene",description:"Fend off rot, decay and earthly ailments"},surgery:{displayName:"Surgery",description:"Performing invasive procedures to repair damage"},diagnostics:{displayName:"Diagnostics",description:"Identifying illnesses, poisons, deficiencies"},pharmacology:{displayName:"Pharmacology",description:"Understanding medicinal herbs, minerals, compounds"},physiology:{displayName:"Physiology",description:"Knowledge of how bodies function"}}},artistry:{displayName:"Artistry",description:"Creating works of aesthetic value through fine manual skill and creative vision",attribute:"mind",governedBy:["agility","senses"],assistedBy:["ingenuity","composure"],specializations:{lapidary_arts:{displayName:"Lapidary Arts",description:"Creating fine jewelry, cutting and setting gemstones"},calligraphy:{displayName:"Calligraphy",description:"Producing aesthetically pleasing lettering for documents, scrolls, or inscriptions"},painting:{displayName:"Painting",description:"Creating visual art on surfaces using pigments; mastering composition and color theory"},sculpture:{displayName:"Sculpture",description:"Creating three-dimensional art by shaping materials like stone, wood, clay, or metal"}}},engineering:{displayName:"Engineering",description:"Design and construction of complex systems",attribute:"mind",governedBy:["ingenuity","knowledge"],assistedBy:["wisdom"],specializations:{architecture:{displayName:"Architecture",description:"Designing buildings and structures for stability"},clockwork:{displayName:"Clockwork",description:"Creating gears, clockwork, complex traps"},civil_engineering:{displayName:"Civil Engineering",description:"Designing bridges, roads, irrigation"},hydraulics:{displayName:"Hydraulics",description:"Using water to power mechanisms, designing waterways"}}},pedagogy:{displayName:"Pedagogy",description:"Teaching and imparting knowledge effectively",attribute:"mind",governedBy:["knowledge","empathy"],assistedBy:["charisma"],specializations:{training:{displayName:"Training",description:"Teaching practical abilities"},tutoring:{displayName:"Tutoring",description:"Explaining complex theories, history, lore"},mentorship:{displayName:"Mentorship",description:"Guiding long-term development of an individual"},curriculum_design:{displayName:"Curriculum Design",description:"Structuring lessons or training programs"}}},linguistics:{displayName:"Linguistics",description:"Understanding and using languages",attribute:"mind",governedBy:["knowledge","ingenuity"],assistedBy:["Willpower"],specializations:{polyglot:{displayName:"Polyglot",description:"Proficiency in multiple languages"},translation:{displayName:"Translation",description:"Accurately converting spoken or written language"},ancient_languages:{displayName:"Ancient Languages",description:"Focus on dead or rare tongues"},grammar:{displayName:"Grammar",description:"Understanding principles of language"},dialects:{displayName:"Dialects",description:"Understanding regional variations, slang, common speech"}}},navigation:{displayName:"Navigation",description:"Finding one's way and planning routes",attribute:"mind",governedBy:["wisdom","senses"],assistedBy:["knowledge"],specializations:{cartography:{displayName:"Cartography",description:"Interpreting and creating maps and charts"},star_guiding:{displayName:"Star Guiding",description:"Using stars, sun, and moon for direction"},pathfinding:{displayName:"Pathfinding",description:"Using terrain, wind, animal behavior to find the way"},route_planning:{displayName:"Route Planning",description:"Calculating travel times, identifying hazards, calculating provisions"}}},obfuscation:{displayName:"Obfuscation",description:"Actively concealing information, actions, or identities",attribute:"mind",governedBy:["composure","empathy"],assistedBy:["ingenuity"],specializations:{forgery:{displayName:"Forgery",description:"Creating convincing fake documents, items, or signatures"},misdirection:{displayName:"Misdirection",description:"Diverting attention from the truth or key actions"},scene_scrubbing:{displayName:"Scene Scrubbing",description:"Removing traces of presence or activity from a location"},cover_stories:{displayName:"Cover Stories",description:"Constructing believable accounts of whereabouts"}}},provisions:{displayName:"Provisions",description:"Preparing and managing food and drink",attribute:"mind",governedBy:["knowledge","senses"],assistedBy:["empathy"],specializations:{butchery:{displayName:"Butchery",description:"Dressing carcasses and preparing cuts of meat"},dairying:{displayName:"Dairying",description:"Producing cheese, butter, yogurt, and other dairy products"},cooking:{displayName:"Cooking",description:"Preparing well-rounded meals for sustenance and morale"},baking_pastry:{displayName:"Baking & Pastry",description:"Preparing breads, pies, pastries, and other baked goods"},fermentation_distillation:{displayName:"Fermentation & Distillation",description:"Creating beers, wines, meads, and stronger spirits"},preservation:{displayName:"Preservation",description:"Salting, smoking, pickling, drying foods for storage"},refined_palate:{displayName:"Refined Palate",description:"Identifying ingredients, judging the quality of food and drink"}}},survival:{displayName:"Survival",description:"Enduring and navigating natural environments",attribute:"mind",governedBy:["wisdom","constitution"],assistedBy:["knowledge","senses"],specializations:{shelter_craft:{displayName:"Shelter Craft",description:"Building temporary protection from the elements"},fire_starting:{displayName:"Fire Starting",description:"Creating fire reliably in various conditions"},foraging:{displayName:"Foraging",description:"Finding edible plants/fungi"},hunting:{displayName:"Hunting",description:"Tracking and catching game"},water_procurement:{displayName:"Water Procurement",description:"Finding and purifying drinkable water"},hazard_recognition:{displayName:"Hazard Recognition",description:"Identifying dangerous plants, animals, terrain, weather signs"}}},persuasion:{displayName:"Persuasion",description:"Influencing through reason, charm, or appeal",attribute:"social",governedBy:["charisma","empathy"],assistedBy:["wisdom"],specializations:{bargaining:{displayName:"Bargaining",description:"Haggling over prices, terms, or favors"},oratory:{displayName:"Oratory",description:"Public speaking designed to sway crowds or individuals"},witty_repartee:{displayName:"Witty Repartee",description:"Using quick wit and charm to gain temporary advantage"},formal_debate:{displayName:"Formal Debate",description:"Engaging in structured arguments"},seduction:{displayName:"Seduction",description:"Using charm, allure, and understanding of desire to influence someone romantically or gain favor"},conflict_resolution:{displayName:"Conflict Resolution",description:"Mediating disputes between parties, facilitating negotiation"}}},deception:{displayName:"Deception",description:"Misleading others and maintaining falsehoods",attribute:"social",governedBy:["composure","ingenuity"],assistedBy:["charisma","empathy"],specializations:{bluffing:{displayName:"Bluffing",description:"Presenting a false front of strength, knowledge, or intent"},lying:{displayName:"Lying",description:"Crafting believable falsehoods"},disguise:{displayName:"Disguise",description:"Altering appearance effectively to mislead or impersonate"},impersonation:{displayName:"Impersonation",description:"Mimicking speech, mannerisms, and behavior"}}},intimidation:{displayName:"Intimidation",description:"Influencing through fear, presence, or threats",attribute:"social",governedBy:["charisma","composure"],assistedBy:["strength","willpower"],specializations:{coercion:{displayName:"Coercion",description:"Using threats of harm or consequence"},presence:{displayName:"Presence",description:"Projecting an aura of danger or authority"},interrogation:{displayName:"Interrogation",description:"Extracting information or compliance through pain"},extortion_blackmail:{displayName:"Extortion & Blackmail",description:"Leveraging secrets, threats, or vulnerabilities to coerce compliance or payment"}}},leadership:{displayName:"Leadership",description:"Inspiring, directing, and organizing groups",attribute:"social",governedBy:["authority","charisma"],assistedBy:["willpower","wisdom"],specializations:{motivation:{displayName:"Motivation",description:"Rallying allies, boosting morale, giving rousing speeches"},command:{displayName:"Command",description:"Giving clear orders in stressful situations"},delegation:{displayName:"Delegation",description:"Assigning tasks effectively based on ability"},team_building:{displayName:"Team Building",description:"Fostering cooperation and loyalty within a group"},discipline:{displayName:"Discipline",description:"Enforcing rules and order"},recruitment:{displayName:"Recruitment",description:"Identifying suitable candidates, and persuading individuals to join a group or cause"}}},insight:{displayName:"Insight",description:"Understanding people and social dynamics",attribute:"social",governedBy:["empathy","attunement"],assistedBy:["senses","composure"],specializations:{reading_emotions:{displayName:"Reading Emotions",description:"Discerning true feelings beneath a facade"},detecting_lies:{displayName:"Detecting Lies",description:"Identifying deception through verbal/non-verbal cues"},motive_analysis:{displayName:"Motive Analysis",description:"Understanding WHY someone acts the way they do"},social_prediction:{displayName:"Social Prediction",description:"Anticipating reactions in social encounters"},profiling:{displayName:"Profiling",description:"Building a mental picture of someone based on observation"},group_dynamics:{displayName:"Group Dynamics",description:"Understanding group behavior, informal hierarchies, mob mentality and team cohesion"}}},etiquette:{displayName:"Etiquette",description:"Navigating formal social structures",attribute:"social",governedBy:["knowledge","composure"],assistedBy:["authority","willpower"],specializations:{noble_courts:{displayName:"Noble Courts",description:"Navigating high society, formal occasions, precedence"},mages_guild_protocols:{displayName:"Mages Guild Protocols",description:"Hierarchies, debate forms, arcane greetings"},workshop_lingo:{displayName:"Workshop Lingo",description:"Technical jargon, project proposals, innovation respect"},merchant_guild_practices:{displayName:"Merchant Guild Practices",description:"Negotiation styles, contract norms, trade routes"},guard_regime:{displayName:"Guard Regime",description:"Legal procedures, reporting structures, addressing officials"},underworld_codes:{displayName:"Underworld Codes",description:"Thieves' cant, gang signs, territory respect"},temple_rites_observances:{displayName:"Temple Rites & Observances",description:"Addressing clergy, sacred space conduct, ritual participation"}}},performance:{displayName:"Performance",description:"Engaging or influencing through artistic expression",attribute:"social",governedBy:["charisma","agility"],assistedBy:["composure","empathy"],specializations:{acting:{displayName:"Acting",description:"Assuming roles, portraying emotions convincingly"},musical_instruments:{displayName:"Musical Instruments",description:"Proficiency with a variety of instruments"},singing:{displayName:"Singing",description:"Vocal performance"},storytelling:{displayName:"Storytelling",description:"Captivating an audience with narratives"},dancing:{displayName:"Dancing",description:"Expressive or ritualistic movement"},comedy:{displayName:"Comedy",description:"Using wit, timing, and delivery to entertain and amuse an audience"}}},streetwise:{displayName:"Streetwise",description:"Navigating informal and underground social networks",attribute:"social",governedBy:["empathy","wisdom"],assistedBy:["composure","charisma"],specializations:{gathering_rumors:{displayName:"Gathering Rumors",description:"Tapping into the local gossip network"},underworld_navigation:{displayName:"Underworld Navigation",description:"Knowing contacts, safe houses, black markets"},urban_survival:{displayName:"Urban Survival",description:"Finding necessities, avoiding trouble in rough areas"},gang_affiliations:{displayName:"Gang Affiliations",description:"Understanding local power structures among criminals"},gambling:{displayName:"Gambling",description:"Playing games of chance, reading opponents"}}},commerce_and_trade:{displayName:"Commerce & Trade",description:"Managing economic interactions",attribute:"social",governedBy:["ingenuity","wisdom"],assistedBy:["composure","authority"],specializations:{bartering:{displayName:"Bartering",description:"Exchanging goods/services without currency"},appraisal:{displayName:"Appraisal",description:"Accurately judging the value of items"},salesmanship:{displayName:"Salesmanship",description:"Effectively presenting goods or services, closing deals"},bookkeeping:{displayName:"Bookkeeping",description:"Managing ledgers, tracking income and expenses, handling loans and currency exchange"},customs_tariffs:{displayName:"Customs & Tariffs",description:"Navigating legal trade barriers, taxes, and regulations"},smuggling_routes:{displayName:"Smuggling Routes",description:"Knowledge of illicit trade paths and methods"},financial_acumen:{displayName:"Financial Acumen",description:"Predicting supply and demand, price fluctuations, economic opportunities and threats"}}},hospitality:{displayName:"Hospitality",description:"Providing comfort, service, and managing social events",attribute:"social",governedBy:["empathy","charisma"],assistedBy:["composure","knowledge"],specializations:{patron_care:{displayName:"Patron Care",description:"Making visitors feel welcome, anticipating needs"},amenities_and_luxuries:{displayName:"Amenities & Luxuries",description:"Knowledge of fine food, wine, bedding to please guests"},event_orchestration:{displayName:"Event Orchestration",description:"Organizing feasts, gatherings, ceremonies"},staff_direction:{displayName:"Staff Direction",description:"Organizing workers efficiently for maximum guest satisfaction"},cleaning:{displayName:"Cleaning",description:"Keeping things tidy and fresh"}}},statecraft:{displayName:"Statecraft",description:"Manipulating political systems, managing institutions, and wielding influence on a grand scale",attribute:"social",governedBy:["authority","wisdom"],assistedBy:["knowledge","composure","charisma"],specializations:{bureaucracy:{displayName:"Bureaucracy",description:"Navigating red tape, understanding legal frameworks, exploiting loopholes"},diplomacy:{displayName:"Diplomacy",description:"High-stakes negotiation between factions, treaty formulation"},intrigue:{displayName:"Intrigue",description:"Spreading influence subtly, manipulating factions against each other, political maneuvering"},reputation_management:{displayName:"Reputation Management",description:"Building and protecting the public image of an individual or organization"},faction_alliances:{displayName:"Faction Alliances",description:"Building and maintaining relationships between different power groups"},propaganda:{displayName:"Propaganda",description:"Actively shaping public sentiment, managing information flow, and cultivating narratives"}}},beast_mastery:{displayName:"Beast Mastery",description:"Controlling, caring for, and utilizing various creatures",attribute:"social",governedBy:["empathy","authority"],assistedBy:["strength","knowledge"],specializations:{animal_companionship:{displayName:"Animal Companionship",description:"Developing a bond with a specific animal partner; training communication, and cooperation"},wild_taming:{displayName:"Wild Taming",description:"Domesticate, calm, or gain the trust of a wild creature"},teamster:{displayName:"Teamster",description:"Managing draft animals pulling carts, wagons, or carriages; harnessing; load balancing"},breeding:{displayName:"Breeding",description:"Selecting stock, tracking lineages, refining breeds for desired traits"},animal_husbandry:{displayName:"Animal Husbandry",description:"Raising, feeding, housing, ensuring the health of captive animals; harvesting their products"}}}};function zy(e){const t=new Map,n=e.split(/\r?\n/);let i=null,r=[];for(const a of n){const o=a.trim();if(o==="")i&&r.length>0&&t.set(i,r),i=null,r=[];else if(i===null)i=o;else{const s=o.split(/\s+/).filter(l=>l.length>0);s.length>0&&r.push(s)}}return i&&r.length>0&&t.set(i,r),t}const Ry=`Smithing
hammer anvil forge bellows tongs crucible quench file rasp fuller swage hardy cutler
iron steel mithril adamantium bronze copper silver gold platinum orichalcum electrum brass tin lead
sword blade shield armor helm gauntlet horseshoe nail hinge chain mail plate cuirass spear axe
smithy foundry furnace hearth workshop armory
blacksmith armorer weaponsmith farrier tinker metalworker
temper alloy slag ingot bloom ore billet scale rivet weld solder flux patina rust
spark smoke heat clang ring coal coke ember ash soot flame glow
metal bar stock sheet wire rod pig

Woodworking
saw chisel plane lathe adze drawknife gouge rasp clamp vise auger bit gimlet froe mallet
oak pine elm ash yew ebony mahogany cedar walnut maple birch hickory ironwood teak willow
bow arrow staff chest barrel wheel cart beam plank shingle cask stave shaft haft handle
workshop sawmill lumberyard cooperage
carpenter fletcher bowyer cooper wright joiner turner cabinetmaker
grain knot sap heartwood sapwood bark cambium burl veneer dowel mortise tenon dovetail
shaving splinter dust resin pitch turpentine varnish stain lacquer wax oil
timber log board lumber pole post rafter joist

Leatherworking
awl needle punch knife burnisher skiver beveler groover stitcher last peg hammer
hide pelt fur rawhide vellum suede chamois doeskin calfskin pigskin snakeskin dragonhide
boot glove belt saddle harness sheath quiver pouch purse bag armor bracer jerkin
tannery workshop shop
tanner cobbler saddler leatherworker cordwainer furrier
grain flesh chrome alum tannin lye lime bark oak gall
tan cure dye oil wax buff burnish stamp emboss tool
leather strap thong lace buckle rivet eyelet stud grommet

Tailoring
needle thread scissors loom spindle shuttle bobbin thimble pin chalk mannequin form frame
silk wool linen cotton velvet satin damask brocade felt hemp canvas muslin tulle lace
robe cloak banner sail tunic gown doublet hose cape mantle tabard surcoat pennant flag
atelier mill workshop garret studio
tailor seamstress weaver embroiderer dyer spinner clothier draper mercer milliner haberdasher
warp weft hem seam dart pleat cuff collar button buttonhole pocket placket gusset
stitch embroider dye bleach full card spin weave knit crochet tat
fabric cloth textile fiber yarn skein bolt roll remnant pattern trim fringe tassel cord

Masonry
chisel hammer trowel level plumb square compass mallet wedge pick crowbar scaffold hoist
granite marble limestone slate sandstone basalt obsidian quartz mortar cement lime gravel sand
wall arch column statue gargoyle buttress tower parapet battlement crenellation frieze cornice pediment
quarry yard cathedral castle guild
mason sculptor architect stonecutter carver
keystone lintel sill jamb voussoir capital base entablature facade ashlar rubble corbel
carve polish hew dress set point joint grout seal cure
stone block slab tile brick cobble paver monument obelisk stele relief inscription glyph

Artisanry
craft trade skill art technique method practice discipline expertise mastery tradition heritage legacy
tool implement instrument device apparatus utensil equipment machinery gear tackle kit set
workshop studio forge atelier foundry mill yard factory manufactory guild hall chamber
master journeyman apprentice artisan craftsman maker creator builder wright smith
material substance medium element component ingredient supply stock reserve cache store
product creation work piece item object artifact good ware commodity merchandise opus masterpiece
quality standard grade caliber excellence precision accuracy finesse refinement polish finish detail
pattern design blueprint plan schematic template model prototype sample specimen example
commission order request contract charter patent warrant license permit seal mark stamp brand
wage fee price cost charge rate value worth merit payment compensation reward bounty
flaw defect blemish imperfection mistake error fault crack chip dent scratch mar damage
innovation invention discovery improvement advancement progress evolution revolution breakthrough
custom convention protocol ceremony ritual rite observance
resource asset provision fund wealth capital investment stake 

Mining
pickaxe hammer chisel lantern cart rope pulley winch drill spike crowbar bucket sluice pan screen dynamite
ore iron copper silver gold mithril adamantite coal gem crystal quartz salt sulfur limestone marble granite obsidian runestone dragonstone voidcrystal moonstone
mine shaft tunnel vein quarry pit cavern gallery seam lode face drift stope adit chamber deposit
miner prospector sapper delver digger quarryman
nugget ingot dust rubble boulder slag tailings
cave-in flood gas darkness exhaustion collapse sinkhole tremor
echo dampness chill grime soot spark glint shimmer

Woodcutting
axe saw wedge maul rope pulley cart chainsaw crosscut bucksaw adze drawknife
oak pine elm ash birch cedar ironwood treantbark timber log plank bark sap resin pitch heartwood sapwood grain knot
forest grove copse glade clearing timberline sawmill lumberyard woodlot thicket
woodcutter lumberjack forester sawyer logger
beam board stump chip sawdust shaving splinter cordwood firewood kindling
rot beetle blight windfall deadfall
thud crack snap texture ring whorl burr

Farming
plow scythe sickle hoe rake shovel flail harrow yoke mill thresher silo granary
wheat barley corn rye oat turnip carrot potato cabbage bean pea hemp flax manure seed grain straw chaff mooncorn dragonpepper bloodroot magewheat
field farm barn meadow pasture orchard vineyard terrace furrow row plot acre
farmer peasant serf yeoman plowman reaper gleaner sharecropper crofter
harvest crop yield bushel bale sheaf
drought blight locust frost weed pest crow storm hail flood
loam earth soil sweat dew stubble golden ripe

Construction
hammer trowel level plumb chisel mallet crane wheelbarrow hod square rasp file
stone brick mortar beam nail slate thatch lime sand gravel cement plaster timber joist rafter shingle wardstone skystone
site pit trench quarry brickyard yard frame skeleton shell
mason carpenter builder laborer bricklayer roofer plasterer joiner wright
wall arch column buttress vault dome spire tower keep
crack subsidence collapse settlement shift fault flaw weakness
dust grit powder callus splinter ache thirst heat

Hauling
cart wagon wheel axle harness yoke rope pulley winch sledge dolly barrow strap chain hoist crane
cargo crate barrel sack bundle bale load freight package coffer chest trunk
road path trail dock warehouse depot wharf pier stable yard gate checkpoint bridge ford crossing
carter teamster porter stevedore bearer carrier driver muleteer drayman
delivery shipment consignment haul transport passage journey trek
rut mud breakdown weight blockage congestion delay bandit
creak groan rumble clatter sweat leather oil grease dust

Labor
shovel pick lever crowbar tong bellows mallet maul sledgehammer spade mattock anvil vise clamp jack tackle hoist
toil effort strength muscle sinew sweat fatigue endurance stamina vigor brawn power force energy drive will grit backbone fortitude mettle
wage shift task quota stint job work duty chore project undertaking commission contract indenture
laborer worker hand journeyman apprentice artisan craftsman tradesman guildsman foreman overseer taskmaster steward bailiff
back arm shoulder palm grip callus blister scar bruise ache pain sprain
dawn dusk noon bell hour break rest meal water shade relief respite sabbath holiday
guild union brotherhood fellowship charter standard rule custom tradition ceremony initiation rank grade degree
workshop yard forge dock mill factory foundry warehouse wharf loading site depot terminal station port
product output result yield accomplishment achievement completion finish
injury exhaustion accident hazard risk danger peril hardship burden load weight pressure demand cost price sacrifice
bread sustenance livelihood survival necessity purpose meaning dignity pride honor respect worth value contribution legacy heritage skill craft trade mastery expertise proficiency competence

Equine Mounts
horse mare stallion colt filly pony unicorn zebra pegasus nightmare destrier courser palfrey charger mustang
saddle bridle stirrup bit rein spur horseshoe halter girth pommel cantle cinch martingale crupper blanket
stable paddock pasture arena hippodrome corral stall barn meadow field trail path
equestrian rider knight cavalier lancer hussar chevalier squire groom farrier ostler
gallop trot canter pace gait stride hoof fetlock withers mane tail flank haunch pastern
leather brass iron oat hay straw barley grain fodder water trough bucket brush curry
barding caparison saddlebag saddlecloth hackamore whip crop lasso rope tether post

Avian Mounts
griffin griffon gryphon roc phoenix hippogriff eagle hawk falcon wyvern harpy pteranodon
aerie eyrie cliff peak roost nest crag mountain summit tower spire precipice ledge
harness perch hood jess glove talon-guard leash creance lure gauntlet anklet bell
skyrider falconer aeronaut aviator windmaster cloudwalker
feather plume down pinion wingspan talon beak claw wing tail crest
dive soar glide thermal updraft downdraft current wind gust storm cloud altitude height
windgoggles cloak mantle cape scarf helm visor mask

Exotic Mounts
wolf warg direwolf lizard basilisk salamander boar manticore dragon drake wyrm serpent spider scorpion chimera behemoth
lair den cave warren burrow pit cavern tunnel grotto hollow crevice ravine gorge
beastmaster dragonrider handler tamer keeper wrangler
scale hide fang claw venom spine plate horn tusk fur pelt carapace chitin shell
collar chain muzzle harness yoke lead rope net cage trap snare whip goad prod
howl roar hiss growl snarl screech bellow rumble

Mounted Combat
lance spear pike halberd saber sword mace flail bow javelin dart
charge thrust parry joust trample impact momentum force crash collision
shield banner pennant standard ensign colors flag guidon
knight lancer dragoon cataphract cuirassier uhlan templar paladin champion
tournament battlefield tiltyard list arena field melee skirmish campaign crusade
couch brace aim strike slash sweep wheel pivot turn flank rear
armor helm gauntlet vambrace pauldron breastplate mail plate barding caparison

Riding
mount steed beast creature animal companion
saddle rein stirrup bridle harness tack gear equipment kit
rider horseman cavalier equestrian jockey messenger courier scout ranger nomad
journey travel trek expedition voyage patrol reconnaissance mission quest pilgrimage
speed velocity pace rhythm tempo cadence motion movement flow
bond trust loyalty connection rapport understanding partnership symbiosis harmony
skill technique mastery expertise proficiency talent aptitude finesse grace balance
trail road path highway route passage crossing ford bridge canyon valley plain steppe
endurance stamina distance league mile furlong yard
control command direction guidance leadership dominance submission obedience
breed bloodline pedigree lineage stock strain variety species

Eagle Eye
spyglass telescope lens monocle glass scope crystal prism mirror
tower spire nest peak cliff watchtower parapet battlement ridge aerie minaret belvedere
scout watcher sentinel lookout archer ranger spotter observer hawk falcon eagle raptor kestrel osprey
horizon vista vantage range focus clarity distance height altitude view panorama perspective sight
target movement shadow silhouette glint flash gleam sparkle shimmer flicker motion blur
mist fog haze smog dust glare blindness obstruction cloud smoke steam murk

Bat's Ear
horn tube cone bell chime gong whistle pipe flute drum membrane reed
cave chamber hall corridor vault tunnel catacomb crypt alcove niche recess grotto
spy listener whisperer eavesdropper bard minstrel herald crier bat owl moth cricket
echo whisper murmur footstep breath heartbeat rustle creak groan sigh hum buzz click tap
pitch tone frequency resonance vibration sound wave pulse rhythm cadence tempo beat
silence din cacophony noise static interference deafness muffler wall barrier curtain

Wolf's Nose
vial flask pouch sachet bottle jar phial atomizer censer thurible
musk pheromone spoor scat trail track mark print fur blood sweat leather
tracker hunter hound bloodhound sleuth pursuer stalker wolf beast predator pack alpha
scent odor aroma fragrance stench reek whiff perfume essence bouquet miasma effluvium funk
den lair forest glade thicket underbrush bog marsh swamp moor heath wasteland
wind breeze current draft gust zephyr updraft downdraft air flow stream
rain water smoke ash mud decay rot mask cover wash rinse dilution

Serpent's Skin
rod staff probe needle pin wire filament thread fiber strand
scale leather silk velvet satin fur bristle quill spine barb thorn
tremor pulse vibration texture heat cold warmth chill fever frost thaw temperature gradient
thief locksmith safecracker burglar infiltrator assassin serpent snake viper cobra python adder
floor wall door vault ground earth stone wood metal fabric cloth parchment
pressure friction tension grip adhesion slip smoothness roughness bump ridge groove notch
numbness glove armor callus deadness paralysis insulation barrier shield padding cushion block

Synesthesia
prism kaleidoscope crystal orb sphere mirror lens filter spectrum rainbow aurora
color taste melody harmony discord symphony note chord tone hue shade tint flavor savor
aura halo shimmer blend fusion merge mix meld weave pattern tapestry mosaic mandala
oracle seer mystic prophet shaman medium psychic visionary dreamer sage diviner augur
sanctum temple shrine altar circle pentacle nexus confluence vortex rift portal gateway
dream vision trance reverie hallucination mirage phantasm illusion delusion revelation epiphany insight
chaos overflow madness confusion babel cacophony storm maelstrom whirlpool tempest flood torrent

Perception
eye ear nose tongue skin finger nerve receptor antenna sensor detector scanner
orb sphere pendant amulet charm talisman relic artifact totem fetish ward sigil rune
guard detective investigator watchman sentry inspector examiner searcher finder seeker hunter sleuth
awareness intuition instinct reflex reaction response sense feeling hunch premonition foreboding suspicion
clue sign hint evidence trace mark flag banner smoke fire light
illusion deception camouflage disguise mask veil shroud cloak glamour mirage phantom shadow
observation detection discovery recognition identification discernment discrimination distinction differentiation analysis examination scrutiny
alert warning alarm bell horn trumpet drum flare torch lighthouse

Sleight of Hand
coin card dice cup shell handkerchief glove sleeve pocket pouch purse
pickpocket cutpurse charlatan swindler cheat sharper trickster rogue grifter thief
palm lift switch plant drop score take mark pigeon sucker victim
misdirection distraction concealment substitution extraction
theft trick illusion deception fraud con hustle scam grift gambit ruse ploy
silk velvet leather cloth fabric thread
street crowd tavern market alley fair plaza gambling den theatre
shadow blur flash movement gesture flourish
guard witness exposure discovery accusation suspicion
stealth subtlety finesse grace timing reflex speed

Lockpicking
pick rake tension wrench hook diamond ball snake decoder skeleton file probe shim
locksmith burglar safecracker breaker intruder infiltrator
torque click tumbler pin cylinder mechanism spring bolt latch hasp padlock deadbolt
keyway plug core shackle chamber housing faceplate strike escutcheon
access entry breach opening penetration bypass
steel brass iron copper bronze silver gold mithril
door chest vault gate cell strongbox coffer safe cabinet drawer armoire
shear binding seizure feedback resistance
rust corrosion jam alarm trap glyph seal enchantment
security barrier obstacle impediment protection defense

Trap Handling
probe mirror powder chalk rope wedge shim lever clamp rod pole lantern torch
trapsmith sapper engineer scout disarmer detector specialist
trigger spring wire pressure plate needle blade dart pit snare net spike jaw
mechanism payload arming fuse timer weight counterweight pulley gear ratchet
disarm bypass detection avoidance neutralization deactivation
twine oil sand grease wax resin pitch tar
corridor floor ceiling doorway threshold chest pedestal altar stair bridge
poison acid fire ice lightning gas smoke
collapse explosion impalement entanglement
caution patience observation analysis intuition experience vigilance awareness

Legerdemain
dexterity agility nimbleness precision coordination flexibility suppleness
hand finger wrist palm thumb knuckle joint nail tip
skill craft art technique practice mastery expertise proficiency aptitude talent gift
subtlety finesse grace elegance smoothness fluidity
manipulation control command influence handling operation
reflex speed timing rhythm tempo pace quickness swiftness
touch feel sensitivity tactility texture grip pressure
delicacy gentleness lightness softness
training drill exercise routine discipline focus concentration
tool implement instrument device apparatus gadget contraption
performance demonstration exhibition display showcase
apprentice journeyman master artisan virtuoso prodigy
workshop studio laboratory academy guild school

Sneaking
boot slipper sole padding felt velvet oil grease wax
corridor hallway stair floor carpet tile stone cobble marble parquet
thief burglar spy scout infiltrator prowler intruder phantom wraith
creak footstep echo whisper rustle muffle hush silence quiet
leather cloth silk wool cotton fur
guard patrol door lock hinge floorboard beam rafter attic cellar
tread pace gait step stride path route passage catfoot lightfoot
weight balance poise grace nimble agility

Hiding
cloak hood veil shroud curtain mantle cowl mask disguise
shadow alcove niche corner recess crevice nook cranny hollow gap cavity
assassin rogue stalker lurker phantom specter
darkness gloom dusk twilight umbra penumbra eclipse
concealment stillness patience breath heartbeat pulse
light torch lantern candle flame glow beam ray moonlight sunlight
cover refuge sanctuary hideout den lair bolt-hole cache stash
blind spot periphery edge margin threshold

Camouflage
paint dye powder chalk coal soot ash dust pigment stain
leaf branch moss bark snow dirt mud clay sand gravel pebble
forest city alley rooftop wall hedge bush thicket undergrowth canopy
ranger hunter tracker woodsman scout naturalist chameleon
pattern texture blend mimic match merge fade dissolve
movement contrast outline silhouette shape form figure profile
ghillie net mesh screen lattice weave fabric burlap canvas
adaptation deception illusion trick ruse guise semblance likeness

Stealth
invisibility vanish disappear fade evade elude escape pursuit chase
ambush trap snare decoy lure bait distraction diversion
footfall tiptoe creep slink skulk prowl stalk hunt track trail
pickpocket cutpurse pilferer filcher lifter sneak-thief nightwalker
muffler dampener silencer suppressor deadener
reconnaissance surveillance observation vigil watch lookout sentry
infiltration penetration breach intrusion trespass invasion
subterfuge cunning guile craft artifice stratagem ploy gambit
phantom ghost specter apparition shade spirit haunt wisp
secrecy mystery enigma riddle cipher code signal whistle

Pain Tolerance
whip rack brand iron needle chain shackle rod lash scourge thorn spike nail barb
agony torment anguish suffering threshold numbness fortitude callus scar welt bruise wound injury cut gash break fracture burn
dungeon chamber scaffold arena pit stake post altar trial initiation penance ritual test tribulation
torturer ascetic martyr gladiator monk flagellant penitent warrior berserker fanatic zealot
leather salt ice fire acid blood sweat tear sinew nerve flesh bone marrow
sting ache throb pierce crush pressure strain tension grip vice clamp
stoicism discipline meditation trance focus will determination grit resolve mettle spirit courage valor

Stamina
weight pack yoke harness rope burden load cargo sack barrel crate
endurance vigor breath pace rhythm persistence energy reserve strength power drive push surge sprint
road trail path field quarry mine forge mill dock yard site workshop factory
courier porter laborer athlete soldier marcher runner messenger scout ranger patrol guard
sweat muscle sinew fiber tissue lung heart blood oxygen fuel
fatigue exhaustion exertion toil labor work shift marathon trek march haul journey pilgrimage crusade campaign
momentum inertia flow cycle repetition routine drill practice training regimen discipline conditioning

Acclimatization
cloak fur shelter tent blanket coat wrap shawl mantle hood scarf mitten glove boot
adaptation tolerance hardening adjustment attunement harmony balance equilibrium
snow ice sand sun frost wind rain hail storm blizzard drought heat cold freeze thaw melt
desert tundra mountain glacier wasteland steppe plateau highland lowland valley canyon gorge ravine peak summit
nomad explorer sherpa ranger wanderer traveler pilgrim hermit barbarian tribesman outlander
exposure element climate season weather temperature humidity pressure altitude atmosphere environment habitat biome ecosystem
frostbite hypothermia heatstroke dehydration sunburn windburn chap crack blister peel

Immunity
antidote herb tonic salve potion elixir remedy cure balm serum vaccine inoculation ward charm amulet talisman
resistance antibody health vitality vigor constitution recovery regeneration healing restoration renewal rejuvenation
venom poison miasma contagion toxin pathogen disease malady ailment sickness illness infection corruption taint rot decay pestilence
swamp sewer bog marsh fen mire cesspool pit hospice infirmary lazaretto herbarium laboratory
healer physician alchemist druid shaman witch immunizer
metabolism digestion absorption filtration purification cleansing detoxification neutralization
pox flux ague consumption curse hex jinx

Hardiness
fortitude resilience toughness durability ruggedness robustness sturdiness vigor vitality constitution
body frame build physique form figure shape bulk mass density core foundation structure skeleton spine backbone
grit mettle steel iron oak stone granite diamond adamant mithril
recovery regeneration restoration renewal rejuvenation healing mending knitting repair reconstruction rehabilitation
survivor veteran champion stalwart bulwark bastion fortress citadel stronghold shield armor plate mail scale hide carapace shell
tempering forging hardening conditioning seasoning weathering aging maturation development evolution adaptation
tenacity persistence perseverance determination resolution willpower discipline control mastery dominion sovereignty
root trunk branch bark heartwood sapwood grain fiber tissue cell membrane wall barrier threshold limit boundary frontier edge precipice brink

Balance
rope wire pole staff ribbon net harness plank beam tightrope ledge precipice edge brink scaffold tower parapet rampart spire
funambulist equilibrist ropewalker performer
equilibrium poise center gravity steadiness focus concentration stance footwork posture symmetry axis fulcrum counterweight
vertigo wind sway wobble tilt shake tremor gust draft height void chasm abyss fall
grace stability precision mastery control finesse

Tumbling
mat pad springboard hoop ring vault cushion sawdust canvas
roll flip somersault cartwheel handspring backflip frontflip spin rotation dive leap bound
tumbler acrobat gymnast performer jester fool entertainer
floor stage arena circus tent pavilion courtyard plaza
landing recovery momentum impact trajectory arc curve parabola inversion
bruise sprain strain injury crash collision thud
agility reflex instinct timing rhythm flow

Escapology
lock chain rope shackle manacle bond fetter knot restraint cage box trap snare noose strait jacket collar cuff
key pick oil grease soap wax file blade
escapist contortionist illusionist trickster
flexibility joint socket ligament tendon cartilage spine vertebra
cell dungeon pit oubliette gibbet stock pillory
freedom release liberation slip escape vanish disappearance
cramp bind constriction pressure squeeze crush suffocation panic claustrophobia
dislocation compression technique method trick secret

Parkour
rooftop wall alley gap ledge spire gargoyle chimney gutter awning balcony buttress arch bridge scaffold crane
glove boot chalk bandage wrap grip tape
vault leap climb swing drop slide roll dash sprint flow
traceur runner scout messenger thief burglar assassin
path route line trajectory momentum speed efficiency
obstacle barrier fence rail pipe beam strut brace cornice
height distance angle velocity acceleration descent ascent
scrape cut slip fall crash impact miss fatigue exhaustion

Acrobatics
body muscle sinew tendon nerve reflex balance coordination flexibility strength endurance stamina breath rhythm timing
practice drill routine sequence choreography performance exhibition display spectacle show act number
applause crowd audience patron nobility court festival carnival fair tournament gala
silk ribbon hoop ball club torch dagger crystal orb staff wand feather fan mask costume
troupe company guild academy conservatory amphitheater coliseum
art discipline craft tradition legacy heritage school style form technique method system
danger risk thrill excitement wonder awe marvel feat stunt trick illusion
master apprentice student novice adept virtuoso prodigy genius talent gift
tower magic levitation float hover suspension antigravity enchantment spell charm ward rune glyph sigil

Running
boot shoe sandal cleat spike wrap bandage brace strap timer bell horn flag pennant
sprint dash rush burst stride pace gait jog trot gallop flight bolt
speed velocity swiftness record victory medal trophy ribbon prize glory fame
leather cloth silk canvas sand gravel cobblestone dirt mud clay dust
field path road avenue alley course circuit stadium arena plaza courtyard
runner sprinter courier messenger herald scout racer athlete
tempo cadence rhythm form technique breathing style posture balance
race marathon relay competition festival tournament championship
breath sweat heartbeat wind blur motion thunder footfall echo
cramp fatigue stitch strain sprain blister ache burn exhaustion
momentum acceleration endurance stamina vigor energy force power drive

Climbing
rope hook harness piton hammer spike anchor pulley carabiner chalk powder glove claw grapnel
ascent hold reach pull rappel scramble scale haul hoist
summit peak vantage perch lookout view perspective achievement mastery
stone rock granite limestone sandstone marble bark vine moss lichen ice snow
cliff wall tower spire tree scaffold battlement parapet rampart precipice crag outcrop ledge
climber mountaineer scout burglar thief acrobat spider assassin ranger
belay pitch overhang foothold handhold route grade chimney crack slab face
challenge exploration adventure pilgrimage ascension
texture roughness vertigo exposure wind chill fear thrill
fall slip avalanche rockfall fatigue weakness tremor
altitude gradient angle incline vertical horizon freedom escape

Swimming
fin goggle buoy raft cork bladder oil wax seal
stroke plunge drift glide wade splash kick propel
speed distance breath endurance survival rescue pearl treasure salvage
water salt brine kelp algae spray mist bubble
pool lake river ocean moat canal harbor cove lagoon spring fountain bath cistern reservoir
swimmer diver pearl-diver sailor mariner fisherman lifeguard triton merfolk
tide wave eddy undertow backstroke breaststroke butterfly freestyle
baptism cleansing purification ritual blessing ceremony
cold wet weightlessness chill
cramp drowning whirlpool riptide shark jellyfish hypothermia panic

Jumping
pole springboard mat platform plank board cushion pad net
leap bound vault hop spring launch catapult skip bounce pounce
distance clearance record achievement feat accomplishment
sand sawdust straw hay leather wood canvas rope
pit gap chasm ravine precipice ditch moat wall fence barrier obstacle
jumper acrobat vaulter athlete gymnast dancer performer artist
takeoff trajectory arc approach run-up technique
freedom flight escape transcendence liberation breakthrough triumph
weightlessness suspension air rush impact thud crash
misjudgment fall injury sprain fracture miscalculation fear hesitation
gravity force velocity parabola projection elevation

Athletics
muscle sinew tendon ligament bone joint heart lung nerve reflex instinct
strength power agility flexibility coordination balance endurance stamina constitution vigor vitality
fitness health wellness prowess capability performance achievement excellence mastery triumph
leather iron bronze steel cloth bandage salve balm oil liniment potion tonic
gymnasium arena field court yard ground pitch stadium coliseum amphitheater academy
athlete warrior gladiator champion hero acrobat performer dancer monk ranger
training regime discipline practice drill exercise routine warmup cooldown stretch
competition tournament festival games Olympics championship contest trial ordeal initiation
sweat strain effort exertion pulse breath ache burn fatigue exhaustion recovery
injury weakness limitation barrier plateau setback failure defeat handicap obstacle
movement motion kinetic energy potential momentum inertia physics biomechanics technique form grace

Dodging
sidestep roll weave duck tumble leap vault spin twist dive slide feint blur afterimage evasion escape miss avoidance
boots cloak belt charm amulet ring leather silk feather velvet
arena battlefield courtyard alley rooftop bridge
acrobat rogue assassin dancer duelist scout monk ranger
agility reflex instinct grace speed momentum balance footwork timing anticipation
shadow wind phantom ghost mirage illusion
whoosh breeze whisper flutter
stumble trip fatigue overextension misstep slip trap snare
flow rhythm pattern prediction space distance angle trajectory movement mobility freedom

Parrying
deflection riposte counter redirection interception displacement
sword dagger staff rapier foil saber blade hilt pommel crossguard
steel iron bronze silver mithril adamantine
forge armory courtyard hall tower chamber
swordsman fencer duelist bladedancer weaponmaster guardian
bind beat forte foible guard prime seconde tierce quarte quinte sixte septime octave
honor duel technique mastery discipline tradition
clang spark ring scrape clash metal
break shatter disarm strain crack chip
timing precision angle leverage momentum force vector pressure point fulcrum

Shields
block bash cover wall barrier bulwark
buckler pavise heater kite tower targe roundshield aspis scutum
wood iron steel bronze hide leather oak pine brass copper
armory smithy battlefield phalanx gatehouse rampart
guardian defender knight hoplite shieldbearer crusader templar paladin
boss rim strap grip handle spike stud rivet
heraldry emblem crest sigil banner standard coat device
thud crash impact slam boom reverberation
splinter dent crack weight fatigue strain burden
stance formation line aegis ward sanctuary refuge shelter

Armor
protection coverage resistance fortification shell carapace
mail plate cuirass helm gauntlet greave pauldron gorget coif vambrace rerebrace sabatons tasset bevor
steel iron leather scale bone chitin bronze lamellar brigandine gambeson
forge armory barracks garrison citadel keep
knight warrior armorer blacksmith squire champion
joint rivet padding strap buckle hinge articulation link ring
sigil polish ceremony investiture vigil oath
clank weight heat friction scrape grind
rust dent gap tear puncture corrosion fatigue encumbrance
endurance burden mobility flexibility adaptation hardness temper alloy composition

Defense
ward guard protection survival resistance immunity
fortress wall moat gate portcullis barbican
warrior defender guardian sentinel watchman protector champion knight paladin
stance posture readiness alertness vigilance caution preparation
aegis sanctuary haven refuge shelter bastion stronghold citadel
resilience fortitude endurance stamina constitution toughness hardiness
barrier shield armor helm mail plate buckler pavise
combat battle siege warfare skirmish duel melee
safety security conservation safeguard custody
threat danger peril hazard risk jeopardy menace assault

Striking
fist knuckle palm elbow knee heel shin forearm foot toe forehead skull
jab hook uppercut haymaker roundhouse cross combo strike blow punch kick slam
knockout bruise fracture stun daze concussion blackout pain impact force trauma welt swelling
wrap bandage pad glove leather strap
ring pit arena tavern alley courtyard stage platform
pugilist boxer brawler monk fighter striker
stance form technique rhythm timing reach distance angle momentum speed power
tournament duel bout match contest challenge championship prize
thud crack smack crunch snap pop echo
block counter dodge weave slip parry defense vulnerability opening weakness fatigue

Grappling
hold lock throw pin chokehold armbar takedown slam toss flip grab clutch squeeze grip
joint limb neck shoulder waist hip ankle wrist spine torso arm leg
tap break dislocation sprain immobilization dominance surrender defeat
mat floor ground dirt sand mud canvas rope oil sweat chalk dust
wrestler grappler clincher holder strangler
leverage balance position pressure weight center gravity technique clinch mount transition
tradition ritual ceremony initiation trial ordeal test
grunt effort struggle resistance tension release
defense flexibility rigidity exhaustion cramp

Improvised Weaponry
chair bottle stool mug tankard pole brick rock chain rope fork ladle pot pan cane umbrella book candlestick pitcher vase plank nail hammer shovel broom torch lantern shard glass
tavern alley street kitchen workshop market stable yard dock warehouse cellar attic
scrapper opportunist improviser survivor thug ruffian
shatter break crack smash bash dent bend snap fragment debris wreckage ruin
creativity improvisation adaptation ingenuity resourcefulness desperation opportunity environment surrounding circumstance
crash clatter bang boom tinkle rattle thump
fragility availability weight balance durability predictability recognition concealment surprise

Unarmed Combat
fight brawl melee scuffle tussle clash skirmish encounter battle duel contest match bout competition trial combat warfare
hand foot head body limb digit extremity appendage flesh bone muscle sinew tendon nerve
fighter combatant warrior gladiator champion defender attacker challenger veteran novice student master teacher instructor sensei
discipline reflex instinct aggression defense offense skill art craft mastery prowess technique form style method system school tradition philosophy
honor challenge sport entertainment spectacle exhibition demonstration performance ritual ceremony initiation graduation rank belt sash badge emblem insignia
victory defeat draw stalemate triumph humiliation glory shame pride fall rise comeback upset
street courtyard hall plaza square dock wharf bridge tower dungeon cell cage den lair sanctum sanctuary temple monastery academy guild
drill spar practice training exercise routine regimen conditioning preparation warmup cooldown meditation focus concentration awareness mindfulness breath energy chi ki spirit soul essence will determination courage fear respect

Archery
longbow shortbow recurve arrow shaft head broadhead bodkin quiver bracer tab sight rest nock fletching vane bowstring limb riser grip anchor release aim shot volley barrage hit bullseye pierce wound penetration yew sinew feather horn gut resin wax range target butt field tower battlement parapet archer bowman marksman ranger scout hunter cant tiller serving spine paradox weight cast brace height twang whistle thud tension wind rain fatigue tremor precision patience focus discipline flight trajectory arc

Crossbows
crossbow arbalest bolt quarrel windlass cranequin goatsfoot nut trigger stock prod stirrup groove track rail cock span loose reload penetration impact puncture steel iron bronze hemp silk cord loophole embrasure wall fortress keep crossbowman arbalist sniper mercenary powerstroke latch pawl rack ratchet guild charter ban prohibition click snap whir thunk weight maintenance misfire jam mechanism engineering force leverage power torque tension string

Throwing Weapons
dagger knife axe hatchet javelin dart sling bullet stone pellet pouch atlatl spear pilum shuriken chakram bolas throw hurl cast spin whirl strike stun embed impact leather lead clay bronze iron arena pit alley courtyard slinger peltast skirmisher gladiator trajectory grip release balance whoosh thunk whistle weight distance momentum arc physics velocity angle parabola champion contest

Siege Weaponry
ballista catapult trebuchet onager mangonel scorpion springald ram tower engine launch bombardment barrage salvo breach demolition rubble crater timber rope sinew boulder stone iron chain siege wall gate bastion fortress engineer artillerist bombardier sapper torsion counterweight arm frame beam axle wheel crash rumble groan thunder range accuracy crew ammunition payload leverage power physics warfare

Ranged Combat
projectile missile ammunition shot arrow bolt stone bullet trajectory ballistics windage elevation range accuracy precision distance volley barrage salvo bombardment suppression cover concealment hit miss graze kill wound strike impact penetration velocity force marksman sniper gunner archer slinger artillerist sight scope aim lead deflection visibility weather obstacle barrier shield armor evasion dodge timing anticipation prediction calculation instinct reflex coordination breath control patience discipline focus concentration warfare tactics strategy skirmish ambush

One-Handed Blades
sword rapier saber scimitar falchion cutlass dagger dirk stiletto gladius foil epee blade edge point tip pommel hilt guard fuller tang ricasso
slash cut thrust pierce stab parry riposte feint lunge draw sheath scabbard baldric frog
steel iron silver mithril adamantine damascus folded tempered quenched oil whetstone grindstone polish
duelist fencer swordsman blademaster assassin rogue swashbuckler musketeer cavalier knight
finesse precision grace agility dexterity balance footwork stance form technique flourish salute duel honor
forge smithy armory salle academy courtyard plaza tower barracks garrison
blood wound scar gash nick scratch graze flesh sinew artery vein
clang ring whistle hiss swoosh scrape spark flash gleam glint shimmer shine reflection mirror
katana wakizashi tanto khopesh kukri kris machete tulwar shamshir dao jian

One-Handed Impact
mace hammer axe club cudgel flail morningstar pick warhammer maul bludgeon scepter
crush smash bash pound shatter break crack splinter dent cave demolish pulverize
iron steel bronze lead weight spike flange head haft handle grip leather cord wrap
warrior barbarian berserker crusader paladin cleric priest templar enforcer thug brute
strength power force impact momentum swing arc followthrough
forge smithy armory battlefield siege gate breach wall tower dungeon torture chamber
bone skull fracture concussion trauma bruise swelling blood tooth
thud crunch snap crash boom clatter rattle shake tremor vibration echo reverberation
flanged spiked studded ridged grooved etched blessed consecrated cursed enchanted rune glyph sigil
inertia mass velocity acceleration deceleration torque leverage fulcrum pivot

Two-Handed Weapons
greatsword zweihander claymore flamberge greataxe battleaxe maul sledgehammer greathammer poleaxe bardiche
cleave rend split sunder bisect decapitate execute demolish obliterate annihilate devastate
steel iron mithril adamantine dragonbone giantbone obsidian volcanic meteoric starsteel moonsilver
executioner champion hero berserker juggernaut destroyer slayer reaver titan colossus giant
might prowess dominance supremacy overwhelming unstoppable inevitable inexorable
battlefield arena colosseum scaffold block gallows plaza square monument memorial graveyard ossuary
torso spine ribcage sternum clavicle scapula vertebrae marrow sinew cartilage ligament tendon
roar bellow thunder crash quake tremor shockwave ripple crater fissure chasm gorge
ceremony ritual execution justice punishment retribution vengeance wrath fury rage bloodlust battlecry
weight mass heft burden encumbrance momentum inertia gravity arc trajectory parabola pendulum

Polearms
spear pike lance halberd glaive partisan voulge guisarme fauchard naginata trident javelin pilum
thrust pierce impale skewer puncture penetrate extend ward control
ash oak yew hickory bamboo steel iron bronze silver mithril dragonbone horn tusk
pikeman lancer hoplite phalanx legionnaire guard sentinel watchman yeoman militia footman soldier
formation rank file column line square circle wedge turtle testudo shield wall bristle hedge
courtyard gate bridge pass canyon ravine ridge hilltop rampart parapet battlement merlon crenel
lung heart liver kidney intestine bowel stomach diaphragm aorta vena cava jugular carotid
whistle whoosh thrum vibration hum buzz drone song hymn chant prayer mantra incantation
banner standard ensign pennant guidon colors regiment battalion company squad platoon cohort century
advantage leverage spacing interval gap perimeter radius diameter circumference

Flails & Chains
flail chain morningstar meteor nunchaku kusarigama manriki whip scourge cat chu
swing whirl spin rotate revolve gyrate centrifuge cyclone vortex maelstrom tempest
iron steel lead brass bronze copper silver gold platinum mithril adamantine meteorite
gladiator retiarius thresher harvester inquisitor torturer executioner flagellant penitent zealot fanatic
rhythm tempo cadence beat pulse throb oscillation pendulum metronome synchrony harmony resonance
arena pit colosseum dungeon chamber cell rack wheel stake pyre gallows scaffold block
joint socket ligament tendon cartilage disc vertebrae rib sternum clavicle scapula humerus
whoosh whistle crack snap pop bang clatter rattle jingle chime ring peal toll
momentum inertia centripetal centrifugal angular velocity acceleration torque fulcrum pivot axis
chaos entropy disorder turbulence unpredictable erratic random stochastic fractal butterfly storm

Melee Combat
warrior fighter soldier knight paladin barbarian berserker gladiator champion duelist mercenary sellsword
battle combat duel skirmish brawl melee fray clash engagement encounter confrontation showdown
sword axe mace spear shield armor helm gauntlet greave pauldron gorget mail plate leather
strike blow hit attack assault offense defense parry block dodge evade counter riposte
strength power might force skill technique form stance footwork balance agility
battlefield arena colosseum pit ring circle square courtyard plaza bridge gate tower
wound scar gash cut bruise fracture break sprain rupture hemorrhage trauma
steel iron bronze copper brass silver gold mithril adamantine dragonscale dragonbone obsidian
veteran master instructor trainer captain general marshal warlord hero legend myth saga
honor glory valor courage bravery reputation fame infamy notoriety legacy heritage
rage fury wrath anger bloodlust fervor zeal passion intensity focus concentration
clang crash thud crack snap crunch rip scream roar bellow grunt gasp wheeze
victory defeat triumph conquest surrender yield capitulation rout massacre slaughter carnage butchery
adrenaline endorphin testosterone cortisol sweat tears pain agony ecstasy euphoria rush
tactics strategy maneuver feint gambit ploy trick trap ambush surprise flanking
war conflict strife discord chaos order rank file column line phalanx`,By=`Armament Enchanting
anvil hammer chisel tong forge bellows grindstone whetstone crucible needle file rasp
rune glyph sigil essence crystal dust oil reagent flux catalyst powder resin lacquer varnish
sword armor helm shield gauntlet pauldron greave mail plate leather buckler cuirass
enhancement blessing ward protection sharpness fortitude resilience durability might aegis bulwark vigor
workshop armory smithy foundry arsenal
enchanter runesmith armorsmith weaponsmith artificer
augment affix property attribute potency temper etch inscription reinforcement treatment
flaw crack fracture resistance instability decay corrosion weakness brittleness
steel iron mithril adamantine silver cold-iron moonstone obsidian dragonscale

Imbuing
crucible pestle mortar alembic cauldron retort furnace kiln brazier tong clamp vice
gem metal silver gold platinum crystal essence pearl amber jade ruby sapphire emerald diamond opal moonstone sunstone bloodstone
ring amulet pendant brooch circlet talisman charm bracelet anklet torc medallion locket
ward shield luck vigor clarity wisdom fortitude grace swiftness regeneration resistance immunity
laboratory sanctum workshop atelier vault chamber
jeweler artificer imbuer gemcutter goldsmith silversmith
resonance attunement capacity saturation harmony frequency vibration pulse threshold
setting mount bezel prong clasp chain link band
impurity occlusion cloudiness dissonance overload fracture

Scribing
quill stylus nib inkwell vellum parchment papyrus scroll reed brush palette knife scraper
ink pigment dye blood ichor sap resin gum mercury cinnabar lampblack gall ochre vermillion
manuscript tome codex folio sheet page grimoire treatise compendium
scribe calligrapher illuminator copyist scholar sage
glyph sigil script cipher notation character symbol letter mark ideogram pictograph
transcription illumination preservation translation
smudge tear fade blot stain crease fold water mold decay
scripture verse incantation formula theorem axiom principle
margin border illustration initial miniature decoration gilt

Implement Crafting
lathe carver chisel gouge saw plane file sandpaper vise clamp burnisher polisher
wood crystal bone metal heartwood gem focus lens sphere prism shard
wand staff orb rod scepter cane baton crook flail mace
wandwright staffwright artificer jeweler
core channel conduit resonator amplifier catalyst matrix node junction
yew oak ash elder willow hazel holly birch rowan thorn pine cedar
dragon phoenix unicorn griffin basilisk demon angel fey
amplification precision range duration intensity control mastery
knot grain warp split fracture imbalance blockage interference

Binding
circle pentagram seal ward chain shackle collar tether link bond fetter manacle
clay stone metal golem construct automaton homunculus effigy mannequin vessel shell frame
spark essence spirit anima consciousness soul breath life force will sentience
binder animator golemancer artificer sculptor mason
animation directive command protocol instruction imperative prohibition compulsion geas
servant guardian sentinel watcher protector defender laborer courier
rebellion malfunction corruption possession haywire rampage dormancy stasis
sigil matrix core heart brain nexus anchor keystone cornerstone
obedience loyalty service duty task purpose function role
marble granite iron brass bronze copper silver gold adamantine mithril

Enchanting
essence mana aether flux energy power force potency magic sorcery thaumaturgy
rune glyph sigil symbol mark inscription pattern weave thread strand fiber
crystal gem stone dust powder reagent catalyst herb root bark resin oil tincture elixir
workshop laboratory sanctum tower spire atrium vault chamber forge altar nexus leyline
enchanter mage wizard sorcerer artificer runemaster thaumaturge arcanist mystic sage
infusion imbuement enhancement augmentation blessing curse hex ward charm glamour
aura resonance frequency vibration pulse harmony dissonance balance imbalance
ritual ceremony rite invocation chant incantation formula spell weaving binding sealing
tool implement instrument apparatus device mechanism artifact relic curio
mastery expertise proficiency skill craft art discipline tradition school doctrine 

Potions
cauldron vial flask bottle phial ampoule cork stopper ladle funnel mortar pestle strainer filter press decanter
herb root leaf berry flower petal seed bark moss fungus mushroom essence extract tincture oil water spring dew honey nectar sap resin balsam
elixir brew draught philtre tonic balm salve potion cure remedy antidote panacea cordial infusion decoction syrup liquor spirit
herbarium garden greenhouse conservatory stillroom
herbalist healer witch shaman druid
aroma fragrance vapor steam bubble foam froth effervescence
spoilage contamination dosage potency expiration fermentation precipitation
vitality restoration rejuvenation healing regeneration purification blessing

Toxicology
needle syringe dart blade fang stinger sac extractor pipette dropper lancet
poison toxin bane nightshade hemlock wolfsbane arsenic mercury cyanide belladonna aconite mandrake strychnine ricin oleander foxglove monkshood cobra viper scorpion spider toadstool
paralysis death antidote antivenin immunity necrosis seizure coma convulsion asphyxiation
serpentarium laboratory morgue crypt dungeon
assassin poisoner toxicologist alchemist murderer spy
sting burn numbness pallor foam spasm twitch
detection resistance tolerance neutralization identification
lethality subtlety stealth silence darkness secrecy malice

Mutagenesis
syringe chamber tank vat pod cocoon apparatus incubator centrifuge microscope scalpel
mutagen catalyst enzyme hormone gland serum ichor blood plasma lymph marrow tissue cell virus bacterium spore gene flesh bone sinew
mutation transformation metamorphosis evolution aberration chimera hybrid monster abomination beast shapeshifter lycanthrope homunculus golem
laboratory sanctum asylum dungeon pit cave lair
biomancer fleshcrafter geneticist madman cultist
writhe pulse shift bulge tear split merge fuse
rejection instability deformity cancer madness pain agony
change adaptation corruption enhancement augmentation transcendence blasphemy

Incendiaries
fuse wick timer detonator casing shell bomb grenade flask pot jar barrel keg
sulfur saltpeter phosphorus naphtha pitch oil powder nitroglycerin charcoal resin tar dynamite wildfire dragonfire alchemist greek fire
blast flame smoke shrapnel crater inferno conflagration combustion ignition detonation immolation incineration
arsenal armory magazine bunker forge workshop battlefield
bombardier sapper pyromancer arsonist demolitionist engineer
flash boom heat scorch blaze crackle roar whistle
misfire dud backfire premature accident chain reaction
destruction chaos warfare siege sabotage terror annihilation

Transmutation
crucible furnace athanor retort alembic kiln bellows tong hammer anvil mold matrix seal circle pentagram
lead gold silver mercury copper tin iron bronze brass platinum mithril adamantine orichalcum stone prima materia quintessence azoth alkahest
transformation conversion sublimation calcination dissolution coagulation fixation projection multiplication fermentation distillation conjunction
laboratory sanctum temple observatory tower vault
transmuter sage magus adept master thaumaturge
glow shimmer flux radiance resonance vibration hum crystallization
failure reversion decay instability imbalance contamination impurity
perfection unity harmony balance enlightenment ascension immortality

Alchemy
alembic retort crucible athanor furnace kiln flask beaker vial bottle jar pot cauldron mortar pestle scale weight measure thermometer hourglass bellows tong ladle funnel filter siphon pump valve burner lamp candle
acid base salt sulfur mercury phosphorus arsenic antimony bismuth vitriol regia vitae alkahest azoth stone prima materia quintessence element reagent compound mixture solution suspension crystal powder dust ash char coal tar resin oil wax tallow fat grease
transmutation distillation sublimation calcination fermentation putrefaction dissolution coagulation fixation multiplication projection combustion reaction synthesis decomposition purification refinement extraction infusion decoction tincture elixir essence concentrate residue
laboratory workshop tower sanctum foundry mill mine quarry market guild academy library vault cellar attic
alchemist scholar apprentice journeyman master adept magus artificer
smoke steam vapor fume bubble fizz spark flame glow shimmer crystallization precipitation effervescence
contamination failure poisoning madness bankruptcy heresy blasphemy
transformation creation destruction knowledge power immortality gold wealth secret mystery art science magic nature philosophy theology cosmology astronomy medicine metallurgy chemistry

Precognition
prophecy omen portent augury vision dream nightmare premonition warning forecast glimpse flash future tomorrow destiny fate path timeline possibility probability chance outcome event horizon dawn moment hour day year epoch era oracle prophet seer soothsayer sibyl pythoness sage mystic crystal orb sphere mirror glass smoke incense tea leaf rune card deck tarot pendulum chime bell gong drum heartbeat pulse tempo rhythm cycle pattern wave flux change shift turn twist fork branch divergence paradox loop recursion causality consequence ripple echo shadow phantom specter wraith mist fog haze veil curtain window portal gate door sanctum tower observatory temple shrine altar chamber vault crypt

Retrocognition
memory echo imprint trace residue ghost phantom specter shadow past yesterday history chronicle record archive scroll tome codex tablet stone bone relic artifact heirloom token memento keepsake antiquity age epoch era century millennium antiquarian archaeologist chronicler historian scribe recorder keeper curator archivist sage elder ancestor spirit shade wraith remnant vestige fragment shard splinter dust ash ember coal char ruin debris rubble wreck decay erosion weathering patina rust tarnish fade blur dim flicker glimpse flash vision dream reverie nostalgia melancholy longing yearning regret sorrow joy triumph glory defeat battle war peace treaty pact covenant oath vow promise betrayal secret mystery enigma riddle puzzle cipher code symbol mark seal sigil glyph rune inscription epitaph monument memorial tomb crypt catacomb ossuary necropolis graveyard cemetery barrow mound cairn

Clairvoyance
sight vision eye gaze stare glimpse view vista panorama horizon distance space span reach range scope breadth expanse gap chasm gulf abyss mirror lens crystal orb sphere globe bowl basin pool water reflection refraction prism spectrum light ray beam shaft glow gleam glimmer shimmer sparkle flash flare burst pulse wave ripple echo sound voice whisper murmur hum drone buzz vibration resonance frequency tone pitch note chord harmony discord static interference noise barrier wall ward shield veil curtain mist fog haze cloud shadow darkness blind spot null dead spy scout watcher sentinel observer witness spectator audience viewer seer visionary prophet oracle medium channeler conduit vessel instrument tool device apparatus mechanism contraption gadget nexus node hub center focus point locus axis pivot fulcrum tower spire minaret lighthouse beacon watchtower observatory perch vantage lookout post station outpost

Psychometry
aura field energy vibration resonance frequency wavelength pulse beat rhythm pattern signature imprint mark trace residue echo emanation radiation emission discharge flow current stream tide wave ripple bubble shell layer barrier shield ward protection defense armor plate mail scale hide skin membrane film veil curtain mask disguise camouflage cloak shroud cover blanket fog mist haze cloud shadow darkness null dead spot empath sensitive psychic medium channeler conduit vessel receptor antenna sensor detector scanner probe gauge meter instrument tool device apparatus mechanism leyline node nexus hub center focus point locus axis meridian channel pathway route circuit loop cycle spiral helix coil spring tension stress strain pressure force power might strength weakness vulnerability flaw crack fissure breach gap hole empty hollow cavity chamber room space area region domain realm territory jurisdiction copper silver gold platinum mithril adamantine crystal quartz amethyst sapphire ruby emerald diamond gem jewel stone rock mineral ore metal alloy compound mixture blend fusion synthesis harmony discord balance imbalance chaos order entropy decay growth change transformation mutation evolution

Divination
truth knowledge wisdom insight revelation epiphany discovery answer question query riddle enigma mystery secret hidden occult arcane esoteric mysticism magic sorcery wizardry witchcraft thaumaturgy miracle wonder marvel phenomenon omen sign signal portent augury auspice token symbol mark seal sigil glyph rune letter word name title epithet motto maxim principle law rule code cipher key lock door gate portal window mirror lens prism crystal ball orb globe deck card die bone knuckle tooth claw feather wing entrail liver heart blood ash salt herb root leaf flower petal stem branch twig stick wand rod staff scepter crown circlet diadem tiara helm mask veil hood cloak robe mantle cape shroud altar circle pentagram hexagram star moon sun planet comet meteor eclipse conjunction alignment convergence divergence crossroad intersection junction nexus node hub center focus point locus axis pivot fulcrum balance weight measure gauge meter instrument tool device apparatus mechanism oracle augur haruspex diviner soothsayer seer prophet sibyl pythoness sage mage wizard witch warlock sorcerer enchanter medium channeler conduit vessel receptor antenna sensor detector scanner probe temple shrine sanctuary sanctum grove glade clearing meadow hill mountain peak summit crest ridge valley dale hollow cave cavern grotto chamber vault crypt tomb sepulcher

Arcane Sight
aura shimmer glow emanation residue trace signature pulse flicker radiance halo corona nimbus phosphorescence luminescence afterglow
eye lens orb crystal prism monocle spectacle scope viewer detector mirror glass sphere focus amplifier
detection revelation discovery identification recognition observation scrutiny examination inspection analysis divination scrying
veil illusion glamour disguise mask ward barrier shield cloak concealment obfuscation distortion mirage phantasm
spectrum wavelength frequency resonance vibration oscillation pattern matrix weave thread filament strand fiber lattice
seer oracle diviner scryer observer watcher sentinel inspector examiner investigator scholar sage mystic visionary
sight vision glimpse glance gaze stare awareness consciousness intuition instinct sensation feeling impression

Arcane Principles
law theorem postulate principle rule formula equation balance equilibrium harmony symmetry order chaos entropy
essence mana ether flux quintessence element energy force power potential charge polarity field current flow
transmutation transformation conversion alteration modification adaptation evolution mutation change shift transition metamorphosis sublimation
catalyst reagent component ingredient substrate medium conductor insulator amplifier dampener stabilizer neutralizer inhibitor modifier
resonance harmonics frequency vibration oscillation wave particle duality paradox contradiction unity infinity void null
scholar theorist philosopher academic professor magister arcanist researcher scientist alchemist metaphysicist cosmologist naturalist sage
foundation cornerstone bedrock basis root source origin genesis alpha omega prime fundamental universal absolute eternal

Arcane History
archive chronicle tome manuscript codex scroll papyrus tablet grimoire journal ledger record registry catalog compendium
artifact relic heirloom treasure vestige remnant fossil echo memory imprint legacy inheritance heritage tradition custom
dynasty lineage bloodline ancestry genealogy succession reign era epoch age millennium century decade generation cycle
tower citadel academy college sanctum library vault repository museum mausoleum tomb crypt catacomb ruins excavation
wizard mage sorcerer enchanter warlock witch archmagus archmage battlemage spellblade conjurer summoner necromancer lich
legend myth folklore tale saga epic ballad prophecy oracle vision dream omen portent sign augury
war cataclysm apocalypse catastrophe disaster calamity upheaval revolution rebellion coup crusade inquisition purge pogrom persecution

Magical Item Analysis
enchantment charm hex curse blessing ward glyph sigil seal inscription engraving etching mark brand tattoo
amulet talisman pendant medallion ring bracelet circlet crown scepter staff wand rod orb crystal gem
property attribute quality characteristic trait feature aspect facet dimension parameter variable constant coefficient factor element
appraisal evaluation assessment examination inspection investigation study research analysis diagnosis test probe scan assay
artificer enchanter smith wright crafter artisan jeweler runesmith spellwright inscriber etcher carver sculptor forger
resonance attunement synchronization alignment tuning harmonization balance equilibrium stability volatility instability decay degradation
power potency strength intensity magnitude amplitude capacity charge reservoir battery core heart nexus focus conduit

Monster Lore
beast creature entity being abomination horror monstrosity fiend demon devil imp sprite pixie fey sylph
claw fang talon horn tusk scale hide carapace chitin fur feather wing membrane tentacle pseudopod appendage
lair den nest roost burrow warren cavern grotto hollow pit abyss chasm gorge ravine canyon fissure
anatomy physiology morphology taxonomy classification genus species subspecies variant mutation evolution adaptation trait characteristic behavior
hunter tracker ranger bestiary scholar naturalist xenobiologist cryptozoologist sage expert specialist authority master adept
venom poison toxin acid bile ichor blood plasma lymph secretion pheromone musk spore miasma effluvium vapor
weakness vulnerability resistance immunity susceptibility allergy phobia aversion attraction compulsion instinct reflex response reaction pattern

Cosmology
plane dimension realm layer stratum tier level region domain territory province kingdom empire dominion
portal gateway door passage corridor tunnel bridge nexus vertex hub
void abyss chaos limbo purgatory paradise hell heaven nirvana valhalla elysium tartarus gehenna sheol hades underworld
traveler wanderer explorer navigator pilot guide pathfinder wayfarer journeyman pilgrim nomad vagrant drifter seeker questor
anchor tether chain link bond connection bifurcation fork split merger fusion fission
astral ethereal shadow elemental material prime inner outer transitive border edge boundary margin periphery liminal
constellation star sun moon planet comet asteroid meteor galaxy nebula quasar pulsar singularity horizon event wormhole

Runes
glyph sigil character symbol mark sign ideogram pictogram hieroglyph cuneiform script code alphabet syllabary
stone tablet obelisk monolith stele pillar column monument marker cairn dolmen menhir cromlech henge circle
inscription carving etching engraving chisel hammer stylus quill brush ink pigment dye paint blood ochre
translation interpretation decipherment reading comprehension understanding meaning significance import connotation denotation etymology root morpheme
scribe scholar linguist translator interpreter cryptographer codebreaker runemaster glyphomancer sigillographer epigraphist paleographer calligrapher illuminator
power word name essence truth secret mystery riddle enigma puzzle key lock seal ward protection
pattern sequence series progression permutation combination arrangement configuration constellation formation structure matrix lattice grid network

Magical Lore
knowledge wisdom understanding comprehension enlightenment illumination revelation epiphany insight intuition gnosis awareness consciousness transcendence ascension
library archive repository vault sanctum academy college university lyceum athenaeum observatory laboratory workshop atelier studio
theory hypothesis conjecture speculation postulate theorem lemma corollary proof derivation deduction induction inference conclusion
tradition heritage legacy inheritance custom practice ritual ceremony rite observance convention protocol etiquette decorum propriety
scholar sage magus wizard mage sorcerer enchanter warlock witch mystic occultist esotericist hermeticist cabalist theosophist
mystery secret enigma riddle puzzle paradox contradiction anomaly aberration deviation exception outlier irregularity peculiarity oddity
foundation principle law rule truth universal constant variable parameter factor element component constituent ingredient

Aeromancy
wind gust breeze gale storm hurricane tornado cyclone vortex whirlwind zephyr
lightning bolt thunder spark discharge arc
cloud nimbus cumulus stratus fog mist vapor haze
feather wing sail kite weathervane anemometer windchime bellows
tower spire peak summit cliff aerie eyrie roost precipice ledge
aeromancer stormcaller windkeeper skydancer cloudwalker
pressure current draft updraft downdraft turbulence vacuum altitude
whistle howl roar shriek wail
freedom flight levitation buoyancy weightlessness lift

Geomancy
stone rock boulder pebble gravel granite marble obsidian basalt limestone sandstone slate
crystal gem mineral ore vein deposit quarry
earth soil clay mud dust sand loam sediment
tremor quake fissure chasm crevice fault rupture
wall pillar column spike stalactite stalagmite monolith obelisk
mountain cave cavern tunnel mine shaft pit gorge canyon plateau mesa
geomancer earthshaper stonemason terraformer landkeeper
stratum layer bedrock mantle crust tectonic seismic erosion
rumble grind crumble crack shatter
stability foundation endurance permanence solidity density mass gravity

Hydromancy
water ice frost snow sleet hail rime glacier iceberg
steam mist fog dew condensation evaporation precipitation
wave tide current flow torrent cascade waterfall rapids whirlpool maelstrom geyser spring
ocean sea lake river stream creek pond marsh swamp delta estuary fjord
rain drizzle downpour deluge monsoon
chalice bowl vessel fountain basin reservoir aqueduct
hydromancer tidecaller frostweaver aquamancer icewright
pressure viscosity surface tension buoyancy displacement
splash drip bubble gurgle trickle
fluidity adaptability purification clarity reflection depth

Pyromancy
fire flame blaze inferno conflagration pyre
ember spark cinder coal ash soot smoke smolder
torch brazier crucible furnace forge kiln hearth fireplace campfire bonfire
heat warmth temperature thermal combustion ignition oxidation incineration
lava magma volcano crater eruption
phoenix salamander drake
pyromancer flamecaller firekeeper blazewright embermage
fuel kindling tinder flint steel phosphorus sulfur
crackle sizzle roar pop hiss
passion destruction renewal energy transformation cauterization purge

Harmony
balance equilibrium symmetry proportion alignment convergence
synthesis fusion unity amalgamation integration combination blend
nexus confluence intersection crossroad junction
prism lens focus amplifier resonator harmonizer stabilizer
aether quintessence prima materia philosopher stone
scale pendulum mandala circle compass
harmonist balancer unifier mediator peacekeeper arbiter
resonance frequency vibration oscillation wavelength modulation attunement
cosmos order chaos entropy duality trinity quaternary
peace tranquility serenity accord concord synchronicity

Elemental Summoning
circle pentagram hexagram sigil rune glyph seal ward
portal gateway rift breach threshold doorway passage
essence spirit elemental sprite sylph undine gnome salamander
binding pact contract covenant oath vow pledge bond shackle tether chain
altar shrine pedestal dais platform focus anchor
summoner binder conjurer evoker invoker caller
invocation evocation banishment dismissal compulsion command dominion
manifestation incarnation avatar vessel host conduit medium
servitude loyalty obedience rebellion defiance
plane realm dimension sphere domain

Elemental Magic
element energy force power mana aether flux essence
wand staff rod scepter orb crystal focus catalyst conduit amplifier
tower academy laboratory observatory sanctum library archive vault repository
elementalist mage wizard sorcerer arcanist thaumaturge magus adept initiate apprentice master grandmaster
theory practice doctrine principle axiom theorem formula equation
spell incantation ritual ceremony rite tradition school discipline art science craft
mastery control command authority dominion sovereignty
weave pattern matrix lattice framework structure system
phenomenon anomaly paradox mystery enigma secret
transformation transmutation manipulation channeling shaping molding

Augmentation
catalyst amplifier booster sigil glyph rune charm amulet talisman totem focus conduit
quicksilver essence elixir tonic philter draught infusion potion serum extract nectar ambrosia
augmenter empowerer fortifier blessing benediction boon gift enhancement improvement boost surge potency prowess
strength speed vigor might grace acuity vitality endurance resilience stamina fortitude dexterity
buff ward enchantment empowerment fortification reinforcement amplification magnification intensification
burnout overload backlash exhaustion drain fatigue depletion weakness drawback limitation threshold
sanctum altar circle shrine font crucible forge nexus node wellspring reservoir

Illusions
prism mirror crystal lens veil mask cloak shroud screen filter kaleidoscope reflector
mist smoke vapor shimmer mirage fog haze shadow phantasm specter apparition wraith
illusionist trickster deceiver phantasmist mesmerist charlatan imposter masquerader
phantom glamour facade disguise camouflage concealment distortion delusion hallucination
deception misdirection subterfuge guise semblance simulacrum doppelganger decoy effigy
glimmer flicker blur echo whisper shade silhouette afterimage refraction diffusion
disbelief scrutiny detection revelation exposure dispersion dissolution clarity truth

Mentalism
circlet crown orb scepter pendulum focus medallion tiara diadem amulet crystal sphere
mentalist telepath mesmerist enchanter dominator puppetmaster controller manipulator hypnotist
control command suggestion compulsion influence dominion sway authority persuasion coercion
will thought consciousness psyche mind memory dream subconscious intellect cognition emotion
telepathy empathy psychometry thrall charm hex fascination mesmerism rapport link bond
resistance willpower barrier shield ward block immunity fortitude resolve sanity
madness confusion chaos amnesia fugue trance stupor daze bewilderment disorientation

Spatial Warping
portal gateway anchor beacon compass astrolabe key gate arch threshold doorway obelisk
void ether vacuum dimension plane realm pocket fold rift tear breach gap interstice
planeswalker voidmancer navigator traveler wanderer pathfinder cartographer explorer wayfarer
passage tunnel bridge corridor conduit junction vertex node nexus crossroad intersection
translocation displacement phasing blinking warping teleportation projection manifestation
space distance coordinate vector axis longitude latitude bearing direction orientation trajectory
instability turbulence paradox anomaly distortion flux vortex maelstrom singularity deviation
labyrinth maze limbo purgatory astral ethereal shadow mirror parallel alternate

Abjuration
ward seal glyph barrier shield aegis bulwark rampart circle pentagram hexagram
salt iron silver crystal chalk incense sage cedar ash bone dust mercury sulfur
abjurer warder protector guardian sentinel keeper defender champion paladin custodian
protection immunity resistance nullification cancellation negation dispersion banishment purification
counterspell antimagic dispel exorcism cleansing sanctification consecration benediction
purity sanctity defense repulsion reflection absorption deflection dissipation dissolution
penetration corruption breach erosion invasion contamination taint curse hex jinx affliction
sanctuary haven fortress citadel stronghold temple monastery cloister refuge asylum

Order Magic
staff wand rod tome codex grimoire scroll sigil pentacle array matrix lattice diagram schema blueprint
crystal gem rune glyph symbol mandala formula equation theorem principle algorithm
magister arcanist wizard mage sage scholar artificer theorist practitioner adept master savant hierophant
structure law logic harmony symmetry balance precision discipline methodology system
arcana configuration alignment calibration attunement resonance frequency vibration oscillation modulation
tower academy library laboratory observatory atheneum sanctum spire pinnacle citadel lyceum collegium archive
chaos entropy disruption instability paradox contradiction anomaly aberration deviation distortion corruption
order control mastery dominion authority governance supremacy sovereignty command jurisdiction
ritual ceremony protocol procedure doctrine dogma canon tradition convention practice custom rite liturgy

Necromancy
corpse skeleton bone skull femur ribcage spine marrow flesh sinew cadaver remains carcass husk zombie ghoul wight mummy lich phylactery
graveyard cemetery crypt tomb mausoleum catacomb ossuary charnel morgue battlefield boneyard necropolis sepulcher barrow cairn
staff grimoire altar circle pentagram candle chalk incense dagger needle thread suture bandage preservative embalm salt natron
animation puppet thrall minion servant horde army legion swarm pack mob drone automaton construct golem effigy
necromancer reanimator undertaker mortician gravedigger tombkeeper cryptkeeper bonesetter fleshcrafter corpsemaster deathspeaker
ritual incantation binding control command dominion mastery subjugation enslavement conscription draft summon raising awakening
rot stench decay putrefaction decomposition dust ash pale cold lifeless hollow vacant empty soulless shamble lurch
consecration priest paladin cleric sanctity blessing ward barrier purification exorcism smite banishment dispersal dissolution

Afflictions
plague disease pestilence pox malady sickness illness ailment blight infection contagion epidemic pandemic fever ague consumption
vial flask bottle phial cauldron mortar pestle syringe needle leech maggot fly mosquito rat flea tick parasite worm
pus bile toxin venom poison miasma fume vapor gas spore fungus mold rot gangrene necrosis canker lesion boil pustule rash welt
swamp bog marsh fen mire cesspool sewer gutter slum hovel pit dungeon oubliette lazaretto hospice infirmary
plaguebearer carrier vector hexer curser jinxer blighter poisoner toxicologist pathologist diseasemaster plaguedoctor afflictionist
curse hex jinx bane doom malediction anathema taboo evil eye spell enchantment bewitchment execration imprecation damnation
wither shrivel atrophy waste languish deteriorate corrupt taint spoil fester suppurate ulcerate blister swell inflame
cure remedy antidote panacea elixir balm salve potion tonic medicine herb healer immunity resistance antibody purge cleanse

Spectral Mastery
ghost spirit specter wraith phantom shade banshee poltergeist apparition revenant haunt soul essence anima psyche eidolon fetch
ouija board crystal ball mirror bell candle salt iron silver sage incense pendulum dowsing rod talisman amulet ward charm sigil
sance ritual summoning evocation invocation binding banishment exorcism dispersion purification consecration benediction
medium spiritualist exorcist shaman mystic oracle seer channeler psychic necromancer ghostcaller spiritbinder soulkeeper
haunting threshold veil boundary limbo purgatory netherworld afterlife beyond grave cemetery mansion attic cellar crossroad gallows
ectoplasm manifestation possession obsession attachment tether anchor chain bond link connection resonance echo memory imprint
whisper moan wail shriek howl sob cry lament keening dirge requiem elegy threnody lamentation mourning grief sorrow anguish
cold chill frost ice breath mist fog vapor shadow flicker shimmer transparency translucence ethereal incorporeal intangible

Shadowmancy
shadow darkness void umbra eclipse shade gloom murk dimness twilight dusk obscurity blackness pitch night abyss chasm depths
fear terror dread panic horror fright alarm dismay apprehension anxiety phobia nightmare phantasm delusion hallucination madness
obsidian onyx jet coal soot ash cinder ember smoke smolder char scorch burn brand sear cauterize immolate incinerate
shroud veil cloak mantle cowl hood mask blindfold curtain drape tapestry screen partition barrier wall fortress citadel
umbral shadowmancer darkener nightbringer terrormaster fearmonger dreadlord shadowweaver umbrakinetic eclipser voidcaller
stealth sneak hide conceal obscure camouflage vanish disappear fade dissolve melt merge blend absorb consume devour engulf
whisper silence hush mute deafen blind smother suffocate strangle choke throttle crush compress constrict squeeze grip grasp
light torch flame candle lantern lamp beacon lighthouse star sun moon dawn ray beam glow radiance luminescence phosphorescence

Death Magic
death demise end cessation termination expiration extinction annihilation oblivion void null entropy decay rot decomposition dissolution
negative necrosis drain siphon leech absorption consumption depletion exhaustion enervation weakness fatigue lethargy torpor
scythe sickle hourglass timer clock tombstone grave marker monument epitaph eulogy dirge requiem funeral pyre cremation
underworld afterlife limbo purgatory hell hades erebus styx acheron lethe cocytus phlegethon tartarus elysium asphodel netherworld
deathknight harvester psychopomp ferryman undertaker coroner embalmer thanatologist mortician gravedigger cryptkeeper tomblord
mortality finality inevitability fate destiny doom cycle rebirth reincarnation resurrection immortality undeath lich vampire wraith
cold chill frost ice bone pale gray ashen pallor rigor stiff rigid motionless still silent quiet peace rest sleep slumber eternal
life vitality vigor health wellness strength chi prana breath pulse heartbeat warmth color flush bloom growth renewal spring

Unraveling
bolt ray beam blast explosion detonation implosion shatter fracture rupture decay rot entropy dissolution disintegration collapse ruin devastation annihilation obliteration 
wand staff orb focus catalyst amplifier conduit channel nexus node
spark flash surge pulse wave cascade torrent maelstrom vortex instability flux volatility
ash dust rubble debris fragment shard splinter crater scorch mark residue smoke ember cinder
backlash recoil feedback overload burnout meltdown breach tear rift fissure void gap hole wound scar

Twisting Fate
chance luck fortune misfortune probability possibility outcome result consequence destiny fate doom curse blessing boon jinx hex
dice coin card lot draw roll toss flip gamble wager bet stake risk hazard peril
accident coincidence fluke anomaly aberration deviation variance fluctuation shift swing turn twist reversal inversion
charm talisman amulet fetish token symbol omen portent sign augury prophecy divination
gambler oracle seer soothsayer fortune-teller prophet augur
chaos randomness uncertainty unpredictability volatility whim caprice fickleness

Infernal Summoning
demon imp devil fiend hellspawn succubus incubus balor pit-fiend archfiend daemon djinn efreet
circle pentacle pentagram sigil glyph rune seal ward binding contract pact covenant bargain deal
sulfur brimstone blood ichor bile venom ash coal ember obsidian onyx
hell abyss pit inferno underworld netherworld limbo pandemonium tartarus gehenna
summoner warlock demonologist diabolist conjurer binder pact-maker cultist acolyte
possession corruption taint blight curse malediction damnation perdition torment agony
horn claw fang tail wing scale hide carapace

Chaos Magic
chaos entropy disorder pandemonium mayhem bedlam turmoil tumult upheaval anarchy discord disarray confusion havoc destruction devastation ruin
fire flame inferno blaze conflagration pyre immolation combustion ignition spark ember coal cinder ash soot smoke
magic sorcery wizardry thaumaturgy arcana spell incantation ritual ceremony rite invocation evocation conjuration hex curse jinx bane
power force energy potency might strength fury rage wrath ire passion fervor zeal frenzy madness insanity delirium mania
warlock sorcerer mage wizard magus thaumaturge pyromancer entropist chaote anarchist destroyer ruiner
artifact relic talisman grimoire tome codex scroll parchment
shadow darkness void abyss chasm rift breach tear rip fracture fissure crack schism split rupture
risk peril danger hazard threat menace jeopardy
transformation mutation change alteration metamorphosis transmutation corruption distortion perversion aberration anomaly
wildfire storm tempest maelstrom vortex whirlwind cyclone hurricane typhoon cataclysm apocalypse armageddon ragnarok doom

Verdant Call
vine root thorn branch leaf bark sap seed pod spore moss lichen fern bramble nettle
grove glade canopy understory thicket copse arbor orchard
tangle snare web coil wrap bind sprout bloom blossom fruit
oak willow yew ash elder hawthorn rowan birch
druid herbalist botanist gardener forester
sickle shears trowel pruner stake trellis
chlorophyll cambium heartwood canker gall burl knot
dryad treant greenman ent sprite
verdant lush fragrant resin pitch amber
blight pest drought wilt rot fungus parasite
growth life cycle season dormancy

Beast Tongue
wolf bear hawk eagle raven owl stag boar lynx fox badger otter
pack herd flock pride murder swarm brood clutch
den lair nest burrow roost warren hollow cave
summon call bond tame command loyalty instinct territory
fur feather scale hide claw fang talon tusk antler
beastmaster ranger falconer hunter tracker shepherd
whistle collar leash muzzle saddle bridle cage trap bait lure
alpha omega matriarch migration hibernation
totem familiar spirit chimera griffin wyvern
howl growl roar screech hiss musk pheromone spoor track
feral rabid predator prey rival mate offspring
wild savage primal ancient noble fierce loyal

Sky dance
storm tempest gale breeze zephyr gust squall cyclone vortex
cloud nimbus cumulus cirrus vapor mist fog haze
rain drizzle downpour deluge shower droplet
thunder lightning bolt flash rumble crack
wind current draft thermal updraft downdraft
peak summit ridge horizon sky dome firmament
stormcaller aeromancer weathermage cloudkeeper
weathervane barometer windchime compass almanac
pressure front system cell eye wall
monsoon typhoon tornado waterspout dust devil
petrichor ozone frost dew hail sleet snow
drought flood calm doldrums
element flow change cycle pattern chaos

Terramancy
stone rock boulder pebble gravel sand clay loam soil dirt mud
crystal quartz granite marble obsidian basalt limestone sandstone
mountain peak cliff crag canyon gorge ravine valley cave cavern
tremor quake fissure crack split rupture
wall barrier shield dome tunnel passage chamber vault
quarry mine pit excavation dig
geomancer earthshaper stonemason sculptor
chisel hammer pick shovel spade drill compass dowser rod
ley node nexus vein fault strata layer bedrock mantle core
golem elemental titan colossus megalith monolith dolmen menhir
rumble grind dust powder shard fragment
earthquake landslide avalanche erosion weathering
foundation stability permanence ancient endurance strength solid

Bloom
vigor vitality energy life force essence spirit renewal rebirth regeneration
herb flower petal nectar honey pollen resin balm salve tonic elixir potion
fountain pool oasis meadow pasture field sanctuary grove shrine
heal mend restore refresh rejuvenate revive resurrect purify cleanse
growth youth prime peak health wellness wholeness
healer physician herbalist alchemist druid shaman witch
mortar pestle vial flask bottle jar pouch bandage compress splint needle thread
aura glow radiance shimmer sparkle gleam
panacea ambrosia manna dew blessing grace miracle
warmth comfort peace serenity tranquility harmony balance
poison disease plague curse blight decay rot wither age death
cycle season phase moon sun dawn dusk solstice equinox

Nature Magic
forest wood jungle grove meadow marsh swamp fen bog moor heath prairie steppe savanna tundra
tree plant animal beast bird insect fish reptile amphibian
earth water air fire element untamed feral savage
druid shaman witch ranger hunter tracker scout herbalist alchemist healer sage hermit
staff wand rod orb crystal amulet talisman totem fetish charm ward rune glyph sigil
ritual ceremony rite invocation chant prayer meditation trance vision dream
cycle season moon sun star planet comet eclipse solstice equinox tide
growth decay birth death renewal transformation evolution adaptation mutation
symbiosis harmony balance ecosystem web chain network connection bond link
refuge haven shelter preserve reserve domain realm territory
power force energy magic mana soul heart core
eternal timeless ageless immortal undying evergreen perennial
free unbound natural pure raw fierce gentle nurturing protective

Restoration
wound injury ailment malady affliction sickness plague fever toxin venom corruption blight trauma fracture lesion gash
bandage poultice salve balm tincture elixir draught philter herb root leaf bark flower petal seed
infirmary hospice sanctuary temple shrine chapel abbey monastery dispensary apothecary
healer physician cleric medic herbalist alchemist surgeon nurse attendant monk
cure remedy antidote panacea treatment therapy medicine drug concoction brew decoction infusion extract essence
recovery regeneration mending vitality vigor health wellness wholeness restoration renewal rejuvenation rehabilitation convalescence remission
willow aloe mint sage thyme lavender comfrey calendula echinacea ginseng mandrake wormwood belladonna poppy lotus

Protection
ward shield barrier aegis bulwark rampart bastion fortress citadel stronghold keep sanctuary haven refuge asylum
amulet charm talisman totem fetish phylactery sigil glyph rune seal mark symbol emblem crest medallion
circle pentacle hexagram boundary threshold perimeter dome sphere bubble cocoon shroud veil cloak mantle
guardian warden sentinel protector defender keeper watchman custodian champion paladin knight templar crusader
defense immunity resistance fortitude resilience endurance durability hardiness toughness armor carapace shell scale hide
salt iron silver crystal quartz diamond ruby sapphire emerald amethyst obsidian onyx jasper moonstone sunstone
consecration sanctification purification blessing invocation prayer litany chant hymn mantra incantation spell ritual ceremony

Blessings
grace boon gift favor benediction benefit virtue merit bounty fortune luck prosperity abundance wealth plenty
altar shrine chapel cathedral basilica church temple tabernacle sanctum reliquary sacristy vestry presbytery chancel nave
priest oracle prophet seer sage elder abbot bishop cardinal patriarch matriarch apostle saint martyr herald
strength vigor might power force potency prowess valor courage bravery fortitude endurance stamina vitality energy
speed swiftness haste velocity alacrity agility dexterity nimbleness quickness rapidity celerity expedition urgency dispatch
chalice grail cup goblet vessel urn censer thurible paten ciborium monstrance cross crucifix icon relic
oil chrism balm myrrh frankincense incense perfume ointment unguent lotion cream salve pomade emollient
anointment consecration dedication ordination coronation investiture enthronement installation induction initiation rite sacrament eucharist communion

Spirit Bonding
familiar companion ally partner comrade confidant friend kindred soulmate twin double shadow reflection echo mirror
bond link connection tie attachment union fusion merger synthesis symbiosis rapport empathy telepathy communion understanding
pact covenant contract agreement treaty alliance compact pledge vow oath promise commitment devotion loyalty
totem fetish idol effigy statue figurine doll puppet mannequin vessel container receptacle conduit channel medium
grove glade clearing meadow dell vale hollow glen copse thicket wood forest jungle wilderness sanctuary
shaman druid beastmaster ranger warden keeper handler tamer whisperer caller summoner binder enchanter charmer
soul spirit essence anima psyche consciousness awareness sentience intelligence wisdom intuition instinct nature temperament
harmony unity concord consonance resonance synchrony attunement alignment balance equilibrium symmetry order peace

Anti-Undead
undead zombie skeleton wraith specter phantom ghost ghoul wight lich revenant shade banshee poltergeist spirit
stake cross crucifix sun dawn daylight sunrise morning noon radiance brilliance luminescence phosphorescence glow gleam
exorcism banishment purge cleanse sanctification consecration blessing hallowing dedication ordination anointment ritual ceremony rite
exorcist paladin inquisitor templar crusader cleric priest monk friar abbot bishop cardinal patriarch saint
ash dust salt silver gold iron steel mithril adamantine blessed consecrated sacred holy divine celestial
cemetery graveyard crypt tomb mausoleum catacomb ossuary charnel sepulcher vault necropolis boneyard churchyard kirkyard
corruption decay rot putrefaction decomposition pestilence miasma taint blight curse hex jinx malediction damnation
redemption salvation deliverance liberation emancipation release freedom absolution forgiveness mercy grace clemency pardon amnesty

Life Magic
life vitality soul anima vigor energy force power radiance light luminescence glow aura
magic sorcery wizardry thaumaturgy miracle wonder marvel phenomenon manifestation revelation epiphany vision apparition presence
healer cleric priest paladin oracle prophet sage elder shaman druid monk abbot bishop saint
temple shrine sanctuary cathedral basilica abbey monastery convent priory hermitage retreat sanctum altar chapel
blessing curse ward shield protection barrier aegis defense immunity resistance restoration regeneration renewal rebirth
sun moon star dawn dusk twilight aurora rainbow prism spectrum ray beam shaft gleam glimmer
crystal gem stone jewel pearl amber jade opal quartz diamond ruby emerald sapphire amethyst topaz
prayer hymn chant mantra litany invocation benediction consecration ritual ceremony rite sacrament communion eucharist
nature creation birth growth bloom blossom summer harvest abundance fertility fecundity prosperity
phoenix unicorn angel seraph cherub archangel valkyrie guardian familiar totem patronus guide mentor
water well pool lake river stream brook creek cascade waterfall rain dew mist
herb root leaf bark seed fruit berry nut grain wheat corn rice barley oat`,Ly=`Shelter Craft
canvas tarpaulin hide pelt thatch straw rope cordage stake pole branch log bark moss lichen mud clay stone rubble
tent lean-to hut hovel shack cabin bivouac den cave grotto alcove nook crevice overhang canopy awning windbreak
knot lashing frame truss beam rafter joist foundation corner ridge peak apex door flap entrance threshold
warmth dryness comfort refuge sanctuary haven asylum retreat hermitage solitude protection cover shade shadow
hammer mallet axe hatchet saw blade knife awl needle thread twine nail peg dowel clamp vise chisel plane
carpenter builder craftsman nomad hermit ranger scout pioneer settler colonist wanderer vagabond
blueprint design pattern template draft sketch plan layout scheme structure architecture framework

Fire Starting
flint steel striker tinder kindling spark ember flame blaze inferno pyre hearth firepit campfire bonfire torch sconce brazier
wood log branch twig leaf grass straw moss lichen bark resin pitch tar oil fat tallow wax coal charcoal peat
bow drill spindle socket board friction ash soot cinder char burn scorch singe ignition combustion
warmth light beacon cooking heat forge furnace kiln oven stove chimney flue vent draft oxygen fuel
match tinderbox firebox firesteel magnifier lens mirror focus sunlight lightning storm thunder bolt flash
pyromancer firestarter keeper tender watcher guard sentinel scout cook smith forger smelter charcoaler
ritual ceremony offering sacrifice incense alarm warning danger hazard risk threat wildfire conflagration

Foraging
mushroom fungus truffle morel chanterelle puffball bracket shelf cap stem spore mycelium root tuber bulb rhizome
berry nut acorn chestnut walnut hazelnut pine cone seed pod fruit apple pear plum cherry grape vine leaf shoot sprout bud
basket pouch sack bag container vessel jar pot crock urn amphora gourd shell husk rind peel skin pulp flesh juice sap nectar
herb sage thyme rosemary mint basil oregano parsley dill fennel anise caraway cumin coriander pepper spice flavor aroma scent
forest wood grove copse thicket brush scrub meadow field glade clearing heath moor bog marsh swamp fen wetland
forager gatherer herbalist botanist naturalist ranger druid shaman witch apothecary healer medicine remedy cure tonic elixir
poison toxin venom bane curse hex jinx taboo forbidden danger warning caution risk peril hazard threat death sickness illness

Hunting
bow arrow quiver bolt crossbow spear javelin dart lance pike halberd net snare trap pit deadfall cage lure bait decoy call whistle
track trail spoor scat print paw hoof claw talon fang tusk antler pelt fur feather scale leather sinew bone marrow fat meat
deer elk moose bear boar wolf fox rabbit hare squirrel badger otter beaver marten weasel ermine lynx wildcat panther griffin wyvern drake
forest wood thicket brush glen ravine gorge canyon cliff ledge outcrop cave den lair burrow warren nest roost perch
hunter tracker stalker ranger scout woodsman trapper poacher gamekeeper warden guide pathfinder marksman archer bowman
ambush stalk pursuit chase hunt drive beat flush quarry prey game trophy prize catch haul harvest yield bounty feast banquet
camouflage blind screen cover concealment stealth silence patience discipline focus concentration aim shot kill wound blood gore

Water Procurement
spring well cistern reservoir tank barrel cask keg bucket pail pitcher jug flask canteen waterskin bladder gourd cup mug chalice goblet
stream creek brook river pond lake pool puddle marsh swamp bog fen mire quicksand mud silt rock boulder cliff waterfall cascade rapid torrent flood tide wave
pump siphon aqueduct canal channel conduit pipe tube hose spigot tap faucet valve gate dam weir lock sluice spillway overflow drain gutter trough
filter screen mesh cloth fabric sand charcoal gravel ceramic clay pot vessel container purifier tablet powder chemical herb root bark
thirst drought famine desert wasteland badland scrubland savanna steppe prairie plain plateau mesa butte canyon arroyo wash gully ravine oasis mirage illusion
dowser diviner finder seeker scout ranger nomad bedouin caravan merchant trader guide pathfinder explorer pioneer settler colonist survivor castaway
rain storm cloud fog mist dew frost ice snow sleet hail precipitation moisture humidity vapor steam condensation evaporation cycle flow current eddy whirlpool vortex

Hazard Recognition
poison venom toxin bane curse hex jinx taboo forbidden danger warning sign symbol mark scar wound injury hurt harm damage threat risk peril jeopardy
fang claw talon stinger barb thorn spine quill needle hook trap snare pit deadfall quicksand bog mire swamp marsh fen sinkhole crevasse chasm abyss precipice cliff ledge overhang
snake serpent viper adder cobra asp python boa constrictor basilisk wyrm drake wyvern dragon chimera manticore scorpion spider wasp hornet bee ant termite locust plague swarm horde
mushroom fungus toadstool death cap amanita nightshade hemlock wolfsbane aconite belladonna foxglove oleander yew holly mistletoe ivy sumac nettle thistle bramble briar
storm tempest hurricane typhoon cyclone tornado whirlwind waterspout lightning thunder bolt strike flash flood deluge torrent avalanche landslide mudslide earthquake tremor eruption lava magma ash
scout ranger tracker hunter guide pathfinder woodsman naturalist herbalist botanist alchemist apothecary healer shaman druid witch sage elder mentor teacher master expert scholar
instinct intuition sense feeling hunch premonition omen portent augury divination prophecy vision dream nightmare fear dread terror panic alarm alert vigilance caution prudence wisdom knowledge experience

Survival
wilderness frontier outback backcountry hinterland wasteland badland desert tundra taiga steppe savanna jungle rainforest swamp marsh bog fen moor heath scrubland brush thicket wood forest grove copse glade clearing meadow field plain prairie plateau mesa butte canyon gorge ravine gully arroyo valley dale hollow basin crater caldera
shelter food water fire warmth light safety security protection defense refuge sanctuary haven asylum retreat hideout cache store supply provision ration stockpile reserve backup contingency plan strategy tactic method technique craft art science experience
danger threat risk peril hazard jeopardy predicament plight crisis emergency disaster catastrophe calamity adversity hardship trial tribulation ordeal challenge obstacle barrier impediment hindrance difficulty problem issue complication setback reversal misfortune accident injury wound hurt harm damage loss death
tool implement instrument device gadget gear equipment kit pack bag pouch sack container vessel jar pot pan kettle cauldron crucible mortar pestle mill grinder crusher press vice clamp hammer mallet axe hatchet saw blade knife dagger sword spear lance pike staff rod wand scepter orb crystal gem stone rock mineral metal ore
survivor castaway refugee exile outcast pariah hermit recluse loner wanderer nomad vagrant vagabond hobo tramp drifter rover ranger scout tracker hunter gatherer forager scavenger salvager prospector miner digger delver explorer pioneer pathfinder guide mentor teacher master expert specialist professional veteran
endurance stamina fortitude resilience persistence perseverance determination resolve willpower discipline focus concentration patience prudence caution vigilance awareness alertness readiness preparation planning forethought foresight insight intuition instinct reflex reaction response adaptation improvisation innovation creativity ingenuity resourcefulness cunning cleverness wisdom intelligence knowledge skill expertise mastery proficiency competence capability capacity ability talent gift knack aptitude

Butchery
cleaver knife blade hook saw steel bone marrow fat sinew tendon gristle
carcass haunch loin chop steak roast shank brisket rib flank belly offal
butcher slaughterer meatmonger abattoir shamble block slab counter stall shop
blood gore viscera entrail organ liver heart kidney tongue brain tripe
boar venison mutton beef pork fowl game rabbit pheasant drake wyvern
cut joint fillet strip medallion cube mince grind pound tenderize drain
apron glove whetstone grindstone scale weight ledger parchment receipt coin
fly maggot rot spoilage stench reek miasma contamination disease plague fever

Dairying
milk butter cheese curd whey yogurt kefir buttermilk clabber rennet
cow goat sheep yak buffalo mare camel auroch unicorn griffin
churn paddle vat cauldron press mold cloth cheesecloth strainer ladle bucket
dairy barn pasture meadow field stable stall pen trough manger haystack
dairymaid milkmaid cheesemaker buttermaker herdsman shepherd cowhand farmhand yeoman tenant
udder teat pail stool bench shelf cave cellar spring well water
salt herb spice culture starter ferment age ripen mature rind
wheel round wedge block pat ball dollop cream pitcher jug flask

Cooking
pot pan kettle cauldron skillet griddle spit roaster oven hearth fire
stew soup broth porridge pottage ragout fricassee hash pie tart dumpling
cook chef scullion kitchenhand saucier poissonier rotisseur commis souschef steward
kitchen larder pantry scullery buttery spicery stillroom refectory hall tavern inn
ladle spoon fork knife plate bowl trencher goblet chalice flagon tankard
salt pepper spice herb garlic onion leek carrot turnip parsnip cabbage
flame ember coal wood smoke steam simmer boil roast bake broil
grease lard tallow oil vinegar honey sugar molasses syrup sauce gravy

Baking & Pastry
flour wheat rye barley oat spelt grain mill windmill watermill
dough yeast leaven sourdough starter proof rise knead fold shape form
oven hearth brick stone fire coal wood ash temperature heat draft
bread loaf roll bun baguette boule batard focaccia flatbread hardtack waybread
pie tart pastry cake torte gateau biscuit cookie wafer cracker scone
baker pastrycook confectioner apprentice journeyman master guildsman artisan tradesman merchant
peel paddle tray sheet pan mold tin cutter stamp seal
crust crumb glaze icing frosting fondant marzipan sugar honey jam preserve

Fermentation & Distillation
barrel cask keg tun vat vessel amphora jug flask gourd
brewery distillery alehouse tavern inn cellar vault cave grotto chamber storage
brewer vintner distiller maltster cooper cellarer tapster publican innkeeper barkeep
grain barley wheat rye hop vine grape apple pear plum berry
malt mash wort must juice pulp pomace lees dregs sediment yeast
beer ale stout porter lager mead wine brandy whiskey rum vodka
still alembic retort coil condenser furnace fire heat vapor spirit alcohol
ferment age mature rack decant filter strain bottle cork seal wax

Preservation
salt brine vinegar sugar honey smoke ash lime lye nitrate alum
jar crock pot amphora barrel cask box chest cellar larder pantry
preserver curer smoker pickler salter dryer keeper steward provisioner quartermaster
smokehouse dryhouse salthouse icehouse rootcellar springhouse coldroom chamber vault cave
ham bacon jerky pemmican sausage confit pickle sauerkraut kimchi chutney relish
fish meat vegetable fruit herb root tuber bulb seed nut grain
mold rot spoilage decay ferment rancid sour putrid maggot weevil moth
summer winter harvest feast famine siege journey voyage expedition campaign stores

Refined Palate
tongue palate nose eye touch taste smell sight texture flavor aroma
sommelier taster critic gourmet epicure gourmand connoisseur steward butler chamberlain
sweet sour bitter salt umami astringent pungent spicy mild bland sharp
vintage terroir bouquet body finish note hint trace essence character quality
wine beer spirit liqueur cordial tisane tea coffee chocolate spice herb
feast banquet symposium salon court manor palace guild hall tavern inn
crystal goblet chalice flute snifter decanter carafe pitcher ewer basin bowl
delicacy rarity treasure import exotic foreign domestic local seasonal fresh preserved

Provisions
pantry larder kitchen cellar storehouse granary silo warehouse depot magazine
steward cook chef butler provisioner quartermaster purveyor victualer sutler chandler
famine harvest plenty scarcity abundance dearth surplus deficit ration portion
sustenance nourishment fare victual viand comestible foodstuff provender fodder feed supply
market fair bazaar stall shop emporium guild charter license permit warrant
meal breakfast dinner supper luncheon tea feast banquet symposium reception collation
recipe formula instruction tradition secret method technique craft art skill trade
table board trencher plate bowl cup goblet chalice flagon tankard pitcher
spoon fork knife ladle tong skewer spit griddle pan pot kettle cauldron
ingredient component element material substance resource staple luxury delicacy specialty rarity

Forgery
quill ink seal wax press stamp parchment vellum stylus blade chisel graver burnisher
paper pigment goldleaf silver copper lead iron dye resin gum lacquer vermillion ochre
duplicate fake copy replica counterfeit imitation reproduction facsimile mockup simulacrum
forger scribe counterfeiter artist calligrapher engraver copyist falsifier fabricator
scriptorium workshop den chamber vault atelier library archive
watermark signature script glyph cipher sigil crest emblem flourish ligature serif stroke
detection scrutiny expert magistrate inspector authenticator verifier examiner
deception fraud sham hoax artifice falsity pretense imposture

Misdirection
mirror smoke flash powder cloak veil curtain screen shroud mask prism crystal orb
distraction diversion feint ruse decoy lure bait trap snare gambit ploy stratagem
illusion phantom mirage apparition specter shade shadow reflection
illusionist trickster charlatan performer conjurer mountebank prestidigitator
stage street court market plaza amphitheater carnival fairground
sleight dazzle glitter shimmer sparkle flicker gleam glare blur haze mist fog
confusion bewilderment mistake error blunder misapprehension delusion
deception trick facade guise semblance appearance pretense dissemblance

Scene Scrubbing
cloth brush solvent sand ash lime lye soda pumice scraper file rasp plane
erasure removal elimination obliteration expungement deletion effacement
acid alkali soap water oil vinegar spirit ammonia borax saltpeter naphtha turpentine
void absence blank gap emptiness vacuum nullity nothingness oblivion
chamber alley cellar attic courtyard sewer tunnel crypt catacomb
cleaner sweeper sanitizer purger eraser remover scourer
stain mark trace residue evidence vestige remnant imprint impression footprint fingerprint spoor
purge wipe vanish disappearance extinction annihilation eradication

Cover Stories
alibi tale narrative account chronicle story report version explanation justification pretext excuse
journal ledger witness testimony record affidavit deposition statement declaration
storyteller bard liar accomplice confederate collaborator conspirator corroborator
belief trust acceptance credibility faith confidence conviction persuasion
tavern court guild manor inn parlor salon drawing room council
contradiction gap flaw inconsistency discrepancy anomaly incongruity paradox
fiction myth legend fabrication invention concoction falsehood untruth

Obfuscation
veil mask hood cowl mantle disguise costume makeup prosthetic wig beard padding
shadow darkness obscurity murk gloom twilight dusk dimness shade umbra penumbra eclipse
concealment secrecy privacy anonymity incognito pseudonym alias moniker cipher code cant argot
spy infiltrator agent operative mole plant insider informant double
hideout safehouse refuge sanctuary haven lair den nest warren burrow cache stash
camouflage mimicry blend merger fusion assimilation integration
mystery enigma puzzle riddle conundrum paradox ambiguity uncertainty vagueness opacity
invisibility stealth subtlety discretion tact finesse delicacy nuance

Cartography
map chart atlas scroll parchment vellum ink quill compass ruler scale grid projection legend key symbol contour elevation coastline border boundary realm kingdom province shire duchy barony fief territory domain frontier wilderness cartographer scribe librarian archivist guild hall scriptorium observatory study chamber vault archive collection codex manuscript folio tome grimoire survey measurement latitude longitude coordinate meridian parallel equator pole hemisphere continent island archipelago peninsula strait bay gulf ocean sea lake river mountain valley desert forest marsh swamp tundra steppe savanna jungle glacier fjord canyon gorge plateau mesa hill ridge peak summit pass trail road highway bridge ford port harbor lighthouse beacon tower castle keep fortress citadel ruin monument landmark obelisk stone cairn waymark signpost

Star Guiding
star constellation zodiac planet moon sun comet meteor aurora borealis north pole celestial sphere horizon zenith nadir equinox solstice eclipse phase crescent gibbous waxing waning orbit trajectory astrolabe sextant quadrant armillary orrery ephemeris almanac observatory tower spire pinnacle balcony parapet telescope lens mirror crystal orb globe navigator astronomer sage scholar mage wizard sorcerer prophet seer oracle diviner sky heaven firmament void cosmos universe galaxy nebula cluster supernova pulsar quasar darkness light twilight dawn dusk midnight noon shadow sundial gnomon obelisk stone circle henge alignment megalith dolmen menhir cromlech sanctuary temple shrine altar

Pathfinding
trail track spoor print footprint hoofprint scat droppings fur feather scale moss lichen fungus mushroom bark leaf branch twig stone pebble boulder outcrop cliff ledge cave cavern grotto hollow den burrow nest roost perch game deer path wolf run bear migration route watering hole salt feeding ground bedding area territory boundary scent rub scrape wallow dust bath mineral spring creek brook stream ford rapids waterfall pool eddy current wind direction pheromone musk gland secretion urine feces pellet casting regurgitation kill site cache midden heap pile scatter pattern disturbance sign signal clue hint evidence indicator beacon blaze notch carving symbol rune glyph pictograph petroglyph

Route Planning
journey voyage expedition trek pilgrimage crusade quest mission campaign march parade procession caravan convoy fleet armada squadron battalion regiment company troop band party group contingent escort guard patrol scout vanguard rearguard flank wing center reserve supply train baggage wagon cart sled sledge pack mule donkey horse ox camel elephant mammoth griffin wyvern drake provision ration water wine ale mead bread hardtack biscuit jerky pemmican salt sugar spice herb medicine bandage poultice salve ointment tonic elixir potion antidote remedy cure balm tent pavilion bedroll blanket cloak mantle cape hood boot sandal shoe staff pole rod stake rope cord twine thread needle awl knife dagger sword spear bow arrow quiver shield helm armor mail plate leather hide fur pelt wool linen silk cotton canvas oilcloth tarp

Navigation
compass astrolabe sextant quadrant telescope spyglass lens mirror prism crystal orb globe map chart atlas scroll parchment vellum codex tome grimoire almanac ephemeris manual handbook journal log diary record chronicle account ledger register roster manifest inventory list catalog index directory gazetteer pilot navigator cartographer astronomer geographer surveyor scout ranger tracker hunter guide pathfinder wayfinder trailblazer pioneer explorer adventurer wanderer traveler pilgrim merchant trader courier messenger herald ambassador envoy diplomat north south east west bearing heading course direction azimuth vector angle degree minute second knot league mile furlong yard fathom pace step stride landmark beacon lighthouse tower spire pinnacle peak summit ridge valley pass ford bridge port harbor dock wharf pier jetty quay anchorage mooring berth slip haven refuge sanctuary shelter waystation inn tavern hostel lodge cabin hut shack camp bivouac

Polyglot
lexicon phrasebook primer atlas chart compendium handbook guide
ambassador envoy diplomat interpreter courier herald emissary messenger scholar traveler pilgrim merchant
fluency mastery gift talent ear aptitude facility knack proficiency expertise virtuosity
embassy court academy bazaar port marketplace inn tavern crossroad caravan dock wharf
tongue babel pentecost cosmopolitan polymath worldliness sophistication
accent barrier confusion babble miscommunication gap divide
comprehension rapport connection bridge understanding bond link network alliance trade
language speech dialect idiom vernacular patois argot cant jargon lingo parlance

Translation
dictionary codex scroll manuscript tablet stylus quill inkwell seal stamp emblem sigil
scribe translator interpreter clerk copyist amanuensis calligrapher notary
conversion rendering interpretation transcription adaptation transposition transformation transmutation
parchment vellum ink papyrus wax clay stone brass copper silver gold
scriptorium library archive chancery bureau office chamber study sanctum atelier workshop
gloss cognate equivalence fidelity accuracy precision clarity correspondence parallel analogue metaphor
ambiguity nuance idiom context subtlety connotation denotation implication inference meaning sense

Ancient Languages
stone tablet rune glyph hieroglyph cuneiform obelisk stele monolith pillar column sarcophagus
cipher key codex grimoire tome folio compendium palimpsest fragment shard relic artifact
archaeologist antiquarian sage historian mystic oracle seer prophet hermit keeper guardian curator
ruin tomb crypt temple pyramid ziggurat catacomb necropolis shrine sanctuary sanctum vault
extinction revival reconstruction etymology genesis origin source root ancestor precursor prototype archetype
elder primordial forgotten lost dead extinct vanished buried hidden secret occult esoteric arcane mystical

Grammar
syntax morphology clause tense conjugation declension case mood voice aspect particle article preposition conjunction
primer textbook manual treatise guide handbook reference grammar lexicon anthology compilation
grammarian pedant teacher tutor professor master scholar academician purist prescriptivist descriptivist
rule structure pattern logic system framework paradigm model schema formula template blueprint
exception irregularity ambiguity anomaly deviation variant mutation evolution change drift shift transformation
noun verb adjective adverb pronoun determiner inflection affix prefix suffix root stem base morpheme phoneme

Dialects
patois argot cant jargon pidgin creole vernacular slang colloquialism localism regionalism provincialism
province hamlet borough quarter district neighborhood community village town city region territory domain
local native commoner peasant villager townsman burgher citizen denizen inhabitant resident dweller
saying proverb idiom expression phrase motto maxim adage aphorism axiom truism wisdom folklore
variation divergence drift evolution change mutation adaptation modification alteration transformation shift
accent brogue twang drawl lilt cadence rhythm intonation stress emphasis pronunciation articulation enunciation diction

Linguistics
language tongue speech word utterance communication discourse dialogue conversation talk parlance
lexicon dictionary alphabet script symbol character letter glyph rune sigil mark sign cipher code
linguist philologist polymath scholar sage academic professor teacher student apprentice master doctor expert specialist
meaning semantics expression articulation signification denotation connotation implication inference interpretation understanding
academy library university tower college institute school lyceum athenaeum museum archive repository collection
babel logos verbum lingua glossa lexis glossary vocabulary terminology nomenclature taxonomy classification system
voice sound phoneme tone pitch timbre resonance vibration frequency modulation inflection intonation prosody rhythm
incantation spell charm enchantment invocation evocation formula verse stanza couplet rhyme meter poetry prose rhetoric eloquence oratory

Training
dummy target sword shield spear staff bow armor weight rope chain sandbag 
yard arena barracks field ground pit ring stable courtyard garrison
muscle reflex stance form technique speed strength endurance stamina agility balance precision
drill repetition exercise practice regimen routine discipline schedule
instructor sergeant master trainer coach veteran champion
sweat callus bruise scar fatigue exhaustion plateau injury strain
leather wood straw sand iron steel bronze
command shout order correction demonstration example

Tutoring
tome scroll quill ink chalk slate tablet map globe armillary codex manuscript folio
library study tower archive scriptorium observatory atrium chamber sanctum alcove
theorem principle axiom formula equation proof logic rhetoric philosophy history chronology cosmology etymology alchemy astronomy
scholar sage tutor scribe academician philosopher historian chronicler
wisdom insight knowledge understanding comprehension enlightenment revelation epiphany
parchment vellum papyrus wax candle lamp oil
rune glyph symbol cipher hieroglyph notation annotation marginalia
question answer riddle paradox enigma mystery

Mentorship
path journey growth potential destiny calling purpose vision quest pilgrimage
protege apprentice disciple student pupil ward charge successor heir
mentor guide counselor advisor patron sponsor guardian elder
wisdom character virtue confidence maturity perspective judgment intuition
journal letter correspondence memoir testament legacy inheritance tradition
year decade lifetime generation epoch era age cycle season
doubt crisis crossroad trial tribulation challenge threshold transformation
bond trust respect loyalty devotion dedication commitment oath vow

Curriculum Design
syllabus schedule chart diagram outline blueprint schema framework matrix grid
sequence progression module tier level stage phase step milestone benchmark
lesson course program track pathway strand thread unit chapter section
prerequisite foundation cornerstone capstone bridge gap overlap redundancy
designer architect planner strategist coordinator administrator dean
structure system method approach pedagogy taxonomy hierarchy scaffold
assessment evaluation rubric standard criterion objective outcome goal competency

Pedagogy
classroom hall auditorium podium lectern desk bench slate board easel
teacher professor master instructor educator pedagogue preceptor don rector
student pupil scholar apprentice novice initiate neophyte acolyte disciple
lesson lecture seminar tutorial workshop symposium colloquium discourse dialogue
knowledge wisdom skill craft art subject matter expertise specialty
book text primer manual guide compendium encyclopedia lexicon treatise
method technique approach strategy tactic style philosophy school tradition doctrine
learning education instruction tutelage guidance cultivation development formation enlightenment
question answer problem solution example demonstration practice theory application
curriculum syllabus program course study discipline field domain sphere

Architecture
stone marble granite limestone sandstone basalt slate quartzite alabaster mortar cement plaster brick timber beam column pillar arch vault dome spire
cathedral palace fortress citadel temple monastery tower keep gatehouse parapet battlement rampart barbican
foundation cornerstone keystone lintel buttress flying-buttress cornice frieze pediment capital architrave entablature
compass square plumb level chisel trowel scaffold crane pulley winch
architect mason builder stonemason carpenter glazier
blueprint plan elevation section facade symmetry proportion balance harmony
crack settlement collapse subsidence weathering erosion

Clockwork
gear cog wheel spring mainspring hairspring pendulum escapement balance jewel pivot arbor barrel ratchet pawl pinion shaft cam lever detent
brass bronze steel copper silver gold ruby sapphire oil grease
clock watch chronometer automaton mechanism trap lock timer sundial astrolabe orrery
workshop forge bench anvil lathe file drill vise
clockmaker horologist artificer mechanician jeweler
movement complication oscillation calibration precision timing beat frequency amplitude
tick tock click whir chime bell gong
friction wear jam seizure rust corrosion misalignment

Civil Engineering
bridge arch span pier abutment causeway viaduct aqueduct canal lock dam weir embankment tunnel bore shaft
road highway thoroughfare pavement cobblestone milestone crossroad junction
concrete asphalt gravel sand aggregate reinforcement rebar mortar lime clay
theodolite chain rod stake transit level shovel pick mattock wheelbarrow
engineer surveyor navvy foreman contractor mason
gradient bearing elevation contour survey foundation footing pile caisson cantilever truss suspension
erosion subsidence flood scour settlement fatigue crack pothole washout

Hydraulics
pump valve piston cylinder plunger ram siphon bellows turbine waterwheel nozzle jet sprinkler manifold gauge
pipe conduit duct channel flume penstock spillway sluice gate weir overflow
fountain cascade pool reservoir cistern tank aqueduct waterworks mill press lift crane
seal gasket packing ring diaphragm membrane cork leather rubber
hydraulician millwright plumber pipefitter engineer
pressure head flow discharge velocity turbulence cavitation hammer surge backflow
leak burst rupture blockage clog freeze corrosion scale deposit sediment

Engineering
design construction invention innovation system mechanism device apparatus contraption engine machine installation infrastructure framework structure
calculation mathematics geometry trigonometry physics mechanic dynamic static load stress strain force torque moment leverage ratio efficiency
protractor caliper ruler abacus astrolabe sextant theodolite compass divider
alloy composite material compound mixture amalgam substrate matrix fiber
engineer inventor scholar architect designer builder maker wright smith artificer mechanist
blueprint schematic diagram plan specification manual treatise codex patent
precision accuracy tolerance calibration measurement standard gauge scale unit dimension
failure collapse overload fatigue fracture deformation buckling shear compression tension torsion
workshop laboratory forge foundry mill factory plant facility yard site
improvement optimization solution problem challenge obstacle constraint limitation requirement

Lapidary Arts
ruby emerald sapphire diamond topaz amethyst opal garnet pearl moonstone sunstone bloodstone
gold silver platinum mithril adamantine electrum copper bronze
ring crown amulet brooch pendant tiara bracelet necklace earring scepter orb signet medallion torc
chisel hammer loupe wheel vice file buffer graver burnisher anvil tong crucible
facet pavilion girdle culet inclusion carat clarity brilliance fire luster
jeweler goldsmith gemcutter lapidary silversmith engraver setter
workshop forge vault treasury atelier bench safe coffer
bezel prong channel pave filigree inlay enamel cloisonne granulation repouss
cut polish grind drill pierce solder cast mount set
dragon phoenix unicorn griffin basilisk crystal shard essence dust

Calligraphy
quill nib pen brush inkwell parchment vellum papyrus scroll codex manuscript grimoire tome charter deed
ink pigment gold silver leaf vermillion lampblack cinnabar indigo ochre verdigris
serif flourish ascender descender ligature majuscule minuscule uncial blackletter italic cursive
scribe illuminator copyist scholar monk clerk notary herald
scriptorium library monastery chancellery archive academy tower sanctum
rune glyph sigil ward seal emblem crest monogram cipher hieroglyph ideogram
letter word verse stanza margin border initial capital folio page
line stroke curve loop spiral swirl tail crossbar
stylus reed knife scraper pumice ruler compass

Painting
brush palette knife easel canvas panel fresco pigment medium varnish solvent turpentine
oil tempera watercolor gouache encaustic egg yolk gesso primer
portrait landscape still life miniature mural altarpiece icon triptych diptych illumination
painter master apprentice muralist portraitist limner miniaturist
studio atelier gallery salon academy workshop bottega patronage commission
chiaroscuro impasto glaze scumble sfumato perspective foreshortening composition value hue saturation
ultramarine vermillion ochre sienna umber cadmium cobalt titanium malachite azurite cinnabar lapis
dragon phoenix unicorn angel demon saint hero myth legend allegory
stroke layer wash blend stipple dab

Sculpture
chisel mallet hammer rasp file gouge drill point claw pitching
marble granite limestone alabaster bronze copper clay wax plaster wood ivory bone jade obsidian
statue bust relief monument effigy gargoyle grotesque fountain column capital frieze pediment
sculptor carver modeler caster founder mason stonecutter
quarry foundry kiln studio workshop yard atelier forge
armature maquette model cast mold patina verdigris oxidation
figure torso limb drapery fold texture surface finish polish
golem automaton colossus titan guardian sentinel ward totem idol fetish
block slab ingot powder dust chip fragment core

Artistry
aesthetic vision creation expression imagination inspiration muse talent genius craft mastery
work piece opus masterpiece commission patron guild academy exhibition collection portfolio legacy
style technique method approach school movement tradition innovation originality authenticity
form line shape color texture pattern rhythm balance harmony contrast proportion scale symmetry
studio workshop atelier gallery museum vault archive salon
artist artisan master apprentice virtuoso prodigy creator maker designer craftsman
tool material medium substrate surface finish varnish frame mount display preservation
sketch study draft plan design composition arrangement motif theme subject allegory symbol metaphor
soul spirit essence meaning message story narrative myth legend truth beauty
eye hand mind heart discipline practice dedication passion obsession perfection flaw mistake discovery

First Aid
bandage tourniquet splint gauze compress poultice salve balm cloth linen
wound gash cut laceration bruise burn bleed hemorrhage shock trauma
triage stabilization treatment remedy relief recovery respite succor aid help
pressure binding wrap dressing suture thread needle scissors knife blade
field tent camp battlefield infirmary station post alcove nook chamber
medic healer samaritan rescuer helper attendant nurse orderly assistant acolyte
pulse breath consciousness vitality vigor life force spirit essence spark
pain agony suffering torment ache throb sting smart pang twinge

Hygiene
soap lye ash salt vinegar alcohol spirit wine herb mint lavender
cleanliness purity sanctity health wellness vigor vitality freshness clarity virtue
wash bath ablution rinse scrub soak steep purge cleanse purification
basin tub bucket pail vessel ewer pitcher jug cloth rag
bathhouse fountain spring well stream pool chamber privy latrine garderobe
washer launderer attendant servant valet chambermaid custodian keeper warden steward
miasma rot decay filth grime dirt dust muck squalor stench
plague pestilence contagion disease malady affliction blight curse taint corruption

Surgery
scalpel blade knife lancet saw drill probe forceps clamp retractor
incision cut opening wound cavity lesion tumor growth cyst abscess
operation procedure intervention excision removal extraction repair graft transplant suture
table slab bench chair restraint strap leather rope cord twine
theater chamber hall room vault crypt cellar dungeon sanctum laboratory
surgeon cutter barber physician doctor master practitioner expert specialist artist
blood pus bile fluid humor essence ichor lymph marrow sinew
infection sepsis gangrene necrosis fever inflammation swelling suppuration complication death

Diagnostics
lens glass mirror scale balance thermometer pendulum rod crystal orb
symptom sign mark indication manifestation evidence clue hint trace pattern
examination inspection observation scrutiny investigation inquiry probe analysis assessment verdict
chart record scroll parchment tome ledger journal log register codex
study chamber office library archive vault repository sanctum tower laboratory
diagnostician examiner inspector investigator scholar sage expert specialist master detective
pulse temperature color odor texture consistency rhythm beat flow rate
mystery puzzle riddle enigma conundrum ailment malady sickness poison curse

Pharmacology
mortar pestle vial bottle flask jar pot cauldron crucible alembic
herb root leaf flower seed bark resin sap powder extract
compound mixture tincture elixir potion draught remedy cure antidote medicine
shelf cabinet drawer chest box crate barrel keg sack pouch
apothecary shop laboratory garden greenhouse conservatory stillroom workroom cellar vault
herbalist alchemist botanist mixer compounder druggist merchant dealer supplier
dose measure grain dram ounce pound spoon drop pinch dash
poison toxin venom bane contamination overdose reaction allergy sensitivity intolerance

Physiology
chart diagram model skeleton skull bone organ tissue muscle nerve
heart lung liver kidney stomach brain eye ear tongue skin
function mechanism process system cycle rhythm flow circulation respiration digestion
tome manuscript treatise codex scroll tablet text manual guide reference
academy library university college hall tower sanctum laboratory classroom amphitheater
anatomist scholar physician naturalist philosopher sage professor teacher master expert
humor blood bile phlegm choler essence spirit vitality force energy
imbalance disorder dysfunction malfunction failure weakness deficiency excess blockage stagnation

Medicine
instrument tool implement device apparatus contraption mechanism equipment gear kit
healing restoration recovery renewal regeneration mending repair cure remedy salvation
practice art science craft discipline study knowledge wisdom lore tradition
hospital infirmary clinic hospice sanctuary temple shrine abbey monastery ward
physician doctor healer practitioner master expert sage scholar professor teacher
theory principle doctrine dogma philosophy approach method technique procedure protocol
disease illness sickness malady ailment affliction plague pestilence curse blight
treatment therapy intervention care ministration service attendance help aid succor
patient victim sufferer invalid casualty case subject charge client

Battlefield Tactics
terrain formation maneuver flank ambush feint charge retreat withdrawal rout rally pincer envelopment vanguard rearguard cavalry infantry archer pike spear shield wall phalanx wedge square line column ravine hill valley ridge forest marsh ford choke bluff cover concealment momentum initiative tempo cadence signal horn banner standard flag pennant drum trumpet scout skirmisher veteran captain sergeant corporal footman knight champion

Logistics  
supply wagon cart caravan mule ox horse depot warehouse stockpile cache storehouse granary armory forge smithy quartermaster clerk scribe ledger manifest inventory ration fodder ammunition arrow bolt javelin provision water barrel cask sack crate chest coffer route road path trail bridge crossing waystation camp outpost relay courier messenger dispatch runner porter teamster drover merchant supplier contractor requisition allocation distribution quota

Siegecraft
siege tower ram catapult trebuchet ballista mangonel onager ladder grapple hook sapper mine tunnel breach wall gate portcullis barbican battlement merlon crenel parapet rampart bastion citadel keep donjon moat drawbridge bailey ward gatehouse murder-hole machicolation hoard gallery postern sally escalade bombardment investment circumvallation contravallation redoubt earthwork palisade stake ditch trench gabion fascine mantlet pavise engineer architect mason carpenter smith

Management
hierarchy structure chain command delegation authority responsibility accountability roster schedule shift rotation assignment task duty obligation protocol procedure standard guideline regulation statute ordinance decree edict mandate charter license permit seal stamp signet emblem insignia badge rank title position post office bureau department division section unit team squad crew staff personnel workforce labor guild union confederation federation alliance coalition consortium syndicate council committee board panel assembly

Risk Assessment
hazard danger peril threat menace jeopardy exposure vulnerability weakness liability flaw defect gap breach opening opportunity advantage benefit gain profit reward prize bounty odds chance probability likelihood certainty uncertainty doubt hesitation caution prudence discretion vigilance wariness alertness readiness preparation contingency alternative backup reserve failsafe safeguard precaution measure countermeasure mitigation remedy solution answer response reaction adaptation adjustment modification revision

Strategy & Tactics
strategy tactic plan scheme design blueprint map chart diagram model simulation gambit ploy stratagem ruse deception feint diversion distraction misdirection intelligence reconnaissance surveillance espionage spy informant asset source network web connection link node hub center nexus fulcrum pivot leverage advantage edge superiority dominance control influence power force strength weakness vulnerability exploitation counter response adaptation flexibility agility mobility speed timing coordination synchronization harmony unity cohesion discipline morale spirit will determination resolve persistence endurance stamina resource capability capacity potential limitation constraint obstacle barrier impediment challenge difficulty complication factor variable element component piece unit whole system framework structure pattern trend tendency inclination disposition temperament character nature essence principle doctrine philosophy approach method technique procedure process operation campaign battle engagement skirmish clash encounter confrontation conflict war warfare combat arms weapon tool instrument device mechanism apparatus equipment gear kit supply material commodity good item article object thing entity

Deductive Reasoning
premise conclusion theorem axiom proof principle law postulate corollary lemma
compass ruler abacus ledger chart scale diagram formula equation derivation
syllogism fallacy paradox contradiction tautology inference implication consequence validity soundness
parchment ink quill tome manuscript treatise codex scroll papyrus vellum
library study academy lyceum athenaeum tower sanctum chamber hall auditorium
logician philosopher scholar sage savant master doctor professor tutor mentor
deduction logic reason certainty truth fact evidence demonstration argument proposition
symbol glyph notation mark sign rune cipher sigil emblem seal

Inductive Reasoning
observation hypothesis theory pattern trend model framework paradigm archetype template
journal telescope magnifier lens specimen sample example instance case study
correlation probability likelihood tendency frequency occurrence regularity anomaly outlier exception
laboratory observatory workshop atelier studio gallery museum collection archive catalog
naturalist alchemist sage researcher investigator analyst chronicler recorder surveyor cartographer
induction generalization extrapolation projection prediction forecast estimation approximation assumption speculation
data evidence record measurement finding discovery revelation insight epiphany breakthrough
phenomenon event circumstance condition situation context factor variable element component

Pattern Recognition
sequence rhythm cycle repetition motif design configuration arrangement order structure
codex chart grid tapestry mosaic mandala constellation map calendar astrolabe
pattern template blueprint schema matrix lattice web network system formation
balance harmony proportion ratio frequency interval wavelength oscillation vibration
archive vault repository crypt catacomb labyrinth nexus node junction intersection
seer oracle diviner prophet mystic visionary augur soothsayer astrologer numerologist
recognition identification detection perception intuition foresight prescience clairvoyance premonition prophecy
fractal spiral helix tessellation recursion iteration echo mirror reflection symmetry
chaos entropy randomness noise static interference distortion aberration deviation variance
omen portent sign signal marker indicator herald harbinger precursor warning

Puzzle Solving
solution answer key breakthrough revelation discovery resolution outcome result conclusion
lockpick gear lever pulley spring cog wheel mechanism device contraption
puzzle riddle enigma conundrum mystery problem challenge obstacle barrier impediment
maze labyrinth dungeon vault chamber trap snare pitfall deadlock blockade
riddler locksmith engineer artificer tinker inventor mechanist craftsman architect builder
ingenuity wit cleverness cunning brilliance genius insight acumen intellect wisdom
combination sequence code password phrase clue hint suggestion lead trail
complexity intricacy difficulty obscurity ambiguity uncertainty confusion perplexity bewilderment frustration
triumph victory success achievement accomplishment feat mastery expertise proficiency skill

Cryptography
cipher code key substitution transposition encryption decryption translation interpretation
codebook wheel grill stencil mask template guide manual reference dictionary
message secret intelligence dispatch communication correspondence missive epistle letter note
wax seal stamp signet emblem crest insignia mark brand watermark
scriptorium chancery embassy bureau office vault archive stronghold fortress citadel
cryptographer spy scribe decoder translator linguist analyst expert specialist agent
stenography steganography obfuscation concealment disguise camouflage veil shroud cloak cover
scramble jumble confusion chaos disorder disarray muddle mess tangle knot
secrecy privacy confidentiality discretion silence mystery enigma riddle puzzle intrigue
symbol glyph rune hieroglyph ideogram pictogram character script alphabet language

Analysis & Logic
mind intellect reason cognition comprehension understanding wisdom knowledge enlightenment
analysis synthesis evaluation assessment examination investigation inquiry research study exploration
logic rationale reasoning deduction induction inference conclusion judgment decision determination
technique approach strategy process procedure protocol algorithm formula
tool instrument apparatus device implement equipment machinery technology artifact relic
problem question query dilemma issue matter concern challenge difficulty complication
solution answer resolution explanation clarification interpretation elucidation illumination revelation insight
academy university college school institute laboratory observatory library archive museum
scholar sage philosopher mathematician logician analyst researcher investigator detective inquisitor
principle rule law theorem axiom postulate hypothesis theory paradigm model
abstraction concept idea notion construct framework structure pattern
precision accuracy exactitude rigor discipline order organization arrangement classification

Forensics
lens glass vial brush tweezer kit pouch scale compass gauge needle pin
proof trace residue print mark sign clue lead pattern sample specimen fragment shard
dust ash fiber hair blood oil wax resin powder grain spore pollen
scene chamber alley laboratory workshop cellar attic courtyard tower crypt
examiner analyst specialist expert
stain smudge scrape streak splatter droplet particle flake chip scratch dent impression
contamination decay erosion weathering oxidation
magnification preservation collection documentation

Interviewing
quill parchment mirror chair table shackle rope torch candle hourglass bell
truth lie confession admission testimony statement deposition account report narrative oath pledge
parlor office cell tavern chamber hall alcove booth gallery balcony
interrogator inquisitor questioner examiner
witness suspect alibi motive intent purpose reason cause
fear trust rapport pressure leverage authority intimidation persuasion charm bluff threat bribe
gesture tone posture expression demeanor bearing
deception evasion omission contradiction

Archive Delving
lamp candle ladder key bookmark index ruler seal stamp inkwell
tome scroll codex manuscript ledger folio volume chronicle journal register record decree
archive library vault repository scriptorium sanctum catacomb monastery abbey tower
archivist scribe librarian scholar curator keeper chronicler
discovery revelation citation reference annotation footnote margin gloss
dust moth mold mildew rot decay fungus silverfish
catalog registry annals bibliography concordance compendium almanac gazette
cipher code rune glyph symbol sigil hieroglyph

Information Brokering
coin purse cipher code seal token badge amulet
informant spy contact source asset mole agent operative liaison courier messenger pigeon raven
safehouse den backroom hideout tavern alley dock market bazaar wharf
rumor whisper secret leak tip gossip hearsay intelligence news dispatch bulletin
network web chain circle guild faction cabal syndicate
handler drop signal channel relay cache dead-drop
betrayal compromise exposure blackmail extortion bribery corruption
password phrase knock sign countersign

Counter-forgery
scale loupe stamp die press mold chisel graver burnisher
ink wax seal watermark parchment vellum paper gold silver copper alloy
fake forgery counterfeit copy replica imitation duplicate facsimile
authentication verification validation certification appraisal evaluation
forger authenticator appraiser expert examiner minter engraver
signature sigil hallmark mint crest emblem monogram cartouche blazon
deception fraud swindle hoax trick ruse con
genuine original authentic legitimate true false spurious bogus

Investigation
notebook map compass spyglass lantern rope lock pick dagger cloak hood mask disguise
search hunt pursuit quest probe inquiry study research examination scrutiny analysis survey
mystery enigma puzzle riddle conundrum problem case matter affair incident occurrence
detective investigator sleuth seeker finder tracker hunter scout ranger spy
discovery solution answer resolution conclusion finding result outcome revelation breakthrough
evidence proof witness testimony clue lead trail track trace sign hint indication
suspect culprit perpetrator criminal mastermind accomplice victim target
motive means opportunity alibi timeline sequence pattern connection link relation
deduction reasoning logic intuition hunch instinct observation perception insight
conspiracy plot scheme intrigue machination design plan

Introspection
mirror journal diary quill ink parchment candle cushion mat crystal orb
reflection examination analysis contemplation observation scrutiny inquiry
truth clarity insight revelation epiphany understanding awareness knowledge wisdom discovery
self soul psyche mind thought bias prejudice assumption belief pattern ego id shadow anima persona essence core
chamber sanctum cell tower library study attic alcove cloister retreat
sage philosopher scholar monk hermit oracle mystic contemplative introspector
conscience virtue flaw weakness strength delusion illusion deception blindness
silence solitude stillness whisper echo
memory past trauma wound scar secret shame guilt pride fear doubt question paradox

Mana Conservation
crystal focus amulet talisman robe belt circlet staff orb reservoir flask vial
breath rhythm pulse flow tide current stream trickle
efficiency reserve pool well fountain spring source storage capacity endurance stamina
mana aether essence energy chi prana flux ether quintessence vitae force power
sanctum circle node ley nexus convergence altar font shrine
arcanist mystic adept conservator channeler keeper guardian steward preserver
channel conduit container dam valve gate seal lock buffer filter membrane
glow hum vibration warmth coolness tingle spark shimmer radiance
waste leak drain hemorrhage exhaustion depletion burnout fatigue overflow
economy balance harmony equilibrium conservation preservation discipline restraint patience

Occlumency
ward shield barrier wall fortress helm veil mask armor plate aegis buckler rampart bastion
defense protection resistance guard block parry deflection repulsion immunity safeguard bulwark
privacy secrecy sanctuary isolation solitude refuge shelter haven stronghold
mind thought memory secret emotion intention desire fear trauma knowledge psyche consciousness
citadel keep tower vault bunker labyrinth maze
guardian sentinel warden protector defender keeper watchman gatekeeper
probe intrusion assault invasion attack siege penetration infiltration violation trespass
steel iron stone ice diamond adamant obsidian granite marble crystal mirror glass
vulnerability crack fissure weakness opening gap hole backdoor loophole
will resolve discipline fortitude determination resilience strength focus concentration meditation

Oneiromancy
dreamcatcher herb incense pillow bed crystal mirror smoke lotus poppy nightshade valerian
dream nightmare vision prophecy omen portent premonition revelation fantasy illusion mirage phantasm
lucidity control navigation exploration journey quest voyage pilgrimage wandering
sleep trance reverie stupor slumber rest repose dormancy hypnosis coma
dreamscape realm plane dimension void limbo purgatory astral ethereal twilight borderland threshold
dreamer oracle seer prophet visionary somnambulst oneironaut traveler wanderer explorer guide psychopomp
symbol metaphor sign sigil glyph rune cipher code message meaning interpretation
mist fog light color shape form phantom specter wraith echo whisper
confusion terror maze trap labyrinth paradox riddle enigma puzzle mystery chaos disorder
subconscious unconscious psyche soul spirit anima collective archetype

Emotional Regulation
stone anchor weight chain bridle rein leash harness governor throttle brake dam
control restraint balance equilibrium moderation temperance discipline mastery command governance
calm peace serenity stability composure tranquility equanimity poise grace dignity stillness
emotion feeling passion rage fury anger fear terror joy ecstasy sorrow grief love hate envy pride shame guilt
sanctuary refuge haven oasis shelter retreat hermitage cloister monastery temple
stoic master counselor therapist sage mentor guide teacher healer empath
trigger response reaction impulse instinct reflex stimulus provocation catalyst
breath heartbeat pulse rhythm tempo cadence flow tide wave current
chaos storm tempest turmoil turbulence maelstrom whirlwind hurricane tornado cyclone upheaval crisis
reason logic wisdom prudence judgment discernment clarity perspective detachment objectivity mindfulness

Meditation
cushion mat bell chime gong incense candle robe bead mala bowl altar statue icon mandala
focus concentration mindfulness presence attention contemplation observation witness consciousness
clarity peace tranquility enlightenment transcendence nirvana bliss liberation awakening realization illumination satori samadhi
mind spirit soul essence being psyche atman brahman self void emptiness fullness unity
temple grove mountaintop peak summit cave chamber garden sanctuary monastery ashram dojo pagoda stupa
monk master guru teacher lama rinpoche ascetic mystic yogi sage hermit contemplative meditator practitioner adept
mantra mudra asana chakra aura meridian prana kundalini bandha kriya tantra yantra sutra koan
silence stillness breath heartbeat vibration resonance harmony frequency wavelength pulse rhythm
distraction noise chaos thought worry anxiety stress tension agitation restlessness monkey chatter static interference
zen tao karma samsara moksha bodhi prajna sunyata anatta anicca dukkha metta karuna mudita upekkha

Eidetic Recall
eye lens mirror prism crystal orb glass scope magnifier viewer
image picture scene snapshot vision sight detail glimpse view portrait landscape silhouette reflection shadow light color hue shade tint pattern texture surface
observer watcher witness scribe artist painter illuminator sketcher chronicler
gallery archive studio observatory atelier chamber vault
photism afterimage imprint trace impression residue echo phantom
blur fade distortion haze mist fog smudge stain
clarity focus precision accuracy sharpness resolution definition acuity perception

Auditory Memory
bell chime fork conch horn flute drum harp lyre pipe whistle gong cymbal
melody rhythm tone pitch harmony discord echo sound voice whisper song chant hymn verse note cadence beat tempo timbre resonance vibration frequency wave pulse
bard musician listener herald crier minstrel troubadour cantor orator speaker poet
amphitheater hall tower chamber cathedral sanctum conservatory acoustics
noise cacophony silence murmur hum buzz static interference
music language speech dialect accent inflection pronunciation utterance

Sequential Memory
abacus sundial calendar hourglass scroll codex tablet slate chalk quill
pattern sequence chain series progression order step stage phase cycle flow timeline chronicle procedure protocol algorithm formula recipe method technique
clerk scribe choreographer instructor teacher master tutor guide mentor
library scriptorium workshop academy laboratory classroom atrium
gap skip reversal confusion jumble disorder chaos tangle knot
logic continuity structure hierarchy precedence succession arrangement organization

Associative Memory
web net thread chain map diagram tree lattice matrix grid constellation
connection link bridge bond tie relation association correlation parallel analogy metaphor symbol meaning context reference cross synthesis merger fusion junction nexus node
scholar philosopher sage oracle mystic theorist interpreter analyst synthesizer
academy symposium forum council circle gathering conclave
disconnect isolation contradiction paradox divergence split schism rift
unity wholeness integration comprehension understanding insight revelation epiphany

Mental Mapping
compass astrolabe sextant ruler chart plotter divider protractor quadrant
map layout blueprint plan grid route path road maze labyrinth territory domain realm region zone district quarter ward landmark bearing coordinate dimension scale distance direction orientation navigation cartography topology geography
cartographer navigator explorer surveyor scout pathfinder wayfinder guide ranger
tower observatory chartroom archive study den sanctum pinnacle spire
void blank desert wasteland wilderness confusion disorientation
space place position location perspective vantage depth breadth height

Memory
tome grimoire journal diary ledger record annals chronicle manuscript palimpsest tablet monument obelisk rune glyph sigil medallion amulet talisman pendant stone crystal orb sphere mirror pool
recall retention retrieval recollection remembrance reminiscence nostalgia thought mind awareness recognition knowledge wisdom lore tradition heritage legacy archive vault repository cache store hoard collection accumulation
mnemonist remembrancer keeper archivist librarian curator guardian warden sage elder historian chronicler bard storyteller witness
palace temple sanctuary shrine athenaeum museum gallery hall chamber crypt catacomb
amnesia fog void block gap hole lacuna oblivion forgetfulness decay erosion fade dissolution corruption
time past present future moment instant eternity permanence impermanence mortality immortality soul spirit essence identity self consciousness psyche intellect cognition perception

History
chronicle scroll manuscript codex tablet inscription archive record annals genealogy
dynasty empire kingdom realm war conquest rebellion succession lineage heritage
battlefield ruin monument castle fortress citadel palace throne crown scepter
historian chronicler scribe archivist antiquarian archaeologist sage elder ancestor
parchment papyrus stone clay wax seal ink quill velum leather
age era epoch period century millennium dawn twilight rise fall
legacy tradition bloodline house clan ancestry descent origin root
treaty armistice siege battle campaign crusade invasion exodus migration revolution

Customs
law code edict decree charter statute ordinance mandate proclamation constitution
tradition custom rite ritual ceremony protocol etiquette manner courtesy decorum
court hall forum council chamber guild senate parliament assembly tribunal
magistrate judge elder lawgiver herald bailiff clerk notary advocate arbiter
seal badge emblem crest sigil standard banner pennant livery tabard
hierarchy caste rank title nobility gentry commoner serf vassal liege
justice order precedent privilege sanction penalty fine punishment exile banishment
marriage betrothal dowry inheritance succession primogeniture fealty oath vow allegiance

Geography
map chart atlas compass sextant astrolabe quadrant theodolite plumb surveyor
peak mountain valley river coast shore cliff canyon gorge plateau
boundary frontier border territory realm province duchy county shire canton
cartographer explorer navigator pathfinder scout wayfarer pilgrim wanderer
vellum parchment ink brass copper lens crystal glass leather cord
north south east west latitude longitude elevation topography terrain feature
route path road trail passage ford bridge crossing waypoint landmark
continent island archipelago peninsula strait channel bay gulf harbor port

Mythology
altar shrine temple sanctuary grove circle dolmen menhir obelisk ziggurat
deity god goddess pantheon spirit demon angel archon avatar prophet
relic icon amulet talisman fetish totem charm ward sigil glyph
priest oracle mystic cleric monk hermit zealot cultist devotee pilgrim
incense offering sacrifice libation prayer hymn chant mantra invocation benediction
blessing curse miracle omen prophecy vision dream revelation epiphany apotheosis
liturgy doctrine dogma heresy schism sect cult faith creed canon
heaven hell paradise purgatory abyss void limbo underworld afterlife reincarnation

Bestiary
creature beast monster animal prey predator quarry game vermin pest
den lair nest burrow hive warren roost cave grotto hollow
trap snare cage net lure bait scent spoor track trail
hunter tracker ranger warden keeper tamer handler falconer shepherd herdsman
fang claw talon horn tusk scale hide pelt fur feather
pack herd flock swarm brood clutch pride murder colony pod
taxonomy species genus family order phylum kingdom breed strain variety
behavior instinct migration hibernation territory dominance submission hunt stalk ambush

Agriculture
crop harvest yield bounty grain wheat barley corn rye oat
field orchard vineyard grove garden plot terrace greenhouse conservatory arboretum
plow scythe sickle hoe rake spade shovel trowel seed bulb
farmer botanist herbalist gardener vintner orchardist apiarist shepherd rancher yeoman
soil earth loam clay sand fertilizer compost manure mulch water
season cycle rotation graft cultivation irrigation drainage tillage pruning weeding
blight pest drought flood frost hail storm locust beetle aphid
root stem leaf flower fruit vegetable herb spice nut berry

Philosophy
truth logic reason wisdom virtue ethics morality principle axiom postulate
treatise thesis dialogue discourse argument syllogism premise conclusion proof paradox
academy lyceum forum symposium school library tower cloister monastery university
philosopher sage scholar sophist logician ethicist metaphysician epistemologist dialectician rhetorician
quill ink parchment wax tablet scroll codex tome manuscript folio
dialectic rhetoric epistemology metaphysics ontology cosmology theology aesthetics stoicism platonism
theory hypothesis conjecture speculation deduction induction analysis synthesis abstraction contemplation
ideal form essence substance cause effect purpose meaning existence consciousness

Critique
style movement school period renaissance baroque gothic romantic classical impressionist
canvas painting sculpture fresco mural tapestry mosaic relief carving engraving
gallery salon studio museum exhibition collection patronage commission masterpiece forgery
critic patron artist curator collector connoisseur aesthete dilettante artisan craftsman
pigment marble bronze clay gold silver copper ivory jade alabaster
composition perspective proportion balance harmony contrast texture pattern motif theme
aesthetic beauty sublime grotesque kitsch avant-garde traditional contemporary primitive sophisticated
analysis interpretation review commentary appreciation evaluation judgment taste refinement discernment

Lore
knowledge wisdom learning study research inquiry investigation exploration discovery understanding
tome grimoire lexicon encyclopedia compendium anthology chronicle manuscript codex journal
library university scriptorium tower academy lyceum museum archive repository vault
loremaster sage scholar scribe librarian archivist researcher academic professor tutor
book scroll papyrus vellum parchment ink quill pen stylus tablet
fact truth myth legend tale story account record history memory
scholarship erudition education enlightenment illumination revelation comprehension mastery expertise proficiency
mystery riddle puzzle enigma secret arcana esoterica occult hidden forgotten
discipline field domain sphere realm province specialty branch subject topic
tradition heritage legacy culture civilization antiquity

Spell Shaping
lens prism compass stylus matrix grid template frame mold chisel
vector radius trajectory parameter scope arc cone sphere helix spiral beam bolt ray line curve wave
precision focus spread dispersion concentration diffusion expansion contraction compression
crystal quicksilver mercury ether flux mana essence aether
laboratory circle sanctum chamber atelier workshop forge
shaper sculptor architect designer modifier calibrator
geometry mathematics topology dimension angle vertex axis coordinate plane volume distance magnitude scale ratio proportion
shimmer distortion ripple warping bend twist fold stretch
instability drift deviation fluctuation variance oscillation turbulence
form pattern shape contour outline silhouette configuration morphology

Synergistic Casting
catalyst resonator harmonizer amplifier conductor conduit bridge link chain
fusion combination harmony resonance synthesis convergence merger integration unification confluence interaction reaction
amplification cascade multiplication enhancement augmentation crescendo escalation snowball feedback loop
amalgam alloy compound mixture blend composite hybrid solution
nexus intersection crossroad junction node vertex hub
synergist harmonist orchestrator weaver blender mixer combiner
interference frequency wavelength vibration oscillation modulation attunement synchronization phase rhythm tempo beat pulse cycle
symphony chord melody counterpoint fugue canon round
discord dissonance clash conflict opposition contradiction paradox
unity gestalt emergence synergy holism totality

Counter-Spelling
ward shield mirror absorber deflector barrier aegis bulwark rampart bastion
negation dispersion reflection absorption deflection cancellation nullification dissipation dissolution termination cessation interruption disruption severance
void antimagic null vacuum absence emptiness inverse opposite antithesis
threshold boundary perimeter edge margin limit border frontier
warder nullifier guardian sentinel protector defender blocker interceptor disruptor
inversion polarity reversal opposition contradiction counter antimatter antinode phase shift interference
defense protection safeguard immunity resistance fortification armor plate mail
backlash rebound ricochet blowback recoil repercussion consequence retribution
silence stillness calm stasis equilibrium balance neutrality

Spell Analysis
lens scope detector probe scanner sensor gauge meter instrument apparatus
dissection examination diagnosis autopsy vivisection scrutiny inspection investigation survey study research inquiry observation
blueprint schema formula diagram chart graph equation theorem proof hypothesis theory axiom postulate principle law
sample residue trace fragment shard particle remnant vestige imprint signature mark stamp seal sigil glyph rune symbol cipher code
observatory library archive repository vault museum collection
analyst examiner investigator scholar researcher theorist cryptographer decoder interpreter reader diviner scryer seer
component element ingredient constituent part piece factor variable parameter attribute property quality characteristic feature trait aspect facet dimension layer stratum substrate foundation base core essence nature
encryption obfuscation concealment camouflage disguise mask veil shroud cloak fog mist haze blur static noise
knowledge understanding comprehension insight wisdom revelation discovery enlightenment illumination clarity truth

Spellcraft
wand staff orb scepter rod focus grimoire tome codex scroll parchment quill ink crystal ball athame cauldron
weave thread fabric tapestry pattern matrix lattice web network mesh grid framework scaffold skeleton structure architecture blueprint design
spell incantation formula enchantment charm hex curse blessing ward rune sigil glyph symbol seal mark inscription notation
mana ether flux energy power force potential charge current flow stream tide wave pulse surge
tower spire academy college university institute conservatory lyceum athenaeum
wizard mage sorcerer enchanter artificer thaumaturge arcanist spellwright spellbinder wordsmith
theory practice doctrine principle axiom theorem postulate hypothesis conjecture speculation philosophy metaphysics ontology epistemology cosmology
aura radiance glow luminescence phosphorescence shimmer sparkle glitter gleam flash flare burst
paradox enigma mystery riddle puzzle conundrum anomaly aberration deviation exception irregularity
art craft science discipline tradition school method technique approach style form`,qy=`Animal Companionship
mindmeld familiar mental link imprint
bond communicate train command protect guard assist scout fetch heel
attack search retrieve carry hunt devote mate connect
rapport lifelong loyal faithful friend companion companionship pet partner mutual relationship symbiosis union soulmate

Wild Taming
mesmerize muzzle leash
approach contact lure bait trap capture net bridle
tame calm soothe appease pacify charm coax befriend domesticate break subdue collar
will trust instinct nature wild feral dangerous unpredictable cautious patience

Teamster
drover harness reins whip cart axle carriage yoke hitch rig brace 
pull tow haul transport convoy caravan
team group teamwork coordination guide steer drive manage commands goad
wagon cargo payload burden weight load route pace maneuver secure supply

Breeding
select hybrid manticore chimera bloodline pedigree pure mutation
breed pair mate sire dam stud mare offspring progeny foal calf pup generation
genealogy ancestry heritage lineage mixed stock cull genetics gene trait characteristics quality desirable superior eugenics crossbreed strain species taxonomy fusion inherit dominant recessive flaws incubate gestate fertile seed specimen

Animal Husbandry
groom graze fodder pasture paddock shelter ranch pen coop stable corral harvest egg milk product
raise feed forage hutch enclosure kennel aviary
veterinarian care health domesticate captive stock brand tag clip
flock herd pest muck water shear molt shed hatch wean

Beast Mastery
cerberus gorgon basilisk wyvern hydra phoenix nightmare harpy behemoth roc troll ogre
wolf fox bear boar lion tiger stag elk ram hawk toad lizard serpent spider
beckon summon communicate command control manage handle train dominate subjugate
care rapport aid utility pet instinct primal nature creature beast menagerie zoo zoology ecosystem


Bureaucracy
edict charter ordinance statute petition writ seal stamp wax parchment ledger clerk scribe magistrate decree
rules law order
process system structure procedure
legal standard protocol dictate guideline code
amendment article
document form permit license registry
file archive record notary bureaucrat
office desk tribunal commission jurisdiction
hierarchy authority mandate oversight
inspect compliance audit tax tariff fine sanction quota
regulate administrate manage organize control
classify navigate exploit loophole obstruct delay impede reject expedite approve deny authorize

Diplomacy
parley council treaty pact truce envoy ambassador legate emissary ally alliance fealty vassal suzerain faction
talk negotiate mediate arbitrate
communicate persuade convince bargain trade exchange
represent interest message gift summit meeting state visit protocol formal polite neutral mutual goodwill rapport tension
concession proposal condition compromise settlement accord agreement resolution peace ceasefire armistice war aggression
bridge diplomat consul dignitary attache delegation embassy convoy immunity seal intervene protectorate

Intrigue
secret whisper rumor plot scheme undermine subvert treason sabotage forge blackmail extort coerce bribe betray spy shadow favor subterfuge clandestine underhand
maneuver manipulate destabilize
evidence frame gather misinformation dossier kompromat corrupt influence
deceive misdirect mislead whistleblower mole defector agent informant puppet proxy
network cell debt leverage asset cipher cryptography code decoy backroom agenda subtle hidden covert

Reputation Management
renown glory honor legacy accolade herald patron infamy slander defamation smear rumor
image perception narrative story message spin whitewash shape control protect defend restore influence public opinion sentiment approval
fame prestige endorse brand goodwill scandal crisis damage

Faction Alliances
ally alliance pact league concordat faction marriage treaty loyalty oath promise
coalition union federation consortium bloc satellite partnership favor debt leverage support aid assist bolster cooperate partner negotiate broker mediate unite

Propaganda
dogma doctrine rhetoric scapegoat demonize worship incite
message narrative story slogan revisionism patriotism influence sway persuade convince control mold shape belief opinion sentiment public bias spin instill cultivate promote disseminate spread amplify suppress censor filter distort repeat brainwash fake frame dehumanize pacify
symbol poster pamphlet speech rally

Statecraft
realm empire decree edict sovereign succession regency rebellion council golden dark
govern rule lead manage control command power influence
policy strategy foresight plan build develop reform
state city nation system structure institution society order stability politics law civic welfare public populace resource infrastructure tax levy
curfew duty hegemony legitimacy mandate prerogative crisis uprising insurrection revolution purge draft court

Patron Care
dignitary envoy noble retinue entourage escort chaperon
welcome greet comfort anticipate empathize listen satisfy personalize assist guide
resolve problem concern feel ease safety security trust
VIP guest visitor patron
impression support service help aid tend indulge treat
privilege leisure priority suite tact
massage relaxation

Amenities & Luxuries
opulence bespoke sweetmeat ambrosia nectar cordial decoction tapestry finery chalice flagon goblet scullery
luxury quality elegance flair pamper pleasure treat indulge rarity plush
food wine drink beverage refreshment sustenance spice fruit delicacy pastry confection liqueur infusion
bedding linen bath soak
scent aroma perfume balm oil
music art masterpiece artistry craftsmanship decor ornament trinket
furnish drapery chandelier presentation
silk velvet gold silver crystal gem rare exotic vintage
decanter carafe porcelain
pavilion gazebo conservatory garden fountain pool terrace balcony veranda porch alcove canopy

Event Orchestration
feast conclave tournament joust ball coronation ritual procession funeral
event party gathering ceremony gala summit meeting banquet inauguration wedding auction
plan organize schedule coordinate manage logistic contingency
theme decor invite guest seat protocol etiquette
announce host entertain cater toast
crisis timing budget
venue space stage
agenda itinerary chart order program timetable traffic entry exit hiatus
list book procure celebrate debut crowd

Staff Direction
gremlin imp golem automaton falconer footman page minstrel bard troubadour jester chambermaid
valet steward porter cook cleaner guard attendant butler maid gardener chef messenger courier
staff team crew servant entertainer acrobat dancer
direct lead manage assign schedule brief instruct coordinate delegate oversee supervise mentor deploy optimize
train motivate discipline evaluate feedback morale performance appraisal drill
hire fire report standard quality efficiency
task shift roster uniform upkeep expertise service

Cleaning
broom mop bucket rag cloth sponge brush duster feather polish
soap lye vinegar water solution mixture compound formula recipe preparation
dust dirt grime stain spot mark blemish mess clutter debris
sweep scrub wash rinse wipe buff shine gleam sparkle
freshness cleanliness purity pristineness immaculateness flaw perfection neatness tidiness
order arrangement technique routine laundry
chamber room hall corridor stair floor wall ceiling window surface

Hospitality
tavern chamber hearth repose abbey monastery haven sanctuary retreat refuge asylum
comfort welcome generosity warmth courtesy goodwill
inn quarter suite room home lodging board fare silverware allocation
host manage provide accommodate entertainment provision impress
social event etiquette protocol presentation demeanor conduct grace
guest service reputation satisfaction experience
atmosphere relation relationship
respite tranquil recuperate recover rejuvenate

Bartering
wares merchant peddler hawker barter haggle exchange swap
trade deal transaction market goods item service stall fair
offer propose counteroffer bid bargain negotiate agree settle concede yield undercut
value compare balance parity equity worth reciprocity handshake cheating tit-for-tat deadlock middleman

Appraisal
loupe scales touchstone acid calipers
artifact relic gem jewel ore
examine inspect judge assess evaluate estimate authenticate verify weigh measure test compare analyze scrutinize discern
expert connoisseur numismatist gemologist appraiser
certificate provenance carat karat hallmark grade condition quality fine pure mint flaw damage wear bias precision accuracy worth fair assay oxidate corrosion era period vintage collect lineage resonant property pawnshop auction document artwork antique metal coin

Salesmanship
sell pitch bargain close hawker peddler huckster barker hook impulse geasa
persuade convince present demonstrate showcase highlight promote advertise endorse refer recommend upsell
negotiate discount offer promotion guarantee warranty objection rebuttal competition value trust settle concede yield
customer client order agreement contract commission revenue profit goods service product wares shop store showroom counter
salesman salesperson merchant vendor agent road prospect lead charm entice attract engage assure satisfy rapport reject skepticism feature smooth sample bundle quota

Bookkeeping
ledger abacus quill scroll strongbox oathmark tally sum scribe bursar  backroom
record track log enter calculate tabulate balance reconcile audit manage organize file document verify count issue collect exchange lend borrow
profit loss surplus deficit revenue income expense credit debit asset liability equity interest rate cost amortize overhead compound yield stock bond cash flow budget report statement
bookkeeper accountant clerk treasurer cashier teller
error mistake fraud embezzlement theft discrepancy insolvency meticulous order math mathematics finance economic wealth figure data office bank inventory register debt solvency liquidity journal

Customs & Tariffs
tariff excise embargo quota levy toll stamp seal confiscate border gray-market import export
inspect examine declare tax assess regulate permit license authorize clear seize enforce document verify classify weigh measure ledger manifest
gate barrier checkpoint port harbor dock cargo ship bill origin paperwork dispute delay waiver bribe percent fee fine penalty control protectionism collector inspector official clerk

Smuggling Routes
cove underworld borderland bribe tunnel sewer cave stash cache contraband night
smuggle sneak bypass avoid conceal hide deceive transport move navigate route map scout detour passage hideout hollow compartment disguise
network connection clandestine covert surreptitious underhanded illicit forbidden black-market shadow hush quiet dark signal
runner lookout rogue fixer fence agent mule payoff grease risk danger cunning stealth ambush trap patrol guard rival escape evasion capture arrest confiscate betrayal

Financial Acumen
magnate boom bust supply demand predict speculate opportunity risk rumor chart trend
analyze forecast invest divest anticipate calculate evaluate monitor research interpret assess model project manage exploit graph ledger report data news insight strategy threat understand wealth advantage mitigate portfolio pattern capital asset commodity future exchange market price fluctuate return inflate deflate leverage margin profit gain loss uncertainty economic dynamic gamble venture policy cycle trade floor broker tycoon arbitrage dividend bull bear

Commerce & Trade
mercury sulfur crystal gem ore wood mithril dragonscale moonstone obsidian
caravan wagon lane route bazaar emporium guild hub warehouse silo
silk spice feather pelt fur hide gold pearl quartz wine caviar league charter marque
trade commerce exchange buy sell profit wealth capital revenue growth prosper influence chain inventory resource demand cost price deficit surplus flow goods wares stock store market supply deal
barter haggle bargain auction house merchant vendor business enterprise venture cartel monopoly oligopoly sanction blockade logistics tariff tax port harbor dock ship

Gathering Rumors
whisper gossip hearsay rumor tale story secret murmur word tidbit snippet scoop dirt scandal intrigue revelation truth lie fabrication
tavern inn alehouse parlor salon brothel bathhouse market square fountain well courtyard alley corner stoop threshold doorway
barmaid innkeeper drunk patron regular informant source courier spy eavesdropper tattler snitch mole plant contact
coin ale wine bribe tip payment favor token gift incentive leverage blackmail
ear tongue lip mouth breath voice tone inflection accent dialect slang cant argot
shadow alcove booth curtain screen partition nook cranny hideaway blind spot
    
Underworld Navigation
fence smuggler forger assassin pickpocket cutpurse thief burglar safecracker locksmith poisoner alchemist
hideout safehouse den lair vault cache stash drop bolt-hole tunnel catacomb sewer undercroft cellar
password sign countersign handshake tattoo scar brand mark symbol cipher code knock rhythm
contraband poison blade lockpick crowbar rope hook grapple cloak mask disguise forgery
guild syndicate ring cabal faction crew gang mob family brotherhood sisterhood covenant
territory turf boundary marker tag warning threat protection racket extortion
    
Urban Survival
scrap morsel crust crumb leftover refuse garbage waste leavings spoil rot mold vermin rat pigeon crow
gutter drain pipe ledge rooftop eave awning scaffold beam rafter crawlspace attic garret hovel shanty slum
beggar urchin vagrant drifter pauper outcast exile refugee fugitive runaway stowaway
rag blanket sack barrel crate box heap pile rubble debris wreckage ruin
hunger thirst cold heat rain storm wind fog mist smoke smog stench filth grime soot ash dust
guard watchman patrol constable bailiff magistrate stockade pillory gallows noose chain shackle
    
Gang Affiliations
boss chief captain lieutenant enforcer muscle heavy bruiser lookout scout runner messenger bagman accountant lawyer fixer
initiation oath blood pact ritual scar tattoo brand colors patch emblem sigil crest banner flag standard
territory district ward quarter neighborhood block street corner shop front back room basement loft warehouse dock pier wharf
tribute tax toll fee cut share split take skim percentage point interest debt loan shark collection
rank hierarchy pecking order respect fear loyalty betrayal vendetta feud war truce alliance merger takeover coup
knife blade shiv club cudgel cosh blackjack brass knuckle garrote wire poison dart crossbow
    
Gambling
dice card chip token marker coin stake pot ante bet wager purse pool kitty bank house edge odds
table felt baize deck shoe box cage wheel spinner ball cup thimble shell pea marble stone bone knuckle
gambler sharper hustler mark pigeon sucker whale fish shark dealer croupier banker pit boss floor walker
ace king queen wild deuce trey court pip spot
bluff tell twitch sweat palm shuffle cut deal draw fold raise call check push shove string sandbagging
den parlor hall room suite gallery loft cellar backroom alley dive joint establishment
    
Streetwise
street alley lane way passage court yard square plaza market bazaar dock quarter district ward slum undercity sprawl maze warren labyrinth
thief rogue scoundrel charlatan mountebank grifter swindler cheat liar deceiver trickster hustler operator player insider outsider local stranger newcomer tourist mark victim
shadow darkness night twilight dusk dawn fog mist smoke haze gloom murk shade cover concealment blind spot corner nook doorway threshold arch bridge underpass overpass tunnel grate drain sewer
code sign signal whistle call gesture nod wink tap scratch cough sneeze yawn stretch motion movement stance posture gait walk swagger strut slouch shuffle creep slink prowl stalk
coin purse pouch wallet satchel bundle parcel package crate box barrel keg bottle flask vial phial packet envelope note letter scroll message cipher key lock pick tool kit rope hook ladder plank board beam
danger threat risk peril hazard trap snare ambush setup sting con game scheme plot plan angle hustle racket operation deal arrangement understanding agreement pact alliance truce

Acting
mask costume prop script role character persona facade disguise greasepaint powder rouge
stage theater amphitheater playhouse troupe company ensemble cast director playwright
tragedy comedy drama farce melodrama monologue soliloquy dialogue aside gesture
emotion expression mimicry transformation interpretation portrayal embodiment method
spotlight curtain backdrop wing pit gallery balcony box rehearsal audition debut
villain hero ingenue fool jester lead understudy thespian player mummer mime
applause ovation critique review patron audience spectator observer witness
illusion pretense deception authenticity vulnerability catharsis revelation climax
voice posture bearing presence charisma magnetism chemistry timing delivery

Musical Instruments
lute harp lyre mandolin viol rebec cittern psaltery hurdy-gurdy theorbo
flute pipe recorder shawm crumhorn cornett sackbut trumpet horn clarion
drum tabor tambourine cymbal bell chime gong triangle castanets rattle
string bow fret peg bridge soundhole resonance vibration pitch tone
sheet score notation clef staff measure beat tempo rhythm harmony
conservatory hall chamber salon court tower garden pavilion cathedral square
minstrel troubadour bard lutist piper drummer virtuoso maestro composer conductor
melody chord progression dissonance consonance cadence ornament trill mordent
wood gut metal brass reed mouthpiece valve key hammer plectrum
discord cacophony silence rest fermata crescendo diminuendo forte piano

Singing
voice throat larynx diaphragm breath lung chest head resonance vibrato
soprano alto tenor bass baritone contralto countertenor falsetto whistle
aria ballad chanson madrigal motet hymn chant carol lullaby dirge
pitch tone timbre register range octave interval scale mode key
choir chorus ensemble soloist cantor precentor choirmaster vocalist songster
cathedral chapel hall tavern court garden tower balcony street square
lyric verse refrain bridge coda hook melody harmony counterpoint
trill melisma coloratura portamento glissando staccato legato sostenuto
emotion passion sorrow joy triumph lament praise devotion yearning
acoustics echo reverberation projection volume power control technique

Storytelling
tale saga epic legend myth fable parable chronicle anecdote yarn
hero villain quest journey trial transformation revelation redemption climax
voice gesture expression pause emphasis inflection cadence rhythm flow
tavern hearth campfire hall court library tower market square festival
bard skald griot raconteur narrator chronicler scribe minstrel troubadour
memory imagination embellishment exaggeration truth fiction allegory metaphor
suspense tension mystery twist moral lesson wisdom entertainment
audience listener crowd gathering circle assembly patron child elder
scroll tome manuscript parchment ink quill tradition lore
beginning middle end prologue epilogue chapter verse stanza refrain

Dancing
step leap spin twirl glide slide hop skip jump pirouette
rhythm beat tempo measure count phrase sequence pattern formation
ballroom court garden pavilion square stage platform meadow glade
dancer partner troupe ensemble choreographer master mistress instructor
gown costume shoe slipper boot heel ribbon veil fan scarf
waltz gavotte minuet pavane galliard branle estampie farandole rondeau
grace elegance poise balance coordination flexibility strength stamina
posture line extension turnout alignment carriage bearing presence
music melody harmony counterpoint accompaniment silence pause breath
celebration ritual courtship festival harvest solstice wedding coronation

Comedy
jest joke jape pun riddle quip gag antic prank trick
fool jester clown buffoon mime harlequin trickster wit satirist
timing delivery pause beat setup punchline callback reversal surprise
laughter giggle chuckle guffaw snort chortle cackle roar applause
tavern court street market festival fair carnival celebration gathering
mask costume prop bell cap motley bladder stick puppet marotte
satire parody mockery irony sarcasm absurdity exaggeration understatement
wordplay innuendo double-entendre malapropism spoonerism paradox contradiction
audience crowd patron heckler participant volunteer stooge accomplice
improvisation spontaneity observation mimicry caricature impression routine

Performance
stage theater amphitheater hall court tavern street square garden pavilion tower
audience spectator patron crowd gathering assembly festival celebration ceremony
artist performer entertainer virtuoso master artisan professional amateur novice
art craft skill talent gift ability technique mastery excellence brilliance
applause ovation encore acclaim praise recognition fame glory reputation legacy
costume mask prop instrument voice body gesture expression movement sound
emotion passion joy sorrow fear anger love hate triumph despair catharsis
rehearsal practice preparation audition debut premiere finale curtain bow
troupe company ensemble guild academy conservatory school tradition lineage
drama comedy tragedy farce spectacle pageant ritual
illusion magic transformation revelation connection communion experience moment
rhythm timing delivery presence charisma magnetism chemistry energy vitality
culture heritage custom convention innovation rebellion revolution
light shadow spotlight torch candle lantern moon star fire glow

Noble Courts
crown scepter throne orb seal crest herald trumpet banner standard pavilion dais canopy
court palace hall chamber salon gallery ballroom antechamber vestibule tower keep
duke duchess baron baroness count countess marquis earl viscount knight dame page squire chamberlain steward seneschal courtier
nobility aristocracy peerage lineage bloodline pedigree precedence rank title honor dignity protocol ceremony ritual pageant
brocade velvet ermine silk satin damask tapestry jewel coronet diadem signet medallion
feast banquet gala soiree reception levee audience petition summon decree edict charter patent
courtesy bow curtsy genuflection salute address honorific etiquette decorum propriety grace refinement elegance
intrigue scandal gossip favor patronage alliance betrayal conspiracy faction cabal politics influence power prestige status

Mages Guild Protocols
staff wand orb crystal focus grimoire tome codex scroll sigil rune glyph ward circle pentacle
tower sanctum laboratory library archive vault chamber hall auditorium lectern podium rostrum
archmage magister adept journeyman apprentice scribe keeper warden chancellor provost dean rector
hierarchy rank degree initiation examination thesis dissertation council convocation assembly tribunal
incantation formula axiom theorem principle doctrine dogma canon precedent tradition custom
robe hood cowl badge insignia medallion ring chain collar sash tabard mantle
debate disputation argument proof refutation citation reference authority consensus dissent
aether mana essence flux resonance harmony dissonance paradox enigma mystery
respect deference humility pride hubris ambition rivalry competition cooperation guild charter statute bylaw

Workshop Lingo
hammer anvil forge bellows tong chisel lathe vice clamp awl file rasp gauge caliper blueprint schematic
workshop smithy foundry atelier studio manufactory mill yard bench station booth stall
master journeyman apprentice artisan craftsman smith wright maker builder inventor engineer artificer
guild charter patent trademark stamp seal brand mark signature hallmark certificate license
technique method process procedure innovation improvement modification adaptation refinement
metal wood leather cloth glass stone clay wax resin oil varnish polish glaze pigment dye
quality standard specification tolerance precision accuracy detail finish texture pattern design
commission contract order request proposal estimate quote invoice receipt ledger account
tool jig fixture mold template prototype model sample specimen demonstration exhibition

Merchant Guild Practices
scale weight measure coin purse ledger abacus quill seal stamp charter license permit warrant
market bazaar exchange emporium warehouse dock wharf port harbor customs gate toll bridge
merchant trader factor broker dealer vendor supplier buyer customer patron client partner investor
guild company cartel syndicate consortium partnership venture enterprise firm house establishment
contract agreement deal bargain transaction sale purchase order shipment cargo manifest invoice
gold silver copper credit debt loan interest dividend profit margin revenue capital asset
route map chart compass sextant caravan ship wagon barge ferry escort guard insurance
commodity goods ware merchandise stock inventory supply demand price cost value worth
negotiation haggle barter discount premium tariff tax duty levy fee commission surcharge

Guard Regime
badge shield helm mail sword spear halberd whistle horn bell drum torch lantern key shackle
gate wall tower keep barracks armory stockade prison cell dungeon gallows block post pillory
captain lieutenant sergeant corporal guard watchman sentinel warden constable bailiff sheriff marshal
law code statute ordinance decree edict proclamation warrant summon citation arrest charge trial verdict sentence
patrol beat round watch shift duty roster schedule assignment station checkpoint barrier
order discipline rank file formation drill salute inspection ceremony parade review muster
report log record witness testimony evidence proof confession statement deposition affidavit
crime theft assault murder treason sedition smuggle fraud forgery riot breach violation offense infraction

Underworld Codes
knife dagger shiv pick lock jimmy crowbar rope hook grapple cloak hood mask disguise poison
alley sewer tunnel vault cellar attic den hideout safehouse tavern brothel dock warehouse slum
thief rogue cutpurse pickpocket burglar fence smuggler forger assassin spy informant muscle boss
guild gang crew band ring syndicate family cartel outfit mob organization network cell
cant sign signal mark symbol code cipher password phrase gesture whistle knock tap
territory turf boundary border crossing neutral zone sanctuary haven refuge asylum protection
heist job score target pigeon sucker loot swag take haul prize bounty reward
shadow stealth silence darkness night fog mist smoke mirror illusion deception trick con scheme racket

Temple Rites & Observances
altar shrine icon relic chalice censer thurible bell gong chime candle lamp brazier font basin
temple cathedral basilica chapel sanctuary nave chancel apse transept cloister monastery abbey priory
priest priestess cleric monk nun friar abbot abbess prior bishop archbishop cardinal patriarch oracle prophet
rite ritual ceremony liturgy service mass vigil prayer hymn chant psalm canticle benediction blessing
vestment robe cassock habit cowl stole chasuble mitre crozier staff cross ankh symbol sigil
holy sacred divine consecrate sanctify bless anoint ordain initiate baptize confirm commune absolve
incense myrrh frankincense oil water wine bread host wafer salt ash dust flame smoke light
faith devotion piety reverence worship veneration adoration praise glory honor virtue grace mercy redemption salvation

Etiquette
manner custom tradition convention protocol courtesy politeness civility decorum propriety dignity grace refinement elegance sophistication
respect deference honor esteem regard consideration tact diplomacy discretion prudence wisdom judgment discernment
gesture bow curtsy nod salute handshake kiss embrace genuflection prostration obeisance homage
address title honorific rank precedence hierarchy status position station class caste degree level
ceremony ritual pageant procession parade banquet feast gala ball soiree levee audience presentation introduction
rule law code standard norm practice usage habit routine procedure formality requirement expectation obligation duty
language speech discourse rhetoric eloquence diction pronunciation enunciation articulation accent dialect idiom phrase expression greeting farewell
dress attire garb costume uniform livery regalia insignia badge emblem device heraldry blazon achievement
invitation summon call request petition appeal plea supplication demand command decree edict proclamation announcement
gift present offering donation contribution endowment bequest legacy inheritance patrimony dowry bride price ransom
hospitality welcome entertainment accommodation favor patronage sponsorship protection sanctuary asylum refuge haven shelter

Reading Emotions
face mask veil facade surface depth layer mirror glass crystal orb
tear smile frown blush pallor tremor shiver twitch grimace sneer
eye pupil iris gaze glance stare blink squint wrinkle crow's-feet
heart pulse beat rhythm tempo flutter palpitation throb ache pain
aura glow shimmer radiance shadow darkness light color hue shade
empath reader seer sage counselor confessor priest therapist oracle diviner
truth honesty deception pretense charade masquerade performance act show display
soul spirit essence core nature character temperament disposition mood humor
joy sorrow anger fear disgust surprise shame pride envy contempt
tension strain stress pressure burden weight relief release catharsis purge
revelation discovery unveiling exposure confession admission acknowledgment recognition awareness realization

Detecting Lies
tell sign signal marker indicator flag warning bell alarm beacon
voice tone pitch inflection cadence stutter hesitation pause silence
sweat perspiration moisture dampness clamminess cold heat flush fever trembling
truth serum potion elixir draught brew concoction mixture tonic philter charm
interrogator inquisitor investigator detective spy agent provocateur informant mole traitor
deception deceit fraud falsehood fabrication fiction tale story fable myth
contradiction inconsistency discrepancy anomaly irregularity deviation variance divergence difference
oath vow promise pledge word bond contract pact covenant agreement
polygraph pendulum crystal sphere mirror pool scrying bowl rune stone
guilt innocence conscience burden secret shame remorse regret denial evasion
question query probe inquiry examination test trial ordeal challenge scrutiny

Motive Analysis
desire want need craving hunger thirst appetite longing yearning aspiration
goal aim objective target purpose intent intention design plan scheme
fear phobia terror dread anxiety worry concern apprehension trepidation panic
greed avarice lust gluttony envy pride wrath sloth vice sin
love hate passion infatuation devotion loyalty betrayal revenge vendetta
power control dominance submission rebellion defiance resistance compliance obedience servitude
analyst philosopher scholar sage mentor teacher guide counselor advisor confidant
root cause source origin genesis beginning foundation basis ground reason
pattern habit routine ritual custom tradition practice behavior conduct action
drive impulse urge compulsion addiction fixation mania preoccupation fascination
catalyst trigger stimulus provocation incitement spark ignition fuel fire flame

Social Prediction
forecast prophecy divination augury omen portent sign vision dream premonition
cycle rhythm sequence reaction cascade ripple wave tide
chess board piece move gambit strategy tactic maneuver ploy feint
scenario outcome result consequence aftermath fallout repercussion impact echo
probability likelihood chance odds risk gamble wager bet stake ante
prophet seer oracle soothsayer fortune-teller mystic visionary sage astrologer haruspex
future past present moment instant timeline thread tapestry fabric
butterfly wing storm chaos order entropy balance equilibrium harmony discord
domino link connection node network matrix grid
variable factor element component ingredient catalyst reagent mixture compound formula
simulation model map chart diagram blueprint plan scheme design

Group Dynamics
crowd mob horde swarm flock herd pack gang band troop
leader follower alpha beta omega sheep wolf shepherd dog guardian
hierarchy ladder pyramid tower structure rank status position tier
riot uprising revolt insurrection mutiny coup revolution movement wave
consensus agreement dissent faction schism split rift divide gap
sociologist anthropologist ethnographer observer watcher spy infiltrator insider outsider
tribe clan family house guild brotherhood sisterhood fellowship alliance
ritual ceremony tradition custom practice convention norm standard rule law
influence pressure conformity independence autonomy sovereignty freedom bondage slavery
synergy chemistry harmony tension conflict cooperation competition collaboration rivalry
momentum inertia resistance friction catalyst accelerant brake anchor weight ballast

Profiling
portrait sketch outline silhouette shadow reflection image likeness resemblance representation
archetype stereotype template pattern model framework structure scaffold skeleton blueprint
dossier file record archive document scroll ledger tome codex manuscript
trait characteristic feature quality attribute property aspect facet dimension element
habit quirk tic mannerism gesture posture gait stride walk movement
profiler investigator detective analyst specialist expert authority scholar researcher observer
signature mark stamp seal brand emblem symbol sigil glyph rune
background history past origin lineage ancestry heritage legacy tradition custom
tendency inclination predisposition propensity proclivity bent leaning preference bias prejudice
clue hint trace evidence sign signal indicator marker beacon flag
type category class kind sort variety species breed strain stock
puzzle piece fragment shard sliver bit part component factor
method technique approach style manner mode way fashion form shape

Insight
wisdom knowledge understanding comprehension grasp perception awareness consciousness
intuition instinct hunch feeling sense impression notion idea thought concept
empathy sympathy compassion kindness warmth coldness distance detachment objectivity subjectivity
observation scrutiny examination analysis study investigation research inquiry exploration
mirror prism filter kaleidoscope telescope microscope magnifier amplifier enhancer
sage philosopher psychologist mentalist mystic oracle seer prophet visionary guru
depth surface layer veil mask facade front appearance reality truth
connection link bond tie thread web network matrix pattern design
perspective viewpoint angle frame context background foreground figure ground
revelation epiphany breakthrough realization awakening clarity vision
barrier wall obstacle block resistance impediment hindrance limitation boundary constraint
key door gate portal window opening passage bridge crossing threshold

Motivation
banner standard pennant horn trumpet drum tabard insignia emblem flag colors heraldry
speech rally cry shout cheer chant hymn anthem ballad song verse tale saga
courage valor bravery heart spirit fire passion zeal fervor ardor vigor morale
hero champion paragon exemplar idol legend icon symbol beacon light torch flame
hope faith belief trust confidence pride honor glory triumph victory determination
orator bard herald crier speaker voice prophet seer visionary zealot evangelist
podium platform stage amphitheater square plaza hall forum gathering assembly crowd
medal ribbon award laurel crown wreath trophy accolade praise recognition reward
inspiration spark kindle ignition awakening surge rise uplift boost revival

Command
baton scepter rod staff mace seal sigil crest badge chevron epaulet
order decree edict mandate directive proclamation summons call demand charge instruction
authority power control dominion sovereignty supremacy hierarchy chain station position
general marshal captain lieutenant sergeant officer commander chief warlord strategist tactician
battlefield fort garrison keep tower citadel rampart gate bridge chokepoint
formation line column wedge phalanx square circle shield vanguard rear flank
discipline obedience compliance submission deference respect fear awe presence bearing
signal beacon smoke mirror horn bell gong flag semaphore gesture sign code
strategy tactic maneuver feint ambush siege assault defense retreat advance

Delegation
roster list scroll ledger chart diagram map plan blueprint scheme design layout
task duty role function mission quest charge responsibility burden obligation
skill talent gift aptitude ability capacity strength weakness trait specialty expertise
scribe clerk secretary aide assistant deputy lieutenant proxy agent representative emissary
council chamber office bureau ministry department section unit squad team
allocation distribution partition share portion quota ration measure load
assessment evaluation judgment appraisal review analysis scrutiny examination test trial
delegation appointment nomination selection choice pick posting placement transfer
efficiency optimization streamline coordination synchronization harmony flow rhythm

Team Building
bond chain link connection tie thread weave mesh network web lattice bridge
unity cohesion harmony synchrony alignment accord consensus agreement pact covenant alliance
feast banquet celebration festival gathering reunion assembly congregation meeting symposium convocation
emblem mascot totem sigil crest badge pin brooch pendant amulet charm token
guild brotherhood sisterhood fellowship order society circle clan tribe band company
trust faith loyalty devotion dedication commitment allegiance fidelity oath vow pledge
mentor guide teacher coach trainer instructor master journeyman apprentice novice initiate
synergy chemistry rapport affinity kinship camaraderie friendship companionship partnership collaboration
ritual ceremony rite tradition custom practice convention protocol etiquette courtesy

Discipline
rod switch cane whip lash strap belt chain shackle stock pillory gibbet
code law statute regulation rule ordinance decree charter constitution canon doctrine
order structure system method routine regimen drill practice repetition pattern habit
judge magistrate arbiter enforcer warden guard sentinel watchman overseer supervisor monitor
court tribunal bench dock cell dungeon tower prison stockade barracks yard
punishment penalty fine sanction censure rebuke reprimand warning admonition correction consequence
standard norm expectation requirement demand criterion benchmark measure gauge threshold limit
strictness severity rigor harshness sternness firmness inflexibility rigidity control restraint
violation infraction breach transgression offense crime misconduct insubordination defiance rebellion

Recruitment
poster notice announcement proclamation handbill flyer pamphlet broadsheet gazette herald bulletin
bounty reward prize incentive bonus compensation wage salary pay coin gold silver
tavern inn market square fair festival tournament joust arena coliseum theater
scout recruiter agent headhunter envoy messenger courier ambassador crier barker
talent skill gift ability potential promise prospect candidate applicant volunteer conscript
persuasion charm charisma magnetism appeal allure attraction enticement lure bait hook
contract pact agreement deal bargain arrangement understanding accord covenant bond oath
roster roll muster list registry ledger record archive catalog inventory census
interview audition trial test examination assessment screening evaluation appraisal review

Leadership
crown scepter orb seal ring medallion chain badge star chevron insignia
authority command power influence dominion sovereignty reign rule governance control mastery
king queen prince duke baron lord lady noble aristocrat patrician magnate potentate
castle palace court hall chamber room gallery tower keep citadel fortress
wisdom judgment foresight insight acumen sagacity prudence discretion discernment perception
respect honor reverence deference loyalty allegiance fealty homage tribute devotion service
strategy doctrine philosophy principle tenet creed dogma belief ideology
charisma presence bearing dignity grace poise composure confidence assurance certainty conviction
legacy heritage tradition precedent example model pattern template standard benchmark archetype
burden responsibility duty obligation charge trust stewardship guardianship custody care protection
council assembly senate parliament congress conclave synod convocation gathering summit conference
inspiration guidance direction purpose meaning cause crusade quest campaign movement

Coercion
whip chain shackle noose brand knife rope garrote collar leash
threat ultimatum demand pressure deadline consequence penalty compulsion duress
submission compliance obedience surrender capitulation yield acquiescence subjugation servitude conformity
enforcer thug brute bully heavy muscle goon strongman henchman tough
alley dungeon cell corner trap snare ambush checkpoint garrison blockade
leverage squeeze bind grip hold sway dominance supremacy coercion oppression
fear violence harm danger peril jeopardy hazard risk menace dread
scream whimper plea cry sob gasp tremor shudder quake flinch
resistance defiance escape rebellion stubbornness will resolve courage hero martyr
power control domination subjection tyranny despotism authority might strength

Presence
cloak armor insignia banner crown scepter helm gauntlet standard emblem medallion regalia sigil crest
stance glare posture bearing mien carriage demeanor aspect visage countenance aura gravitas menace
awe dread respect submission deference reverence terror intimidation dismay trepidation apprehension unease disquiet alarm
warlord tyrant overlord commander lord master sovereign potentate despot autocrat dictator ruler chieftain patriarch
throne court fortress citadel tower keep hall chamber sanctum dais platform gallery balcony rampart
authority nobility hierarchy station rank title precedence eminence stature dignity grandeur magnificence splendor pomp
shadow chill silence hush stillness gloom darkness weight pressure atmosphere mood ambiance tension foreboding
challenge mockery irreverence insolence defiance contempt scorn derision ridicule slight insult affront impudence audacity
charisma dominion supremacy sovereignty command leadership mastery ascendancy hegemony primacy preeminence superiority influence

Interrogation
rack iron poker needle pliers vice wheel strap hook chain nail pin screw clamp brand
torture question probe inquiry examination scrutiny grilling extraction revelation admission disclosure divulgence exposure
inquisitor torturer interrogator examiner questioner investigator inspector magistrate judge prosecutor accuser informant spy agent
chamber dungeon cell tower vault crypt catacomb oubliette pit cage stockade pillory scaffold block
technique method practice procedure protocol system approach tactic strategy craft art science discipline specialty
heresy trial inquisition tribunal judgment verdict sentence condemnation persecution purge witch-hunt crusade jihad
scream blood sweat tear agony pain anguish torment suffering misery distress affliction tribulation
silence lie resistance stoicism endurance fortitude resolve determination obstinacy stubbornness defiance martyrdom heroism bravery
truth secret intelligence information knowledge fact detail evidence proof testimony witness account report

Extortion & Blackmail
letter document seal contract ledger note scroll parchment missive deed will testament record
scheme plot squeeze racket scam con fraud swindle hustle shake-down operation enterprise conspiracy cabal
payment ransom tribute toll fee bribe hush-money protection coin gold silver jewel treasure fortune
blackmailer extortionist schemer plotter conspirator manipulator exploiter parasite leech vulture predator opportunist crook
tavern study vault office library den lair hideout safehouse backroom parlor salon brothel
leverage dirt scandal skeleton secret shame disgrace dishonor infamy notoriety reputation ruin
whisper shadow secrecy stealth subtlety cunning guile craft deceit duplicity treachery backstab
counter-threat retaliation vengeance retribution payback consequence backlash blowback fallout repercussion aftermath
vulnerability weakness flaw vice sin transgression indiscretion mistake error lapse failing shortcoming defect

Intimidation
mask hood gauntlet axe gallows guillotine stake pyre torch club mace flail hammer sword
menace terror fright horror dread alarm dismay apprehension trepidation consternation perturbation disquiet
fear flight paralysis submission compliance obedience lesson
intimidator enforcer bully tyrant oppressor terrorizer bruiser roughneck ruffian hooligan vandal marauder reaver
plaza scaffold gate bridge tower battlement courtyard market square crossroad checkpoint border threshold
sign symbol portent omen threat message statement declaration proclamation
punishment justice order law enforcement discipline regulation rule dominion governance regime system
tremor gasp hush whisper murmur rumor gossip tale legend myth story prophecy curse
courage hero rebellion revolution uprising insurrection mutiny revolt resistance defiance opposition dissent protest
power dominance authority influence sway command mastery superiority ascendancy hegemony supremacy sovereignty

Bluffing
poker dice card chip ante token coin stake wager bet pot table
bluff feint facade front pretense bravado swagger boast threat intimidation
gambler hustler swindler cheat sharp player dealer croupier
tavern den parlor backroom casino hall club joint
tell read fold raise call check bust draw hand deal shuffle cut
nerve guts audacity confidence brass mettle courage daring
risk gambit ploy maneuver tactic strategy game play
face expression composure poise bearing demeanor manner

Lying
lie falsehood deceit fabrication fiction story tale fib untruth deception
forgery document seal signature ink quill parchment wax stamp letter patent deed charter record scroll
liar fabricator forger scribe deceiver perjurer charlatan fraud impostor
alibi excuse pretext cover justification explanation account testimony witness proof evidence
oath vow promise pledge word honor truth fact reality
rumor gossip slander libel propaganda misinformation hoax
web tangle knot thread weave pattern scheme plot

Disguise
mask wig beard paint powder dye cosmetic rouge kohl henna
costume outfit garb attire dress robe cloak hood veil shroud mantle cape uniform livery
mirror glass reflection image likeness semblance appearance
wardrobe closet trunk chest armoire chamber theater stage
disguiser costumer tailor seamster spy infiltrator agent actor performer
identity persona character role part guise form shape figure
camouflage concealment cover shade shadow darkness obscurity
transformation alteration change shift metamorphosis

Impersonation
voice accent tone pitch timbre cadence inflection dialect speech pattern
gesture gait walk stride posture stance bearing carriage movement motion manner
mimic impersonator double doppelganger twin lookalike substitute decoy stand-in
script line dialogue phrase expression idiom saying catchphrase motto
mannerism habit tic quirk trait characteristic peculiarity idiosyncrasy
impression parody caricature mockery imitation copy reproduction replica
study observation practice rehearsal preparation training drill
authenticity credibility believability realism accuracy precision detail

Deception
deception deceit fraud trickery duplicity guile artifice cunning craft subterfuge
illusion delusion misconception misapprehension error mistake fallacy
trap snare ambush pitfall ruse stratagem scheme plot conspiracy intrigue
shadow smoke mirror veil curtain screen barrier wall facade front
deceiver trickster charlatan mountebank rogue scoundrel knave villain manipulator puppeteer
secret mystery enigma riddle puzzle cipher code cryptogram
truth reality fact certainty proof evidence testimony witness
perception sight vision view perspective angle interpretation
trust faith belief confidence credence credit reputation honor
web network maze labyrinth tangle knot thread string cord rope chain link connection
art skill talent gift ability expertise mastery proficiency competence
game play sport contest match competition tournament duel

Bargaining
coin gold silver copper purse coffer scale ledger abacus 
market bazaar stall shop emporium exchange tavern guild warehouse dock
merchant trader vendor hawker peddler broker dealer moneychanger auctioneer
price cost value worth rate markup discount profit margin deal trade barter haggle
goods wares commodity merchandise stock inventory supply demand shortage surplus
contract charter license tax tariff fee toll debt credit loan interest
appraisal weight measure quality grade standard counterfeit swindle cheat fraud

Oratory
podium lectern pulpit stage platform amphitheater forum square hall cathedral
speech address sermon lecture proclamation announcement declaration rally manifesto
orator speaker herald crier preacher demagogue rhetorician prophet advocate
rhetoric eloquence cadence rhythm verse prose metaphor allegory parable
crowd audience assembly congregation mob multitude throng gathering council
voice echo resonance volume tone pitch inflection emphasis pause silence
applause cheer heckler disruption riot fervor passion zeal conviction message
scroll parchment tome manuscript text scripture doctrine dogma creed

Witty Repartee
salon court parlor ballroom terrace garden tea party soiree reception
jest quip retort comeback pun wordplay innuendo double-entendre barb
wit courtier raconteur dandy socialite hostess gossip flirt charmer
banter repartee riposte sally rejoinder witticism epigram bon mot aphorism
fan mask glove handkerchief mirror powder perfume fashion etiquette
laughter smirk grin chuckle giggle titter snicker chortle guffaw
timing grace charm elegance finesse style panache flair sophistication
insult slight snub gaffe blunder scandal rumor intrigue duel challenge

Formal Debate
chamber academy court tribunal forum library university monastery tower
argument thesis premise conclusion proof evidence logic reason syllogism
scholar advocate judge magistrate philosopher theologian academician lawyer disputant
gavel hourglass charter constitution law statute precedent case ruling
rebuttal counter objection refutation contradiction paradox fallacy sophistry bias
truth validity soundness consistency coherence principle axiom theorem postulate
trial hearing inquiry inquisition examination cross-examination testimony witness verdict
tome codex treatise discourse dissertation commentary analysis critique manuscript

Seduction
boudoir alcove garden bower balcony chamber bedchamber pavilion gazebo
perfume silk wine letter poem song gift jewel flower rose
courtesan paramour lover suitor admirer mistress consort favorite companion
desire passion ardor longing yearning infatuation obsession devotion chemistry
allure charm magnetism mystique glamour beauty grace elegance temptation
courtship romance affair liaison tryst rendezvous assignation dalliance flirtation
touch caress embrace kiss whisper sigh glance smile blush
scandal rejection heartbreak jealousy rival betrayal secret discretion conquest

Conflict Resolution
treaty accord pact covenant compact agreement settlement resolution compromise
mediator arbiter diplomat envoy ambassador peacemaker judge referee facilitator
chamber court embassy neutral territory sanctuary parley tent pavilion
negotiation arbitration concession term condition clause provision stipulation amendment
peace harmony balance justice equity fairness reconciliation restoration unity
grievance dispute conflict quarrel feud vendetta claim complaint allegation
handshake seal signature oath pledge vow promise guarantee assurance
impasse deadlock stalemate obstacle barrier hindrance complication dilemma crisis
compensation reparation restitution satisfaction redress remedy solution answer

Persuasion
influence sway leverage authority power charisma magnetism presence gravitas
conviction belief trust faith confidence credibility reputation standing prestige
tongue voice word language expression gesture symbol badge ring
mind heart soul will spirit conscience emotion feeling sentiment
convert win convince move inspire motivate compel urge press
manipulation coercion pressure inducement incentive threat promise reward benefit
envoy ambassador emissary delegate representative agent advocate spokesman champion
rapport connection bond understanding empathy sympathy compassion intuition insight
technique method approach strategy tactic ploy gambit maneuver scheme
resistance doubt skepticism suspicion mistrust opposition obstacle barrier challenge`;function Fy(){const e=new Map,t=[Ry,By,Ly,qy];for(const n of t)if(n&&n.trim().length>0){const i=zy(n);for(const[r,a]of i.entries())e.has(r)&&console.warn(`Duplicate display name found in keyword files: "${r}". Overwriting previous entry.`),e.set(r,a)}return e}const Vy=Fy(),Hy=Vy;function Uy(e,t){for(const n in e){const i=e[n],r=t.get(i.displayName);r&&(i.keywords=r)}return e}class jy{_skills;attributeLib;id="skills";name="Skills Library";description="Manages all skill data and provides access methods";constructor(t){this.attributeLib=t,this._skills={};for(const n in Hc){const i=Hc[n],r=n,a={type:"skill",id:r,displayName:i.displayName,description:i.description,attribute:i.attribute,governedBy:i.governedBy,assistedBy:i.assistedBy,keywords:i.keywords,specializations:[]};if(this._skills[r]=a,i.specializations)for(const o in i.specializations){const s=i.specializations[o],l=o,c={type:"specialization",id:l,parentId:r,displayName:s.displayName,description:s.description,keywords:s.keywords};this._skills[l]=c,a.specializations.push(l)}}this._skills=Uy(this._skills,Hy)}get items(){return this._skills}getSkill(t){const n=this._skills[t];if(n&&n.type==="skill")return n}getSpecialization(t){const n=this._skills[t];if(n&&n.type==="specialization")return n}getAllSkillItems(){return this._skills}getAllSkills(){const t={};return Object.values(this._skills).forEach(n=>{n.type==="skill"&&(t[n.id]=n)}),t}getSkillsByAttribute(t){const n={};return Object.values(this._skills).forEach(i=>{i.type==="skill"&&i.attribute===t&&(n[i.id]=i)}),n}getSkillCategories(){const t=[],n=this.attributeLib.getAttributeDefinitions();return Object.entries(n).forEach(([i,r])=>{const a=this.getSkillsByAttribute(i),o=[];Object.keys(a).length>0&&t.push({attribute:i,displayName:r.displayName,skills:o})}),t}}class Wy{tasks=new Map;isLoaded=!1;verifyTask(t,n,i,r){const a=[],o=c=>{a.push(`[${t}] ${c}`)},s=c=>{const u=i.getSkill(c);if(u)return{id:c,isSpecialization:!1,originalDefinition:u};const d=i.getSpecialization(c);if(d)return{id:c,isSpecialization:!0,parentSkillId:d.parentId,originalDefinition:d}},l=(c,u)=>{const d=new Set;if(c.skills&&c.skills.length>0)for(const h of c.skills)s(h)?d.add(h):o(`${h} not found (${u}).`);if(c.intermediates)for(const h of c.intermediates){const p=h.match(/{_OPTION\d+}/g);if(p)for(const w of p){const m=w.substring(1,w.length-1);c[m]||o(`'${w}' in '${h}', but is missing (${u}).`)}}};if(n.names&&n.names.byBuilding)for(const c in n.names.byBuilding)r.getBuilding(c)||o(`${c} in 'names.byBuilding' not found`),n.names.byBuilding[c].forEach(u=>l(u,`${c}`));return a}loadTasks(t){this.tasks.clear();for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n],r={id:n,...i};this.tasks.set(n,r)}this.isLoaded=!0}verifyAllTasks(t,n){let i=0,r=0;const a=new Map;if(!this.isLoaded)return console.warn("TaskLib: Attempted to verify tasks before loading. Please call loadTasks first."),{verifiedCount:i,errorCount:r,errorDetails:a};t||console.warn("TaskLib: SkillLib instance not provided. Skill verification will be skipped or incomplete."),n||console.warn("TaskLib: BuildingLib instance not provided. Building verification will be skipped or incomplete.");for(const[o,s]of this.tasks){const l=this.verifyTask(o,s,t,n);l.length===0?i++:(r++,a.set(o,l),console.warn(`Validation errors for task '${o}':
- ${l.join(`
- `)}`))}return r>0&&console.warn("TaskLib: Details for tasks with errors:",a),{verifiedCount:i,errorCount:r,errorDetails:a}}getTask(t){return this.tasks.get(t)}values(){return this.tasks.values()}}const Gy=/{[a-zA-Z0-9_]+}/g;function Uc(e,t,n){if(!e||n<0)return e;const i=e.match(Gy);if(i&&i.length>0){const r=i[0],a=r.substring(1,r.length-1),o=t[a];if(o&&Array.isArray(o)&&n<o.length){const s=o[n];return e.replace(r,s)}else return e}return e}class Ky{buildings=new Map;isLoaded=!1;loadBuildings(t){this.buildings.clear();for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n],r={id:n,...i};this.buildings.set(n,r)}this.isLoaded=!0}getBuilding(t){return this.buildings.get(t)}values(){return this.buildings.values()}}class Ne{static ALL_TAB_IDS=["Castle","Crew","Quests","Tasks","Discover","Debug"];static XP_EXPONENT=1.1;static BASE_LEVEL_XP=1e3;static EFFORT_TO_XP_RATIO=.01;static CLUTTER_STEP=10;static DEFAULT_LAST_SKILL_MULTIPLIER=.1;static MIN_EFFORT_FOR_STEP=60;static TASK_STEP_RANDOMIZATION_RANGE=.25;static MAX_COMPLETED_TASKS_HISTORY=20;static MAX_ACTIVE_MAINTENANCE_TASKS=20;static MAX_MAINTENANCE_ATTEMPTS=5;static MIN_EXPECTED_TASK_EFFORT=100;static MAX_EXPECTED_TASK_EFFORT=3e3;static MIN_TASK_STEPS_BASE=3;static MAX_TASK_STEPS_BASE=30;static DISCOVERY_THRESHOLD=7;static DISCOVERY_SKILL_BROWSER="ui_skill_browser";static DISCOVERY_INNER_COSMOS="ui_inner_cosmos";static DISCOVERY_CRYSTAL_BALL="ui_crystal_ball";static DEFAULT_MIN_DELTA_TIME=.05;static MAINTENANCE_SLOW_TICK_INTERVAL=5;static ASSIGNMENT_SLOW_TICK_INTERVAL=1.5;static SKILL_MULTIPLIERS={1:[1],2:[.6,.5],3:[.5,.5,.2],4:[.4,.4,.3,.2]};static DEBUG_MODE=!1;static LOG_LEVEL="info"}class Xy{_byId=new Map;_bySearchableName=new Map;_keywordLookup=new Map;id="discovery";name="Discovery Library";description="Central repository for all discoverable game items";constructor(t,n,i){this.aggregateDiscoverableItems(t,n,i),this.createKeywordLookup(),this.verifyNameWordCounts(),this.verifyKeywordUniqueness()}getById(t){return this._byId.get(t)}getBySearchableName(t){return this._bySearchableName.get(t)}getAllItems(){return this._byId}getSearchableNameIndex(){return this._bySearchableName}getItemIdsByKeyword(t){return this._keywordLookup.get(t.toLowerCase())||[]}getKeywordLookup(){return this._keywordLookup}aggregateDiscoverableItems(t,n,i){this._byId.clear(),this._bySearchableName.clear(),this.aggregateSkills(t),this.aggregateAttributes(n),this.aggregateBuildings(i),this.aggregateStaticItems()}aggregateSkills(t){const n=t.getAllSkillItems();for(const[i,r]of Object.entries(n))if(r.type==="skill"){const a=r,o={id:i,type:"skill",originalItem:a,searchableName:this.createSearchableName(a.displayName),keywords:a.keywords||[]};this.addDiscoverableItem(o)}else if(r.type==="specialization"){const a=r,o={id:i,type:"skill_specialization",originalItem:a,searchableName:this.createSearchableName(a.displayName),keywords:a.keywords||[]};this.addDiscoverableItem(o)}}aggregateAttributes(t){const n=t.getAttributeDefinitions();for(const[i,r]of Object.entries(n)){const a={id:i,type:"attribute_category",originalItem:r,searchableName:this.createSearchableName(r.displayName)};if(this.addDiscoverableItem(a),r.attributes)for(const[o,s]of Object.entries(r.attributes)){const c={id:`${i}.${o}`,type:"attribute",originalItem:s,searchableName:this.createSearchableName(s.displayName)};this.addDiscoverableItem(c)}}}aggregateBuildings(t){for(const n of t.values()){const i={id:n.id,type:"building",originalItem:n,searchableName:this.createSearchableName(n.name)};this.addDiscoverableItem(i)}}aggregateStaticItems(){const t=Ne.ALL_TAB_IDS.map(i=>({id:i,displayName:i,description:`${i} management and overview`}));for(const i of t){const r={id:i.id,type:"tab",originalItem:i,searchableName:this.createSearchableName(i.displayName)};this.addDiscoverableItem(r)}const n=[{id:"gold",displayName:"Gold",description:"Primary currency"},{id:"clutter",displayName:"Clutter",description:"Mess and disorder in the castle"}];for(const i of n){const r={id:i.id,type:"resource",originalItem:i,searchableName:this.createSearchableName(i.displayName)};this.addDiscoverableItem(r)}}addDiscoverableItem(t){this._byId.set(t.id,t),this._bySearchableName.set(t.searchableName,t)}createSearchableName(t){return t.replace(/ and /g," ").replace(/&/g,"").replace(/-/g," ").replace(/\s+/g," ").trim().toLowerCase()}verifyNameWordCounts(){const t=[];for(const[n,i]of this._byId){const r=i.searchableName.split(/\s+/).length;if(r>3){const a=i.originalItem.displayName||i.originalItem.name||n;t.push(`Item "${n}" (${a}) has ${r} words in searchable name: "${i.searchableName}"`)}}if(t.length>0)throw console.error("DiscoveryLib: Items with more than 3 words detected:"),t.forEach(n=>console.error("  "+n)),new Error(`DiscoveryLib: ${t.length} items violate the 3-word name limit. See console for details.`)}verifyKeywordUniqueness(){const t=[];for(const[n,i]of this._byId)if(i.type==="skill"||i.type==="skill_specialization"){const r=i.keywords||[];if(r.length>0){const a=r.flat();if(new Set(a).size!==a.length){const s=i.originalItem.displayName||i.originalItem.name||n,l=a.filter((c,u)=>a.indexOf(c)!==u);t.push(`${i.type} "${n}" (${s}) has duplicate keywords: [${l.join(", ")}]`)}}}if(t.length>0)throw console.error("DiscoveryLib: Skills/specializations with duplicate keywords detected:"),t.forEach(n=>console.error("  "+n)),new Error(`DiscoveryLib: ${t.length} skills/specializations have duplicate keywords. See console for details.`)}createKeywordLookup(){for(const[t,n]of this._byId)if(n.keywords&&n.keywords.length>0)for(const i of n.keywords)for(const r of i){const a=r.toLowerCase();this._keywordLookup.has(a)||this._keywordLookup.set(a,[]);const o=this._keywordLookup.get(a);o&&!o.includes(t)&&o.push(t)}}}const Hr={useful:{major:["channel","commune","conduit","ego","empathy","essence","fusion","insight","intellect","intent","medium","mental","merge","presence","psyche","psychic","rapport","resonance","sentience","sigil","spiritual","sway","sync","telepathy","trance","union","fractionation","hypnosys","id","sanity","madness","abyss","being","vessel","breach","host","meld","mantra","dominance","leash","subjugation","subject"],minor:["access","adept","alchemy","anchor","arcane","archon","astral","aura","aware","beacon","bond","brain","bridge","call","calm","cipher","concept","contact","control","core","current","deep","desire","dominion","door","draw","dream","echo","energy","ether","ethereal","fetish","flow","flux","focus","force","frequency","gateway","glyph","grasp","grimoire","guide","harmony","head","hear","heart","hold","idea","image","inner","join","key","link","listen","lure","mana","memory","mind","mystic","name","nexus","notion","occult","oracle","path","peace","plane","portal","pull","purpose","quiet","reason","relay","rune","scope","secret","seer","self","sense","shaman","share","shift","signal","silence","soul","source","spark","spirit","strength","symbol","talisman","thought","tome","touch","trust","truth","vector","veil","vision","voice","wave","weave","whisper","will","break","intrusion","consciousness","logic","rule","grip","fog","chain","rope","thread","string","wire","cable","route","lock","seal","mark","split","tear","rip","leech","snare","cage","invasion","assault","puppet","thrall","minion","blend","combine","chant","boundary","limit","phantom","specter","wraith","shade","zombie","lich","limbo"],trivial:["aid","air","altar","amulet","ancient","archive","artifact","balance","blood","bless","book","cauldron","cell","chamber","chaos","charm","chart","choice","circle","cleric","code","connection","cosmos","crystal","crypt","curse","dark","data","death","destiny","dimension","divine","druid","earth","element","elemental","elixir","fabric","faith","fate","find","fire","flame","forgot","gem","gift","gleam","glow","goal","guild","hall","hallow","haven","help","hermit","hidden","home","hope","house","ice","idol","info","jewel","journey","knowledge","lab","language","ley","library","life","light","lone","lore","lost","mage","magic","map","master","means","moon","nature","need","new","oath","old","orb","order","plasma","potent","potion","power","priest","primal","pure","quest","radiant","reality","realm","refuge","relic","rift","ritual","room","sacred","sage","sanctum","scholar","scroll","shadow","shelter","shine","sky","sorcerer","sound","space","speak","spell","staff","star","stone","storm","study","sun","test","text","time","token","tower","trial","true","vault","vigor","vital","void","vow","wand","water","way","wisdom","wizard","illusion","word","world","necromancy","sorcery","witchcraft","voodoo","familiar","feel","mist","discord","entropy","container","node","well","sign","root","crack","parasite","trap","attack","possession","slave","morph","transform","evolve","message","meaning","lie","mystery","riddle","puzzle","question","answer","dusk","present","future","place","point","edge","infinity","eternity","ghost","triangle","pentagram","hexagram","cross","ankh","eye","mirror","smoke","incense","sacrifice","pact","bane","boon","character"],cheat:["aesca"]},offensive:["fuck","shit","cunt","dick","asshole","bastard","bitch"]},Yn=2048,jc=2047,Wc=.01001634121365712;function Gc(e){const t=Math.floor(e);return e<t?t-1:t}function Yy(){const e=[.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381],t=[];for(let i=0;i<e.length;i+=2)t.push({dx:e[i]/Wc,dy:e[i+1]/Wc});const n=new Array(Yn);for(let i=0;i<Yn;i++)n[i]=t[i%24];return n}function Zy(){return[{xsv:1,ysv:0,dx:-1- -.211324865405187,dy:0- -.211324865405187},{xsv:0,ysv:0,dx:0- -.211324865405187,dy:0- -.211324865405187},{xsv:1,ysv:1,dx:-1- -.211324865405187*2,dy:-1- -.211324865405187*2},{xsv:0,ysv:1,dx:0- -.211324865405187,dy:-1- -.211324865405187}]}class Lh{perm;permGrad2;gradients2D;lookup2D;constructor(t=0){this.gradients2D=Yy(),this.lookup2D=Zy(),this.perm=new Array(Yn),this.permGrad2=new Array(Yn);const n=new Array(Yn);for(let r=0;r<Yn;r++)n[r]=r;let i=t;for(let r=Yn-1;r>=0;r--){i=i*6364136223846793e3+0x14057b7ef7678100,i=i&4294967295;let a=Math.abs((i+31)%(r+1));this.perm[r]=n[a],this.permGrad2[r]=this.gradients2D[this.perm[r]],n[a]=n[r]}}noise2Base(t,n){let i=0;const r=Gc(t),a=Gc(n),o=t-r,s=n-a,l=Math.floor((s-o)/2+1),c=(o+s)*-.211324865405187,u=o+c,d=s+c;for(let h=0;h<3;h++){const p=this.lookup2D[(l+h)%4],w=u+p.dx,m=d+p.dy;let k=.5-w*w-m*m;if(k<=0)continue;const b=r+p.xsv&jc,S=a+p.ysv&jc,_=this.permGrad2[this.perm[b]^S],g=_.dx*w+_.dy*m;k*=k,i+=k*k*g}return i}noise2DXBeforeY(t,n){t*=.01,n*=.01;const i=t*.7071067811865476,r=n*1.224744871380249;return this.noise2Base(r+i,r-i)}noise1D(t){return this.noise2DXBeforeY(t,0)}}let Is=null;function Ns(e=0){Is=new Lh(e)}function qh(e){return Is||Ns(),Is.noise1D(e)}function Qy(e,t=4,n=.5,i=1){let r=0,a=1,o=i,s=0;for(let l=0;l<t;l++)r+=qh(e*o)*a,s+=a,a*=n,o*=2;return r/s}const Fh=6364136223846793005n,Vh=1442695040888963407n;function Jy(e,t){return t=t&31,(e>>>t|e<<32-t)>>>0}function Hh(e){const t=Number(e>>59n)&31;let n=e^e>>18n;const i=Number(n>>27n&0xFFFFFFFFn);return Jy(i,t)}function Ur(e){let t=kl(e);return t=t*Fh+Vh&0xFFFFFFFFFFFFFFFFn,Number(t>>32n)}function ev(e){const t=kl(e);return Hh(t)/4294967296}function kl(e){let n=(BigInt(Math.abs(e))&0xFFFFFFFFn^0x9E3779B97F4A7C15n)*0xBF58476D1CE4E5B9n;return n=(n^n>>30n)*0x94D049BB133111EBn,n=(n^n>>27n)*0x9E3779B97F4A7C15n,n^n>>31n}function tv(e){let t=kl(e);const i=Hh(t)/4294967296;t=t*Fh+Vh&0xFFFFFFFFFFFFFFFFn;const r=Number(t>>32n);return{value:i,newSeed:r}}function nv(e){if(!e||e.length===0)return-1;const t=e.reduce((i,r)=>i+r,0);if(t<=0)return Math.floor(Math.random()*e.length);let n=Math.random()*t;for(let i=0;i<e.length;i++){if(n<e[i])return i;n-=e[i]}return e.length-1}let iv=new Lh(12345);const Kc=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function Je(e,t=1,n=0,i=!0){if(!e)return"";if(t===0)return e;const r=e.length;if(r===0)return"";if(r===1)return t>.5?"":e;let a="";const o=e.charCodeAt(0)||1,s=e.charCodeAt(r-1)||1;let l=o*31+s*17+r*7&4294967295,c=o*41+s*23+r*11&4294967295;for(let u=0;u<r;u++){const d=e[u];if(d===" "){a+=" ",l=Ur(l),c=Ur(c);continue}l=Ur(l^u*37);const h=ev(l),p=e.charCodeAt(u)||1;c=Ur(c^p);let w;if(i)if(u===0)w="";else if(u===r-1)w="?";else{const k=(c&2147483647)%Kc.length;w=Kc[k]}else w="";let m;if(n>0&&r>1){const b=1-u/(r-1),S=(1-n)*h+n*b;m=t>S}else m=t>h;a+=m?w:d}return a}function Hi(e){const t=e.trim();if(!t)return[];const n=t.indexOf(" "),i=n===-1?t:t.substring(0,n),r=new Set;r.add(i);const a=o=>{o&&o.length>0&&o.length<i.length&&r.add(o)};if(i.length>2&&i.endsWith("es")?a(i.slice(0,-2)):i.length>1&&i.endsWith("s")&&a(i.slice(0,-1)),i.length>3&&i.endsWith("ing")){const o=i.slice(0,-3);a(o);const s=o+"e";o.length>0&&s.length<i.length&&a(s)}if(i.length>4&&i.endsWith("ment")&&a(i.slice(0,-4)),i.length>4&&i.endsWith("ness")&&a(i.slice(0,-4)),i.length>2&&i.endsWith("ly")&&a(i.slice(0,-2)),i.length>2&&i.endsWith("er")&&a(i.slice(0,-2)),i.length>3&&i.endsWith("est")&&a(i.slice(0,-3)),i.length>2&&i.endsWith("ed")){const o=i.slice(0,-2);a(o);const s=o+"e";o.length>0&&s.length<i.length&&a(s)}if(i.length>3&&i.endsWith("ion")){const o=i.slice(0,-3);a(o);const s=o+"e";o.length>0&&s.length<i.length&&a(s)}return i.length>2&&i.endsWith("al")&&a(i.slice(0,-2)),i.length>3&&i.endsWith("ize")&&a(i.slice(0,-3)),i.length>3&&i.endsWith("ise")&&a(i.slice(0,-3)),Array.from(r)}function Uh(e,t){const n=e.length,i=t.length;if(Math.abs(n-i)>1)return!1;if(n===i){let c=0;for(let u=0;u<n;u++)if(e[u]!==t[u]&&c++,c>1)return!1;return!0}const r=n<i?e:t,a=n<i?t:e;let o=0,s=0,l=!1;for(;o<r.length&&s<a.length;)if(r[o]!==a[s]){if(l)return!1;l=!0,s++}else o++,s++;return!0}const JM=Object.freeze(Object.defineProperty({__proto__:null,areOneEditAway:Uh,obfuscateString:Je,wordify:Hi},Symbol.toStringTag,{value:"Module"}));class ho{words=new Map;_usefulWordsCount=0;constructor(){this.loadWords()}loadWords(){const t={trivial:1,minor:2,major:3,cheat:100};if(Hr.useful)for(const[n,i]of Object.entries(Hr.useful)){const r=t[n]||1;i.forEach(a=>{const o={id:a.toLowerCase(),name:a,type:"useful",points:r};this.words.set(a.toLowerCase(),o)})}Hr.offensive&&Hr.offensive.forEach(n=>{const i={id:n.toLowerCase(),name:n,type:"offensive",points:0};this.words.set(n.toLowerCase(),i)}),this._usefulWordsCount=[...this.words.values()].filter(n=>n.type==="useful").length}getWord(t){return this.words.get(t.toLowerCase())}getWordByName(t){return ho.findWordInMap(t,this.words)}static findWordInMap(t,n){const i=t.toLowerCase(),r=Hi(i);for(const a of r){const o=n.get(a);if(o)return o}}getAllWords(){return this.words.values()}getUsefulWordsCount(){return this._usefulWordsCount}}const Vo={turfablie:{name:"Turfablie",description:"Highland artificer town with established merchant routes. Peaceful and picturesque.",imageName:"turfablie.jpg",pros:["Strong, stable telepathic signal","Minimal resistance to merger","Thriving markets"],cons:["Guild masters are not as skilled"]},aeiga_reika:{name:"Aeiga-Reika",description:"Industrial port city. Home to a large golem foundry. Salty and smoggy.",imageName:"aeiga_reika.jpg",pros:["Skilled guild masters","Wealthy port commerce"],cons:["Weak signal and intermittent telepathic interference during possession"]},sequoiter:{name:"Sequoiter",description:"Last outpost before the boreal wilderness. Currently experiencing rapid growth.",imageName:"sequoiter.jpg",pros:["Relatively skilled guild masters","Better-maintained guild infrastructure"],cons:["Weak telepathic signal","Targets have strong mental defenses"]}};class jh{locations=new Map;constructor(){this.loadLocations()}loadLocations(){for(const t in Vo)if(Object.prototype.hasOwnProperty.call(Vo,t)){const i={...Vo[t],id:t};this.locations.set(t,i)}}getLocation(t){return this.locations.get(t)}getAllLocations(){return Array.from(this.locations.values())}}var At=(e=>(e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e))(At||{});class po{uid;name;type;root;parent;constructor(t){this.name=t,this.type=this.constructor.name}getHierarchicalPath(){return this.parent?`${this.parent.getHierarchicalPath()}.${this.name}`:this.name}init(t){}exit(){}handleEvent(t,n,i){}update(t,n){}}class Il extends po{children;currentIndex=-1;constructor(t,n){super(t),this.children=n}wireTree(t,n){this.root=t,this.parent=n,this.uid=this.getHierarchicalPath();for(const i of this.children)i instanceof Il?i.wireTree(t,this):(i.root=t,i.parent=this,i.uid=i.getHierarchicalPath())}init(t){this.root.invoker?.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started.`),this.currentIndex=-1,this.advance(t)}exit(){this.currentIndex>=0&&this.currentIndex<this.children.length&&this.children[this.currentIndex].exit()}report(t,n){t===At.SUCCESS?this.advance(n)&&this.parent?.report(At.SUCCESS,n):this.parent?.report(At.FAILURE,n)}advance(t){return this.currentIndex>-1&&this.children[this.currentIndex].exit(),this.currentIndex++,this.currentIndex<this.children.length?(this.children[this.currentIndex].init(t),!1):!0}}class Xc extends Il{invoker;blackboard={};constructor(t,n){super(t,n),this.wireTree(this,void 0)}report(t,n){if(t===At.FAILURE){this.invoker?.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} (ROOT) reported ${t}.`),this.exit(),this.invoker?.reportTreeComplete(this);return}this.advance(n)&&(this.invoker?.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} (ROOT) reported SUCCESS.`),this.exit(),this.invoker?.reportTreeComplete(this))}advance(t){return this.currentIndex>-1&&this.children[this.currentIndex].exit(),this.currentIndex++,this.currentIndex<this.children.length?(this.children[this.currentIndex].init(t),!1):!0}}class jr extends po{lambda;constructor(t,n){super(t),this.lambda=n}init(t){this.root.invoker?.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started.`);try{this.lambda(this,t),this.parent?.report(At.SUCCESS,t)}catch(n){console.error(`[BehTree] Error in ${this.getHierarchicalPath()}:`,n),this.parent?.report(At.FAILURE,t)}}}class Ho extends po{eventId;predicate;constructor(t,n,i){super(t),this.eventId=n,this.predicate=i}init(t){this.root.invoker?(this.root.invoker.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started, awaiting event '${this.eventId}'.`),this.root.invoker.addEventListener(this.eventId,this)):(console.error(`[BehTree] ${this.getHierarchicalPath()} cannot listen for event without an invoker.`),this.parent?.report(At.FAILURE,t))}exit(){this.root.invoker?.removeEventListener(this)}handleEvent(t,n,i){t.id===this.eventId&&(!this.predicate||this.predicate(t,i))&&(this.root.invoker?.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} caught event '${this.eventId}' and predicate passed.`),this.parent?.report(At.SUCCESS,n))}}var oe;(e=>{function t(O,P){const E=new En(O);return console.assert(!P.connectablesByName.has(O),`Stat already exists: ${O}`),P.connectablesByName.set(O,E),E}e.createParameter=t;function n(O,P,E){const B=new cr(O,P);return console.assert(!E.connectablesByName.has(O),`Stat already exists: ${O}`),E.connectablesByName.set(O,B),B}e.createStat=n;function i(O,P,E){const B=new Si(O,P);return console.assert(!E.connectablesByName.has(O),`Stat already exists: ${O}`),E.connectablesByName.set(O,B),B}e.createFormulaStat=i;function r(O,P,E,B){const V=new Xn(O,P,B);return console.assert(!E.connectablesByName.has(O),`Stat already exists: ${O}`),E.connectablesByName.set(O,V),V}e.createFormulaParameter=r;function a(O,P,E,B){const V=new bi(O,P,E);return console.assert(!B.connectablesByName.has(O),`Stat already exists: ${O}`),B.connectablesByName.set(O,V),V}e.createGateParameter=a;function o(O,P,E,B,V){const T=B.connectablesByName.get(O),U=B.connectablesByName.get(P);if(!T){console.error(`Connection source doesn't exist: ${O}`);return}if(!U){console.error(`Connection target doesn't exist: ${P}`);return}if(U.independent){console.error(`Cannot connect to an IndependentStat: ${P}`);return}if(E===_e.NAMED_INPUT&&!V){console.error(`inputName is required for NAMED_INPUT connection type when calling connectStr for ${P}.`);return}if(B.establishedConnections.has(O)||B.establishedConnections.set(O,[]),B.establishedConnections.get(O).some(M=>M.target===P&&M.type===E&&M.inputName===V)){console.warn(`Connection already exists: ${O} -> ${P} (type: ${E})`);return}const y=new Vc(P,E,V);if(B.establishedConnections.get(O).push(y),E===_e.MULTY){if(!(U instanceof En)){console.error(`MULTY connection target ${P} is not a Parameter.`);return}U.multi.includes(O)||(U.multi.push(O),h(U,B))}else if(E===_e.NAMED_INPUT){if(!(U instanceof Xn)){console.error(`NAMED_INPUT connection target ${P} is not a FormulaParameter.`);return}if(!V){console.error(`inputName is crucial for NAMED_INPUT connection to ${P} but was not provided.`);return}U.inputs[V]=T.value,m(U,B);return}else if(E===_e.DIV){if(!(U instanceof En)){console.error(`DIV connection target ${P} is not a Parameter.`);return}U.divSources.includes(O)||(U.divSources.push(O),h(U,B))}S(y,0,T.value,B)}e.connectStr=o;function s(O,P,E,B,V){if(console.assert(!P.independent,`Cannot connect to an IndependentStat: ${P.name}`),E===_e.NAMED_INPUT){if(!(P instanceof Xn)){console.error(`Target for NAMED_INPUT connection must be a FormulaParameter. Target: ${P.name}`);return}if(!V){console.error(`inputName is required for NAMED_INPUT connection type to ${P.name}.`);return}}if((E===_e.GATE_THRESHOLD||E===_e.GATE_VALUE)&&!(P instanceof bi)){console.error(`Target for GATE_THRESHOLD/GATE_VALUE connection must be a GateParameter. Target: ${P.name}`);return}o(O.name,P.name,E,B,V)}e.connectStat=s;function l(O,P,E){if(O.value===P)return;const B=O.value;O.value=P,b(O,B,P,E)}function c(O,P,E){l(O,O.value+P,E)}e.modifyStat=c;function u(O,P,E){l(O,P,E)}e.setIndependentStat=u;function d(O,P,E){P!==0&&(O.add+=P,p(O,E))}e.modifyParameterADD=d;function h(O,P){O.multiCache=1,O.multi.forEach(E=>{const B=P.connectablesByName.get(E);B&&(O.multiCache*=B.value)}),O.divSources.forEach(E=>{const B=P.connectablesByName.get(E);if(B){const V=B.value===0?1:B.value;O.multiCache/=V}})}function p(O,P){const E=O.add*O.multiCache;l(O,E,P)}function w(O,P){const E=O.formula(O.argument);l(O,E,P)}function m(O,P){const E=O.formula(O.inputs);l(O,E,P)}function k(O,P){const E=O.baseValue+O.inputValue;O.isAboveThreshold===E>=O.threshold&&l(O,O.inputValue,P)}function b(O,P,E,B){const V=B.establishedConnections.get(O.name);if(V)for(const T of V)S(T,P,E,B)}function S(O,P,E,B){const V=B.connectablesByName.get(O.target);if(!V||V.independent)return;const T=V;switch(O.type){case _e.ADD:T.add+=E-P,p(T,B);break;case _e.SUB:T.add-=E-P,p(T,B);break;case _e.MULTY:h(T,B),p(T,B);break;case _e.DIV:h(T,B),p(T,B);break;case _e.FORMULA:T.argument=E,w(T,B);break;case _e.NAMED_INPUT:T.inputs[O.inputName]=E,m(T,B);break;case _e.GATE_THRESHOLD:T.threshold=E,k(T,B);break;case _e.GATE_VALUE:T.inputValue=E,k(T,B);break}}function _(O,P){return P.connectablesByName.get(O)}e.getStat=_;function g(O,P){const E=P.connectablesByName.get(O);if(!E)throw new Error(`Stat not found: ${O}`);return E}e.getStatAsserted=g;function D(O){if(O instanceof cr){const P=new cr(O.name,0);return P.value=O.value,P}else if(O instanceof En){const P=new En(O.name);return P.add=O.add,P.multi=[...O.multi],P.divSources=[...O.divSources],P.multiCache=O.multiCache,P.value=O.value,P}else if(O instanceof Si){const P=new Si(O.name,O.formula);return P.argument=O.argument,P.value=O.value,P}else if(O instanceof Xn){const P=new Xn(O.name,O.formula,{...O.inputs});return P.value=O.value,P}else if(O instanceof bi){const P=new bi(O.name,O.baseValue,O.isAboveThreshold);return P.threshold=O.threshold,P.inputValue=O.inputValue,P.value=O.value,P}throw new Error(`Unknown stat type for cloning: ${O.name} of type ${O.constructor.name}`)}function q(O){const P=new Bh;return O.connectablesByName.forEach((E,B)=>{P.connectablesByName.set(B,D(E))}),O.establishedConnections.forEach((E,B)=>{const V=E.map(T=>new Vc(T.target,T.type,T.inputName));P.establishedConnections.set(B,V)}),P}e.cloneConnections=q})(oe||(oe={}));const Uo="res_",Yc="chr_",rv="bld_";class av{name;current;income;max;constructor(t,n,i,r){this.name=t;const a=`${Uo}${t}_current`,o=`${Uo}${t}_income`,s=`${Uo}${t}_max`;this.current=oe.createStat(a,n,r),this.income=oe.createParameter(o,r),this.max=oe.createParameter(s,r),oe.modifyParameterADD(this.max,i,r)}update(t,n){const i=this.income.value,r=this.max.value,a=this.current.value;if(i===0)return;let o=i*t,s=a+o;s>r&&(s=r),s<0&&(s=0),Math.abs(s-a)>1e-6&&oe.setIndependentStat(this.current,s,n)}}function Ts(e,t,n,i,r){if(e.has(t))return console.warn(`Resource "${t}" already exists.`),e.get(t);const a=new av(t,n,i,r);return e.set(t,a),a}function Nl(e,t){return e.get(t)}function ov(e,t,n){e.forEach(i=>{i.update(t,n)})}var Nt=(e=>(e.Maintenance="Maintenance",e.Opportunity="Opportunity",e.Endeavour="Endeavour",e.Quest="Quest",e))(Nt||{}),Xe=(e=>(e.Available="Available",e.Queued="Queued",e.Processing="Processing",e.Paused="Paused",e.Complete="Complete",e))(Xe||{});const Ps=new Map;function Wr(e,t){Ps.has(e)&&console.warn(`[MinigameUISync] Overwriting UI sync function for type: ${e}`),Ps.set(e,t)}function Wh(e){const t=e.hypothetical?.connections||null;e.uiState.hypotheticalConnections!==t&&(e.uiState.hypotheticalConnections=t)}function Gh(e){const t=e.resources,n=new Set(Object.keys(e.uiState.resources));t.forEach((i,r)=>{if(!e.uiState.resources[r])e.uiState.resources[r]={current:i.current.value,max:i.max.value,income:i.income.value};else{const a=e.uiState.resources[r];a.current=i.current.value,a.max=i.max.value,a.income=i.income.value}n.delete(r)}),n.forEach(i=>{delete e.uiState.resources[i]})}function Tl(e){const t=new Set(Object.keys(e.uiState.debugStats));e.connections.connectablesByName.forEach((n,i)=>{let r;n instanceof En?r={add:n.add,multiCache:n.multiCache}:n instanceof Si?r={argument:n.argument}:n instanceof cr&&(r=void 0);const a={value:n.value};r&&(a.params=r);const o=e.uiState.debugStats[i];if(!o)e.uiState.debugStats[i]=a;else{o.value!==a.value&&(o.value=a.value);const s=o.params?JSON.stringify(o.params):"null",l=a.params?JSON.stringify(a.params):"null";s!==l&&(a.params?o.params={...a.params}:delete o.params)}t.delete(i)}),t.forEach(n=>{delete e.uiState.debugStats[n]})}function Pl(e){e.uiState.characters.length=0;const t=e.lib.attributes.getAttributeDefinitions();if(!t){console.error("Cannot update character UI data: Attribute definitions not loaded.");return}const n=e.lib.skills.getAllSkills();if(!n){console.error("Cannot update character UI data: Skill definitions not loaded or empty.");return}for(const i of e.characters){const r=e.lib.characters.getCharacter(i.characterId),a=`chr_${r.id}__`,o=[];for(const w in t){const m=t[w],k=`${a}${w}`,b=i.attributes[k];if(!b){console.warn(`Primary attribute stat not found: ${k}`);continue}const S=[];for(const _ in m.attributes){const g=m.attributes[_],D=`${a}${_}`,q=i.attributes[D];q?S.push({key:_,stat:q,definition:g}):console.warn(`Secondary attribute stat not found: ${D}`)}o.push({key:w,stat:b,definition:m,attributes:S})}const s=[];for(const w in i.skills){const m=n[w];if(m){const k=i.skills[w],b=i.proficiencies[w];if(!k){console.warn(`Skill stat not found: ${w}`);continue}if(!b){console.warn(`Skill proficiency stat not found: ${w}`);continue}const S=[];for(const _ of m.specializations){const g=e.lib.skills.getSpecialization(_),D=i.specializations[_],q=i.proficiencies[_];g&&D&&q&&D.value>0?S.push({id:_,stat:D,proficiencyStat:q,definition:g}):D&&D.value>0&&console.warn(`UIStateManager: Specialization definition or proficiency stat not found for ID: ${_} (parent skill: ${w})`)}s.push({id:w,stat:k,proficiencyStat:b,definition:m,specializations:S})}}const l=i.xp.value,c=i.level.value,u=i.nextLevelXpDelta.value,h=(w=>{if(w<=1)return 0;const m=1.1,k=1e3,b=g=>{if(g===0)return 0;const D=Math.floor(Math.log10(Math.abs(g))),q=Math.pow(10,D-1);return Math.round(g/q)*q};let S=0,_=k;for(let g=2;g<=w;g++)S+=_,_=b(_*m);return S})(c),p=l-h;e.uiState.characters.push({id:i.characterId,name:i.name,level:i.level.value,upkeep:i.upkeep.value,bio:r.bio||"",attributes:o,skills:s,attributePoints:i.attributePoints.value,skillPoints:i.skillPoints.value,specPoints:i.specPoints.value,xp:{current:l,progress:p,nextLevelDelta:u}})}e.uiState.characters.length>0&&e.uiState.selectedCharacterId===null&&(e.uiState.selectedCharacterId=e.uiState.characters[0].id)}function Kh(e){const t=new Set(e.uiState.constructedBuildingIds),n=new Set(e.buildings.map(i=>i.buildingId));n.forEach(i=>{t.has(i)||e.uiState.constructedBuildingIds.add(i)}),t.forEach(i=>{n.has(i)||e.uiState.constructedBuildingIds.delete(i)})}function Xh(e){const t=[...e.availableTasks,...e.queuedTasks,...e.processingTasks,...e.completedTasks],n=(u,d)=>{const h=new Map;for(const p of u)h.set(p.uid,p);u.length=0;for(const p of d){const w=h.get(p.uid);let m="";if(w){if(w.stepIdx===p.stepIdx)m=w.currentStepResolvedText;else if(p.stepCount>0&&p.stepIdx>=0&&p.stepIntermediateIdx>=0&&p.resolvedDefinitionDetails?.intermediates&&p.stepIntermediateIdx<p.resolvedDefinitionDetails.intermediates.length){const b=p.resolvedDefinitionDetails.intermediates[p.stepIntermediateIdx];m=Uc(b,p.resolvedDefinitionDetails,p.stepOptionIdx)}const k={...w,...p,currentStepResolvedText:m};u.push(k)}else{const k={...p};if(k.stepCount>0&&k.stepIdx>=0&&k.stepIntermediateIdx>=0&&k.resolvedDefinitionDetails?.intermediates&&k.stepIntermediateIdx<k.resolvedDefinitionDetails.intermediates.length){const b=k.resolvedDefinitionDetails.intermediates[k.stepIntermediateIdx];m=Uc(b,k.resolvedDefinitionDetails,k.stepOptionIdx)}k.currentStepResolvedText=m,u.push(k)}}},i=[],r=[],a=[],o=[],s=[],l=[],c=[];for(const u of t)if(u.status===Xe.Complete)i.push(u);else if(u.status===Xe.Processing)r.push(u);else if(u.status===Xe.Queued)a.push(u);else if(u.status===Xe.Available)switch(u.type){case Nt.Maintenance:o.push(u);break;case Nt.Opportunity:s.push(u);break;case Nt.Endeavour:l.push(u);break;case Nt.Quest:c.push(u);break}n(e.uiState.uiCompletedTasks,i),n(e.uiState.uiActiveTasks,r),n(e.uiState.uiQueuedTasks,a),n(e.uiState.uiMaintenanceTasks,o),n(e.uiState.uiOpportunityTasks,s),n(e.uiState.uiEndeavourTasks,l),n(e.uiState.uiQuestTasks,c)}function Yh(e){e.uiState.currentTimeScale!==e.timeScale.current&&(e.uiState.currentTimeScale=e.timeScale.current)}function Zh(e){e.uiState.uiWorkSpeed!==e.workSpeed.value&&(e.uiState.uiWorkSpeed=e.workSpeed.value),e.uiState.uiClutterRatio!==e.clutterRatio.value&&(e.uiState.uiClutterRatio=e.clutterRatio.value)}function Qh(e){const t=e.discoveredItems.size;e.uiState.discoveredItemsCount!==t&&(e.uiState.discoveredItemsCount=t)}function Jh(e){if(e.activeMinigame&&e.uiState.activeMinigameState){const t=Ps.get(e.activeMinigame.type);t&&t(e)}else!e.activeMinigame&&e.uiState.activeMinigameState!==null&&(e.uiState.activeMinigameState=null)}function ep(e){const t=e.discoveredItems.size,n=e.encounteredItems.size,i=e.activeKeywords.size,r=e.discardedKeywords.size;if(e.uiState.activeKeywords.size!==i||e.uiState.discoveredItemsCount!==t){e.uiState.activeKeywords.clear();for(const[s,l]of e.activeKeywords)e.uiState.activeKeywords.set(s,[...l])}if(e.uiState.encounteredItemsCount=n,e.uiState.discardedKeywords.size!==r){e.uiState.discardedKeywords.clear();for(const s of e.discardedKeywords)e.uiState.discardedKeywords.add(s)}const a=e.uiState.discoveryAnalysisLog.length,o=e.discoveryAnalysisLog.length;(a!==o||o>0&&a>0&&e.uiState.discoveryAnalysisLog[a-1]!==e.discoveryAnalysisLog[o-1])&&(e.uiState.discoveryAnalysisLog.length=0,e.uiState.discoveryAnalysisLog.push(...e.discoveryAnalysisLog)),(e.uiState.crystalBallWords.length!==e.crystalBallWords.length||!e.uiState.crystalBallWords.every((s,l)=>s===e.crystalBallWords[l]))&&(e.uiState.crystalBallWords=[...e.crystalBallWords])}function xs(e){if(Jh(e),e.activeMinigame&&e.activeMinigame.hidesMainUI)return;Gh(e),Yh(e),Zh(e),Wh(e);const t=e.uiState.activeTabName;t==="Crew"?Pl(e):t==="Debug"?Tl(e):t==="Castle"?Kh(e):t==="Tasks"?Xh(e):t==="Discover"&&ep(e),Qh(e)}const sv=Object.freeze(Object.defineProperty({__proto__:null,sync:xs,syncConstructedBuildings:Kh,syncCoreParameters:Zh,syncDiscoveredItems:Qh,syncDiscoveryState:ep,syncHypotheticalState:Wh,syncMinigameState:Jh,syncTasksView:Xh,syncTimeScale:Yh,syncUiResources:Gh,updateCharacterUIData:Pl,updateDebugView:Tl},Symbol.toStringTag,{value:"Module"}));function lv(e){if(e<=1)return 0;let t=0,n=Ne.BASE_LEVEL_XP;for(let i=2;i<=e;i++)t+=n,n=xl(n*Ne.XP_EXPONENT);return t}function xl(e){if(e===0)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=Math.pow(10,t-1);return Math.round(e/n)*n}function cv(e){if(e<=1)return 0;if(e===2)return Ne.BASE_LEVEL_XP;let t=Ne.BASE_LEVEL_XP;for(let n=3;n<=e;n++)t=xl(t*Ne.XP_EXPONENT);return t}function uv(e){if(e<0)return 1;let t=1,n=0,i=Ne.BASE_LEVEL_XP;for(;e>=n+i;)n+=i,t++,i=xl(i*Ne.XP_EXPONENT);return t}var zi;(e=>{function t(s,l){const c=s.lib.characters.getCharacter(l);if(!c){console.warn(`Character.addCharacter: Character definition not found for ID: ${l}`);return}if(s.characters.find(k=>k.characterId===l))return console.warn(`Character.addCharacter: Character with ID ${l} already exists.`),s.characters.find(k=>k.characterId===l);const u=s.lib.attributes.getAttributeDefinitions(),d=s.lib.skills.getAllSkills(),h=`${Yc}${c.id}__`,p=k=>lv(k+1),w=k=>cv(k+1),m={characterId:c.id,name:c.name,level:oe.createFormulaStat(`${h}level`,uv,s.connections),gatedXp:oe.createGateParameter(`${h}gatedXp`,0,!0,s.connections),lastAwardedLevel:oe.createStat(`${h}lastAwardedLevel`,c.initialLevel||1,s.connections),xp:oe.createStat(`${h}xp`,0,s.connections),nextLevelXp:oe.createFormulaStat(`${h}nextLevelXp`,p,s.connections),nextLevelXpDelta:oe.createFormulaStat(`${h}nextLevelXpDelta`,w,s.connections),baseUpkeep:oe.createStat(`${h}base_upkeep`,c.baseUpkeep,s.connections),upkeep:oe.createParameter(`${h}upkeep`,s.connections),attributes:{},attributePoints:oe.createStat(`${h}attributePoints`,0,s.connections),skillPoints:oe.createStat(`${h}skillPoints`,0,s.connections),specPoints:oe.createStat(`${h}specPoints`,0,s.connections),skillPointsByAttribute:{},skills:{},specializations:{},proficienciesRaw:{},proficiencies:{},avgGovAttrStatsCache:new Map};oe.connectStat(m.baseUpkeep,m.upkeep,_e.ADD,s.connections),oe.connectStat(m.level,m.upkeep,_e.MULTY,s.connections),oe.connectStat(m.xp,m.gatedXp,_e.GATE_VALUE,s.connections),oe.connectStat(m.nextLevelXp,m.gatedXp,_e.GATE_THRESHOLD,s.connections),oe.connectStat(m.gatedXp,m.level,_e.FORMULA,s.connections),oe.connectStat(m.level,m.nextLevelXp,_e.FORMULA,s.connections),oe.connectStat(m.level,m.nextLevelXpDelta,_e.FORMULA,s.connections);for(const k in u)if(Object.prototype.hasOwnProperty.call(u,k)){const b=u[k],S=`${h}${k}`,_=c.initialAttributes?.[k]??0;if(m.attributes[S]=oe.createStat(S,_,s.connections),b.attributes){for(const g in b.attributes)if(Object.prototype.hasOwnProperty.call(b.attributes,g)){const D=`${h}${g}`,q=c.initialAttributes?.[g]??0;m.attributes[D]=oe.createStat(D,q,s.connections)}}}for(const k in u)if(Object.prototype.hasOwnProperty.call(u,k)){const b=`${h}skillPointsByAttribute_${k}`;m.skillPointsByAttribute[k]=oe.createStat(b,0,s.connections)}if(c.initialSkills){for(const k in c.initialSkills)if(Object.prototype.hasOwnProperty.call(c.initialSkills,k)&&d[k]){const b=c.initialSkills[k],S=d[k];n(m,k,b,S,h,s.connections,s)}}if(s.characters.push(m),oe.connectStat(m.upkeep,s.totalCharacterUpkeep,_e.ADD,s.connections),c.triggerOnCreated)try{s.processEventsForCharacter(c.triggerOnCreated,m,c)}catch(k){console.error(`Character.addCharacter: ${m.name} - Error processing triggerOnCreated events:`,k)}return Pl(s),m}e.addCharacter=t;function n(s,l,c,u,d,h,p){if(i(s,l,c.level,u,d,h,p),p&&p.markAsEncountered(l),c.specializations&&u.specializations){for(const w of u.specializations)if(Object.prototype.hasOwnProperty.call(c.specializations,w)){const m=c.specializations[w];r(s,w,m,u,d,h,p),p&&p.markAsEncountered(w)}}}e.addInitialSkillWithSpecializations=n;function i(s,l,c,u,d,h,p){const w=`${d}skill_${l}`;let m=s.skills[l],k=!1;m?oe.setIndependentStat(m,c,h):(m=oe.createStat(w,c,h),s.skills[l]=m,k=!0,p&&p.markAsEncountered(l));let b=s.avgGovAttrStatsCache.get(l);if(!b){const O=P=>{const E=Object.values(P);return E.length===0?0:E.reduce((V,T)=>V+(T||0),0)/E.length};if(b=oe.createFormulaParameter(`${d}avg_gov_attr_${l}`,O,h,{}),u.governedBy&&u.governedBy.length>0)for(const P of u.governedBy){let E;for(const B in s.attributes)if(B.endsWith(`__${P}`)){E=s.attributes[B];break}E?oe.connectStat(E,b,_e.NAMED_INPUT,h,P):console.warn(`Governing attribute ${P} not found on character ${s.characterId} for skill ${l}. It will not contribute to proficiency calculation if its value is 0.`)}s.avgGovAttrStatsCache.set(l,b)}const S=`${d}prof_raw_${l}`;let _=s.proficienciesRaw[l],g=!1;if(_||(_=oe.createParameter(S,h),s.proficienciesRaw[l]=_,g=!0),_.add!==1){const O=_.add;oe.modifyParameterADD(_,1-O,h)}(k||g)&&(oe.connectStat(m,_,_e.ADD,h),oe.connectStat(b,_,_e.MULTY,h));const D=`${d}prof_${l}`;let q=s.proficiencies[l];q||(q=oe.createFormulaStat(D,Math.sqrt,h),s.proficiencies[l]=q,oe.connectStat(_,q,_e.FORMULA,h))}e.upsertSkillAndProficiency=i;function r(s,l,c,u,d,h,p){const w=`${d}spec_${l}`;let m=s.specializations[l],k=!1;m?oe.setIndependentStat(m,c,h):(m=oe.createStat(w,c,h),s.specializations[l]=m,k=!0,p&&p.markAsEncountered(l));const b=u.id,S=s.proficienciesRaw[b];if(!S){console.warn(`upsertSpecializationAndProficiency: Parent skill raw proficiency stat for ${b} not found on character ${s.characterId} when upserting spec ${l}. Spec proficiency will be incorrect.`);return}const _=`${d}prof_raw_${l}`;let g=s.proficienciesRaw[l],D=!1;if(g||(g=oe.createParameter(_,h),s.proficienciesRaw[l]=g,D=!0),g.add!==1){const P=g.add;oe.modifyParameterADD(g,1-P,h)}(k||D)&&(oe.connectStat(m,g,_e.ADD,h),oe.connectStat(S,g,_e.MULTY,h));const q=`${d}prof_${l}`;let O=s.proficiencies[l];O||(O=oe.createFormulaStat(q,Math.sqrt,h),s.proficiencies[l]=O,oe.connectStat(g,O,_e.FORMULA,h))}e.upsertSpecializationAndProficiency=r;function a(s,l,c,u,d){const h=`${Yc}${s.characterId}__`;if(i(s,l,u,c,h,d),c.specializations)for(const p of c.specializations)r(s,p,u,c,h,d)}e.setOrUpdateSkillAndAllSpecializations=a;function o(s,l,c){const u=s.proficiencies[l];if(u)return u.value;const d=c.lib.skills,h=d.getAllSkillItems()[l];if(h&&h.type==="specialization"){const w=h;if(w.parentId)return o(s,w.parentId,c)}let p;if(h&&h.type==="skill")p=h;else if(h&&h.type==="specialization"){const w=d.getSkill(h.parentId);w&&(p=w)}if(p&&p.governedBy&&p.governedBy.length>0){let w=0,m=0;for(const k of p.governedBy){let b;for(const S in s.attributes)if(S.endsWith(`__${k}`)){b=s.attributes[S];break}b&&(w+=b.value,m++)}if(m>0){const k=w/m;return Math.sqrt(k)}}return console.warn(`Proficiency for ${l} not found, and no governing attributes defined or found for fallback calculation. Returning 0.`),0}e.getProficiency=o})(zi||(zi={}));function dv(e,t,n){const i=pv(e);if(!i)return[{type:"INVALID_INPUT",input:e,reason:"Empty input after cleaning"}];const a=i.split(/\s+/).length;if(a===1){const o=jo(i,t,n),s=hv(i,t,n),l=[];return o.length>0&&o[0].type==="DIRECT_DISCOVERY"&&l.push(...o),s.length>0&&["ADD_ACTIVE_KEYWORD","ADD_DISCARDED_KEYWORD","KEYWORD_ALREADY_ACTIVE","KEYWORD_ALREADY_DISCARDED"].includes(s[0].type)&&l.push(...s),l.length>0?l:o.length>0?o:s.length>0?s:[{type:"NO_MATCH",input:i}]}else return a===2||a===3?jo(i,t,n):[{type:"INVALID_INPUT",input:e,reason:`Input has ${a} words, maximum is 3`}]}function jo(e,t,n){const i=[],r=Hi(e);let a=!1;for(const o of r){const s=t.getBySearchableName(o);s&&(n.isDiscovered(s.id)?o===e&&(a=!0):i.push({type:"DIRECT_DISCOVERY",item:s}))}return i.length>0?i:a?[{type:"ALREADY_DISCOVERED",item:t.getBySearchableName(e)}]:[{type:"NO_MATCH",input:e}]}function hv(e,t,n){const i=new Set,r=new Set,a=Hi(e);for(const l of a){const c=t.getItemIdsByKeyword(l);c.length>0&&(r.add(l),c.forEach(u=>i.add(u)))}if(i.size===0)return[];const o=[],s=[];for(const l of r){const u=t.getItemIdsByKeyword(l).filter(p=>!n.isDiscovered(p)),d=n.activeKeywords.has(l),h=n.discardedKeywords.has(l);d?s.push({type:"KEYWORD_ALREADY_ACTIVE",keyword:l}):h?s.push({type:"KEYWORD_ALREADY_DISCARDED",keyword:l}):u.length===0?o.push({type:"ADD_DISCARDED_KEYWORD",keyword:l}):o.push({type:"ADD_ACTIVE_KEYWORD",keyword:l,relatedItemIds:u})}return o.length>0?o:s}function pv(e){return e.trim().replace(/ and /g," ").replace(/&/g,"").replace(/-/g," ").replace(/\s+/g," ").trim().toLowerCase()}function tp(e,t){const n=e.trim();if(n){const o=Hi(n.toLowerCase()),s=[n,n.toLowerCase(),...o];for(const l of s){const c=t.crystalBallWords.indexOf(l);c>-1&&t.crystalBallWords.splice(c,1)}}const i=dv(e,t.lib.discovery,t),r=[...i];for(const o of i){const s=mv(o,t);r.push(...s)}r.length>0&&t.discoveryAnalysisLog.push(r),t.discoveryAnalysisLog.length>10&&(t.discoveryAnalysisLog=t.discoveryAnalysisLog.slice(-10))}function mv(e,t){const n=[];switch(e.type){case"DIRECT_DISCOVERY":vn(e.item.id,"direct",t,e.item);break;case"ADD_ACTIVE_KEYWORD":t.activeKeywords.set(e.keyword,e.relatedItemIds);for(const r of e.relatedItemIds)t.markAsEncountered(r);const i=fv(t);n.push(...i);break;case"ADD_DISCARDED_KEYWORD":t.discardedKeywords.add(e.keyword);break}return n}function vn(e,t,n,i){n.discoveredItems.has(e)||(n.discoveredItems.add(e),n.markAsEncountered(e),gv(n))}function gv(e){const t=[];for(const[n,i]of e.activeKeywords){const r=i.filter(a=>!e.isDiscovered(a));r.length===0?t.push(n):e.activeKeywords.set(n,r)}for(const n of t)e.activeKeywords.delete(n),e.discardedKeywords.add(n)}function fv(e){const t=e.discoveryThreshold.value,n=[];let i=!1;do{i=!1;const a=new Map;for(const[o,s]of e.activeKeywords)for(const l of s)e.isDiscovered(l)||(a.has(l)||a.set(l,[]),a.get(l).push(o));for(const[o,s]of a)if(s.length>=t){const l=e.lib.discovery.getById(o);if(l){const c=[...s];n.push({itemId:o,item:l,leadingKeywords:c}),vn(o,"brainstorm",e),i=!0;break}}}while(i);const r=[];for(const{item:a,leadingKeywords:o}of n){const s={type:"DIRECT_DISCOVERY",item:a,isBrainstorm:!0,leadingKeywords:o};r.push(s)}return r}function Sl(e){const t=e.lib.discovery;for(const[n,i]of t.getAllItems())i.type==="building"&&vn(n,"event",e)}function Cl(e){const t=e.lib.discovery;for(const[n,i]of t.getAllItems())(i.type==="skill"||i.type==="skill_specialization")&&vn(n,"event",e);mo(e)}function mo(e){const t=e.lib.discovery;for(const[n,i]of t.getAllItems())(i.type==="attribute"||i.type==="attribute_category")&&vn(n,"event",e)}function El(e){const t=e.lib.discovery;for(const[n,i]of t.getAllItems())i.type==="resource"&&vn(n,"event",e)}function $l(e){const t=e.lib.discovery;for(const[n,i]of t.getAllItems())i.type==="tab"&&vn(n,"event",e)}function np(e){Sl(e),Cl(e),mo(e),El(e),$l(e)}function Ss(e,t){let n=0;for(const[,i]of t.activeKeywords)i.includes(e)&&n++;return n}function yv(e){for(const[,t]of e.activeKeywords)for(const n of t)e.markAsEncountered(n)}function ip(e){for(const t of e.discoveredItems)e.markAsEncountered(t)}const mi=Object.freeze(Object.defineProperty({__proto__:null,countActiveKeywordsForItem:Ss,discoverAll:np,discoverAllAttributes:mo,discoverAllBuildings:Sl,discoverAllResources:El,discoverAllSkills:Cl,discoverAllTabs:$l,discoverItem:vn,markActiveKeywordItemsAsEncountered:yv,markExistingDiscoveredItemsAsEncountered:ip,processDiscoveryAttempt:tp},Symbol.toStringTag,{value:"Module"})),Wo=[];let Go=!1;var pn;(e=>{function t(r,a,o){if(Wo.push({eventDef:r,context:o}),!Go){Go=!0;try{for(;Wo.length>0;){const{eventDef:s,context:l}=Wo.shift();a.invoker?.logVerbose&&console.log(`[EventProcessor] Processing event: ${s.id}`),console.log("process Event ",s.id),n(s.effects,a,l),a.invoker?.handleEvent(s,a,l)}}finally{Go=!1}}}e.processSingleEvent=t;function n(r,a,o){r&&r.forEach(s=>i(s,a,o))}function i(r,a,o){try{switch(r.key){case"giveResource":$v(a,r.params);break;case"giveMaxResource":Av(a,r.params);break;case"addResourceIncome":Mv(a,r.params);break;case"discover":Dv(a,r.params);break;case"discoverAllBuildings":Sl(a);break;case"discoverAllSkills":Cl(a);break;case"discoverAllResources":El(a);break;case"discoverAllAttributes":mo(a);break;case"discoverAllTabs":$l(a);break;case"discoverAll":np(a);break;case"startDialog":break;case"addCharacterByName":zv(a,r.params);break;case"giveAllSkillsAndSpecsEffect":lp(a,o);break;case"giveSkillsAndSpecs":Rv(a,r.params,o);break;case"construct":Bv(a,r.params);break;case"startMinigame":Cs(a,r.params);break;case"startBehTree":Lv(a,r.params);break;case"ApplyIngressResults":Al(a,r.params);break;case"applyWelcomeResults":Ml(a,r.params);break;case"givePoints":qv(a,r.params);break;default:console.warn(`Unknown effect key: ${r.key}`)}}catch(s){console.error(`Error executing effect ${r.key} with params:`,r.params,s)}}})(pn||(pn={}));var _r;(e=>{function t(n,i){const r=n.lib.buildings.getBuilding(i);if(!r){console.warn(`Building.addBuilding: Building definition not found for ID: ${i}`);return}const a=`${rv}${r.id}__`,o={buildingId:r.id,level:oe.createStat(`${a}level`,1,n.connections),clutterGeneration:oe.createStat(`${a}clutter_generation`,r.clutterPerSecond,n.connections)};if(n.buildings.push(o),oe.connectStat(o.clutterGeneration,n.totalBuildingsClutter,_e.ADD,n.connections),r.effects&&r.effects.length>0){const l={id:`building_${r.id}_construction_effects`,effects:r.effects};pn.processSingleEvent(l,n,void 0)}const s={id:"buildingConstructed",params:{buildingId:r.id,buildingName:r.name},effects:[]};return pn.processSingleEvent(s,n,void 0),o}e.addBuilding=t})(_r||(_r={}));const rp="ClickCounter",vv=5;class ap{id;type=rp;state;hidesMainUI=!1;constructor(t,n){this.id=t,this.state=Qt({clickCount:0,clicksToWin:n||vv})}update(t,n){}destroy(t){}recordClick(t){this.state.clickCount++,this.state.clickCount>=this.state.clicksToWin&&t.exitMinigame()}}class bv{locations=new jh;isLoaded=!1;constructor(){this.loadAllDefinitions()}loadAllDefinitions(){if(!this.isLoaded)try{this.isLoaded=!0}catch(t){console.error("Failed to process WelcomeLib definitions:",t),this.isLoaded=!1}}}const op="Welcome",wv=.07,Zc=.8,_v=100.3,Ko=.4,Xo=.5,Ov=.9,Qc=1;class kv{id;type=op;state;hidesMainUI=!1;constructor(t){this.id=t;const n=new bv;this.state=Md({lib:n,explorableChoices:[],selectedLocation:void 0,lastSelectedLocationId:void 0}),this.initializeExplorableChoices()}initializeExplorableChoices(){const t=this.state.lib.locations.getAllLocations();this.state.explorableChoices=t.map(n=>{const i=n.pros?.length||0,r=n.cons?.length||0,a=3+i+r+1+1;return Qt({...n,id:n.id,name:n.name,imageName:n.imageName,atlasName:"locations",pros:n.pros,cons:n.cons,description:n.description,explorationProgress:0,isExploring:!1,totalExplorationSteps:a,currentExplorationStep:0,nameObfuscationPercentage:1,isDescriptionVisible:!1,descriptionObfuscationPercentage:1,areProsConsTitlesVisible:!1,revealedProsCount:0,revealedConsCount:0,canBeSelected:!1,explorationTime:0})})}startExploration(t){this.state.explorableChoices.forEach(n=>{n.isExploring=n.id===t})}stopExploration(t){const n=this.state.explorableChoices.find(i=>i.id===t);n&&(n.isExploring=!1,n.explorationTime=0)}stopAllExplorations(){this.state.explorableChoices.forEach(t=>{t.isExploring=!1,t.explorationTime=0})}makeChoiceAndPrepareExit(t,n){const i=this.state.lib.locations.getLocation(t);if(i){const r={locationId:i.id};Ml(n,r),this.state.lastSelectedLocationId=i.id,n.exitMinigame()}else console.error("WelcomeGame: Could not find location definition for id:",t)}update(t,n){this.state.explorableChoices.forEach(i=>{if(i.isExploring&&i.explorationProgress<1){i.explorationTime+=n;const r=i.explorationTime*_v,a=i.id.length*123.456,s=iv.noise2DXBeforeY(r,a)+1,c=1*(1-Zc)+s*Zc,u=wv*c;i.explorationProgress=Math.min(1,i.explorationProgress+u*n);const d=Xo+.05,h=.05,p=d-h;if(i.explorationProgress>=h)if(i.explorationProgress>=d)i.nameObfuscationPercentage=0;else{const b=i.explorationProgress-h;i.nameObfuscationPercentage=Math.max(0,1-b/p)}i.explorationProgress>=Ko&&(i.isDescriptionVisible=!0),i.explorationProgress>=Xo&&(i.areProsConsTitlesVisible=!0);const w=Xo,m=Ov,k=(i.pros?.length||0)+(i.cons?.length||0);if(k>0){const S=(m-w)/k;let _=0;for(let g=0;g<(i.pros?.length||0);g++)i.explorationProgress>=w+(_+1)*S&&(g+1>i.revealedProsCount&&(i.revealedProsCount=g+1),_++);for(let g=0;g<(i.cons?.length||0);g++)i.explorationProgress>=w+(_+1)*S&&(g+1>i.revealedConsCount&&(i.revealedConsCount=g+1),_++)}if(i.explorationProgress>=Ko&&i.isDescriptionVisible){const b=Ko,S=Qc,_=S-b;if(i.explorationProgress>=S)i.descriptionObfuscationPercentage=0;else{const g=i.explorationProgress-b;i.descriptionObfuscationPercentage=Math.max(0,1-g/_)}}i.explorationProgress>=Qc&&(i.canBeSelected=!0,i.isExploring=!1)}})}destroy(t){this.stopAllExplorations()}}const mn="Ingress";function Iv(e){const t=new Map,n=Array.from(e.lib.characters.values()).filter(i=>i.location===e.locationId);for(const i of n){const r=[...i.keywords||[],i.name];for(const a of r){const o=a.toLowerCase();t.has(o)||t.set(o,[]),t.get(o).push(i.id)}}return t}function Nv(e,t){const n=new Map;for(const a of e.getAllWords())n.set(a.id,a);const i=new Map(n),r=Array.from(t.lib.characters.values()).filter(a=>a.location===t.locationId);for(const a of r){const o=[...a.keywords||[],a.name];for(const s of o){const l=s.toLowerCase();n.has(l)||i.set(l,{id:l,name:s,type:"useful",points:1})}}return i}function Tv(e){let t=0;for(const n of e.values())n.type==="useful"&&t++;return t}const Pv=4,xv=6,Jc=2,eu=[1,2,3],Sv=.005;class Cv{id;type=mn;state;hidesMainUI=!1;unlockedCharacterCount=0;combinedWords=null;characterKeywords=null;constructor(t){this.id=t,this.state=Qt({usefulWords:[],offensiveWords:[],blankWords:[],allSubmittedWords:[],possessionCharges:0,totalPossessionCharges:0,chargesBarRevealed:!1,characterOptions:[],inspectingCharacterId:null,renamingCharacterId:null,characterRenames:{},characterXpBonuses:{},bioObfuscation:1,upgrades:{char_attribute_point:!1,char_skill_point:!1,char_spec_point:!1,char_xp_boost:!1,breach_word_bonus:!1,breach_typo_tolerance:!1,breach_word_counter:!1,breach_possession_speed:!1},upgradesRevealed:!1,possessionProgress:0,engaged:!1,engagementProgress:0,engagementCompletionTime:null})}processSubmittedWord(t,n,i){(!this.combinedWords||!this.characterKeywords)&&this.initializeWordLists(n,i);const r=this.combinedWords,a=this.characterKeywords,o=t.trim().toLowerCase();if(!o)return{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:!1};const s=p=>this.state.usefulWords.some(w=>w.definition.id===p.id);let l=ho.findWordInMap(o,r),c=!1,u;const d=Hi(o);for(const p of d)if(u=a.get(p),u)break;if(l&&l.type==="useful"&&s(l)&&(l=void 0),!l&&this.state.upgrades.breach_typo_tolerance){for(const p of r.values())if(p.type==="useful"&&Uh(o,p.name)&&!s(p)){l=p,c=!0;break}}if(!l){let p=!1;return this.state.blankWords.includes(o)||(this.state.blankWords.push(o),p=!0),this.state.allSubmittedWords.includes(t.trim())||this.state.allSubmittedWords.push(t.trim()),{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:p}}if(l.type==="offensive"){let p=!1;const w=l.name.toLowerCase();return this.state.offensiveWords.includes(w)||(this.state.offensiveWords.push(w),p=!0),this.state.allSubmittedWords.includes(t.trim())||this.state.allSubmittedWords.push(t.trim()),l.name!==t.trim()&&!this.state.allSubmittedWords.includes(l.name)&&this.state.allSubmittedWords.push(l.name),{classification:"offensive",pointsEarned:0,submittedWord:t.trim(),isNewAddition:p}}if(l.type==="useful"){let p=l.points;this.state.upgrades.breach_word_bonus&&(p+=1);let w=0;p===1?w=.3:p===2?w=.4:p===3?w=.5:p>=4&&(w=.6),w>0&&(this.state.possessionProgress=Math.min(100,this.state.possessionProgress+w));const m={definition:l,pointsEarned:p,wasTypo:c,sourceCharacterIds:u,originalTypedWord:t.trim()};if(this.state.usefulWords.push(m),this.state.allSubmittedWords.includes(t.trim())||this.state.allSubmittedWords.push(t.trim()),c&&l.name!==t.trim()&&!this.state.allSubmittedWords.includes(l.name)&&this.state.allSubmittedWords.push(l.name),this.state.possessionCharges+=p,this.state.totalPossessionCharges+=p,u)for(const k of u){this.state.characterXpBonuses[k]||(this.state.characterXpBonuses[k]=0),this.state.characterXpBonuses[k]+=p;let b=this.state.characterOptions.find(S=>S.characterId===k);if(b){if(b.discoveryState==="unexplored"){b.discoveryState="name_revealed";const S=i.lib.characters.getCharacter(k);S&&(b.characterName=S.name)}}else{const S=i.lib.characters.getCharacter(k);if(S){const _={characterId:S.id,characterName:S.name,discoveryState:"name_revealed",explorationCosts:eu};this.state.characterOptions.push(_)}}}return{classification:"useful",pointsEarned:p,submittedWord:t.trim(),isNewAddition:!0,sourceCharacterIds:u}}let h=!1;return this.state.blankWords.includes(o)||(this.state.blankWords.push(o),h=!0),this.state.allSubmittedWords.includes(t.trim())||this.state.allSubmittedWords.push(t.trim()),{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:h}}update(t,n){if(this.updateCharacterUnlocks(t),this.isEngagementHeld&&(this.state.engagementProgress=Math.min(100,this.state.engagementProgress+15*n),this.state.engagementProgress>=100&&this.engage()),!this.state.chargesBarRevealed&&this.state.possessionCharges>=Pv&&(this.state.chargesBarRevealed=!0),this.state.possessionProgress<100){let i=1;this.state.upgrades.breach_possession_speed&&(i=2);const r=this.state.totalPossessionCharges*n*Sv*i;this.state.possessionProgress=Math.min(100,this.state.possessionProgress+r)}}destroy(t){}engage(){this.state.engaged=!0,this.state.engagementCompletionTime=Date.now(),this.isEngagementHeld=!1}isEngagementHeld=!1;handleEngagementClick(){this.state.engaged||(this.state.engagementProgress=Math.min(100,this.state.engagementProgress+4),this.state.engagementProgress>=100&&this.engage())}handleEngagementMouseDown(){this.state.engaged||(this.isEngagementHeld=!0)}stopEngagementHold(){this.isEngagementHeld=!1}revealUpgrades(){!this.state.upgradesRevealed&&this.state.possessionCharges>=1&&(this.state.possessionCharges-=1,this.state.upgradesRevealed=!0)}purchaseUpgrade(t,n){if(this.state.upgrades[t]){console.warn(`Upgrade ${t} already purchased.`);return}this.state.possessionCharges>=n?(this.state.possessionCharges-=n,this.state.upgrades[t]=!0):console.warn(`Not enough possession charges to purchase upgrade ${t}.`)}startCharacterInspection(t){this.state.inspectingCharacterId=t,this.state.bioObfuscation=1}closeCharacterInspection(){this.state.inspectingCharacterId=null}openRenameDialog(){this.state.inspectingCharacterId&&(this.state.renamingCharacterId=this.state.inspectingCharacterId)}closeRenameDialog(){this.state.renamingCharacterId=null}renameCharacter(t){this.state.possessionCharges>=1&&this.state.renamingCharacterId&&t.trim()&&(this.state.possessionCharges-=1,this.state.characterRenames[this.state.renamingCharacterId]=t.trim(),this.closeRenameDialog())}deobfuscateBio(){if(this.state.possessionCharges>=1&&this.state.bioObfuscation>0){this.state.possessionCharges-=1;const t=Math.round(this.state.bioObfuscation*5);let n=1;this.state.bioObfuscation===1&&(n=2);const i=Math.max(0,t-n);this.state.bioObfuscation=i/5}}commitAndPossess(t){const n=this.state.inspectingCharacterId;if(this.state.possessionProgress<100||!n){console.warn("Cannot possess yet. Progress must be 100% and a character must be selected.");return}if(this.state.possessionCharges<10){console.warn("Not enough possession charges to commit and possess.");return}const i=this.state.characterOptions.find(s=>s.characterId===n);if(!i||i.discoveryState!=="portrait_revealed"){console.warn("Selected character is not fully investigated.");return}this.state.possessionCharges-=10;const r=this.state.characterXpBonuses[n]||0,a=this.state.upgrades.char_xp_boost?25:0,o={characterId:n,characterName:this.state.characterRenames[n],xpBonus:r+a,attributePoints:this.state.upgrades.char_attribute_point?1:0,skillPoints:this.state.upgrades.char_skill_point?1:0,specPoints:this.state.upgrades.char_spec_point?1:0,allSubmittedWords:[...this.state.allSubmittedWords]};Al(t,o),t.exitMinigame()}exploreCharacter(t,n){const i=this.state.characterOptions.find(a=>a.characterId===t);if(!i){console.warn(`exploreCharacter called with invalid characterId: ${t}`);return}const r=this.getExplorationCost(i);if(r===void 0){console.warn("Character already fully explored.");return}if(this.state.possessionCharges>=r)switch(this.state.possessionCharges-=r,i.discoveryState){case"unexplored":i.discoveryState="name_revealed";const a=n.lib.characters.getCharacter(t);a&&(i.characterName=a.name);break;case"name_revealed":i.discoveryState="portrait_revealed";const o=n.lib.characters.getCharacter(t);o&&(i.characterImage={full:o.fullImage,portrait:o.portraitImage});break}else console.log("Not enough possession charges to explore.")}updateCharacterUnlocks(t){const n=this.state.totalPossessionCharges;let i=xv,r=0;if(n>=i)for(r++;n>=i+Jc;)r++,i+=Jc;if(r>this.unlockedCharacterCount){const a=r-this.unlockedCharacterCount,o=Array.from(t.lib.characters.values()).filter(s=>s.location===t.locationId&&!this.state.characterOptions.some(l=>l.characterId===s.id));for(let s=0;s<a&&s<o.length;s++){const c={characterId:o[s].id,discoveryState:"unexplored",explorationCosts:eu};this.state.characterOptions.push(c)}this.unlockedCharacterCount=r}}getExplorationCost(t){switch(t.discoveryState){case"unexplored":return t.explorationCosts[0];case"name_revealed":return t.explorationCosts[1];default:return}}initializeWordLists(t,n){this.combinedWords=Nv(t,n),this.characterKeywords=Iv(n)}getUsefulWordsCount(t,n){return this.combinedWords||this.initializeWordLists(t,n),this.combinedWords?Tv(this.combinedWords):0}}const sp="Example";class Ev{id;type=sp;state;hidesMainUI=!1;constructor(t){this.id=t,this.state=Qt({})}update(t,n){}destroy(t){}}function $v(e,t){const n=Nl(e.resources,t.resource);n?oe.modifyStat(n.current,t.amount,e.connections):console.warn(`Effect 'giveResource': Resource "${t.resource}" not found.`)}function Av(e,t){let n=Nl(e.resources,t.resource);n||(n=Ts(e.resources,t.resource,0,0,e.connections));const i=n.max.add,r=t.amount-i;oe.modifyParameterADD(n.max,r,e.connections)}function Mv(e,t){const n=Nl(e.resources,t.resource);n?oe.modifyParameterADD(n.income,t.amount,e.connections):console.warn(`Effect 'addResourceIncome': Resource "${t.resource}" not found.`)}function Dv(e,t){vn(t.key,"event",e)}function zv(e,t){const n=e.lib.characters.getCharacter(t.characterId);n?zi.addCharacter(e,n.id):console.warn(`Effect 'addCharacterByName': Character definition "${t.characterId}" not found in Lib.`)}function lp(e,t){if(!t||!("characterId"in t)||!("skills"in t)||!("specializations"in t)){console.warn("[giveAllSkillsAndSpecsEffect]: Invalid character context provided (must be a Character object):"),console.log(t);return}const n=t,i=e.lib.skills.getAllSkills();if(Object.keys(i).length===0){console.warn(`[giveAllSkillsAndSpecsEffect] For ${n.name}: No skill definitions found in state.lib.skills.getAllSkills(). Cannot give skills.`);return}const r=e.connections;for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const o=i[a];zi.setOrUpdateSkillAndAllSpecializations(n,a,o,1,r)}}function Rv(e,t,n){if(!e.characters||e.characters.length===0){console.warn("[giveSkillsAndSpecs]: No characters found in state. Cannot give skills.");return}const i=e.characters[0];lp(e,i)}function Bv(e,t){t.building?_r.addBuilding(e,t.building):console.warn("Effect 'construct': Missing 'building' parameter.")}function Cs(e,t){if(e.activeMinigame){console.warn(`Effect 'startMinigame': Minigame '${e.activeMinigame.type}' already active. Cannot start '${t.name}'.`);return}let n;if(t.name==="ClickCounter"){const i=t.minigameParams?.clicksToWin;n=new ap(`event-${t.name}-${Date.now()}`,i)}else if(t.name==="Welcome")n=new kv(`event-${t.name}-${Date.now()}`);else if(t.name==="Ingress")n=new Cv(`event-${t.name}-${Date.now()}`);else if(t.name==="Example")n=new Ev(`event-${t.name}-${Date.now()}`);else{console.warn(`Effect 'startMinigame': Unknown minigame name '${t.name}'.`);return}if(n){e.startMinigame(n),console.log(`Event 'startMinigame': Started minigame '${t.name}'.`);const i={id:"minigameStarted",params:{minigameType:n.type},effects:[]};pn.processSingleEvent(i,e)}}function Lv(e,t){const n=e.lib.behTrees.getTree(t.treeName);if(n){const i=n();e.invoker.addTree(i,e)}else console.warn(`Effect 'startBehTree': Tree definition "${t.treeName}" not found.`)}function Al(e,t){console.log("Applying ingress results:",t);let n=e.characters.find(i=>i.characterId===t.characterId);if(n||(n=zi.addCharacter(e,t.characterId)),n){if(t.characterName&&(n.name=t.characterName),oe.modifyStat(n.xp,t.xpBonus*n.nextLevelXp.value*.01,e.connections),oe.modifyStat(n.attributePoints,t.attributePoints,e.connections),oe.modifyStat(n.skillPoints,t.skillPoints,e.connections),oe.modifyStat(n.specPoints,t.specPoints,e.connections),t.allSubmittedWords){const i=`${t.characterId}_${Date.now()}`;e.ingressGameResults[i]={characterId:t.characterId,characterName:t.characterName,completedAt:Date.now(),allSubmittedWords:t.allSubmittedWords,xpBonus:t.xpBonus,attributePoints:t.attributePoints,skillPoints:t.skillPoints,specPoints:t.specPoints};for(const r of t.allSubmittedWords)e.crystalBallWords.includes(r)||e.crystalBallWords.push(r)}console.log(`Applied Ingress results to character: ${n.name}`)}else console.warn(`Effect 'ApplyIngressResults': Could not find or add character with ID "${t.characterId}".`)}function Ml(e,t){console.log("Applying welcome results:",t),t.locationId?e.locationId=t.locationId:console.warn("Effect 'applyWelcomeResults': Missing 'locationId' parameter.")}function qv(e,t){if(!e.characters||e.characters.length===0){console.warn("[givePoints]: No characters found in state. Cannot give points.");return}const n=e.characters[0];oe.modifyStat(n.attributePoints,t.attributePoints,e.connections),oe.modifyStat(n.skillPoints,t.skillPoints,e.connections),oe.modifyStat(n.specPoints,t.specPoints,e.connections)}class tu extends po{_durationMin;_durationMax;_timer=0;constructor({durationMin:t,durationMax:n,name:i="Wait"}){if(super(i),t<0)throw new Error(`WaitNode: durationMin must be non-negative, but was ${t}`);if(n!==void 0&&n<t)throw new Error(`WaitNode: durationMax (${n}) must be greater than or equal to durationMin (${t})`);this._durationMin=t,this._durationMax=n}init(t){if(this._durationMax!==void 0&&this._durationMax>this._durationMin?this._timer=Math.random()*(this._durationMax-this._durationMin)+this._durationMin:this._timer=this._durationMin,this._timer<=0){this.parent?.report(At.SUCCESS,t);return}this.root.invoker?.addUpdateListener(this)}update(t,n){this._timer-=t,this._timer<=0&&this.parent?.report(At.SUCCESS,n)}exit(){this.root.invoker?.removeUpdateListener(this),this._timer=0}}const Fv={introSequence:()=>new Xc("introSequence",[new jr("startWelcome",(e,t)=>{Cs(t,{name:"Welcome"})}),new Ho("awaitWelcomeComplete","minigameComplete",e=>e.params?.minigameType==="Welcome"),new jr("startIngress",(e,t)=>{Cs(t,{name:"Ingress"})}),new Ho("awaitIngressComplete","minigameComplete",e=>e.params?.minigameType==="Ingress")]),cheatIntro:()=>new Xc("cheatIntro",[new Ho("awaitWelcomeStart","minigameStarted",e=>e.params?.minigameType==="Welcome"),new tu({durationMin:.1}),new jr("cheatWelcome",(e,t)=>{Ml(t,{locationId:"aeiga_reika"}),t.exitMinigame()}),new tu({durationMin:.1}),new jr("cheatIngress",(e,t)=>{Al(t,{characterId:"ingress_aeiga_reika_chaos_artificer",characterName:void 0,xpBonus:29,attributePoints:1,skillPoints:1,specPoints:1,allSubmittedWords:["aesca","link","mind","stone","heart","soul","mantra","hypnosys","book","word","death","live","life","plant","cross","symbol","path","trail","structure","castle","mage","guild","magic","craft","master","detail","cog","fog","part","pact","gear"]}),t.exitMinigame()})])};class Vv{trees;constructor(){this.trees=Fv,this.trees||(console.error("BehTreeLib: Tree definitions not found."),this.trees={})}getTree(t){return this.trees[t]}}const Hv={startGame:{effects:[{key:"giveMaxResource",params:{resource:"gold",amount:1e3}},{key:"giveResource",params:{resource:"gold",amount:50}},{key:"giveMaxResource",params:{resource:"mana",amount:100}},{key:"discover",params:{key:"gold"}},{key:"discover",params:{key:"resources"}},{key:"discover",params:{key:"buildings"}},{key:"addResourceIncome",params:{resource:"gold",amount:10,source:"Council Funding"}},{key:"addResourceIncome",params:{resource:"mana",amount:1,source:"Innate"}},{key:"discover",params:{key:"gold"}},{key:"discover",params:{key:"Castle"}},{key:"discover",params:{key:"Crew"}},{key:"discover",params:{key:"Debug"}},{key:"construct",params:{building:"meditation_chamber"}},{key:"startBehTree",params:{treeName:"introSequence"}}]},giveAllSkillsAndSpecs:{effects:[{key:"giveAllSkillsAndSpecsEffect",params:{}}]},giveFirstCharAllSkills:{effects:[{key:"giveSkillsAndSpecs",params:{}}]}},Uv={},jv={ingress_turfablie_scholarly_investigator:{name:"Theronin",gender:"male",fullImage:"ingress_char (16)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Master diviner Theronin is permanently temporally confused. He speaks of ancient mages as if they'll arrive tomorrow, and greets visitors as old friends, wishes them to be born soon. However knowledgeable he is, it takes, perhaps, a dedicated researcher to extract useful knowledge from a conversation with him.",keywords:["book","scroll","archive","lore","history","prophecy","vision","memory","echo","time","past","future","oracle","seer","sage","dream","fate","thread","mirror","clock","day","year","age","era","cycle","loop","paradox","riddle","truth","date","order","sequence","pattern","code","sign","omen","portent","glimpse","moment","instant","eternity","confusion","tangle","knot","maze","puzzle","answer","question","secret","key","door","path","way","guide","map","chart","calendar","diary","record","note","glyph","rune","symbol","mark","trace","clue","hint","wisdom","knowledge","mind","thought","plan","scheme","plot","story","tale","legend","myth","fact","fiction","research"],initialAttributes:{physique:2,strength:2,agility:1,constitution:2,senses:4,spirit:2,attunement:3,channeling:2,weaving:2,resilience:2,mind:2,knowledge:4,wisdom:3,ingenuity:3,willpower:4,social:2,composure:3,charisma:2,empathy:2,authority:2},initialSkills:{divination:{level:3,specializations:{retrocognition:2,psychometry:1}},magical_lore:{level:4,specializations:{arcane_history:2,runes:2}},investigation:{level:3,specializations:{archive_delving:2,counter_forgery:1}},analysis_logic:{level:2,specializations:{deductive_reasoning:2}},memory:{level:2,specializations:{eidetic_recall:1}},artistry:{level:1,specializations:{calligraphy:1}}}},ingress_turfablie_silver_tongue:{name:"Elariette",gender:"female",fullImage:"ingress_char",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Forging smiles rather than documents, Elariette conspired her way to 'temporary custodianship' of the failing Mages Guild, relying on Merchant Plaza's elite to build the web of proxy signatures. They took the guild's treasure, and it is little consolation that her authority is no longer borrowed.",keywords:["ledger","seal","charm","scroll","paper","book","ink","ring","room","deal","note","mark","code","key","name","token","vow","link","word","script","vault","sigil","grace","smile","tongue","voice","whisper","promise","contract","signature","quill","parchment","wax","ribbon","coin","debt","credit","receipt","invoice","letter","mirror","mask","veil","shadow","echo","glamour","facade","lip","tooth","eye","face","cheek","tear","laugh","jest","wit","pact","oath","bond","pledge","accord","treaty","terms","clause","deed","title","certificate","license","permit","favor","secret","rumor","gossip","truth","lie","tale","story","web","thread","knot","pearl","jewel","gold","silver","copper","purse","pouch","box","chest","coffer","treasury","vault","safe","lock","latch","hinge","door","window","curtain","drape","silk","velvet","satin","lace","perfume","scent","powder","rouge","paint","brush","glass","crystal","prism","candle","flame","smoke","ash","ember","glow","shine","gleam","shimmer","sparkle","glitter","beam","ray","halo","aura"],initialAttributes:{physique:2,strength:1,agility:2,constitution:2,senses:2,spirit:2,attunement:2,channeling:2,weaving:3,resilience:2,mind:2,knowledge:3,wisdom:3,ingenuity:2,willpower:3,social:2,composure:3,charisma:4,empathy:4,authority:3},initialSkills:{order_magic:{level:2,specializations:{illusions:1,mentalism:1}},magical_lore:{level:1,specializations:{arcane_history:1}},deception:{level:1,specializations:{bluffing:1,lying:1,impersonation:1}},persuasion:{level:4,specializations:{bargaining:2,oratory:2}},etiquette:{level:3,specializations:{merchant_guild_practices:2,mages_guild_protocols:1}},lore:{level:1,specializations:{customs:1}},navigation:{level:1,specializations:{cartography:1}}}},ingress_turfablie_arcane_engineer:{name:"Kolodin",gender:"male",fullImage:"ingress_char (17)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Kolodin, a former Artificer's Quarter tinkerer obsessed with merging magic and mechanics, was last seen passionately explaining a complex arcane conduit diagram to a departing council that never returned. He simply continued his work in the echoing halls, the de facto 'master' by virtue of being the only one still trying to make the old machinery whir.",keywords:["gear","steam","spark","cog","metal","gauge","circuit","glass","wire","map","glow","flame","oil","tool","light","pipe","coil","bolt","plan","clock","node","draft","arc","ring","flux"],initialAttributes:{physique:2,strength:2,agility:3,constitution:2,senses:2,spirit:2,attunement:3,channeling:2,weaving:3,resilience:2,mind:2,knowledge:4,wisdom:2,ingenuity:4,willpower:3,social:2,composure:2,charisma:1,empathy:2,authority:2},initialSkills:{magical_lore:{level:3,specializations:{arcane_principles:2,magical_item_analysis:2}},enchanting:{level:3,specializations:{implement_crafting:2,armament_enchanting:2}},engineering:{level:4,specializations:{clockwork:3}},artisanry:{level:1,specializations:{smithing:1}},spellcraft:{level:1,specializations:{}},performance:{level:1,specializations:{storytelling:1}}}},ingress_turfablie_wilderness_savant:{name:"Borie",gender:"female",fullImage:"ingress_char (7)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Borie, who once guided folk through wild mountain paths and understood the language of herbs, sought refuge in the crumbling Mages Guild during a particularly harsh season. The few remaining mages, unnerved by her untamed magic and quiet communion with the overgrowth, eventually drifted off, leaving her the sole keeper of its wild-growing heart.",keywords:["root","vine","moss","herb","leaf","wild","bark","staff","mud","seed","bud","path","branch","glade","shade","dew","fern","thorn","grove","soil","fog","flora","sap","pulse","wood"],initialAttributes:{physique:2,strength:3,agility:3,constitution:4,senses:4,spirit:2,attunement:3,channeling:3,weaving:2,resilience:2,mind:2,knowledge:2,wisdom:3,ingenuity:2,willpower:2,social:2,composure:1,charisma:2,empathy:3,authority:2},initialSkills:{nature_magic:{level:3,specializations:{verdant_call:2,beast_tongue:1,bloom:1}},alchemy:{level:3,specializations:{potions:2,toxicology:1}},survival:{level:4,specializations:{foraging:2,shelter_craft:1,water_procurement:1}},navigation:{level:2,specializations:{pathfinding:2}},lore:{level:1,specializations:{agriculture:1}},artisanry:{level:1,specializations:{woodworking:1}}}},ingress_turfablie_shadow_operative:{name:"Salezo",gender:"male",fullImage:"ingress_char (15)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Salezo, familiar with Turfblie's Undergalleries and the art of quiet entry, had been using the increasingly abandoned Mages Guild as a discreet haven. When its last official occupant vanished without a trace, Salezo found his unofficial residency had, by default, become an empty lordship.",keywords:["cloak","shadow","coin","key","lock","smoke","step","trap","ring","blade","mark","whisper","vault","grip","mask","dark","echo","gold","move","chain","watch","glint","path","flare","creed"],initialAttributes:{physique:2,strength:2,agility:4,constitution:3,senses:4,spirit:2,attunement:1,channeling:2,weaving:3,resilience:2,mind:2,knowledge:2,wisdom:2,ingenuity:3,willpower:3,social:2,composure:3,charisma:2,empathy:2,authority:2},initialSkills:{death_magic:{level:2,specializations:{shadowmancy:2}},order_magic:{level:1,specializations:{illusions:1}},stealth:{level:4,specializations:{sneaking:2,hiding:2}},legerdemain:{level:4,specializations:{lockpicking:2,sleight_of_hand:1,trap_handling:1}},perception:{level:2,specializations:{eagle_eye:1,bats_ear:1}},streetwise:{level:1,specializations:{gambling:1}}}},ingress_turfablie_stalwart_guardian:{name:"Astrid",gender:"female",fullImage:"ingress_char (14)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Formerly of the Highland Guard, Astrid was assigned to protect the Mages Guild eons ago, a duty she upheld even as its influence waned and its members departed one by one. Her unwavering vigil in the face of its decay left her the last soul within its walls, a sentinel guarding nothing but memories and dust.",keywords:["guard","sword","shield","oath","steel","honor","coin","watch","post","armor","badge","grit","duty","vigil","scar","rank","gold","line","edge","wall","grasp","blade","sigil","grace","rule"],initialAttributes:{physique:2,strength:4,agility:3,constitution:4,senses:3,spirit:2,attunement:2,channeling:2,weaving:2,resilience:3,mind:2,knowledge:2,wisdom:2,ingenuity:1,willpower:4,social:2,composure:2,charisma:2,empathy:2,authority:3},initialSkills:{life_magic:{level:3,specializations:{protection:2,restoration:1}},order_magic:{level:1,specializations:{abjuration:1}},defense:{level:4,specializations:{shields:2,armor:1,parrying:1}},melee_combat:{level:3,specializations:{one_handed_blades:2}},hardiness:{level:2,specializations:{pain_tolerance:1,stamina:1}},medicine:{level:1,specializations:{first_aid:2}},artisanry:{level:1,specializations:{leatherworking:1}}}}},Wv={ingress_aeiga_reika_secret_seer:{name:"Seraphina",gender:"female",fullImage:"ingress_char (10)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Seraphina once brokered secrets for Aeiga-Reika's powerfula key player in the false sulfur conspiracy. But a sensitive soul can only shake hands with murderers for so long. The coins, a thousand times touched, burned through her with the pain they witnessed. These days her Crystalline Parlor is closed. She reads the future still, but tells no one.",keywords:["crystal","sphere","orb","vision","future","prophecy","sight","seer","oracle","divination","psychometry","touch","memory","secret","whisper","truth","revelation","parlor","broker","information","conspiracy","sulfur","coin","burn","pain","essence","soul","sensitive","hand","palm","eye","veil","mirror","fate","fortune","read","glimpse","echo","imprint","residue","aura","gift","talent","knowledge","mystery","shadow","past","tomorrow","dream","trance","ritual","candle","incense","cards","tea","leaves","signs","omens","portent","scrying","gaze","third","hidden","unseen","beyond","within"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:4,spirit:2,attunement:3,channeling:2,weaving:3,resilience:2,mind:2,knowledge:3,wisdom:3,ingenuity:3,willpower:2,social:2,composure:4,charisma:2,empathy:3,leadership:1},initialSkills:{divination:{level:3,specializations:{psychometry:3}},investigation:{level:3,specializations:{archive_delving:2,information_brokering:2}},stealth:{level:3,specializations:{hiding:2,sneaking:2}},perception:{level:2,specializations:{eagle_eye:1}},insight:{level:2,specializations:{detecting_lies:1}},etiquette:{level:1,specializations:{noble_courts:1}},legerdemain:{level:1,specializations:{lockpicking:1}}}},ingress_aeiga_reika_nature_healer:{name:"Gulder",gender:"male",fullImage:"ingress_char (11)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"When the Coroner Pine escaped the guild's laboratory, only Gulder dared to approach. Rather than eradicate the plant, he protects it from the waves of Silica-Maw larvae the city council has been sending in ever since. Gulder magic accelerates their lifecycle and the majority turns into butterflies just before reaching the target.",keywords:["water","bucket","splash","leaf","green","bloom","root","herb","soil","moss","growth","plant","seed","life","stream","fountain","flow","wave","dew","branch","flora","pulse","drop","light","path","vine","sprout","petal","stem","bud","flower","grass","tree","fern","algae","lichen","fungus","mushroom","spore","pollen","nectar","sap","bark","thorn","berry","fruit","nut","garden","grove","meadow","spring","pool","pond","rain","mist","fog","spray","cure","balm","tonic","potion","salve","tea","brew","extract","essence","oil","nature","verdant","foliage","canopy","undergrowth","thicket","hedge","ivy","weed","irrigation","oasis","puddle","droplet","moisture","humidity","compost","mulch","fertilizer","larvae","butterfly","coroner","pine"],initialAttributes:{physique:2,strength:2,agility:2,constitution:3,senses:3,spirit:2,attunement:5,channeling:2,weaving:3,resilience:3,mind:2,knowledge:4,wisdom:3,ingenuity:2,willpower:2,social:2,composure:3,charisma:1,empathy:3,leadership:1},initialSkills:{nature_magic:{level:3,specializations:{verdant_call:3,bloom:2}},medicine:{level:3,specializations:{pharmacology:2,first_aid:1}},hardiness:{level:2,specializations:{acclimatization:2}},lore:{level:2,specializations:{agriculture:2,bestiary:1}},elemental_magic:{level:1,specializations:{hydromancy:1}},performance:{level:1,specializations:{singing:1}},magical_lore:{level:1,specializations:{arcane_principles:1}}}},ingress_aeiga_reika_chaos_artificer:{name:"Lyra",gender:"female",fullImage:"ingress_char (12)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Lyra was a promising, if volatile, apprentice in the Titan Assembly Hall, until her 'unauthorized experiments' became too disruptive. Finding the old guild hall was a stroke of luck, a private workshop far from prying eyes and stifling rules. She's been happily dismantling and 'improving' things in solitude.",keywords:["spark","gear","glow","tool","flame","metal","goggles","smoke","glint","bolt","wire","steam","coil","glass","blast","wrench","orb","fuse","pulse","fire","craft","brass","lamp","flare","core"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:3,spirit:2,attunement:3,channeling:4,weaving:4,resilience:1,mind:2,knowledge:3,wisdom:1,ingenuity:4,willpower:3,social:2,composure:1,charisma:2,empathy:2,leadership:1},initialSkills:{chaos_magic:{level:3,specializations:{twisting_fate:3}},engineering:{level:3,specializations:{clockwork:3}},magical_lore:{level:2,specializations:{magical_item_analysis:2}},legerdemain:{level:2,specializations:{sleight_of_hand:1,trap_handling:2}},stealth:{level:1,specializations:{sneaking:1}},artisanry:{level:1,specializations:{sculpture:1}},alchemy:{level:2,specializations:{incendiaries:2}}}},ingress_aeiga_reika_geomancer_engineer:{name:"Vane",gender:"male",fullImage:"ingress_char (13)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Vane once navigated Aeiga-Reika's hazardous steam tunnels, keeping the city's metal heart beating. When a tremor revealed the forgotten Mages Guild, its sturdy, defensible structure seemed a far better claim than his squalid bunk in the Soot Warrens. He's been alone, tinkering ever since.",keywords:["steam","gear","pipe","spark","metal","heat","flame","gauge","tool","grit","glow","wrench","bolt","lamp","oil","ring","wire","smoke","coal","mask","glint","fire","shaft","core","flux"],initialAttributes:{physique:3,strength:3,agility:3,constitution:4,senses:3,spirit:2,attunement:3,channeling:1,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:2,ingenuity:4,willpower:3,social:2,composure:1,charisma:1,empathy:1,leadership:2},initialSkills:{elemental_magic:{level:2,specializations:{geomancy:2}},engineering:{level:3,specializations:{hydraulics:2,clockwork:1}},labor:{level:2,specializations:{construction:2,hauling:1}},survival:{level:3,specializations:{urban_survival:2,hazard_recognition:2}},stealth:{level:1,specializations:{sneaking:1}},ranged_combat:{level:1,specializations:{throwing_weapons:1}},perception:{level:2,specializations:{serpent_s_skin:1}}}},ingress_aeiga_reika_grim_fighter:{name:"Marcaedro",gender:"male",fullImage:"ingress_char (9)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Marcaedro 'Grim' survived Aeiga-Reika's illegal golem fighting pits through shadow magic and brutal combat skills, known for dismantling constructs with hammer and fist. When a destroyed warehouse revealed a forgotten guild hall behind it, he claimed the defensible structure as his base. His fearsome reputation in the underworld ensures no one challenges his squatter's claim.",keywords:["fist","rage","shock","blood","spark","scar","grit","fury","iron","lash","wrath","fire","gloom","dark","shadow","vault","chain","core","burst","curse","mark","pain","clash","pulse","glare","squat","golem","pit"],initialAttributes:{physique:2,strength:4,agility:3,constitution:4,senses:2,spirit:2,attunement:2,channeling:3,weaving:1,resilience:4,mind:2,knowledge:1,wisdom:2,ingenuity:1,willpower:4,social:2,composure:3,charisma:1,empathy:1,leadership:3},initialSkills:{death_magic:{level:2,specializations:{shadowmancy:2}},melee_combat:{level:3,specializations:{one_handed_impact:3}},unarmed_combat:{level:3,specializations:{striking:2,grappling:1}},defense:{level:2,specializations:{dodging:2}},intimidation:{level:2,specializations:{presence:1,coercion:1}},streetwise:{level:1,specializations:{underworld_navigation:1}},provisions:{level:1,specializations:{butchery:1}}}},ingress_aeiga_reika_life_artisan:{name:"Meadowlight",gender:"female",fullImage:"ingress_char (8)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Meadowlight came to Aeiga-Reika believing even industrial waste could bloom, her transmutation magic turning soot into prismatic crystals and rust into copper flowers. The crumbling guild hall became her canvas for strange beauty. She works alone, slowly transforming decay into art that both disturbs and enchants.",keywords:["bloom","crystal","rust","soot","flower","dust","glow","light","stone","petal","metal","aura","spark","charm","copper","grace","pulse","veil","shard","stem","flare","change","path","moss","hue"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:2,spirit:2,attunement:4,channeling:2,weaving:4,resilience:2,mind:2,knowledge:2,wisdom:3,ingenuity:3,willpower:2,social:2,composure:2,charisma:4,empathy:3,leadership:2},initialSkills:{life_magic:{level:3,specializations:{blessings:3}},artisanry:{level:3,specializations:{woodworking:2,tailoring:2}},enchanting:{level:2,specializations:{imbuing:2}},persuasion:{level:2,specializations:{oratory:1,conflict_resolution:1}},commerce_trade:{level:1,specializations:{appraisal:1}},riding:{level:1,specializations:{equine_mounts:1}},performance:{level:2,specializations:{storytelling:1}}}}},Gv={ingress_sequoiter_mentalist_orator:{name:"Apenherz",gender:"male",fullImage:"ingress_char (4)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Apenherz's minor mental nudges convinced another guild to swap premises sight-unseen. They discovered too late their 'prestigious merchant quarter tower' was actually a condemned grain silo. His gift for making people see what they wanted to see had finally netted him a legitimate guild chartereven if some walls were falling apart.",keywords:["charm","trick","mind","spell","word","cloak","gold","voice","deal","mask","luck","wit","smile","illusion","coin","rune","tongue","sway","glamour","vow","smoke","echo","flare","whim","urge","charter","silver"],initialAttributes:{physique:2,strength:2,agility:3,constitution:2,senses:2,spirit:2,attunement:2,channeling:2,weaving:4,resilience:2,mind:2,knowledge:2,wisdom:2,ingenuity:3,willpower:2,social:2,composure:4,charisma:4,empathy:3,leadership:2},initialSkills:{order_magic:{level:3,specializations:{mentalism:4,illusions:1}},persuasion:{level:4,specializations:{oratory:4,bargaining:2}},deception:{level:2,specializations:{bluffing:3}},streetwise:{level:2,specializations:{gathering_rumors:2}},melee_combat:{level:1,specializations:{one_handed_blades:1}}}},ingress_sequoiter_life_pharmacist:{name:"Siliana",gender:"female",fullImage:"ingress_char (3)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Siliana started out as an expedition medic. The northland taught her potent remedies, but the cost of learning came due in blood and memories best left frozen. Now she is the sole ray of light in the otherwise dark abandoned guild hall, turning this ruin into a makeshift sanctuary.",keywords:["life","herb","light","blood","snow","ice","wound","heal","cure","balm","salve","elixir","potion","vial","flask","root","leaf","bloom","flower","aura","grace","faith","hope","prayer","spirit","pulse","breath","medic","doctor","nurse","remedy","medicine","tincture","mix","brew","frost","winter","north","memory","trauma","loss","grief","death","sanctuary","refuge","haven","shelter","glow","warmth","miracle","blessing","touch","care","bandage","stitch","plant","bottle","formula"],initialAttributes:{physique:2,strength:1,agility:2,constitution:3,senses:3,spirit:2,attunement:4,channeling:3,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:4,ingenuity:2,willpower:2,social:2,composure:2,charisma:2,empathy:4,leadership:1},initialSkills:{life_magic:{level:4,specializations:{restoration:4,blessings:2}},medicine:{level:3,specializations:{pharmacology:4,first_aid:2}},survival:{level:2,specializations:{foraging:3}},provisions:{level:1,specializations:{cooking:1}},defense:{level:1,specializations:{dodging:1}}}},ingress_sequoiter_spectral_investigator:{name:"Andraticus",gender:"male",fullImage:"ingress_char (5)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Andraticus was once a city archivist, his quiet obsession with Sequoiter's countless missing persons leading him to the forbidden arts of death magic. He established his 'guild' in a forgotten records hall as a grim sanctuary for communing with the lost, a pursuit that naturally discouraged any living company.",keywords:["ghost","soul","death","spirit","bone","shade","crypt","mist","void","curse","grave","dust","decay","lantern","cloak","skull","dark","spell","ash","whisper","rift","tomb","rot","echo","chill"],initialAttributes:{physique:2,strength:1,agility:2,constitution:1,senses:3,spirit:2,attunement:4,channeling:3,weaving:3,resilience:3,mind:2,knowledge:4,wisdom:3,ingenuity:2,willpower:4,social:2,composure:3,charisma:1,empathy:2,leadership:1},initialSkills:{death_magic:{level:3,specializations:{spectral_mastery:4}},investigation:{level:4,specializations:{archive_delving:4,forensics:2}},magical_lore:{level:2,specializations:{arcane_history:3}},lore:{level:2,specializations:{history:2}},meditation:{level:1,specializations:{introspection:1}}}},ingress_sequoiter_sky_pathfinder:{name:"Sayriga",gender:"female",fullImage:"ingress_char (2)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Sayriga grew up navigating the treacherous northern wilderness, as her natural affinity for the sky and weather patterns manifested. She claimed an abandoned ruin as her 'guild' headquarters to offer her unique guiding services. Although not strictly a mages guild today, the premises have all necessary facilities, albeit in a state of disrepair.",keywords:["wind","sky","storm","snow","cloud","air","bird","frost","mist","ice","light","wing","gust","path","peak","glow","guide","flare","drift","ray","north","aura","spark","staff","call","weather"],initialAttributes:{physique:2,strength:2,agility:4,constitution:3,senses:4,spirit:2,attunement:3,channeling:2,weaving:2,resilience:3,mind:2,knowledge:1,wisdom:3,ingenuity:2,willpower:3,social:2,composure:3,charisma:2,empathy:2,leadership:2},initialSkills:{nature_magic:{level:3,specializations:{sky_dance:4}},navigation:{level:4,specializations:{pathfinding:4,star_guiding:2}},survival:{level:2,specializations:{shelter_craft:2,foraging:2}},perception:{level:2,specializations:{eagle_eye:2}},etiquette:{level:1,specializations:{mages_guild_protocols:1}}}},ingress_sequoiter_rune_enchanter:{name:"Astartia",gender:"female",fullImage:"ingress_char (1)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"A dedicated scholar consumed by the study of ancient runes, Astartia used her enchanting skills to craft scrolls to fund her research into Sequoiter's frozen history. One of her findings was the ruins of an old mages guild, which she promptly claimed as her base of operations. Initially far from the city, the recent rapid expansion now fully encompasses it.",keywords:["rune","scroll","ink","spell","book","glyph","charm","dust","paper","mind","frost","word","echo","map","lore","mark","light","sigil","code","focus","page","seal","ice","quill","vault"],initialAttributes:{physique:2,strength:1,agility:2,constitution:2,senses:3,spirit:2,attunement:3,channeling:3,weaving:4,resilience:3,mind:2,knowledge:4,wisdom:4,ingenuity:3,willpower:4,social:2,composure:2,charisma:1,empathy:1,leadership:1},initialSkills:{enchanting:{level:3,specializations:{scribing:4,imbuing:1}},magical_lore:{level:4,specializations:{runes:4,arcane_principles:2}},linguistics:{level:2,specializations:{ancient_languages:3}},alchemy:{level:1,specializations:{potions:2}},memory:{level:1,specializations:{eidetic_recall:1}}}},ingress_sequoiter_clockwork_geomancer:{name:"Borin",gender:"male",fullImage:"ingress_char (6)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"A master smith and tinkerer by trade, Borin found his knack for geomancy unexpectedly useful in reinforcing his workshop against Sequoiter's harsh elements. After a rival's 'accidental' magical mishap cleared out the competition and any apprentices, his sturdy workshop became the last 'guild' on the far bank of Frosteritz River standing by sheer resilience.",keywords:["stone","forge","metal","fire","hammer","anvil","rock","ice","armor","gem","smoke","steam","heat","earth","steel","gear","flame","coal","spark","wall","shield","grit","iron","dust","ore"],initialAttributes:{physique:3,strength:4,agility:2,constitution:4,senses:2,spirit:2,attunement:2,channeling:3,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:2,ingenuity:4,willpower:3,social:2,composure:2,charisma:1,empathy:1,leadership:2},initialSkills:{elemental_magic:{level:3,specializations:{geomancy:4}},engineering:{level:4,specializations:{clockwork:4,hydraulics:2}},artisanry:{level:2,specializations:{smithing:3}},labor:{level:2,specializations:{construction:2}},provisions:{level:1,specializations:{baking_and_pastry:1}}}}},Kv={declutter:{effortMin:100,effortMax:2e3,reward:{clutterPerEffort:-.01},names:{byBuilding:{library:[{name:"Reshelve arcane tomes",skills:["magical_lore","athletics","memory"],intermediates:["Reaching for high-placed books using an enchanted stepladder","Finding the correct section using the celestial library index","Checking the tome's astral resonance for proper placement","Sorting by the Old Tongue's alphabetical order","Carefully clearing magically charged dust from covers","Recalling the exact forgotten shelf for {_OPTION1}","Disarming a minor {_OPTION2} ward on a restricted section book"],_OPTION1:["'Chronicles of the Unseen University'","'Planar Cartography: A Beginner's Folly'","'Golemetry Vol. IV: Advanced Servitude'","'Minor Hexes and Their Hilarious Consequences'","'The Art of Pyromantic Baking'"],_OPTION2:["stasis-lock","gravity-shift","alarm-shriek","temporary blindness","finger-trap"]},{name:"Sort misplaced scrolls",skills:["runes","legerdemain","memory"],intermediates:["Gathering scrolls from beneath dusty busts and forgotten lecterns","Identifying scroll scripts by their magical aura and ink type","Deciphering faded or intentionally obscured runic markers","Cross-referencing scroll serial numbers with the Master Scroll Registry","Handling brittle, ancient parchment with magically enhanced dexterity","Remembering the preferred containment cylinder for {_OPTION1} scrolls","Carefully unrolling a scroll that faintly hums with {_OPTION2} energy"],_OPTION1:["'Titan-Forged Prophecy'","elemental summoning","'Celestial Navigation Chart'","'Shadow Weaving Primer'","illusory script practice"],_OPTION2:["temporal distortion","arcane feedback","whispering secrets","protective glyphs","phantom script"]},{name:"Dust ancient grimoires",skills:["labor","magical_lore","hardiness"],intermediates:["Donning a filtration mask enchanted against arcane motes","Gently brushing centuries of magically-infused dust from leather bindings","Carefully turning brittle, age-yellowed pages whispering forgotten words","Recognizing the unique binding sigil of a grimoire from {_OPTION1}","Resisting the soporific enchantments woven into the dust of a {_OPTION2}-authored tome","Ensuring the structural integrity of delicate magical diagrams during cleaning"],_OPTION1:["The Alahan School of Illusion","The Bracada Academy of Sorcery","The Nighon Necromantic Institute","The Deyjan Heretical Archives","The Erathian Celestial College"],_OPTION2:["Archmage Eldrin the Sleepy","The Sandman's Apprentice","Professor Somnus","Lady Lethe of the Library","The Whisperwind Scribe"]},{name:"Organize research notes",skills:["magical_lore","memory","analysis_and_logic"],intermediates:["Sifting through stacks of hastily scribbled arcane theories and experimental results","Recalling the context of cryptic annotations and half-finished diagrams","Applying logical frameworks to categorize disparate magical concepts","Identifying subtle connections between a failed potion recipe and a successful warding spell","Cross-referencing findings with established principles of {_OPTION1}","Debating the ethical implications of a recently rediscovered {_OPTION2} ritual fragment"],_OPTION1:["sympathetic magic","aetheric dynamics","runic grammatology","planar resonance","golem consciousness studies"],_OPTION2:["soul transference","mana siphoning","familiar augmentation","temporal stutter","forbidden knowledge retrieval"]},{name:"Archive forgotten lore",skills:["magical_lore","history","memory","archive_delving"],intermediates:["Navigating the shifting corridors of the sub-archives using a dowsing rod","Recalling historical events to date unlabelled manuscripts","Sifting through millennia of tax records, royal decrees, and wizard duels","Identifying texts penned during the tumultuous {_OPTION1} era","Carefully handling artifacts that whisper tales of {_OPTION2} civilizations","Connecting fragmented prophecies to recent celestial alignments"],_OPTION1:["The Age of Silence","The War of the Elements","The Titan Uprising","The Founding of the Magic Guilds","The Great Spell Plague"],_OPTION2:["Ancient Kreegan","Lost Elven Kingdoms","Primordial Genie Empires","Forgotten Human Tribes","The Precursors"]},{name:"Clear reading nooks",skills:["labor","hospitality"],intermediates:["Gathering abandoned teacups, half-eaten mana biscuits, and discarded quills","Plumping enchanted cushions that gently massage the sitter","Adjusting everburning candles for optimal reading luminosity","Dispelling lingering {_OPTION1} auras from previous occupants","Restocking complimentary {_OPTION2} parchment and self-inking quills"],_OPTION1:["concentration","minor frustration","intellectual excitement","sleepiness","arcane static"],_OPTION2:["sound-dampening","thought-focusing","anti-distraction","page-turning","comfort-enhancing"]},{name:"Mend damaged bindings",skills:["leatherworking","scribing"],intermediates:["Selecting the appropriate grade of cured {_OPTION1} hide for repairs","Carefully stitching torn spines with silver thread and griffin sinew","Applying restorative alchemical solutions to brittle cover boards","Retooling faded gold leaf on intricate cover sigils","Replacing worn clasps made of {_OPTION2}","Meticulously matching the original scribe's calligraphic style for title restoration"],_OPTION1:["Basilisk","Dragon Whelp","Gorgon","Manticore","Cockatrice"],_OPTION2:["Moonstone","obsidian","enchanted brass","Dwarven Steel","Petrified Shadowwood"]},{name:"Catalog new acquisitions",skills:["magical_lore","memory","bookkeeping","appraisal"],intermediates:["Examining newly arrived tomes, scrolls, and minor magical curios","Appraising the arcane significance and potential dangers of each item","Assigning a unique chronomantic identification sigil","Entering acquisition details into the Grand Library Ledger of Holdings","Recalling similar items from the {_OPTION1} collection to avoid duplicates","Noting any unusual {_OPTION2} enchantments or curses on an item before shelving"],_OPTION1:["Solmyr's Personal Stash","The Astral Repository","Xeron's Banned Books","Archibald's Oddities","The Von Kessel Collection"],_OPTION2:["knowledge-stealing","truth-compelling","memory-enhancing","curiosity-piquing","warded against specific lineages"]},{name:"Silence whispering pages",skills:["order_magic","magical_lore","meditation"],intermediates:["Meditating to attune to the library's ambient thought-forms and echoes","Identifying the specific tomes resonating with disruptive psychic energy","Channeling calming Order magic to dampen errant magical vocalizations","Applying temporary silencing sigils to particularly chatty grimoires","Distinguishing between benign {_OPTION1} echoes and potentially sanity-eroding {_OPTION2} murmurs","Negotiating a quietude pact with a minor book elemental"],_OPTION1:["scholarly debates","recitations of ancient poetry","forgotten spell incantations","historical anecdotes","philosophical musings"],_OPTION2:["madness-inducing riddles","fear-mongering prophecies","soul-trapping verses","secret-revealing gossip","sanity-draining paradoxes"]},{name:"Banish errant bookmites",skills:["nature_magic","alchemy","monster_lore"],intermediates:["Identifying the specific species of bookmite: the common Page-Nibbler or the rarer Glyph-Eater","Brewing a non-damaging alchemical repellent using silverfish scales and moonpetal extract","Applying gentle Nature Magic to encourage the mites to vacate the premises peacefully","Consulting 'Monstrous Vermin and How to Annoy Them' for weaknesses of the {_OPTION1} variant","Setting miniature, magically baited traps using crystallized {_OPTION2}","Ensuring no valuable spell components are mistaken for mite food"],_OPTION1:["ink-sucking","parchment-devouring","binding-burrowing","rune-corrupting","story-stealing"],_OPTION2:["mana dust","powdered griffin feather","essence of boredom","dried nightshade berries","sweetened papyrus shreds"]},{name:"Decipher cryptic marginalia",skills:["magical_lore","cryptography","linguistics"],intermediates:["Examining faint, spidery scribbles in the margins of ancient texts","Applying advanced runic analysis to unknown symbols and glyphs","Using cryptographic techniques to break complex substitution ciphers","Consulting linguistic archives for archaic dialects and dead magical languages","Uncovering a hidden commentary from {_OPTION1}, a famously eccentric archmage","Realizing the marginalia forms a fragmented map to a hidden {_OPTION2}"],_OPTION1:["Archmage Horatio the Obfuscator","Loremaster Elara Meadowlight","The Mad Prophet of the Peaks","Grand Vizier Al'Zahid","Scribe Thoth-Amon"],_OPTION2:["spell component cache","forgotten laboratory","secret passage","powerful artifact","lost incantation"]},{name:"Restore faded ink on scrolls",skills:["scribing","alchemy","calligraphy"],intermediates:["Concocting an alchemical ink-revivifying solution using squid ink and powdered moonstone","Carefully applying the solution with a fine griffin-feather brush to faded script","Matching the original calligraphic style, whether {_OPTION1} or {_OPTION2}","Using artistic skill to meticulously recreate missing portions of intricate diagrams","Testing the solution on a sample of similarly aged, non-magical parchment","Ensuring the restored ink is magically inert and won't unexpectedly trigger latent spells"],_OPTION1:["Elegant Elven Script","Blocky Dwarven Runes","Flowing Celestial Glyphs","Angular Draconic Sigils","Archaic Human Cursive"],_OPTION2:["Ornate Kreegan Glyphs","Delicate Fairy Script","Practical Gnomish Print","Mysterious Titan Symbols","Common Trade Tongue"]},{name:"Update celestial charts",skills:["divination","cartography","magical_lore"],intermediates:["Consulting the Grand Orrery of Bracada, noting planetary alignments","Using divination spells like 'Star Gaze' to observe distant astral bodies and phenomena","Mapping newly identified comets, nebulae, and rogue planetoids","Cross-referencing observations with ancient prophecies tied to celestial events like {_OPTION1}","Noting the erratic trajectory of the wandering star known as {_OPTION2}","Calculating the magical influence of the newly charted 'Serpent's Coil' nebula"],_OPTION1:["'The Convergence of Moons'","'The Comet of Shifting Fates'","'The Dragon Star's Return'","'The Weeping Constellation'","'The Titan's Slumber'"],_OPTION2:["The Harbinger","The Guide","The Wanderer's Hope","The Doom Spark","The Eye of the Void"]},{name:"Cross-reference prophetic texts",skills:["divination","magical_lore","memory","pattern_recognition"],intermediates:["Gathering scrolls, tablets, and dream journals from various seers and oracles","Recalling key phrases and symbolic imagery from hundreds of disparate prophecies","Identifying recurring themes, such as 'the fall of the {_OPTION1}' or 'the rise of the {_OPTION2}'","Using divinatory tools like scrying bowls and tarot decks to clarify ambiguous verses","Finding alarming correlations between the prophecies of the Blind Seers of Deyja and recent elemental disturbances","Debating the multiple possible interpretations of the 'Twin-Tailed Comet' prophecy"],_OPTION1:["Ivory Towers","Golden Age","Silent Kings","Old Gods","Ancient Order"],_OPTION2:["Shadowed Hero","Fifth Element","forgotten magic","New Pantheon","Crimson Banner"]},{name:"Verify artifact authenticity",skills:["magical_item_analysis","counter_forgery","history"],intermediates:["Examining an artifact for anachronistic tool marks or material composition","Casting 'Analyze Dweomer' to scrutinize its magical signature, age, and aura","Checking for inconsistencies with historical records of similar {_OPTION1} artifacts","Detecting subtle signs of magical illusion or mundane forgery, like artificially aged patina","Comparing its craftsmanship to known works of the legendary Artificer {_OPTION2}","Uncovering evidence that it's a clever replica enchanted with a 'false history' glamour"],_OPTION1:["Titan-Era","Elven Old Kingdom","Dwarven Deep-Forge","Ancient Necropolis","Celestial Vault"],_OPTION2:["Galen the Golemancer","Lyra Starsinger","Borin Stonebeard","Archlich Mortis","Seraphina the Bright"]}],dining_hall:[{name:"Clear feasting tables",skills:["labor","hospitality","athletics"],intermediates:["Lifting heavy silver platters laden with leftover roasted griffin","Efficiently stacking enchanted, self-warming plates and goblets","Maintaining a polite smile while dodging hurried apprentices with armfuls of tankards","Nimbly navigating around spilled potions and dropped spell components","Carefully handling delicate {_OPTION1} crystal glassware, rumored to shatter at harsh words","Ensuring no enchanted {_OPTION2} cutlery is accidentally discarded with the bone pile"],_OPTION1:["Elven Star-Crystal","Dwarven Geode-Cut","Naga Sea-Glass","Celestial Ice","Gnomish Self-Polishing"],_OPTION2:["poison-detecting forks","flavor-enhancing spoons","never-dulling knives","temperature-regulating ladles","self-sorting sporks"]},{name:"Scrub away spilled potions",skills:["labor","alchemy","hardiness"],intermediates:["Identifying the nature of the spilled potion by its color, viscosity, and lingering magical scent","Applying an alchemical neutralizer paste to prevent floorboard corrosion or unexpected transmutations","Vigorously scrubbing stubborn, magically adhesive stains left by a Potion of {_OPTION1}","Enduring the noxious fumes from a bubbling puddle of a failed {_OPTION2} experiment","Carefully cleaning up shimmering residue from a spilled Elixir of Vigor that makes the cleaning rags twitch"],_OPTION1:["giant strength","invisibility","stickiness","giggling fits","minor polymorph"],_OPTION2:["universal solvent","'Love Potion #8.5'","youth restoration draught","instant darkness powder","anti-gravity brew"]},{name:"Polish tarnished goblets",skills:["labor","artisanry"],intermediates:["Selecting the correct alchemical polish for mithril, silver, or gold-plated goblets","Gently buffing away tarnish accumulated from magical residues and potent dwarven ales","Applying minor smithing techniques to smooth out dents from overly enthusiastic toasts","Admiring the restored gleam on a finely crafted {_OPTION1} ceremonial chalice","Carefully handling a set of goblets rumored to have been used by {_OPTION2} and still faintly humming"],_OPTION1:["Titanium-Alloyed","Adamantine-Inlaid","Orichalcum-Chased","Moon Silver","Dragonscale Embossed"],_OPTION2:["King Roland Ironfist","Queen Catherine Gryphonheart","Archmage Tarnum","Sandro the Necromancer","Lord Haart"]},{name:"Restock pantry supplies",skills:["labor","provisions","bookkeeping","logistics"],intermediates:["Checking pantry inventory levels against the enchanted 'Never-Empty Larder' ledger","Hauling heavy crates of sun-dried Hydra jerky and barrels of Dwarven ale","Organizing supplies using the 'First In, First Out, Unless Magically Preserved' system","Updating stock quantities in the Guild's meticulous provisioning scrolls","Noticing a critical shortage of {_OPTION1}, essential for the Archmage's favorite tea","Arranging for an expedited shipment of {_OPTION2} from the halfling trading caravans"],_OPTION1:["dragon peppers","Moon Sugar crystals","phoenix ash flakes","shadow truffles","star anise pods"],_OPTION2:["griffin eggs","spiced wyvern sausages","'Beholder Eye Caviar'","mandrake root","Sunstone Flour"]},{name:"Sweep up crumbs and ectoplasm",skills:["spectral_mastery"],intermediates:["Sweeping stone floors with a broom made of enchanted basilisk whiskers","Carefully collecting residual ectoplasmic slime from recent ghostly visitations or failed summoning attempts","Applying minor binding charms to contain wisps of sentient dust motes","Disposing of crumbs from the notoriously messy {_OPTION1} pastries","Neutralizing a patch of particularly stubborn, shimmering {_OPTION2} residue that giggles when disturbed"],_OPTION1:["Goblin Rock Cakes","Orcish Meat Pies","Halfling Honey Buns","Wizard's Mana Muffins","Elf-Leaf Crackers"],_OPTION2:["poltergeist goo","failed illusion slime","elemental seepage","astral jelly","emotional residue"]},{name:"Wash mountains of dishes",skills:["labor","stamina","provisions"],intermediates:["Scrubbing endlessly at food-caked plates, cauldron-sized pots, and tankards sticky with potent brews","Enduring the monotonous rhythm, occasionally broken by a dish attempting to float away","Ensuring all kitchenware is hygienically cleansed with magically heated water","Carefully washing the Head Sorceress's personal {_OPTION1} scrying bowl used as a soup tureen","Discovering a runic inscription at the bottom of a {_OPTION2} platter that translates to 'Wash Me Properly Or Suffer Mild Indigestion'"],_OPTION1:["obsidian","jadeite","Silvered Moonstone","enchanted clay","self-cleaning"],_OPTION2:["Dwarven Feasting","Elven Ceremonial","Orcish War-Table","Gnomish Trick","Titan-Sized"]},{name:"Organize cutlery and plates",skills:["labor","provisions","memory","hospitality"],intermediates:["Sorting the myriad types of forks, knives, spoons, and sporks","Stacking plates by material: ceramic, pewter, silver, and the occasionally vibrating obsidian","Recalling the designated, magically warded drawers and cabinets for each item set","Ensuring easy access for the often-flustered kitchen servitors and apprentices","Polishing the ceremonial {_OPTION1} cutlery set, reserved for visiting dignitaries","Placing the {_OPTION2} plates, known for their delicate enchantments, into their silk-lined, stasis-field storage box"],_OPTION1:["Dragonbone-Handled","Mithril-Filigreed","Star Metal","Elven Ancestral Silver","Titan-Forged Gold"],_OPTION2:["scrying","self-repairing","warded against poison","history-recording","mood-enhancing"]},{name:"Dispose of leftover rations",skills:["labor","provisions"],intermediates:["Sorting edible scraps from truly inedible magical byproducts and failed experiments","Transporting organic waste to the magically accelerated compost heap guarded by a grumpy earth elemental","Applying minor preservation spells to salvageable foodstuffs for the less discerning guild members","Feeding leftover roasted {_OPTION1} bones to the kennel master's hell hounds","Using spoiled {_OPTION2} potions to fertilize the carnivorous plant garden"],_OPTION1:["Minotaur","Cockatrice","Wyvern","Gargoyle","Basilisk"],_OPTION2:["growth","healing","fertility","herbalism","mana regeneration"]},{name:"Ventilate lingering food odors",skills:["aeromancy","engineering"],intermediates:["Manually cranking open the magically sealed ventilation shafts in the high ceiling","Casting 'Gust of Wind' and 'Air Bubble' spells to create specific air currents towards exhaust ports","Checking and cleaning the elemental-bound air filtration runes that trap grease and magical fumes","Dispelling the particularly potent and lingering aroma of last night's {_OPTION1} stew","Adjusting the arcane-powered directional fans to counteract the smell of burnt {_OPTION2} from a kitchen mishap"],_OPTION1:["'Kreegan Hell-Pepper Surprise'","'Dwarven Garlic Kraken Surprise'","'Ogre Onion and Bog Fungus Surprise'","'Goblin Mystery Meat Goulash'","'Naga Spicy Eel Surprise'"],_OPTION2:["'Potion of Invisibility'","'Pixie Pie'","scorched dragonfruit tarts","experimental mana cookies","alchemical cheese"]},{name:"Reset table settings",skills:["hospitality","etiquette","memory"],intermediates:["Spreading freshly laundered tablecloths imbued with anti-stain enchantments","Arranging cutlery according to the complex Tower Dining Etiquette, Section IV, Subsection B","Recalling the preferred seating arrangements and dietary restrictions for senior mages and their familiars","Folding napkins into impressive {_OPTION1} shapes that occasionally animate","Ensuring each place setting has a chilled goblet of magically purified {_OPTION2} water, sometimes flavored with illusionary fruit"],_OPTION1:["Origami Dragons","Folded Phoenixes","Miniature Golems","Wizard Hat Creases","Abstract Runic Symbols"],_OPTION2:["spring","mountain glacier melt","rain harvested from storm clouds","elemental-infused","blessed fountain"]},{name:"Brew restorative teas",skills:["pharmacology","alchemy","life_magic","nature_magic"],intermediates:["Selecting specific herbs like Sunpetal, Moonleaf, and powdered Griffin Claw for their magical properties","Grinding ingredients with an enchanted silver mortar and pestle that hums softly","Infusing the brew with gentle Life Magic to enhance its healing and calming effects","Consulting ancient pharmacological scrolls for precise brewing times and temperatures","Brewing a large batch of {_OPTION1} tea, known for enhancing mental acuity before exams","Preparing a special {_OPTION2} infusion for the Head Librarian, who suffers from chronic paper-induced stress"],_OPTION1:["'Mind-Focus Mint'","'Sage's Serenity Brew'","'Scholar's Spark Leaf'","'Memory Moss Medley'","'Clarity Comfrey Concoction'"],_OPTION2:["'Sunpetal Salve Tea'","'Moonpetal Panacea Brew'","'Lifebloom Essence Infusion'","'Spiritmender Tincture Tea'","'Vitality Vine Elixir'"]},{name:"Prepare enchanted appetizers",skills:["refined_palate","cooking","enchanting"],intermediates:["Selecting exotic and magically reactive ingredients like shimmercap mushrooms and sun-ripened mana berries","Imbuing foodstuffs with minor beneficial enchantments such as 'Enhanced Flavor' or 'Temporary Wit'","Balancing complex flavors to satisfy the discerning palates of archmages and visiting efreeti","Artistically arranging appetizers on platters that may levitate or display minor illusions","Creating shimmering {_OPTION1} canaps that change color based on the diner's mood","Garnishing the {_OPTION2} puffs with edible glitter that whispers compliments to the eater"],_OPTION1:["levitating cheese cubes","color-changing fruit skewers","truth-serum olives","luck-infusing mini-quiches","comprehend languages crackers"],_OPTION2:["Mana-Infused Gougres","Dragonfruit and Feta Bites","Phoenix Egg Tartlets","Glowshroom Pt","Crystalized Honey Dewdrops"]},{name:"Chill beverages with ice magic",skills:["hydromancy","hospitality"],intermediates:["Focusing hydromantic energy to precisely lower the temperature of various beverages","Shaping conjured ice into decorative forms like miniature ice elementals or frozen runes for drink pitchers","Ensuring beverages are chilled to perfection without accidentally flash-freezing the entire punch bowl","Chilling the visiting Dwarven Thane's notoriously strong {_OPTION1} ale to his exact specifications","Creating elaborate ice sculptures of {_OPTION2} to adorn the dessert table, which sometimes melt into tiny water weirds"],_OPTION1:["'Firebrandy Ale'","'Cave Bear Stout'","'Mithril Mead'","'Magma Rock Lager'","'Deep Iron Porter'"],_OPTION2:["Ice Griffins","Frozen Phoenixes","Crystalline Golems","Glacial Serpents","Frosty Fairies"]},{name:"Ensure proper dining etiquette",skills:["leadership","insight","mages_guild_protocols"],intermediates:["Subtly observing diners for breaches in the Tower's extensive Code of Conduct","Discreetly correcting misbehaving apprentices attempting to levitate peas into each other's mouths","Intervening with tact when arcane debates at the table threaten to escalate into actual spell-slinging","Recalling the specific dining customs and forbidden topics for visiting {_OPTION1} ambassadors","Quietly reminding a junior mage that practicing {_OPTION2} spells on the table settings is frowned upon, especially if it animates the cutlery"],_OPTION1:["Elven Loremaster from Eeofol","Dwarven Runelord from Stonehelm","Naga Sorceress from the Shifting Isles","Efreeti Sultan from the Plane of Fire","Titan Emissary from the Cloud Cities"],_OPTION2:["transmutation","minor illusion","pyromancy","telekinesis","chronomancy"]},{name:"Cleanse haunted serving platters",skills:["life_magic","abjuration","spectral_mastery"],intermediates:["Identifying the nature of the spectral entities clinging to platters  usually disgruntled former kitchen staff or food critics","Applying gentle Death Magic persuasions to encourage lingering spirits to move on to the Great Buffet Beyond","Using Life Magic to purify residual negative energy and phantom food stains","Casting minor Abjuration wards, like 'Banish Bored Ghost', to prevent re-haunting","Attempting to communicate with a stubborn spirit of a former {_OPTION1} chef who insists his recipes are still being butchered","Carefully scrubbing away a particularly tenacious {_OPTION2} residue that moans dramatically when touched with soap"],_OPTION1:["halfling pastry","orcish barbecue","gnomish experimental","elven vegetarian","dwarven ale-brewing"],_OPTION2:["ectoplasmic grease","soul-stain souffl","spectral gravy remnants","phantom food particles","weeping shadow sauce"]}],workshop:[{name:"Sort crafting components",skills:["artisanry","legerdemain","memory","magical_item_analysis"],intermediates:["Sifting through a pile of {_OPTION0} cogs","Separating shimmering {_OPTION1} scales from dull iron ingots","Remembering the precise storage rune for {_OPTION2} crystals","Checking component integrity using a {_OPTION3} monocle","Placing volatile {_OPTION4} essences into stasis jars","Wondering if this {_OPTION5} piece is for a golem or a siege weapon"],_OPTION0:["brass","clockwork","mithril","obsidian"],_OPTION1:["dragon","griffin","basilisk","wyvern"],_OPTION2:["mana","fire","ice","shadow"],_OPTION3:["magnifying","analytical","divination","truth-seeing"],_OPTION4:["elemental","chaotic","astral","necrotic"],_OPTION5:["curved","spiked","glowing","humming"]},{name:"Clear jammed workbenches",skills:["clockwork","smithing"],intermediates:["Wrestling with a stuck {_OPTION0} lever","Dislodging a bent {_OPTION1} gear","Applying {_OPTION2} lubricant to grinding mechanisms","Carefully extracting a half-finished {_OPTION3} automaton arm","Hammering a warped {_OPTION4} metal plate back into shape","Muttering about apprentices leaving {_OPTION5} projects unfinished"],_OPTION0:["hydraulic","ratcheting","counter-weighted","arcane-powered"],_OPTION1:["chrono-","perpetual motion","steam-driven","harmonic"],_OPTION2:["troll fat","refined quicksilver","ectoplasmic slime","dragon's tear oil"],_OPTION3:["guardian","scout","artisan","battle"],_OPTION4:["titanium","adamantine","steel","bronze"],_OPTION5:["self-winding","ever-glowing","sound-dampening","anti-gravity"]},{name:"Sharpen and store tools",skills:["smithing","woodworking","labor"],intermediates:["Grinding a {_OPTION0} chisel on a whetstone","Applying {_OPTION1} oil to prevent rust on saw blades","Hanging hammers and mallets on the {_OPTION2} rack","Testing the edge of a newly sharpened {_OPTION3} plane","Organizing fine carving tools by {_OPTION4} type","Ensuring all {_OPTION5} implements are properly sheathed"],_OPTION0:["woodworking","stone-carving","ice-sculpting","bone-crafting"],_OPTION1:["dwarven honing","elfin preserving","goblin anti-rust","orcish sharpening"],_OPTION2:["magnetic","pegboard","shadow-bound","levitating"],_OPTION3:["dragonbone","obsidian","meteorite steel","enchanted steel"],_OPTION4:["gnomish precision","human utility","ogre strength","pixie finesse"],_OPTION5:["bladed","pointed","magically imbued","self-repairing"]},{name:"Dispose of failed inventions",skills:["labor","engineering","risk_assessment","alchemy"],intermediates:["Carefully dismantling a sputtering {_OPTION0} device","Assessing the instability of a cracked {_OPTION1} orb","Neutralizing residual magic from a failed {_OPTION2} amulet","Hauling away the wreckage of an exploded {_OPTION3} clockwork servant","Consulting the 'Manual of Catastrophic Failures' for proper disposal of {_OPTION4} residue","Trying not to inhale the fumes from a melted {_OPTION5} prototype"],_OPTION0:["self-stirring cauldron","automated shoe-tyer","portable black hole generator","universal translator"],_OPTION1:["scrying","weather control","gravity-defying","soul-trapping"],_OPTION2:["invisibility","flight","fire-breathing","teleportation"],_OPTION3:["tea-serving","book-fetching","guard","dueling"],_OPTION4:["alchemical","chronomatic","dimensional","ethereal"],_OPTION5:["self-folding map","everlasting gobstopper","portable bridge construct","dream recorder"]},{name:"Organize blueprints and schematics",skills:["artisanry","engineering","memory","cartography"],intermediates:["Unrolling a dusty schematic for a {_OPTION0} golem","Comparing different versions of the {_OPTION1} siege engine plans","Filing away diagrams of intricate {_OPTION2} clockwork mechanisms","Trying to decipher faded annotations on a {_OPTION3} blueprint","Cross-referencing material requirements for a {_OPTION4} construct","Pinning the master plan for the new {_OPTION5} observatory wing"],_OPTION0:["stone","iron","obsidian","diamond"],_OPTION1:["ballista","catapult","trebuchet","battering ram"],_OPTION2:["time-keeping","navigational","defensive","automated"],_OPTION3:["ancient Titan","experimental gnomish","captured enemy","forgotten Archmage's"],_OPTION4:["scrying eye","mechanical bird","walking tower","arcane cannon"],_OPTION5:["astral","elemental","chronomancy","divination"]},{name:"Sweep metal shavings and wood chips",skills:["labor","artisanry","cleaning"],intermediates:["Gathering glittering {_OPTION0} filings with a stiff broom","Collecting piles of fragrant {_OPTION1} shavings","Avoiding a sentient pile of {_OPTION2} dust bunnies","Emptying the collection bin into the {_OPTION3} recycler","Finding a lost {_OPTION4} gear amidst the debris","Wishing for a cleaning {_OPTION5} construct to do this"],_OPTION0:["mithril","adamantine","copper","silver"],_OPTION1:["oak","pine","ironwood","petrified wood"],_OPTION2:["arcane","chiming","chittering","glowing"],_OPTION3:["elemental","magical","steam-powered","transmutation"],_OPTION4:["clockwork","tiny","rune-etched","iridescent"],_OPTION5:["sweeping","dust-devouring","self-polishing","all-purpose"]},{name:"Recycle scrap materials",skills:["transmutation","smithing"],intermediates:["Melting down bent {_OPTION0} ingots in the forge","Using transmutation spells to purify mixed {_OPTION1} metals","Sorting usable {_OPTION2} gears from broken ones","Breaking down damaged {_OPTION3} constructs for parts","Rebinding {_OPTION4} elemental essences from discarded items","Hoping the recycling rune doesn't turn everything into {_OPTION5}"],_OPTION0:["iron","steel","bronze","gold"],_OPTION1:["arcane","common","precious","volatile"],_OPTION2:["brass","iron","clockwork","miniature"],_OPTION3:["guardian","worker","scout","experimental"],_OPTION4:["fire","water","air","earth"],_OPTION5:["lead","cheese","sentient sludge","butterflies"]},{name:"Restock common reagents",skills:["artisanry","alchemy","bookkeeping","magical_lore"],intermediates:["Checking inventory levels of {_OPTION0} dust","Ordering a new shipment of {_OPTION1} crystals","Refilling jars of powdered {_OPTION2} horn","Ensuring there's enough quicksilver for {_OPTION3} enchantments","Updating the ledger for {_OPTION4} oil purchases","Polishing the {_OPTION5} containers for the reagents"],_OPTION0:["pixie","dragon scale","mummy","star"],_OPTION1:["mana","focusing","amplification","warding"],_OPTION2:["unicorn","dragon","minotaur","demon"],_OPTION3:["weapon","armor","tool","golem"],_OPTION4:["snake","elemental","blessed","cursed"],_OPTION5:["glass","ceramic","silver","ebony"]},{name:"Ventilate smithy smoke",skills:["labor","aeromancy","engineering","pyromancy"],intermediates:["Opening the large {_OPTION0} chimney flue","Casting a minor {_OPTION1} whirlwind to clear the air","Checking the directional {_OPTION2} fans for blockages","Adjusting the {_OPTION3} bellows to control airflow to the forge","Making sure the smoke doesn't annoy the {_OPTION4} gargoyles","Clearing soot from the {_OPTION5} ventilation grates"],_OPTION0:["stone","copper","iron","magically enhanced"],_OPTION1:["zephyr","gust","cyclone","breeze"],_OPTION2:["extraction","circulation","purification","cooling"],_OPTION3:["great forge","smelting","tempering","enchanting"],_OPTION4:["rooftop","sentinel","grumpy old","newly awakened"],_OPTION5:["ceiling","wall-mounted","floor-level","rune-inscribed"]},{name:"Secure volatile contraptions",skills:["clockwork","trap_handling","risk_assessment"],intermediates:["Reinforcing the casing of a humming {_OPTION0} device","Applying dampening runes to a vibrating {_OPTION1} core","Setting up a stasis field around an unstable {_OPTION2} prototype","Checking the fail-safes on a potentially explosive {_OPTION3} engine","Carefully moving a {_OPTION4} ticking construct to the reinforced vault","Placing 'Do Not Touch Unless You Enjoy {_OPTION5}' signs"],_OPTION0:["reality-warping","time-bending","soul-powered","chaos-fueled"],_OPTION1:["arcane","elemental","void","clockwork"],_OPTION2:["teleporter","miniature sun","anti-magic field generator","weather machine"],_OPTION3:["infernal","astral","steam-powered doom","perpetual motion"],_OPTION4:["menacingly","erratically","ominously","rhythmically"],_OPTION5:["explosions","implosions","paradoxes","being turned inside out"]},{name:"Calibrate arcane measuring devices",skills:["enchanting","magical_item_analysis","arcane_principles","engineering"],intermediates:["Adjusting the lenses of an {_OPTION0} aetheric scanner","Tuning the resonant frequency of a {_OPTION1} mana-meter","Cross-referencing readings with a {_OPTION2} master chronometer","Recalibrating the ley-line {_OPTION3} detector against the Astral Convergence","Fine-tuning the sensitivity of the {_OPTION4} psychometric calipers","Ensuring the {_OPTION5} null-field generator is perfectly balanced"],_OPTION0:["portable","benchtop","long-range","multi-dimensional"],_OPTION1:["crystal","mercurial","harmonic","bio-luminescent"],_OPTION2:["atomic","celestial","sand-based","water-clock"],_OPTION3:["triangulation","harmonic","divinatory","geodetic"],_OPTION4:["aura-sensitive","artifact-analyzing","soul-weighing","thought-measuring"],_OPTION5:["anti-magic","anti-gravity","anti-entropy","anti-noise"]},{name:"Test newly crafted wands",skills:["implement_crafting","spellcraft","magical_item_analysis"],intermediates:["Channeling a {_OPTION0} spark through a rowan wand","Checking the focus of a crystal-tipped {_OPTION1} scepter","Measuring the {_OPTION2} output of an ebony staff","Ensuring a bone wand doesn't {_OPTION3} unexpectedly","Comparing the new wand's performance to the 'Standard {_OPTION4} Bolt' test","Feeling the {_OPTION5} hum of a well-made implement"],_OPTION0:["minor healing","cantrip-level fire","illusory","detect magic"],_OPTION1:["fireball","ice shard","lightning bolt","magic missile"],_OPTION2:["mana efficiency","spell power","range","casting speed"],_OPTION3:["backfire","summon imps","change color","sing opera"],_OPTION4:["Apprentice's","Adept's","Master's","Archmage's"],_OPTION5:["gentle","powerful","barely perceptible","resonating"]},{name:"Temper enchanted blades",skills:["smithing","armament_enchanting","pyromancy"],intermediates:["Heating a {_OPTION0} longsword in the dragon's breath forge","Quenching the glowing blade in {_OPTION1} oil","Listening for the characteristic {_OPTION2} ring of perfectly tempered metal","Infusing the steel with {_OPTION3} enchantments during the cooling process","Checking the blade's edge for {_OPTION4} sharpness and durability","Admiring the faint {_OPTION5} runes now glowing on the blade"],_OPTION0:["mithril","adamantine","obsidian","star-metal"],_OPTION1:["phoenix tear","griffin blood","blessed water","quicksilver"],_OPTION2:["celestial","infernal","harmonic","ethereal"],_OPTION3:["flaming","frost","vampiric","holy"],_OPTION4:["supernatural","razor","unearthly","adamantine-like"],_OPTION5:["protective","destructive","enhancing","binding"]},{name:"Repair damaged siege engine parts",skills:["siege_weaponry","smithing","engineering","woodworking"],intermediates:["Welding a cracked {_OPTION0} support beam for a catapult","Replacing frayed {_OPTION1} torsion ropes on a ballista","Reinforcing the {_OPTION2} arm of a trebuchet","Patching holes in the {_OPTION3} ammunition hopper","Checking the alignment of the {_OPTION4} targeting mechanism","Applying {_OPTION5} grease to the siege engine's moving parts"],_OPTION0:["ironwood","steel","bronze","stone"],_OPTION1:["dragon sinew","giant hair","ironwood fiber","enchanted silk"],_OPTION2:["throwing","counterweight","launching","main"],_OPTION3:["stone","flaming pitch","plague victim body","rune-inscribed"],_OPTION4:["arcane","optical","mechanical","magical"],_OPTION5:["troll","ogre","golem","dwarven"]},{name:"Assemble golem components",skills:["binding","smithing","magical_lore","clockwork"],intermediates:["Attaching a {_OPTION0} arm to a stone torso","Wiring the {_OPTION1} core into an iron golem's chest cavity","Etching binding runes onto a {_OPTION2} head","Calibrating the {_OPTION3} leg actuators for a brass golem","Consulting ancient texts for the correct {_OPTION4} activation sequence","Hoping this golem doesn't develop {_OPTION5} sentience and rebel"],_OPTION0:["massive stone","articulated metal","clockwork","crystal"],_OPTION1:["elemental","arcane","soulstone","clockwork heart"],_OPTION2:["diamond","obsidian","clay","bone"],_OPTION3:["hydraulic","steam-powered","magically driven","clockwork"],_OPTION4:["elemental","arcane","divine","forbidden"],_OPTION5:["unexpected","problematic","philosophical","artistic"]}],alchemists_lab:[{name:"Scrub alchemical stains",skills:["labor","alchemy","stamina"],intermediates:["Applying {_OPTION0} solvent to a bubbling purple stain","Scraping hardened {_OPTION1} residue from the stone floor","Wearing protective {_OPTION2} gloves against corrosive spills","Neutralizing an iridescent shimmer left by a {_OPTION3} potion","Trying not to identify the stain from the 'Forbidden {_OPTION4} Experiments' chapter","Wondering if this stain will eventually eat through the {_OPTION5}"],_OPTION0:["universal","dragon's breath","pixie tear","concentrated"],_OPTION1:["mercurial","sulfurous","phosphorescent","crystallized"],_OPTION2:["wyvern hide","golem-plated","enchanted silk","transmuted rubber"],_OPTION3:["invisibility","transmutation","polymorph","luck"],_OPTION4:["Flesh-warping","Soul-binding","Reality-bending","Time-altering"],_OPTION5:["workbench","floor","cauldron","alchemist"]},{name:"Dispose of volatile concoctions",skills:["incendiaries","risk_assessment","labor"],intermediates:["Carefully carrying a {_OPTION0} smoking beaker to the disposal unit","Diluting a highly reactive {_OPTION1} mixture with inert sand","Pouring a fizzing {_OPTION2} liquid into a lead-lined container","Consulting the 'Volatile Waste Protocol' for handling {_OPTION3} fluids","Making sure the {_OPTION4} neutralizing agent is on hand","Hoping the disposal chute doesn't lead directly to the {_OPTION5} breeding grounds"],_OPTION0:["gently","rapidly","ominously","colorfully"],_OPTION1:["self-igniting","rapidly expanding","reality-distorting","soul-devouring"],_OPTION2:["acidic","explosive","mutagenic","necrotic"],_OPTION3:["unstable","glowing","whispering","phase-shifting"],_OPTION4:["universal","anti-magic","elemental dampening","bio-hazard"],_OPTION5:["Ooze","Slime","Imp","Gremlin"]},{name:"Organize potion vials by potency",skills:["potions","memory","magical_item_analysis"],intermediates:["Reading the faint {_OPTION0} aura of a minor healing potion","Comparing the viscosity of a {_OPTION1} strength elixir to a greater one","Arranging {_OPTION2} mana potions from weakest to 'might explode' strength","Checking labels for {_OPTION3} symbols indicating potency levels","Remembering that the {_OPTION4} potion goes on the 'Extremely Dangerous' shelf","Sniffing a vial of {_OPTION5} and immediately regretting it"],_OPTION0:["healing","protective","enhancing","damaging"],_OPTION1:["giant's","ogre's","troll's","dragon's"],_OPTION2:["blue","sparkling","effervescent","glowing"],_OPTION3:["alchemical","runic","astrological","color-coded"],_OPTION4:["Polymorph Self (Unstable)","Instant Death (Probably)","Wish (Definitely Not)","Love Potion No. 9"],_OPTION5:["Berserker Rage","Sleeping Draught of the Unwaking","Potion of Blinding Speed","Elixir of Questionable Sanity"]},{name:"Clean beakers and retorts",skills:["labor","alchemy","hospitality"],intermediates:["Using a {_OPTION0} brush to scrub residue from a tall beaker","Rinsing a spherical {_OPTION1} retort with purified water","Polishing a crystal {_OPTION2} flask until it shines","Ensuring no cross-contamination between {_OPTION3} experiments","Sterilizing equipment in an {_OPTION4} autoclave","Wondering if the Head Alchemist will notice the {_OPTION5} retort being used for tea"],_OPTION0:["bristle","enchanted","self-cleaning","acid-resistant"],_OPTION1:["distillation","reflux","alembic","Cucurbit"],_OPTION2:["Erlenmeyer","volumetric","Florence","graduated"],_OPTION3:["transmutation","healing","poison","explosive"],_OPTION4:["magical","steam-powered","sonic","UV light"],_OPTION5:["rare perfectly balanced","slightly chipped","borrowed","surprisingly clean"]},{name:"Restock common ingredients",skills:["alchemy","bookkeeping","foraging","pharmacology"],intermediates:["Counting jars of dried {_OPTION0} root","Refilling bins of powdered {_OPTION1} claw","Noting the low supply of {_OPTION2} petals","Checking the freshness of preserved {_OPTION3} eyes","Updating the inventory for {_OPTION4} dew","Making sure the {_OPTION5} spores are kept in a sealed container"],_OPTION0:["mandrake","belladonna","ginseng","nightshade"],_OPTION1:["griffin","manticore","basilisk","harpy"],_OPTION2:["moonflower","sunpetal","dreamfoil","bloodrose"],_OPTION3:["newt","spider","beholder","kraken"],_OPTION4:["morning","shadow","celestial","phoenix"],_OPTION5:["glowing mushroom","puffball","shrieker","ascomoid"]},{name:"Label unidentified substances",skills:["toxicology","magical_item_analysis","runes"],intermediates:["Cautiously sniffing a flask containing a {_OPTION0} purple liquid","Using a 'Detect Poison' spell on a bubbling {_OPTION1} green goo","Applying a temporary {_OPTION2} rune for 'Potentially Explosive'","Consulting the 'Compendium of {_OPTION3} Oddities' for a match","Trying to decipher a faded label that might say '{_OPTION4}' or '{_OPTION5}'","Marking one vial 'Definitely Not {_OPTION6}'"],_OPTION0:["glowing","viscous","fuming","pulsating"],_OPTION1:["translucent","opaque","sparkling","slimy"],_OPTION2:["warning","containment","identification","neutralizing"],_OPTION3:["Alchemical","Unknown","Forgotten","Dangerous"],_OPTION4:["Dragon's Blood","Elixir of Life","Potion of Youth","Universal Solvent"],_OPTION5:["Dragon's Snot","Elixir of Lice","Potion of Youts","Universal Insolvency"],_OPTION6:["Drinkable","Safe","Edible","Good For You"]},{name:"Ventilate noxious fumes",skills:["labor","aeromancy","alchemy","engineering"],intermediates:["Opening the {_OPTION0} fume hood vents","Casting a {_OPTION1} spell to direct fumes outside","Checking the {_OPTION2} exhaust fan for blockages","Ensuring the filtration system is trapping {_OPTION3} particles","Hoping the fumes don't attract any unwanted {_OPTION4} creatures","Placing a 'Warning: {_OPTION5} Zone' sign near the source"],_OPTION0:["alchemical","reinforced","self-sealing","magically-assisted"],_OPTION1:["Gust of Wind","Localized Cyclone","Air Bubble","Create Draft"],_OPTION2:["chimney-mounted","arcane-powered","bellows-driven","elemental"],_OPTION3:["toxic","corrosive","mutagenic","hallucinogenic"],_OPTION4:["rust monsters","fume drakes","air elementals","curious imps"],_OPTION5:["Toxic Fume","Biohazard","Reality Distortion","Spontaneous Combustion"]},{name:"Neutralize spilled reagents",skills:["toxicology","risk_assessment","life_magic"],intermediates:["Sprinkling {_OPTION0} neutralizing powder on a fizzing puddle","Pouring {_OPTION1} containment solution around a spreading stain","Using a 'Detoxify' cantrip on a patch of {_OPTION2} slime","Carefully absorbing a spill of {_OPTION3} acid with enchanted sand","Checking the 'Emergency Spill Guide' for {_OPTION4} protocol","Hoping the neutralized substance doesn't become sentient {_OPTION5}"],_OPTION0:["silver","absorbent","inert","reactive"],_OPTION1:["anti-corrosive","thickening","solidifying","vapor-suppressing"],_OPTION2:["mutagenic","necrotic","corrosive","caustic"],_OPTION3:["Dragon's Bile","Black Lotus Extract","Basilisk Venom","Manticore Spittle"],_OPTION4:["Code Purple","Level 3 Contaminant","Unknown Volatile","Class Omega"],_OPTION5:["and hungry","and philosophical","and start a cult","and demand worker's rights"]},{name:"Catalog experimental residue",skills:["alchemy","magical_lore","memory","investigation"],intermediates:["Scraping a sample of shimmering {_OPTION0} dust into a vial","Labeling a jar of hardened {_OPTION1} crystals 'Experiment 734B - Failure'","Noting the peculiar {_OPTION2} scent of a leftover viscous liquid","Cross-referencing the residue with records of {_OPTION3} ingredients used","Trying to remember if this residue is from the {_OPTION4} or the {_OPTION5} experiment","Adding a note: 'Residue exhibits minor {_OPTION6} properties. Observe.'"],_OPTION0:["rainbow","obsidian","moon","star"],_OPTION1:["salt-like","sugar-like","glass-like","metallic"],_OPTION2:["sweet","acrid","ozone-like","otherworldly"],_OPTION3:["phoenix feather","manticore spine","unicorn horn","troll blood"],_OPTION4:["Polymorph Potion","Invisibility Draught","Transmutation Elixir","Love Philter"],_OPTION5:["Exploding Mana Crystal","Self-Replicating Slime","Philosopher's Stone Attempt 12","Imitation Gold"],_OPTION6:["anti-gravity","luminescent","sentient","corrosive"]},{name:"Polish the grand alembic",skills:["labor","artisanry","alchemy"],intermediates:["Applying {_OPTION0} polish to the copper still head","Buffing the {_OPTION1} glass cucurbit to a shine","Ensuring the {_OPTION2} condenser coils are free of tarnish","Checking the integrity of the {_OPTION3} seals and joints","Admiring the reflection in the newly polished {_OPTION4} surface","Hoping not to awaken the dormant {_OPTION5} spirit bound to it"],_OPTION0:["dwarven metal","elfin glass","gnomish all-purpose","alchemist's secret"],_OPTION1:["reinforced","crystal","obsidian","magically treated"],_OPTION2:["silver","mithril","arcane","serpentine"],_OPTION3:["hermetic","alchemical","rune-inscribed","pressure-tight"],_OPTION4:["gleaming","mirror-like","flawless","ancient"],_OPTION5:["mercury","sulfur","salt","distillation"]},{name:"Grind rare minerals for elixirs",skills:["alchemy","labor","mining","geomancy"],intermediates:["Using a {_OPTION0} mortar and pestle on a chunk of {_OPTION1}","Carefully crushing {_OPTION2} crystals to a fine powder","Sifting powdered {_OPTION3} to ensure uniform consistency","Wearing a mask to avoid inhaling {_OPTION4} dust","Feeling the faint {_OPTION5} energy emanating from the ground minerals","Hoping this batch of {_OPTION6} powder is potent enough"],_OPTION0:["stone","iron","diamond-tipped","enchanted"],_OPTION1:["Sunstone","Moonstone","Bloodgem","Star Opal"],_OPTION2:["quartz","adamantite","mithril","soul"],_OPTION3:["Dragon's Tooth","Philosopher's Shard","Comet Fragment","Geode Heart"],_OPTION4:["silicate","magical","potentially toxic","glittering"],_OPTION5:["geomantic","elemental","arcane","life"],_OPTION6:["Elixir of Fortitude","Potion of Insight","Draught of Invulnerability","Philter of Luck"]},{name:"Cultivate glowing fungi for mutagens",skills:["alchemy","nature_magic","farming","mutagenesis"],intermediates:["Watering the {_OPTION0} mushroom patch with enriched mana-water","Adjusting the {_OPTION1} light lamps over the lumina-caps","Harvesting mature {_OPTION2} nightshrouds for their mutagenic spores","Pruning the less vibrant stalks of {_OPTION3} glowstalks","Singing a soft {_OPTION4} growth chant to encourage the fungi","Carefully collecting the iridescent slime from the {_OPTION5} creepers"],_OPTION0:["shadow","cave","crystal-infused","ectoplasmic"],_OPTION1:["UV","bio-luminescent","moon","nether"],_OPTION2:["pulsating","shimmering","whispering","phase-shifting"],_OPTION3:["azure","crimson","emerald","violet"],_OPTION4:["druidic","alchemical","elemental","myconid"],_OPTION5:["shadow","mutating","soul-eating","mind-altering"]},{name:"Distill potent spirits for transmutation",skills:["alchemy","fermentation_distillation","transmutation"],intermediates:["Monitoring the temperature of the fermenting {_OPTION0} mash","Collecting the first drops of {_OPTION1} from the alembic's spout","Tasting a tiny diluted sample for {_OPTION2} purity and survival","Filtering the distilled spirit through {_OPTION3} charcoal","Bottling the 'Spiritus Mundi Attempt {_OPTION4}'","Labeling the batch: 'For {_OPTION5} use ONLY not for {_OPTION6} consumption!'"],_OPTION0:["unicorn tear-infused grape","mandrake root","dragon fruit","stardust-sprinkled grain"],_OPTION1:["Aqua Vitae","Prima Materia Condensate","Azoth","Philosopher's Dew"],_OPTION2:["alchemical","magical","transmutative","volatile"],_OPTION3:["dragonbone","willow","purified","enchanted"],_OPTION4:["27","99","342","1001"],_OPTION5:["transmutation","ritual","fueling golems","cleaning stubborn stains"],_OPTION6:["party","medicinal","dwarven drinking contest","goblin"]},{name:"Contain an escaped homunculus",skills:["alchemy","beast_mastery","trap_handling","monster_lore"],intermediates:["Tracking tiny {_OPTION0} footprints across the lab floor","Setting a {_OPTION1} trap baited with a drop of {_OPTION2}","Listening for the characteristic {_OPTION3} squeak of the rogue creation","Cornering the homunculus behind a stack of {_OPTION4} textbooks","Gently coaxing it into a {_OPTION5} containment jar","Muttering about the 'Troublesome {_OPTION6} Manual' being too vague"],_OPTION0:["glowing","sticky","acid-etched","rapidly fading"],_OPTION1:["humane","sticky net","miniature cage","sleeping gas"],_OPTION2:["its favorite nutrient solution","Philosopher's Stone dust","a tiny piece of cheese","condensed moonlight"],_OPTION3:["high-pitched","chittering","philosophical","insulting"],_OPTION4:["Forbidden Alchemy","Advanced Transmutation","Golem Construction","Monster Anatomy"],_OPTION5:["bell","reinforced","padded","rune-scribed"],_OPTION6:["Homunculi","Minor Constructs","Lab Assistants","Artificial Life"]},{name:"Analyze failed potion batches",skills:["potions","toxicology","deductive_reasoning"],intermediates:["Examining a {_OPTION0} potion that turned an unfortunate shade of {_OPTION1}","Using a 'Detect Magic' spell to identify {_OPTION2} energies in the mixture","Comparing the ingredients list with the {_OPTION3} result","Theorizing that the {_OPTION4} was added at the wrong lunar phase","Deducing the failure was due to contaminated {_OPTION5}","Making a note: 'Do not substitute {_OPTION6} for dragon's tear ever again'"],_OPTION0:["healing","invisibility","strength","love"],_OPTION1:["murky brown","unsettling green","violent pink","non-Euclidean chartreuse"],_OPTION2:["residual","chaotic","unexpected necromantic","wild magic"],_OPTION3:["solidified","explosive","sentient","reality-warping"],_OPTION4:["moonpetal","sunstone powder","nightshade berry","unicorn hair"],_OPTION5:["griffin feather","mandrake root","quicksilver","goblin spit"],_OPTION6:["ogre slobber","pond scum","glitter","pixie dust"]}],dormitories:[{name:"Tidy apprentice quarters",skills:["labor","hospitality","management"],intermediates:["Gathering discarded {_OPTION0} scrolls","Straightening tapestries depicting {_OPTION1}","Organizing half-finished potions by {_OPTION2}","Making beds with freshly laundered {_OPTION3} sheets","Creating a chore rota using {_OPTION4} principles","Dealing with a stubborn {_OPTION5} stain on the floorboards"],_OPTION0:["spell","research","failed experiment","cryptic poetry"],_OPTION1:["heroic mages","mythical beasts","celestial alignments","scenes from 'The Mages' Lament'"],_OPTION2:["color","volatility","aromatic profile","school of magic"],_OPTION3:["moon-cotton","spider-silk","enchanted linen","thermo-regulated"],_OPTION4:["elemental harmony","astrological synchronicity","meritocratic","random chance"],_OPTION5:["ectoplasmic","alchemical","wine","unknown magical residue"]},{name:"Collect lost familiars and spellbooks",skills:["beast_tongue","spirit_bonding","magical_lore","perception"],intermediates:["Following faint {_OPTION0} trails through the corridors","Coaxing a nervous {_OPTION1} from behind a bookshelf","Identifying a spellbook by its unique {_OPTION2} aura","Whispering calming words to a skittish {_OPTION3}","Checking the Lost and Found for a particularly noisy {_OPTION4} grimoire","Using a gentle {_OPTION5} charm to retrieve a book from a gargoyle's perch"],_OPTION0:["paw print","magical shimmer","dropped feather","ectoplasmic slime"],_OPTION1:["pixie","homunculus","miniature golem","disoriented gremlin"],_OPTION2:["elemental resonance","arcane signature","protective warding","deceptive illusion"],_OPTION3:["bookwyrm","shadow pup","will-o'-the-wisp","escaped imp"],_OPTION4:["cursed","animated","singing","prophetic"],_OPTION5:["telekinesis","minor levitation","subtle animation","friendly poltergeist persuasion"]},{name:"Air out stuffy chambers",skills:["labor","aeromancy","hospitality"],intermediates:["Unsealing magically warded windows","Conjuring a {_OPTION0} breeze using basic aeromancy","Dispelling lingering {_OPTION1} fumes from last night's experiments","Placing fresh {_OPTION2} sachets in strategic locations","Using a {_OPTION3} fan to create cross-ventilation","Checking air purity with a {_OPTION4} crystal sensor"],_OPTION0:["spring-scented","mountain-fresh","cleansing zephyr","cyclonic (but gentle)"],_OPTION1:["alchemical reagent","failed potion","burnt incense","stale magical energy"],_OPTION2:["lavender and moonpetal","wind-blossom","anti-mildew charm","purifying salt"],_OPTION3:["large feather","elemental-powered","enchanted paper","hand-cranked bellows"],_OPTION4:["simple attunement","complex diagnostic","golem-held","self-reporting"]},{name:"Organize personal wards and trinkets",skills:["magical_lore","magical_item_analysis","order_magic","enchanting"],intermediates:["Identifying the primary enchantment on each {_OPTION0} amulet","Sorting trinkets by their {_OPTION1} alignment or school","Carefully untangling intertwined {_OPTION2} protection charms","Reinforcing fading {_OPTION3} fields on personal wards","Placing items in specially prepared {_OPTION4} containers to prevent interference","Labeling each ward with its activation {_OPTION5} and deactivation phrase"],_OPTION0:["good luck","elemental resistance","mental focus","anti-theft"],_OPTION1:["astral","elemental","chronomantic","source of power"],_OPTION2:["memory","dream","warding","anti-scrying"],_OPTION3:["minor abjuration","apprentice-level shielding","self-repairing","deflection"],_OPTION4:["lead-lined boxes","velvet-cushioned trays","rune-etched pouches","miniature faraday cages"],_OPTION5:["command word","somatic gesture","mental trigger","specific condition"]},{name:"Sweep under bunks for rogue imps",skills:["labor","chaos_magic","monster_lore"],intermediates:["Brandishing a specially {_OPTION0} broom","Luring imps out with a piece of shiny {_OPTION1}","Reciting a minor {_OPTION2} verse to encourage their departure","Checking for tiny {_OPTION3} handprints on bedposts","Setting up a temporary {_OPTION4} containment field","Carefully escorting a captured imp to the {_OPTION5} chute"],_OPTION0:["silver-bristled","blessed wood","imp-repelling","chaos-infused (ironically)"],_OPTION1:["fool's gold","crystal shard","enchanted button","sugared plum"],_OPTION2:["banishment","pacification","mild irritation","dimensional nudge"],_OPTION3:["sooty","sticky","glowing green","mischievous"],_OPTION4:["sugar-circle","chaos-dampening","glitter-based","sound-wave"],_OPTION5:["imp relocation","elemental plane of mischief","specialized imp daycare","lower levels"]},{name:"Change bed linens",skills:["labor","hospitality","tailoring"],intermediates:["Stripping old {_OPTION0} sheets with surprising vigor","Checking for {_OPTION1} stains or spell scorches","Folding fresh linens with {_OPTION2} precision taught by house elves","Applying a light {_OPTION3} charm for sweet dreams","Plumping pillows filled with {_OPTION4} down","Tucking in corners using a surprisingly complex {_OPTION5} knot"],_OPTION0:["student-grade cotton","enchanted silk","self-cleaning (but failing)","surprisingly coarse"],_OPTION1:["potion","ink","ectoplasmic","midnight snack related"],_OPTION2:["obsessive","military-grade","magical","almost artistic"],_OPTION3:["lavender-scented sleep","nightmare-warding","memory-enhancing","gentle warmth"],_OPTION4:["griffin","phoenix (ethically sourced)","cloud","enchanted hypoallergenic"],_OPTION5:["warding","comfort-maximizing","anti-wrinkle","housekeeper's secret"]},{name:"Empty runic waste bins",skills:["labor","runes","magical_lore","alchemy"],intermediates:["Donning protective {_OPTION0} gauntlets","Identifying potentially unstable {_OPTION1} remnants before disposal","Neutralizing reactive {_OPTION2} dust with a counter-agent spray","Transporting waste to the {_OPTION3} dissolution chamber","Sorting salvageable {_OPTION4} chips for reconstitution","Cleaning the bins with an {_OPTION5} slime"],_OPTION0:["dragonhide","mithril-weave","lead-lined","alchemically treated rubber"],_OPTION1:["cracked rune-stone","half-etched scroll","broken warding circle fragment","alchemical residue"],_OPTION2:["magical feedback","elemental instability","lingering spell energy","chaotic particulate"],_OPTION3:["arcane nullification","alchemical recycling","elemental vortex","sub-dimensional"],_OPTION4:["obsidian","quartz","bone","meteorite iron"],_OPTION5:["residue-eating","self-neutralizing","anti-magic","blessed cleansing"]},{name:"Dust wardrobes and desks",skills:["labor","cleaning"],intermediates:["Wielding a {_OPTION0} duster like a master duelist","Carefully moving delicate {_OPTION1} scrying tools","Reaching high shelves with a {_OPTION2} telescoping rod","Wiping down surfaces with a cloth infused with {_OPTION3}","Finding a forgotten {_OPTION4} beneath a stack of textbooks","Enjoying the subtle gleam of a freshly dusted {_OPTION5} inlay"],_OPTION0:["phoenix feather","enchanted lambswool","self-agitating","static-charged goblin hair"],_OPTION1:["crystal ball","rune-carved bones","astrolabe parts","sentient paperweights"],_OPTION2:["levitation charm","trained monkey","step-ladder of dubious stability","extendable grabber"],_OPTION3:["lemon oil and sunshine","anti-static solution","minor purification magic","essence of cleanliness"],_OPTION4:["quill","petrified sandwich","love note from a nymph","misplaced minor artifact"],_OPTION5:["mother-of-pearl","silver","ebony wood","glowing runic"]},{name:"Mend torn apprentice robes",skills:["tailoring","enchanting","artisanry"],intermediates:["Selecting the right color of {_OPTION0} thread from the guild's supply","Carefully stitching a tear near the {_OPTION1} house emblem","Reinforcing the seam with a minor {_OPTION2} enchantment for durability","Patching a hole with fabric from a {_OPTION3} bolt of cloth","Checking the robe for other areas of {_OPTION4} from dueling practice","Pressing the mended area with a {_OPTION5} heated smoothing stone"],_OPTION0:["spider-silk","moon-thread","elementally-infused flax","color-shifting chameleon"],_OPTION1:["Gryphon","Sphinx","Titan","Dragon"],_OPTION2:["self-repairing","stain-resistance","enhanced comfort","minor spell deflection"],_OPTION3:["donated masterwork","salvaged battle-robe","enchanted practice","rarely used ceremonial"],_OPTION4:["spell burns","reagent splashes","familiar claws","general academic wear"],_OPTION5:["magically","self-","rune-etched","geothermal"]},{name:"Declutter bedside altars",skills:["labor","meditation","mythology"],intermediates:["Gently removing wilted {_OPTION0} offerings to various minor deities","Polishing tarnished {_OPTION1} symbols with a consecrated cloth","Realigning {_OPTION2} crystals for optimal energy flow","Dusting miniature statues of {_OPTION3} and spiritual guides","Replacing burnt-out {_OPTION4} candles with freshly anointed ones","Whispering a quiet blessing for the apprentice's {_OPTION5}"],_OPTION0:["moonpetal flower","spirit- herb","mana-infused fruit","hand-written prayer scroll"],_OPTION1:["silver ankh","bronze dragon claw","carved bone fetish","crystal star"],_OPTION2:["focusing","warding","dream-enhancing","meditation-aiding"],_OPTION3:["Asisha","the Great Librarian","ancestral heroes","patron elementals"],_OPTION4:["focus","meditation","scented offering","eternity flame (temporarily extinguished)"],_OPTION5:["clarity","protection","inspiration","peaceful sleep"]},{name:"Resolve roommate disputes magically",skills:["mentalism","conflict_resolution","order_magic","insight"],intermediates:["Casting an {_OPTION0} aura of calm over the arguing apprentices","Using minor {_OPTION1} to understand each student's core grievance","Suggesting a {_OPTION2} binding agreement for shared resources","Mediating a discussion about {_OPTION3} schedules or noisy familiars","Employing a subtle truth-seeking {_OPTION4} if deceptions are suspected","Guiding them to a mutually agreeable {_OPTION5} written in vanishing ink"],_OPTION0:["soothing blue","empathy-inducing golden","logical silver","pacifying green"],_OPTION1:["telepathy","empathy projection","aura reading","psychometric resonance"],_OPTION2:["magically enforced","spiritually sealed","rune-marked","mutually beneficial verbal"],_OPTION3:["potion brewing","late-night scrying","ritual component storage","conflicting study"],_OPTION4:["charm","spell","mental probe","honesty-compelling incense"],_OPTION5:["compromise","understanding","temporary truce","magical contract"]},{name:"Reinforce silencing charms on rooms",skills:["order_magic","enchanting","arcane_principles","abjuration"],intermediates:["Inspecting the integrity of existing {_OPTION0} glyphs on doorframes","Carefully re-inscribing faded {_OPTION1} runes for sound absorption","Channeling {_OPTION2} energy into the charm's matrix","Testing the silence with a controlled {_OPTION3} shout or musical note","Adjusting the {_OPTION4} frequency dampening for optimal quiet","Applying a {_OPTION5} layer of abjuration to prolong the charm's effect"],_OPTION0:["sonic dampening","privacy enhancing","anti-eavesdropping","reverberation nullifying"],_OPTION1:["containment","absorption","deflection","nullification"],_OPTION2:["stabilizing order","focused arcane","pure abjuration","environmental"],_OPTION3:["magical","amplified","specific frequency","apprentice-generated"],_OPTION4:["acoustic","magical resonance","vibrational","perceptual distortion"],_OPTION5:["protective","reinforcing","self-renewing","interference-blocking"]},{name:"Cleanse nightmare residue",skills:["death_magic","life_magic","oneiromancy","psychometry"],intermediates:["Identifying the nature of the {_OPTION0} clinging to the bedposts","Using a {_OPTION1} focus to absorb the negative oneiric energy","Channeling {_OPTION2} light to dispel lingering shadows and fear echoes","Hanging newly woven dreamcatchers threaded with {_OPTION3} fibers","Burning purifying {_OPTION4} incense known to ward off night terrors","Reciting a {_OPTION5} cantrip to seal the room against further intrusion"],_OPTION0:["psychic slime","fear pheromone","shadow essence","dream-parasite spoor"],_OPTION1:["black tourmaline wand","blessed silver mirror","spirit-bound salt crystal","life-infused rowan wood"],_OPTION2:["pure life-force","positive emotional","astral cleansing","sanctified"],_OPTION3:["moonbeam-soaked silk","griffin feather","powdered unicorn horn","blessed willow"],_OPTION4:["sage and lavender","frankincense and myrrh","dreamwood chips","powdered silverbell"],_OPTION5:["gentle oneiric","powerful abjuration","ancient guardian","lullaby-like"]},{name:"Set up dream study circles",skills:["oneiromancy","meditation","magical_lore","spatial_warping"],intermediates:["Marking the perimeter of the circle with {_OPTION0} powder","Arranging enchanted {_OPTION1} cushions for comfort and focus","Placing a central {_OPTION2} artifact to anchor the shared dreamscape","Tuning the ambient {_OPTION3} energies to facilitate lucid dreaming","Applying minor {_OPTION4} distortions to the room's perceived space","Brewing a pot of {_OPTION5} tea to enhance dream recall and vividness"],_OPTION0:["moonstone dust","silver sand","crushed dream ber","chalk infused with soporific herbs"],_OPTION1:["meditation","self-warming","spirit-soothing","posture-correcting"],_OPTION2:["glowing oneiric crystal","basin of scrying water","tapestry of the dreamlands","synchronized metronomes"],_OPTION3:["psychic resonance","lunar vibrations","subtle hypnotic","theta-wave inducing"],_OPTION4:["spatial","temporal","perceptual","reality-thinning"],_OPTION5:["mugwort and blue lotus","valerian and chamomile","calea zacatechichi","memory-enhancing elixir of 'Morpheus' Kiss'"]},{name:"Polish crystal balls for scrying homework",skills:["magical_item_analysis","labor","clairvoyance"],intermediates:["Using a specially prepared {_OPTION0} cloth to avoid scratches","Applying a cleaning solution of {_OPTION1} and thrice-distilled water","Gently removing psychic {_OPTION2} imprints from previous scrying sessions","Buffing the surface to a {_OPTION3} sheen, enhancing clarity","Inspecting for minute {_OPTION4} flaws that could distort visions","Charging the ball with a minor {_OPTION5} attunement spell for the next user"],_OPTION0:["silk blessed by an oracle","dragon-breath treated chamois","velvet infused with cleansing herbs","ectoplasm-absorbing microfiber"],_OPTION1:["moonflower petal essence","powdered mother-of-pearl","dew collected under a full moon","alchemically purified spirit of wine"],_OPTION2:["emotional residue","lingering visual echoes","astral fingerprints","stray divinatory feedback"],_OPTION3:["flawless mirror","cloudless sky","perfectly still water","scry-enhancing"],_OPTION4:["internal fractures","surface etches","magical occlusions","energy dead-spots"],_OPTION5:["clarity-boosting","vision-focusing","interference-dampening","user-specific resonance"]}],training_grounds:[{name:"Collect stray spellbolts and arrows",skills:["labor","perception","ranged_combat","athletics"],intermediates:["Scanning the training field for embedded {_OPTION0} projectiles","Carefully extracting a still-sizzling {_OPTION1} spellbolt from a target dummy","Sorting reusable arrows by fletching {_OPTION2} and arrowhead type","Nimbly dodging a delayed-action {_OPTION3} practice spell","Checking recovered ammunition for lingering {_OPTION4} enchantments","Returning salvaged projectiles to the appropriate {_OPTION5} bins"],_OPTION0:["magical","mundane","elemental","trick"],_OPTION1:["ice shard","lightning","chaos energy","acidic"],_OPTION2:["color-coding","material composition","enchantment signature","owner's mark"],_OPTION3:["ricocheting","wandering","exploding (harmlessly)","illusory"],_OPTION4:["piercing","tracking","returning","blinding flash"],_OPTION5:["armory recycling","elemental spell component","fletcher's workshop","deactivation chamber"]},{name:"Repair battle scarred dummies",skills:["labor","artisanry","woodworking"],intermediates:["Replacing splintered {_OPTION0} limbs with newly carved ones","Patching holes in {_OPTION1} torsos using sturdy materials","Hammering out dents in {_OPTION2} armor plates affixed to advanced dummies","Restuffing humanoid dummies with fresh {_OPTION3} and enchanted straw","Applying a new coat of {_OPTION4} paint to clearly mark target zones","Testing the dummy's resilience with a series of {_OPTION5} strikes"],_OPTION0:["oak","ironwood","magically animated straw","clockwork practice"],_OPTION1:["thick leather","reinforced canvas","metal-banded wood","self-healing fabric (partially)"],_OPTION2:["steel","iron","bronze practice","enchanted alloy"],_OPTION3:["resilient sawdust","blessed straw","padding spells","shock-absorbing moss"],_OPTION4:["high-visibility","damage-indicating","elemental-resistant","illusionary 'skin'"],_OPTION5:["controlled magical","blunt weapon","piercing","calibrated force"]},{name:"Clear the obstacle course debris",skills:["labor","athletics","construction","stamina"],intermediates:["Hauling away broken sections of the {_OPTION0} wall","Shoveling loose {_OPTION1} and rubble from the climbing pits","Resetting dislodged {_OPTION2} swinging ropes and balance beams","Checking the structural integrity of the remaining {_OPTION3} platforms","Navigating the damaged course while performing {_OPTION4} clearing actions","Using a minor {_OPTION5} spell to levitate heavier pieces of debris"],_OPTION0:["wooden palisade","stone climbing","magically conjured ice","rope bridge"],_OPTION1:["shattered rock","splintered wood","ectoplasmic residue","expended magical charges"],_OPTION2:["enchanted climbing","unstable","fire-scorched","water-slicked"],_OPTION3:["elevated","moving","illusory","trap-laden"],_OPTION4:["agile","strength-based","careful","rapid"],_OPTION5:["telekinesis","earth-moving","strength-enhancing","localized gust"]},{name:"Rake the sparring pit sand",skills:["labor","stamina","athletics"],intermediates:["Using a wide, heavy-duty {_OPTION0} rake","Evening out deep {_OPTION1} and footprints in the sand","Removing stray {_OPTION2} fragments and discarded bandages","Creating a perfectly smooth surface for optimal {_OPTION3} and safety","Working up a considerable sweat under the {_OPTION4} training yard sun","Admiring the pristine condition of the freshly groomed {_OPTION5} arena"],_OPTION0:["iron","enchanted wooden","self-guiding","dwarven-forged"],_OPTION1:["impact craters from spells","weapon gouges","dive rolls","summoned creature"],_OPTION2:["broken weapon","lost teeth","expended rune stones","small, mischievous sprites"],_OPTION3:["footing","spellcasting","dueling maneuvers","ritual practice"],_OPTION4:["magically amplified","ever-present twilight","filtered","unrelenting desert-like"],_OPTION5:["dueling","sparring","elemental practice","grand melee"]},{name:"Store practice wands and weapons",skills:["labor","melee_combat","enchanting","logistics"],intermediates:["Checking wands for any residual {_OPTION0} charges before racking them","Wiping down {_OPTION1} sword hilts and staff grips","Organizing items on designated {_OPTION2} racks by type and power level","Ensuring safety catches are engaged on {_OPTION3} practice crossbows","Applying a light {_OPTION4} oil to prevent rust on metal components","Updating the armory's {_OPTION5} inventory scrolls"],_OPTION0:["unstable magical","wild elemental","lingering necromantic","unexpectedly potent"],_OPTION1:["sweat-slicked","slightly singed","residue-covered","sticky potion-coated"],_OPTION2:["wand","blade","staff","shield and armor"],_OPTION3:["blunted bolt","training mechanism","non-lethal enchantment","apprentice-grade magical"],_OPTION4:["preservation","enchantment-stabilizing","anti-corrosion","self-polishing alchemical"],_OPTION5:["digital (magical slate)","parchment","rune-carved","living wood"]},{name:"Mend torn padded armor",skills:["leatherworking","tailoring","armor","artisanry"],intermediates:["Selecting heavy-duty {_OPTION0} thread or sinew","Stitching up rips in the {_OPTION1} gambeson padding","Replacing worn-out {_OPTION2} buckles and straps","Reinforcing weak points with patches of {_OPTION3} or enchanted fabric","Checking the fit and articulation on a {_OPTION4} training dummy","Applying a {_OPTION5} conditioner to keep the leather supple"],_OPTION0:["dragon gut","iron-spun flax","shadoweave silk","phoenix feather core"],_OPTION1:["multi-layered linen","cured beast hide","spell-resistant canvas","impact-absorbing gel"],_OPTION2:["bronze","hardened leather","self-adjusting magical","quick-release"],_OPTION3:["boiled leather","small steel plates","dragon scale fragments","rune-inscribed linen"],_OPTION4:["articulated wooden","standard human-sized","golem","slightly damaged"],_OPTION5:["waterproofing","flexibility-enhancing alchemical","durability-boosting magical","scent-masking herbal"]},{name:"Resurface scorch marks from fireballs",skills:["labor","geomancy","pyromancy","masonry"],intermediates:["Scraping away blackened and charred {_OPTION0} from walls and floors","Applying a {_OPTION1} paste to neutralize lingering heat and magic","Using minor geomancy to smooth over melted {_OPTION2} surfaces","Patching damaged areas with fresh {_OPTION3} or magically grown stone","Applying a new layer of fire-resistant {_OPTION4} coating","Quietly muttering about the {_OPTION5} of some apprentices"],_OPTION0:["stone","wood","target material","unfortunate tapestries"],_OPTION1:["soot-absorbing alchemical","heat-dispersing magical","magic-dampening clay","cooling elemental"],_OPTION2:["flagstone","brickwork","enchanted target","practice dummy stands"],_OPTION3:["mortar","stone dust and resin","conjured earth","rapid-growth crystal"],_OPTION4:["alchemical glaze","elemental warding","rune-etched sealant","salamander scale powder"],_OPTION5:["reckless abandon","enthusiasm over control","sheer destructive power","aiming skills"]},{name:"Sweep up broken target shards",skills:["labor","cleaning"],intermediates:["Using a stiff-bristled {_OPTION0} broom designed for heavy debris","Carefully collecting sharp {_OPTION1} fragments from shattered targets","Avoiding stepping on nearly invisible splinters of {_OPTION2} crystal targets","Depositing shards into a specially reinforced {_OPTION3} disposal unit","Checking for shards embedded in nearby {_OPTION4} or training equipment","Wondering what kind of {_OPTION5} was used to cause such fragmentation"],_OPTION0:["ironwood","magically enhanced","self-levitating dustpan holding","golem-operated"],_OPTION1:["ceramic","hardened wood","compressed sand","petrified bone"],_OPTION2:["enchanted ice","pure quartz","force-field remnant","glass"],_OPTION3:["lead-lined","thick dragonhide","magically shielded","recycling elemental forge"],_OPTION4:["protective barriers","viewing stands","other dummies","the ceiling somehow"],_OPTION5:["destructive spell","high-impact projectile","sonic vibration","critical magical failure"]},{name:"Polish training shields",skills:["labor","defense","smithing","armor"],intermediates:["Wiping away layers of grime, sweat, and {_OPTION0} marks","Using a fine grade {_OPTION1} polish on steel and iron shields","Buffing wooden shields with {_OPTION2} oil to a protective sheen","Checking and tightening loose {_OPTION3} straps and handles","Admiring the restored gleam on a shield's {_OPTION4} boss or emblem","Applying a minor {_OPTION5} enchantment to enhance durability or deflection"],_OPTION0:["scuff","impact dent","spell scorch","practice weapon residue"],_OPTION1:["abrasive powder","alchemical shining","rust-removing","self-buffing magical"],_OPTION2:["linseed and beeswax","tung oil infused with ironwood sap","enchanted hardening","strengthening resin"],_OPTION3:["leather arm","reinforced carrying","buckler grip","magically adjusting"],_OPTION4:["central metal","house sigil","warding rune","reflective surface"],_OPTION5:["hardening","impact-absorbing","arrow-deflecting aura","minor self-repair"]},{name:"Re-chalk combat circles",skills:["labor","magical_lore","runes","artistry"],intermediates:["Sweeping away the faded remnants of old {_OPTION0} lines","Consulting ancient diagrams for the precise placement of {_OPTION1} symbols","Using a {_OPTION2} guide to ensure perfectly straight lines and arcs","Carefully drawing complex {_OPTION3} runes at key focal points of the circle","Ensuring the entire circle is geometrically {_OPTION4} and magically sound","Applying a {_OPTION5} fixative spray to make the chalk last longer"],_OPTION0:["ritual chalk","magically charged dust","faintly glowing","scuffed and broken"],_OPTION1:["containment","warding","power amplification","elemental attunement"],_OPTION2:["long enchanted ruler","taut string and plumb-bob","laser-like magical beam","trained chalk-drawing mite"],_OPTION3:["binding","channeling","protective","dimensional anchoring"],_OPTION4:["symmetrical","aligned with ley lines","energetically balanced","spiritually sealed"],_OPTION5:["magical resin","weather-resistant alchemical","long-lasting enchantment","glow-enhancing phosphorescent"]},{name:"Reset magical ward traps",skills:["order_magic","trap_handling","magical_lore","abjuration"],intermediates:["Carefully disarming the triggered {_OPTION0} ward to prevent accidental discharge","Inspecting the {_OPTION1} components for any signs of damage or depletion","Realigning the {_OPTION2} focus crystals or runic conduits","Recharging the ward with a fresh infusion of {_OPTION3} energy","Cautiously testing the reset trap using a {_OPTION4} probe or summoned creature","Adjusting the {_OPTION5} trigger sensitivity to approved guild standards"],_OPTION0:["elemental burst","stasis field","alarm summoning","minor banishment"],_OPTION1:["rune-stone matrix","power crystal capacitor","arcane sigil sequence","trigger mechanism sensors"],_OPTION2:["energy flow","targeting array","detection grid","amplification lens"],_OPTION3:["ambient magical","stored spell","elemental essence","pure order"],_OPTION4:["long wooden","magically animated","disposable summoned","remote-controlled mechanical"],_OPTION5:["magical signature recognition","physical pressure plate","proximity sensor range","specific vocal command"]},{name:"Maintain elemental summoning circles",skills:["elemental_summoning","magical_lore","runes","geomancy"],intermediates:["Clearing away residual {_OPTION0} energy and physical manifestations","Re-etching or repainting faded {_OPTION1} of binding and protection","Reinforcing the circle's boundary with ritually prepared {_OPTION2} materials","Checking for any breaches or weaknesses in the {_OPTION3} containment field","Placing fresh, appropriate offerings to appease specific {_OPTION4} entities","Recalibrating the circle's {_OPTION5} resonance for safer summoning"],_OPTION0:["lingering elemental","chaotic feedback","ectoplasmic","dimensional stress"],_OPTION1:["powerful runes","complex sigils","ancient glyphs","celestial alignments"],_OPTION2:["consecrated salt for earth elementals","purified water for water spirits","iron filings for fire sprites","magnetized sand for air sylphs"],_OPTION3:["magical energy","physical barrier","dimensional anchor","psychic ward"],_OPTION4:["salamanders","undines","gnomes","djinn"],_OPTION5:["harmonic frequency","elemental attunement","dimensional stability","power regulation"]},{name:"Sharpen ceremonial blades",skills:["smithing","one_handed_blades"],intermediates:["Selecting the correct grit of {_OPTION0} whetstone for the blade's alloy","Carefully drawing the blade across the stone maintaining a precise {_OPTION1}","Testing the edge for {_OPTION2} sharpness suitable for ritual, not combat","Polishing the blade to a mirror shine with a {_OPTION3} cloth","Anointing the blade with consecrated {_OPTION4} oil as per tradition","Inspecting the intricate {_OPTION5} etched into the blade for wear"],_OPTION0:["water-cooled","diamond-dust infused","spirit-bound sharpening","volcanic glass"],_OPTION1:["angle of incidence","consistent pressure","rhythmic motion","arcane alignment"],_OPTION2:["symbolic","aura-cutting","energy-channeling","perfectly keen"],_OPTION3:["blessed silk","fine chamois leather","enchanted velvet","cloth of star-stuff"],_OPTION4:["moon-blessed olive","ritualistically pure","elementally charged","dragon's blood (synthetic)"],_OPTION5:["ancient power runes","celestial script","protective glyphs","lineage symbols"]},{name:"Restring broken longbows",skills:["archery","woodworking","artisanry"],intermediates:["Thoroughly inspecting the bow stave for any {_OPTION0} cracks or weaknesses","Selecting a new bowstring made of high-quality {_OPTION1} material","Using a bow stringer tool to carefully flex the {_OPTION2} limbs","Securely setting the new string into the {_OPTION3} nocks at each end","Checking the bow's {_OPTION4} height and ensuring proper tillering","Applying a coat of protective {_OPTION5} wax to the new string"],_OPTION0:["stress-induced","impact-related","magical energy surge","hidden wood-grain"],_OPTION1:["dragon sinew","elf-spun moonflax","enchanted spider silk","phoenix feather core"],_OPTION2:["yew wood","ash heartwood","composite horn and wood","magically reinforced living wood"],_OPTION3:["carved horn","reinforced wood","mithril-tipped","self-adjusting magical"],_OPTION4:["brace","draw weight consistency","limb balance","string alignment"],_OPTION5:["beeswax and pine resin","dragon's tear","elemental-infused","friction-reducing alchemical"]},{name:"Re-balance throwing axes",skills:["throwing_weapons","smithing","legerdemain","artisanry"],intermediates:["Checking the {_OPTION0} for any warping or damage affecting flight","Subtly adjusting the weight distribution of the {_OPTION1} axe head","Testing the axe's spin and trajectory with a series of practice {_OPTION2}","Carefully reshaping the {_OPTION3} edge for optimal aerodynamics and impact","Tightening or replacing the {_OPTION4} haft binding for a secure grip","Adding or removing a small {_OPTION5} counterweight in the pommel if necessary"],_OPTION0:["wooden haft integrity","axe head alignment","overall structural balance","magical flight enchantments"],_OPTION1:["forged steel","razor-sharp iron","enchanted adamantine","double-bitted throwing"],_OPTION2:["throws at varying distances","rotation counts","target penetration tests","aerial maneuvers"],_OPTION3:["leading cutting","bearded lower","aerodynamic trailing","spell-channeling"],_OPTION4:["braided leather","sinew-wrapped wire","magically infused cord","rune-carved grip"],_OPTION5:["lead plug","brass stud","dense ironwood insert","enchanted gemstone"]}],scrying_chamber:[{name:"Polish scrying orbs and mirrors",skills:["labor","divination","magical_item_analysis","artisanry"],intermediates:["Selecting a {_OPTION0} polishing cloth","Applying a dab of {_OPTION1} solution to the orb's surface","Buffing out smudges from the {_OPTION2}","Whispering a {_OPTION3} clarification chant over the mirror","Checking for {_OPTION4} residue under a magelight","Carefully returning the {_OPTION5} orb to its velvet cushion"],_OPTION0:["silk","chamois","ectoplasmic","moon-woven"],_OPTION1:["crystal sheen","purified dew","sphinx saliva","powdered moonstone"],_OPTION2:["previous vision's imprint","fingerprints of a nervous apprentice","accumulated astral dust","lingering emotional echoes"],_OPTION3:["gentle","focusing","minor","repeated"],_OPTION4:["ethereal","psychic","unwanted spectral","faint magical"],_OPTION5:["primary","lesser-used","obsidian","newly acquired"]},{name:"Cleanse divination pools of visions",skills:["divination","hydromancy","abjuration","psychometry"],intermediates:["Donning {_OPTION0} protective gloves","Pouring a vial of {_OPTION1} into the murky water","Stirring the pool with a {_OPTION2} rod","Chanting an {_OPTION3} to dispel lingering images","Skimming {_OPTION4} remnants from the surface","Feeling the water for any remaining {_OPTION5} disturbances"],_OPTION0:["thick rubber","enchanted silk","dragonhide","lead-lined"],_OPTION1:["purifying salts","solution of silvered water","essence of clarity","void-touched liquid"],_OPTION2:["silver","obsidian","coral","crystal"],_OPTION3:["abjuration","cleansing verse","banishment incantation","nullification psalm"],_OPTION4:["spectral","fading visionary","ectoplasmic","dream-like"],_OPTION5:["psychic","emotional","temporal","spatial"]},{name:"Realign focusing crystals",skills:["divination","lapidary_arts","magical_item_analysis","geomancy"],intermediates:["Consulting the {_OPTION0} alignment chart","Gently nudging the {_OPTION1} crystal with a gloved finger","Checking the beam's trajectory against the {_OPTION2} marker","Making micro-adjustments using a {_OPTION3} tool","Humming a {_OPTION4} attunement frequency","Locking the crystal into its new {_OPTION5} position"],_OPTION0:["celestial","geomantic","master","daily"],_OPTION1:["primary focusing","secondary amplification","quartz","amethyst"],_OPTION2:["rune-etched","celestially-aligned","floor-inscribed","spirit-lamp"],_OPTION3:["silver tweezer","mithril spanner","enchanted stylus","sonic screwdriver"],_OPTION4:["resonant","harmonic","stabilizing","clarifying"],_OPTION5:["precise","optimal","designated","harmonically sound"]},{name:"Dust ritual circles and sigils",skills:["labor","magical_lore","runes","meditation"],intermediates:["Selecting a brush made of {_OPTION0} bristles","Carefully sweeping dust away from the {_OPTION1} sigil","Avoiding disturbing the {_OPTION2} chalk lines","Reciting a {_OPTION3} mantra to maintain focus","Disposing of the {_OPTION4} dust in a warded container","Checking the integrity of the {_OPTION5} rune"],_OPTION0:["griffin feather","manticore hair","enchanted goat","shadow-woven"],_OPTION1:["warding","summoning","protection","enhancement"],_OPTION2:["consecrated","salt","powdered silver","moon-dust"],_OPTION3:["cleansing","protective","focusing","grounding"],_OPTION4:["ritually charged","mundane","spiritually inert","potentially hazardous"],_OPTION5:["central power","binding","directional","elemental"]},{name:"Organize astrological charts",skills:["divination","navigation","memory","cartography"],intermediates:["Gathering scattered {_OPTION0} charts from the table","Sorting them by {_OPTION1} or constellation","Cross-referencing with the {_OPTION2} ephemeris","Rolling up the {_OPTION3} parchments carefully","Placing them into their designated {_OPTION4} tubes","Updating the {_OPTION5} index of stellar movements"],_OPTION0:["star","planetary","cometary","lunar phase"],_OPTION1:["celestial house","zodiac sign","date of observation","planetary alignment"],_OPTION2:["Grand Celestial","pocket","ancient stone","oracle's"],_OPTION3:["oversized","vellum","papyrus","recently inked"],_OPTION4:["labeled","mahogany","obsidian","lead-lined"],_OPTION5:["master","current","prophetic","historical"]},{name:"Sweep away psychic residue",skills:["labor","meditation","psychometry"],intermediates:["Centering oneself with a {_OPTION0} breathing technique","Donning a {_OPTION1} amulet for protection","Using a {_OPTION2} broom to gather unseen energies","Focusing on dispelling {_OPTION3} emotional imprints","Directing the residue towards a {_OPTION4} containment crystal","Sealing the crystal with a {_OPTION5} ward"],_OPTION0:["deep","calming","rhythmic","Tower-taught"],_OPTION1:["mind-shielding","thought-nullifying","emotion-dampening","spirit-warding"],_OPTION2:["silver-birch","enchanted","spirit-bound","rune-carved"],_OPTION3:["fearful","joyful","sorrowful","conflicting"],_OPTION4:["smoky quartz","obsidian shard","lead-lined","soul-gem"],_OPTION5:["binding","containment","temporary","permanent"]},{name:"Replace spent incense and candles",skills:["labor","alchemy","magical_lore"],intermediates:["Collecting burnt-out {_OPTION0} candle stubs","Emptying {_OPTION1} ash from the censers","Selecting new {_OPTION2} incense sticks from the apothecary","Placing fresh {_OPTION3} candles in their holders","Choosing a scent appropriate for upcoming {_OPTION4} divinations","Disposing of old materials in the {_OPTION5} ritual fire"],_OPTION0:["beeswax","tallow","astral-infused","prophetic dream"],_OPTION1:["sacred","ritual","common","enchanted"],_OPTION2:["dragon's blood","sandalwood","frankincense","moonpetal"],_OPTION3:["unscented white","colored elemental","rune-scribed","herb-infused"],_OPTION4:["scrying","astral projection","spirit communion","chronomancy"],_OPTION5:["sacred","cleansing","alchemical","ever-burning"]},{name:"Attune divinatory instruments",skills:["divination","enchanting","musical_instruments","implement_crafting"],intermediates:["Picking up the {_OPTION0} pendulum","Humming a resonant frequency to align its {_OPTION1}","Gently striking the {_OPTION2} singing bowl","Adjusting the tension on the strings of the {_OPTION3} astral harp","Verifying the calibration with a known {_OPTION4} magical signature","Polishing the {_OPTION5} with a soft, enchanted cloth"],_OPTION0:["crystal","brass","silver","bone"],_OPTION1:["spiritual anchor","etheric connection","vibrational matrix","energy flow"],_OPTION2:["Tibetan","quartz","celestial bronze","mithril"],_OPTION3:["ethereal","moon-strung","wind-chiming","spirit-calling"],_OPTION4:["ley line","artifact's aura","master's energy","celestial event's"],_OPTION5:["instrument's surface","focusing lens","resonating chamber","control knobs"]},{name:"Silence distracting astral echoes",skills:["order_magic","meditation","spectral_mastery","spatial_warping"],intermediates:["Identifying the source of the {_OPTION0} echo","Drawing a {_OPTION1} silencing rune on the air","Focusing {_OPTION2} magic to dampen the vibrations","Erecting a temporary {_OPTION3} barrier","Guiding the echo into a prepared {_OPTION4} null-space","Reinforcing the chamber's {_OPTION5} wards"],_OPTION0:["faint whispering","distant screaming","clanging metal","unsettling melodic"],_OPTION1:["Hush","Stillness","Void","Tranquility"],_OPTION2:["Order","mental","abjurative","dimensional"],_OPTION3:["sonic","ethereal","psychic","temporal"],_OPTION4:["pocket dimension","soul gem","warded box","lead-lined urn"],_OPTION5:["acoustic","psychic","dimensional","spiritual"]},{name:"Clear energetic blockages",skills:["life_magic","terramancy","meditation","psychometry"],intermediates:["Sensing the flow of {_OPTION0} energy in the room","Identifying a point of {_OPTION1} stagnation","Channeling {_OPTION2} magic to dissolve the blockage","Using a {_OPTION3} crystal to draw out negative energies","Visualizing the energy pathways becoming {_OPTION4}","Grounding excess energy into the {_OPTION5} earth"],_OPTION0:["ambient magical","ley line","spiritual","elemental"],_OPTION1:["spiritual","emotional","magical","elemental"],_OPTION2:["Life","cleansing","restorative","pure"],_OPTION3:["quartz","selenite","tourmaline","amber"],_OPTION4:["clear and flowing","bright and vibrant","unobstructed","harmonized"],_OPTION5:["Tower's foundation","nearby ley line","sacrificial altar","consecrated"]},{name:"Chart ley line convergences",skills:["divination","terramancy","geomancy","cartography"],intermediates:["Setting up the {_OPTION0} dowsing rods","Tracing the path of a {_OPTION1} ley line across the map","Marking a point of {_OPTION2} convergence with a pin","Calculating the {_OPTION3} intensity of the nexus","Noting any temporal or dimensional {_OPTION4} fluctuations","Adding the new data to the {_OPTION5} survey"],_OPTION0:["enchanted copper","hazelwood","silver-tipped","crystal-handled"],_OPTION1:["major dragon","minor elemental","newly discovered","shifting lunar"],_OPTION2:["powerful","subtle","triple","unstable"],_OPTION3:["geomantic","thaumaturgic","spiritual","elemental"],_OPTION4:["distortions","anomalies","resonances","instabilities"],_OPTION5:["regional ley line","Tower's energy","continental geomantic","master"]},{name:"Calibrate chronomantic resonators",skills:["divination","order_magic","clockwork"],intermediates:["Checking the {_OPTION0} gears of the resonator","Adjusting the {_OPTION1} frequency with a tuning fork","Observing the temporal distortions on a {_OPTION2} indicator","Fine-tuning the {_OPTION3} flow regulators","Synchronizing with the {_OPTION4} master clock","Locking the settings with a pulse of {_OPTION5} magic"],_OPTION0:["brass","crystal","obsidian","temporal"],_OPTION1:["temporal","harmonic","sub-etheric","chroniton"],_OPTION2:["flickering candle","sandglass","chronometer","test subject's perception of time"],_OPTION3:["chroniton","mana","aetheric","temporal energy"],_OPTION4:["Tower's","celestial","atomic","magical"],_OPTION5:["Order","stabilizing","binding","precise"]},{name:"Interpret omens from burnt offerings",skills:["divination","pyromancy","mythology","precognition"],intermediates:["Sifting through the {_OPTION0} ashes in the brazier","Examining the patterns formed by the {_OPTION1} smoke stains","Looking for {_OPTION2} shapes in the remaining cinders","Consulting the {_OPTION3} tome of pyromantic symbols","Feeling for {_OPTION4} echoes of the future","Scribing the {_OPTION5} interpretation onto a scroll"],_OPTION0:["sacrificial herb","blessed wood","animal bone","written plea"],_OPTION1:["soot","charred residue","grease","vapor"],_OPTION2:["prophetic","warning","animalistic","runic"],_OPTION3:["ancient","forbidden","master's personal","Guild-standard"],_OPTION4:["faint","strong","disturbing","hopeful"],_OPTION5:["cryptic","direct","multi-layered","urgent"]},{name:"Record prophetic dream sequences",skills:["oneiromancy","divination","scribing","memory"],intermediates:["Awakening from a {_OPTION0} dream trance","Quickly grabbing a {_OPTION1} quill and parchment","Sketching the key {_OPTION2} symbols before they fade","Writing down the narrative of the {_OPTION3} vision","Cross-referencing with the {_OPTION4} dream lexicon","Filing the record in the {_OPTION5} archive"],_OPTION0:["vivid","fragmented","recurring","lucid"],_OPTION1:["never-blot","eagle feather","somnus-infused","memory-enhancing"],_OPTION2:["oneiric","allegorical","color","emotional"],_OPTION3:["nightmarish","beatific","confusing","clear"],_OPTION4:["Grand","Tower's","forbidden","personal"],_OPTION5:["Oneiric","Prophecy","Seer's","restricted"]},{name:"Cleanse chamber of lingering scrying entities",skills:["abjuration","spectral_mastery","elemental_summoning"],intermediates:["Detecting the presence of a {_OPTION0} entity","Drawing a circle of {_OPTION1} salt around the affected area","Chanting a {_OPTION2} banishment incantation","Using a {_OPTION3} consecrated object to repel the entity","Opening a temporary portal to the {_OPTION4} plane","Sealing the chamber with {_OPTION5} wards"],_OPTION0:["curious astral","minor elemental","lost spiritual","residual thought-form"],_OPTION1:["blessed","black","iron-infused","rune-scribed"],_OPTION2:["powerful","minor","specific","general"],_OPTION3:["holy symbol","silver mirror","bell","athame"],_OPTION4:["entity's native","elemental","astral","Void"],_OPTION5:["protective","reinforced","anti-spectral","long-lasting"]}],herb_garden:[{name:"Weed the mandrake patch",skills:["labor","nature_magic","foraging","monster_lore"],intermediates:["Putting on {_OPTION0} earmuffs","Carefully pulling out a {_OPTION1} strangler vine","Avoiding the mandrakes' {_OPTION2} shrieks","Applying a {_OPTION3} herbal salve to minor scratches","Tossing the weeds onto the {_OPTION4} compost pile","Checking the mandrakes for signs of {_OPTION5} stress"],_OPTION0:["thick","sound-dampening","enchanted","wax-filled"],_OPTION1:["thorny","constricting","parasitic","mundane but stubborn"],_OPTION2:["deafening","hypnotic","infant-like","soul-chilling"],_OPTION3:["soothing","healing","anti-toxin","regenerative"],_OPTION4:["alchemical","specially designated","cursed","regular garden"],_OPTION5:["wilting","discoloration","unusual silence","aggressive root growth"]},{name:"Prune overgrown moonpetal bushes",skills:["labor","nature_magic","farming","artisanry"],intermediates:["Selecting a pair of {_OPTION0} pruning shears","Waiting for the {_OPTION1} moon to be in the correct phase","Trimming away excess {_OPTION2} foliage","Shaping the bush into a more {_OPTION3} form","Collecting the {_OPTION4} cuttings for potion ingredients","Applying a {_OPTION5} sealant to the cuts"],_OPTION0:["silver","obsidian-edged","self-sharpening","enchanted"],_OPTION1:["full","crescent","new","harvest"],_OPTION2:["luminous","shadowy","thorny","non-blooming"],_OPTION3:["manageable","aesthetically pleasing","magically conducive","compact"],_OPTION4:["glowing","potent","young","silver-dusted"],_OPTION5:["tree-sap","alchemical","protective magical","moon-blessed"]},{name:"Turn the alchemical compost heap",skills:["labor","alchemy","farming","stamina"],intermediates:["Donning a {_OPTION0} breathing mask against the fumes","Grabbing a {_OPTION1} pitchfork","Heaving a pile of {_OPTION2} decomposing matter","Mixing in a fresh batch of {_OPTION3} catalyst","Checking the heap's internal {_OPTION4} temperature","Feeling the {_OPTION5} surge of magical energy from the compost"],_OPTION0:["sturdy leather","filter-enchanted","herb-stuffed","simple cloth"],_OPTION1:["rune-etched","titanium","strangely warm","standard iron"],_OPTION2:["bubbling","glowing","strangely scented","fuming"],_OPTION3:["powdered dragon scale","phoenix ash","ground unicorn horn","yeast of quickening"],_OPTION4:["magical","elemental","alchemical","biological"],_OPTION5:["subtle","powerful","life-giving","transformative"]},{name:"Organize enchanted gardening tools",skills:["labor","nature_magic","enchanting","implement_crafting"],intermediates:["Gathering all the {_OPTION0} tools from the shed","Wiping down the {_OPTION1} self-watering can","Checking the enchantments on the {_OPTION2} ever-sharp hoe","Hanging the tools on their designated {_OPTION3} hooks","Recharging a {_OPTION4} lumina-stone on the trowel","Labeling a new {_OPTION5} dibber with its properties"],_OPTION0:["scattered","muddy","slightly sparking","humming"],_OPTION1:["copper","silver","clay","crystal"],_OPTION2:["mithril","adamantine","obsidian","bronze"],_OPTION3:["rune-marked","magnetized","specially crafted","color-coded"],_OPTION4:["fading","dimly glowing","newly acquired","erratically pulsing"],_OPTION5:["growth-enhancing","soil-aerating","pest-repelling","seed-finding"]},{name:"Harvest ripe nightbloom petals",skills:["labor","foraging","alchemy","perception"],intermediates:["Waiting for true {_OPTION0} to fall","Using a pair of {_OPTION1} tweezers to gently pluck petals","Avoiding the plant's {_OPTION2} soporific pollen","Collecting petals that shimmer with a {_OPTION3} light","Placing them into a {_OPTION4} silk-lined basket","Noticing the {_OPTION5} shift in the air as the petals are picked"],_OPTION0:["darkness","midnight","moonless night","magical twilight"],_OPTION1:["silver","ivory","obsidian","non-reactive"],_OPTION2:["potent","subtle","dream-inducing","paralytic"],_OPTION3:["faint blue","phosphorescent green","deep violet","star-like"],_OPTION4:["dark","shadow-woven","lead-lined","preserving"],_OPTION5:["faint sighing","temperature","aromatic","magical energy"]},{name:"Clear dead and wilting foliage",skills:["labor","farming","nature_magic"],intermediates:["Identifying plants with {_OPTION0} leaves","Snipping off {_OPTION1} branches with shears","Raking up piles of {_OPTION2} detritus","Checking for signs of {_OPTION3} blight or magical decay","Applying a {_OPTION4} restorative balm to affected stems","Carrying the refuse to the {_OPTION5} disposal pit"],_OPTION0:["brown and crispy","yellowed","blackened","strangely drained"],_OPTION1:["dead","diseased","parasite-ridden","energy-sapped"],_OPTION2:["dry","mulchy","slightly glowing","unnaturally cold"],_OPTION3:["fungal","insectoid","elemental","necrotic"],_OPTION4:["Nature Magic infused","alchemical","life-giving","purifying"],_OPTION5:["consecrated","alchemical","ever-burning","far-garden"]},{name:"Enrich soil with dragon dung",skills:["labor","farming","beast_mastery","alchemy"],intermediates:["Wearing {_OPTION0} reinforced gloves and apron","Scooping {_OPTION1} dragon dung from the warded barrel","Carefully mixing it into the {_OPTION2} soil","Avoiding any still-smoldering {_OPTION3} embers","Feeling the {_OPTION4} warmth spread through the earth","Planting a {_OPTION5} fire-resistant herb in the treated patch"],_OPTION0:["thick dragonhide","asbestos-lined","elemental-warded","mithril-chain"],_OPTION1:["fresh, steaming","aged, crumbly","metallic-sheened","jewel-encrusted"],_OPTION2:["depleted","sandy","clay-heavy","magically inert"],_OPTION3:["magical","fiery","undigested gem","glowing"],_OPTION4:["intense","pleasant","life-giving","potentially volatile"],_OPTION5:["salamander parsley","ash-willow sapling","magma rose","cinderbloom seed"]},{name:"Label magical herb beds",skills:["labor","nature_magic","runes","magical_lore"],intermediates:["Carving {_OPTION0} runes onto small stone tablets","Identifying a bed of unlabeled {_OPTION1} Whisperwind flowers","Consulting the {_OPTION2} Grand Herbarium for correct nomenclature","Cross-referencing with its {_OPTION3} magical properties","Placing the {_OPTION4} label firmly in the soil","Applying a {_OPTION5} weather-proofing charm to the label"],_OPTION0:["protective","identification","growth-enhancing","elemental affinity"],_OPTION1:["pulsing","color-shifting","singing","shyly hiding"],_OPTION2:["Tower's","Archmage's personal","ancient Elven","forbidden"],_OPTION3:["healing","poisonous","illusionary","transmutative"],_OPTION4:["newly carved","re-inked","enchanted","glowing"],_OPTION5:["minor","permanent","rain-repelling","sun-reflecting"]},{name:"Water thirsty shadowferns",skills:["labor","nature_magic","hydromancy","bloom"],intermediates:["Filling a {_OPTION0} watering can with moon-kissed water","Approaching the patch of {_OPTION1} ferns","Gently pouring water at the {_OPTION2} base of each plant","Whispering a {_OPTION3} growth incantation","Watching the ferns' shadows {_OPTION4} in response","Checking the soil for appropriate {_OPTION5} moisture levels"],_OPTION0:["darkwood","obsidian","silver","enchanted clay"],_OPTION1:["drooping","ethereal","vibrant purple","deep black"],_OPTION2:["dark, mossy","shadowy","cool","slightly disturbed"],_OPTION3:["gentle","nature_magic","shadow-binding","lunar-aligned"],_OPTION4:["deepen and swirl","dance playfully","stretch languidly","vibrate slightly"],_OPTION5:["dampness","coolness","magical resonance","life-energy"]},{name:"Sort dried herbs for storage",skills:["labor","alchemy","foraging","memory"],intermediates:["Spreading out bundles of dried {_OPTION0} on the table","Separating leaves from {_OPTION1} stems and roots","Checking for any signs of {_OPTION2} mold or pests","Placing sorted herbs into {_OPTION3} airtight jars","Labeling each jar with the herb name and {_OPTION4} date","Storing the jars in the cool, dark {_OPTION5} apothecary shelves"],_OPTION0:["sun-dried","moon-dried","magically preserved","fire-cured"],_OPTION1:["brittle","still fragrant","potent","unusually colored"],_OPTION2:["magical","mundane","ethereal","alchemical"],_OPTION3:["clay","smoked glass","crystal","rune-sealed"],_OPTION4:["harvest","drying completion","potency peak","expiration"],_OPTION5:["underground","lead-lined","temperature-controlled","warded"]},{name:"Pacify aggressive snapdragons",skills:["nature_magic","life_magic","pharmacology","beast_tongue"],intermediates:["Approaching the {_OPTION0} snapdragon patch cautiously","Humming a {_OPTION1} soothing melody","Offering a small piece of {_OPTION2} crystallized honey","Gently stroking its {_OPTION3} scaled stalk","Spraying a {_OPTION4} calming mist over its snapping jaws","Retreating slowly as the plant becomes {_OPTION5}"],_OPTION0:["fire-breathing","acid-spitting","loudly barking","territorial"],_OPTION1:["lullaby","Nature's harmony","Tower-taught calming chant","simple folk"],_OPTION2:["bee-blessed","mana-infused","drowsing-draught coated","specially prepared"],_OPTION3:["vibrant green","fiery red","surprisingly soft","thorn-covered"],_OPTION4:["herbal","potion-based","magical","moonflower-essence"],_OPTION5:["docile","sleepy","less agitated","momentarily distracted"]},{name:"Graft sun shy roots onto shadowstalks",skills:["nature_magic","alchemy","farming","surgery"],intermediates:["Selecting a healthy {_OPTION0} sun shy root cutting","Making a precise incision in a {_OPTION1} shadowstalk stem","Carefully inserting the {_OPTION2} root into the incision","Binding the graft with {_OPTION3} enchanted plant fibers","Applying an {_OPTION4} alchemical bonding agent","Whispering a {_OPTION5} prayer for successful fusion"],_OPTION0:["pale white","lumina-infused","delicate","surprisingly resilient"],_OPTION1:["mature","young and pliable","dark purple","actively writhing"],_OPTION2:["glowing","pulsating","sensitive","reluctant"],_OPTION3:["living","spider silk","moon-spun","self-tightening"],_OPTION4:["growth-promoting","tissue-fusing","life-sustaining","shadow-attuned"],_OPTION5:["Nature Spirit's","Druidic","Tower's secret","hopeful"]},{name:"Collect dew from slumbering dreamlilies",skills:["legerdemain","nature_magic","oneiromancy","stealth"],intermediates:["Approaching the dreamlily patch at {_OPTION0}","Moving with {_OPTION1} silence to avoid waking them","Using a {_OPTION2} silver spoon to gather dew","Catching the {_OPTION3} iridescent droplets","Storing the dew in a {_OPTION4} crystal vial","Feeling the {_OPTION5} oneiric energies from the collected dew"],_OPTION0:["false dawn","deepest night","the witching hour","the moment before sunrise"],_OPTION1:["cat-like","absolute","unnatural","breathtaking"],_OPTION2:["enchanted","moon-blessed","feather-light","specially crafted"],_OPTION3:["shimmering","rainbow-hued","potent","elusive"],_OPTION4:["stoppered","rune-etched","chilled","dark"],_OPTION5:["faint","powerful","soporific","prophetic"]},{name:"Set wards against blighted fairies",skills:["nature_magic","order_magic","monster_lore","abjuration"],intermediates:["Identifying areas frequented by {_OPTION0} fairies","Sprinkling a line of {_OPTION1} cold iron filings","Hanging {_OPTION2} bells that chime at unwelcome frequencies","Inscribing {_OPTION3} abjuration runes on garden stones","Planting {_OPTION4} fairy-repellent herbs like rue","Activating the wards with a pulse of {_OPTION5} magic"],_OPTION0:["mischievous","malicious","crop-destroying","dream-stealing"],_OPTION1:["pure","consecrated","rust-proofed","magnetized"],_OPTION2:["silver","brass","enchanted crystal","bone"],_OPTION3:["binding","repulsion","confusion","banishment"],_OPTION4:["pungent","thorny","iron-rich","magically treated"],_OPTION5:["Order","Nature","protective","focused"]},{name:"Propagate rare lumina moss",skills:["nature_magic","farming","geomancy","bloom"],intermediates:["Taking a small cutting from the parent {_OPTION0} lumina moss","Preparing a bed of nutrient-rich, {_OPTION1} soil","Gently pressing the {_OPTION2} moss cutting onto the new bed","Watering it with {_OPTION3} geode-infused water","Placing a {_OPTION4} light-focusing crystal nearby","Whispering words of {_OPTION5} encouragement to the new growth"],_OPTION0:["brightly glowing","pulsating softly","ancient","delicate"],_OPTION1:["dark","mineral-heavy","magically charged","cave-simulated"],_OPTION2:["fragile","resilient","shimmering","tentatively glowing"],_OPTION3:["pure","slightly sparkling","energized","life-attuned"],_OPTION4:["quartz","moonstone","sunstone","specially cut"],_OPTION5:["nurturing","growth","light-binding","flourishing"]}],scriptorium:[{name:"Organize unfinished scrolls and codices",skills:["scribing","magical_lore","memory","archive_delving"],intermediates:["Deciphering faded {_OPTION0} script on a forgotten map","Carefully unrolling a brittle scroll detailing {_OPTION1}","Cross-referencing celestial charts from the Grand Orrery","Identifying a misplaced treatise on {_OPTION2} summoning","Re-inking a nearly lost warding symbol on a containment scroll","Muttering a mnemonic chant to recall ancient filing protocols","Sorting parchments by their subtle elemental affinity"],_OPTION0:["draconic","ancient elven","cryptic djinn","celestial"],_OPTION1:["astral projection techniques","elemental binding rituals","golem creation formulae","temporal stasis fields"],_OPTION2:["imp","gargoyle","minor elemental","thought-form"]},{name:"Recycle papyrus scraps",skills:["labor","artisanry","woodworking","alchemy"],intermediates:["Soaking shredded papyrus in a vat of {_OPTION0} solution","Pressing the resulting pulp into new sheets using a heavy {_OPTION1} press","Adding powdered moonstone for enhanced luminosity to the mixture","Carefully peeling a fresh, damp sheet from the drying frame","Filtering out residual ink pigments with a miniature distillation coil","Whispering a minor {_OPTION2} charm for increased durability","Stacking the recycled sheets for the Head Scribe's inspection"],_OPTION0:["riverbloom","star-thistle concocted","crystal-clear","mana-infused"],_OPTION1:["oak","brass-fitted stone","enchanted crystal","clockwork-powered"],_OPTION2:["preservation","mending","strengthening","illumination"]},{name:"Clean ink spills from desks",skills:["labor","alchemy","cleaning"],intermediates:["Mixing a potent {_OPTION0} solvent for stubborn dragon's blood ink","Scrubbing away a shimmering pool of volatile {_OPTION1} ink","Neutralizing a particularly corrosive batch of squid ink with chalk dust","Applying a polishing paste made from powdered {_OPTION2} shell","Carefully wiping down antique mahogany and ebony desks","Disposing of soiled rags in the alchemical waste reclamation unit","Admiring the restored gleam of the ancient Scriptorium surfaces"],_OPTION0:["alchemical","citrus-based","spirit-infused","mineral-based"],_OPTION1:["celestial blue","shadow black","phoenix feather crimson","verdant green illusion"],_OPTION2:["griffin feather","unicorn horn","marble","mother-of-pearl"]},{name:"Sharpen dragon claw quills",skills:["artisanry","scribing","beast_mastery","lapidary_arts"],intermediates:["Selecting a suitably sized claw from the {_OPTION0} dragon talon collection","Carefully grinding the claw tip against a {_OPTION1} whetstone","Testing the newly formed point on a scrap of practice vellum","Polishing the claw's surface with powdered {_OPTION2} for a smooth finish","Checking the ink flow channel for any microscopic blockages","Feeling the subtle thrum of residual elemental magic in the claw","Arranging the sharpened quills in the master calligrapher's ornate stand"],_OPTION0:["young azure","elder emerald","shadow wyrm","crystal"],_OPTION1:["diamond-grit","obsidian shard","enchanted river","meteorite fragment"],_OPTION2:["pearl","ruby dust","sapphire powder","adamantine flakes"]},{name:"Restock vellum and enchanted inks",skills:["scribing","alchemy","enchanting","bookkeeping"],intermediates:["Checking current inventory levels against the master Scriptorium ledger","Unpacking a new crate of freshly cured {_OPTION0} vellum sheets","Carefully decanting shimmering {_OPTION1} ink into smaller, airtight vials","Labeling each ink vial with its specific enchantment and potency","Storing surplus vellum rolls in the climate-controlled archival vault","Noting the dwindling supply of rare {_OPTION2} ink for immediate reorder","Arranging the various supplies neatly on the Scriptorium's designated shelves"],_OPTION0:["lambskin","dragonhide","griffinskin","celestial-grade"],_OPTION1:["everlasting","truth-revealing","illusion-weaving","spell-enhancing"],_OPTION2:["invisibility","transmutation","elemental summoning","prophetic dream"]},{name:"Sort pigments by magical property",skills:["scribing","alchemy","magical_lore","magical_item_analysis"],intermediates:["Examining a vial of glowing {_OPTION0} pigment under a crystal magnifier lens","Identifying the elemental resonance of powdered {_OPTION1} flakes","Separating pigments used for {_OPTION2} spells from those for abjuration rituals","Cataloging a newly acquired sample of shadow-infused ochre from the Underworld","Feeling the subtle warmth emanating from a fire-aspected carmine pigment","Arranging pigment jars according to their school of magic compatibility","Updating the grand pigment inventory with precise runic annotations"],_OPTION0:["moonpetal blue","sunstone yellow","phoenix ash red","void black"],_OPTION1:["dragon scale green","griffin feather gold","mandrake root brown","kraken ink indigo"],_OPTION2:["illusionary","conjuration","transmutation","divination"]},{name:"Dust drafting tables and lecterns",skills:["labor","cleaning"],intermediates:["Wielding a long feather duster made from {_OPTION0} plumes","Wiping down ancient oak and rune-etched drafting tables","Carefully dusting around delicate astrolabes, orreries, and other arcane instruments","Clearing cobwebs spun by crystal spiders from the Scriptorium's high corners","Polishing the brass fittings and gem inlays on the grand central lectern","Trying not to sneeze from the motes of {_OPTION1} dust","Gently shooing away a stray {_OPTION2} that scurried from under a table leg"],_OPTION0:["griffin","phoenix","roc","pegasus wing"],_OPTION1:["magical","ancient library","glittering spell","choking enchanted"],_OPTION2:["scroll-mite","bookwyrm hatchling","escaped ink elemental","paper golem fragment"]},{name:"File away master copies of spells",skills:["scribing","magical_lore","memory","abjuration"],intermediates:["Verifying the {_OPTION0} authenticity seal on a newly scribed master spell scroll","Cross-referencing the spell's classification with the forbidden magic registry","Placing the scroll of {_OPTION1} into its designated, warded arcane niche","Whispering a complex protective ward over the enchanted filing cabinet","Updating the master spell index with the scroll's precise storage coordinates","Feeling the thrum of immense contained power from a nearby {_OPTION2} spell scroll","Ensuring the archival preservation runes are still actively glowing with power"],_OPTION0:["Archmage's personal","Guild Chancellor's official","Head Scribe's meticulous","Tower Guardian's potent"],_OPTION1:["Meteor Shower","Chain Lightning","Animate Dead","Town Portal"],_OPTION2:["Disintegration","Time Stop","Wish","Clone"]},{name:"Prepare fresh vellum for scribing",skills:["labor","leatherworking","scribing","artisanry"],intermediates:["Stretching a supple {_OPTION0} hide tautly on a large wooden frame","Scraping the hide to an even thickness using a lunar-silvered blade","Treating the surface with a carefully measured solution of {_OPTION1} and fine chalk","Polishing the vellum to a perfectly smooth finish with a {_OPTION2} stone","Cutting the prepared vellum into standard scroll and codex page sizes","Inspecting each finished sheet for minute imperfections under enchanted light","Stacking the pristine, prepared vellum for the waiting scribes"],_OPTION0:["young hydra","manticore","wyvern","pegasus foal"],_OPTION1:["moonflower dew","powdered pearl","clarified mana","distilled starlight"],_OPTION2:["pumice","agate","river-smoothed","polished obsidian"]},{name:"Correct misspelled incantations",skills:["scribing","magical_lore","linguistics","spellcraft"],intermediates:["Identifying a critical phonetic error in a complex {_OPTION0} chant","Consulting the 'Lexicon of Arcane {_OPTION1}' for proper enunciation","Carefully erasing the incorrect rune with a specialized alchemical solvent","Re-inking the corrected symbol with unwavering precision and enchanted ink","Cross-referencing the modified passage with a master copy of the {_OPTION2} spell","Muttering the corrected magical phrase softly to test its harmonic resonance","Feeling a wave of arcane stability as the spell matrix correctly aligns"],_OPTION0:["fireball","teleportation","summoning","healing light"],_OPTION1:["Syllables","Phonemes","Vocables","Ancient Runes"],_OPTION2:["Magic Arrow","Bless","Curse","Shield"]},{name:"Transcribe fragile texts before they crumble",skills:["scribing","magical_lore","legerdemain","memory"],intermediates:["Gently turning the brittle, yellowed pages of an ancient {_OPTION0} tome","Using magically enhanced spectacles to decipher nearly faded script","Rapidly memorizing entire passages just before they turn to irreplaceable dust","Swiftly copying the precious text onto fresh, durable {_OPTION1} vellum","Recreating intricate astronomical diagrams of forgotten {_OPTION2} constellations","Whispering a minor stasis charm over the original, crumbling document","Comparing the meticulous transcription for accuracy one final, painstaking time"],_OPTION0:["prophetic","heretical","alchemical","necromantic"],_OPTION1:["dragonscale","moon-treated","enchanted archival","everlasting papyrus"],_OPTION2:["celestial","demonic plane","elemental pathway","draconic lineage"]},{name:"Create forgery proof guild seals on documents",skills:["scribing","enchanting","forgery","order_magic"],intermediates:["Heating the special {_OPTION0} wax over a precisely controlled magical flame","Firmly pressing the Guild's master signet ring into the molten wax","Infusing the cooling seal with a subtle, {_OPTION1} enchantment","Tracing a microscopic rune of authenticity, visible only under {_OPTION2} light","Verifying the complex seal's integrity with a specialized detection charm","Allowing the newly formed seal to cool and harden on important guild decrees","Feeling the faint hum of protective and authenticating magic emanating from the seal"],_OPTION0:["arcane blue","crimson dragon's blood","silver star","obsidian black"],_OPTION1:["truth-binding","identity-verifying","anti-tampering","warding aura"],_OPTION2:["moon","true-seeing","arcane","a specific magical frequency"]},{name:"Illuminate manuscripts with powdered gems",skills:["scribing","artistry","lapidary_arts","enchanting"],intermediates:["Grinding precious {_OPTION0} into a fine, shimmering, dust-like powder","Mixing the valuable gem powder with an enchanted, quick-drying {_OPTION1} binder","Painstakingly applying the luminous, gem-infused paint to the manuscript's borders and capitals","Crafting intricate, flowing knotwork that subtly glows with inner magical light","Embedding a tiny, perfectly cut chip of {_OPTION2} at each chapter's beginning","Channeling a faint, harmonious magical aura into the delicate illuminations","Admiring the way the completed page catches and refracts the arcane library light"],_OPTION0:["sapphires","rubies","emeralds","diamonds"],_OPTION1:["acacia gum","dragon's tear resin","pixie dust solution","moonpetal nectar"],_OPTION2:["starstone","sunstone","fire opal","moonstone"]},{name:"Bind newly copied grimoires",skills:["scribing","leatherworking","artisanry","enchanting"],intermediates:["Selecting a piece of exquisitely treated {_OPTION0} hide for the grimoire's cover","Carefully stitching the gathered pages together with magically strengthened sinew thread","Attaching the sturdy cover and spine using potent {_OPTION1} adhesive","Embossing the grimoire's title and guild symbol using heated metallic stamps","Fastening an ornate clasp made of polished {_OPTION2} to secure the book","Whispering a minor charm of protection and longevity over the finished grimoire","Placing the newly bound grimoire on the 'ready for advanced enchanting' shelf"],_OPTION0:["basilisk","manticore","wyrmling","shadow panther"],_OPTION1:["golem-grade","alchemically potent","spirit gum","elf-crafted resin"],_OPTION2:["silver","brass","carved bone","meteoric iron"]},{name:"Research lost runic languages",skills:["runes","ancient_languages","magical_lore","cryptography"],intermediates:["Comparing a newly discovered obsidian tablet with the entries in the {_OPTION0} Codex","Cross-referencing unknown symbols with known {_OPTION1} pictographic glyphs","Attempting to decipher a recurring, complex rune possibly meaning '{_OPTION2}'","Using a scrying crystal to visualize the runes' original historical and magical context","Theorizing complex grammatical structures of a forgotten, powerful tongue","Experiencing a sudden flash of intuitive insight about a particular runic sequence's meaning","Making a significant breakthrough in translating a prophetic phrase about ancient titans"],_OPTION0:["Dragon Tongue","Celestial Script","Primordial Giant","Atlantean Lost"],_OPTION1:["dwarven mining","ancient elven star","primordial elemental","forgotten draconic"],_OPTION2:["power","warding","gateway","binding","forbidden knowledge"]}],infirmary:[{name:"Sterilize healing instruments",skills:["medicine","life_magic","pyromancy","first_aid"],intermediates:["Arranging silver scalpels, bone saws, and forceps neatly on a sterile tray","Passing each instrument methodically through a {_OPTION0} flame","Submerging the tools in a bubbling cauldron of thrice-sanctified water","Wiping down delicate probes with cloths soaked in a potent {_OPTION1} solution","Chanting a minor but effective purification incantation over the complete set","Checking for any remaining {_OPTION2} or microbial residue with a detection charm","Placing the gleaming, sterilized instruments into a sealed, warded container"],_OPTION0:["blue purifying","white hot magical","continual light","phoenix-conjured"],_OPTION1:["alcohol-based","holy water","alchemically pure spirit","anti-microbial herbal"],_OPTION2:["ethereal taint","spiritual contagion","bacterial presence","negative magical"]},{name:"Dispose of used bandages and poultices",skills:["labor","medicine","toxicology"],intermediates:["Carefully collecting soiled linens and poultice remnants with enchanted tongs","Sorting bandages potentially tainted with lingering {_OPTION0} magic or contagions","Placing infectious or magically hazardous waste into specially warded biohazard containers","Sprinkling neutralizing {_OPTION1} powder over the waste to negate harmful energies","Transporting the sealed containers to the deep-pit alchemical incinerator","Steadfastly avoiding inhalation of any escaping {_OPTION2} fumes during disposal","Washing hands thoroughly with carbolic soap and a final cleansing charm"],_OPTION0:["necrotic","curse-laden","virulent disease","parasitic entity"],_OPTION1:["quicklime","silver salt","purifying crystal dust","consecrated ashwood"],_OPTION2:["miasmatic vapor","toxic effluvium","lingering magical essence","foul spiritual"]},{name:"Restock healing salves and elixirs",skills:["medicine","alchemy","life_magic","bookkeeping"],intermediates:["Checking the infirmary's inventory log for depleted {_OPTION0} potions and balms","Retrieving fresh, potent batches from the secure alchemical storage vaults","Carefully labeling new jars of {_OPTION1} salve with their precise brewing dates and ingredients","Arranging elixirs, potions, and salves by potency, application, and school of magic","Ensuring the {_OPTION2} charm on the main storage cabinet is active and strong","Updating the stock levels meticulously in the infirmary's enchanted ledger","Noticing a critically low supply of unicorn horn powder needed for advanced regeneration potions"],_OPTION0:["regeneration","mana restoration","universal antidote","enhanced vitality"],_OPTION1:["sunpetal","moonleaf","dragonwort","griffin's balm"],_OPTION2:["preservation","cooling stasis","anti-spoilage","purity field"]},{name:"Change bedding in recovery cots",skills:["labor","hospitality","medicine","hygiene"],intermediates:["Stripping soiled and sweat-stained linens from a recently vacated recovery cot","Spraying the cot frame thoroughly with a {_OPTION0} disinfectant mist","Laying out fresh, crisp sheets woven with fine {_OPTION1} threads for comfort","Plumping pillows generously infused with calming herbs like {_OPTION2}","Tucking in the corners with practiced efficiency to ensure patient comfort","Ensuring a completely clean and welcoming environment for the next ailing patient","Taking the bundled soiled linens to the infirmary's enchanted laundry chute"],_OPTION0:["silver-infused","herbal essence","magical cleansing","steam-powered atomized"],_OPTION1:["silver","healing enchantment","comforting charm","anti-microbial ward"],_OPTION2:["lavender","chamomile","dreamleaf","peaceblossom"]},{name:"Organize poultice ingredients",skills:["medicine","foraging","alchemy","memory"],intermediates:["Sorting piles of dried {_OPTION0} leaves from bundles of fresh silvervein mushrooms","Arranging neatly labeled jars of powdered {_OPTION1} alongside rendered troll fat","Checking the freshness and magical potency of rare, recently harvested sunpetal blossoms","Restocking various sizes of bandages and clean binding cloths","Labeling new batches of rare ingredients with their specific harvest date and location","Cross-referencing the 'Apothecary's Grand Concordance' for effective {_OPTION2} combinations","Carefully discarding any ingredients showing the slightest signs of spoilage or magical taint"],_OPTION0:["kingfoil","mandrake root","bloodmoss","willowbark shavings"],_OPTION1:["unicorn horn","manticore stingers","phoenix tear crystals","dragon scale dust"],_OPTION2:["wound-closing","potent anti-venom","rapid fever-reducing","swift bone-mending"]},{name:"Wash linens with cleansing charms",skills:["labor","life_magic","enchanting","tailoring"],intermediates:["Loading heaps of soiled infirmary linens into the enchanted washing cauldron","Adding a precise measure of powdered {_OPTION0} soap, known for its purity","Chanting the ancient 'Aqua Pura Vitae' cleansing incantation over the water","Stirring the churning water with a large, rune-etched oaken paddle","Watching as stubborn stains and impurities magically lift and vanish from the fabric","Rinsing the thoroughly cleansed linens with {_OPTION1} water drawn from a blessed spring","Wringing out the excess water using a magically assisted {_OPTION2} wringer mechanism"],_OPTION0:["sunstone","pearlash","riverbloom essence","powdered silver"],_OPTION1:["pure spring","blessed","crystal clear mountain","mana-infused ritual"],_OPTION2:["self-twisting","clockwork-driven","golem-assisted","enchanted compression"]},{name:"Sweep examination rooms for spirits",skills:["labor","life_magic","spectral_mastery"],intermediates:["Lighting a thick bundle of {_OPTION0} sage, its smoke acrid and purifying","Wafting the billowing, cleansing smoke into shadowy corners and under furniture","Muttering a continuous warding chant to deter lingering {_OPTION1} or sorrowful echoes","Using a polished silver mirror to detect unseen presences or ethereal disturbances","Feeling a distinct cold spot developing near the {_OPTION2} operating table","Sprinkling a line of consecrated salt across all thresholds and windowsills","Confirming the room is now clear and serene with a pendulum dowsed in holy water"],_OPTION0:["ghostsbane","spirit-ward herb","dragon's breath incense","silver birch"],_OPTION1:["wraiths","poltergeists","lost souls","minor mischievous specters"],_OPTION2:["marble","obsidian","enchanted steel","ancient oak examination"]},{name:"Label medicinal herb jars anew",skills:["medicine","alchemy","runes","memory"],intermediates:["Carefully wiping old, faded, and peeling labels from ceramic and glass herb jars","Selecting appropriate, magically resonant runic symbols for an herb's {_OPTION0} properties","Inscribing the herb's common name, for example '{_OPTION1}', in clear, precise script","Adding a small, secondary rune indicating its primary {_OPTION2} or elemental affinity","Attaching the new, informative labels securely with magically adhesive gum arabic","Cross-checking each new label meticulously with entries in the master herbarium codex","Arranging the freshly labeled jars alphabetically and by use on the infirmary shelves"],_OPTION0:["healing","toxic","calming","stimulant","protective"],_OPTION1:["bloodroot","nightshade berries","valerian root","ginseng"],_OPTION2:["Life","Death","Order","Chaos","Nature's balance"]},{name:"Tidy patient bedside tables",skills:["labor","hospitality","patron_care"],intermediates:["Clearing away empty potion vials, used tissues, and discarded bandage scraps","Wiping down the table surface with a soft cloth lightly soaked in {_OPTION0}","Refilling the personal water carafe with fresh, cool, purified water","Neatly arranging any personal items, like a well-worn copy of '{_OPTION1}'","Placing a small, cheerful vase containing a single, fresh {_OPTION2} flower","Ensuring the patient's call bell is within easy, comfortable reach","Offering a quiet, reassuring word of comfort if the patient is awake and lucid"],_OPTION0:["lavender water","lemon-verbena solution","mild antiseptic wash","rosewater mist"],_OPTION1:["Tales of Heroic Knights","Basic Cantrips for Beginners","The Stargazer's Almanac","Mysteries of the Deep"],_OPTION2:["sunpetal","moonflower","peacebloom","whisperwind daisy"]},{name:"Air out wards with purifying incense",skills:["labor","life_magic","alchemy","protection"],intermediates:["Propping open tall windows to allow fresh, {_OPTION0} air to gently circulate","Lighting a swinging censer generously filled with potent {_OPTION1} incense blend","Wafting the fragrant, purifying smoke methodically throughout the entire recovery ward","Visualizing negative energies, miasmas, and lingering illness being dispelled by the smoke","Replacing stale, heavy air with air carrying the clean, uplifting scents of {_OPTION2}","Carefully ensuring the aromatic smoke doesn't irritate any particularly sensitive patients","Closing the windows after the ward's air feels refreshed, cleansed, and revitalized"],_OPTION0:["mountain-crisp","sea-kissed","pine-scented forest","magically filtered tower"],_OPTION1:["frankincense and myrrh","sandalwood and silver flakes","dragonsblood resin","sacred white sage"],_OPTION2:["pine and mint","lavender and chamomile","eucalyptus and camphor","healing herbs and flowers"]},{name:"Brew fever reducing concoctions",skills:["medicine","alchemy","provisions","pharmacology"],intermediates:["Measuring precise amounts of dried willow bark and fresh {_OPTION0} leaves","Gently simmering the combined ingredients in a heavy copper cauldron over a low {_OPTION1} flame","Stirring the thickening mixture widdershins with a polished silver spoon for potency","Adding a single, potent drop of concentrated {_OPTION2} essence to the brew","Carefully straining the completed concoction through fine, sterile muslin cloth","Decanting the warm, aromatic brew into small, clearly labeled phials for dosage","Tasting a minuscule, diluted drop to check for correct bitterness and expected efficacy"],_OPTION0:["feverfew blossoms","yarrow flowers","catnip leaves","crushed boneset"],_OPTION1:["magical","alchemical heat","ethereal blue","slow burning enchanted"],_OPTION2:["peppermint","wintergreen oil","moonpetal nectar","crystal dew"]},{name:"Set broken bones with magical assistance",skills:["medicine","life_magic","geomancy","surgery"],intermediates:["Examining a glowing X-ray plate created by a {_OPTION0} diagnostic spell","Gently yet firmly manipulating the fractured limb back into perfect alignment","Chanting a powerful mending incantation derived from the {_OPTION1} school of magic","Channeling focused life energy directly into the break to accelerate bone knitting","Applying a thick, warm poultice of comfrey root and powdered {_OPTION2}","Immobilizing the healing limb securely with magically hardened and supportive bandages","Continuously monitoring the patient's vital signs and pain levels with a diagnostic charm"],_OPTION0:["Reveal Inner Structure","Clairvoyant Skeletal Sight","Bone-Scan Lumina","Luminous Diagnosis Aura"],_OPTION1:["restoration","Earth Magic","Nature's Mend","Somatic Renewal"],_OPTION2:["adamantine dust","crushed pearl","unicorn horn shavings","granite powder"]},{name:"Suture wounds using enchanted thread",skills:["medicine","tailoring","enchanting","surgery"],intermediates:["Selecting a fine, curved needle threaded with shimmering {_OPTION0} silk","Thoroughly cleaning the wound edges with an antiseptic and numbing solution","Skillfully and swiftly stitching the gaping wound edges neatly together","Whispering a quiet charm of {_OPTION1} into each perfectly placed stitch","Applying a thin layer of regenerative salve to prevent scarring and promote healing","Covering the freshly sutured wound with a sterile, {_OPTION2} dressing","Admiring the neatness and integrity of the magically enhanced, healing suture line"],_OPTION0:["spider-gossamer","silver-spun","self-dissolving enchanted","healing-infused kelp"],_OPTION1:["rapid healing","scar tissue prevention","soothing pain reduction","infection warding light"],_OPTION2:["mana-permeated gauze pad","living moss patch","translucent dragonfly wing membrane","blessed linen strip"]},{name:"Diagnose ailments using divination",skills:["medicine","divination","magical_lore","diagnostics"],intermediates:["Casting a handful of polished rune stones onto a black velvet divination cloth","Carefully interpreting the resulting patterns to understand the patient's afflicted {_OPTION0}","Gazing intently into a mist-filled crystal ball to perceive internal maladies or imbalances","Consulting the ancient, leather-bound 'Atlas of Arcane Afflictions and Their Cures'","Using a silver pendulum to dowse for areas of significant {_OPTION1} disruption","Cross-referencing complex divinatory insights with observed physical symptoms and patient history","Pinpointing the elusive source of the ailment as a rare, invasive {_OPTION2} parasite"],_OPTION0:["aura fluctuations","life force signature","spiritual imbalance points","subtle magical affliction markers"],_OPTION1:["magical energy","elemental harmony","vital life energy","chi flow"],_OPTION2:["ethereal","astral","shadow-born","mana-leeching"]},{name:"Comfort delirious patients with calming illusions",skills:["medicine","mentalism","insight"],intermediates:["Gently placing a cool, reassuring hand on the feverish patient's forehead","Weaving a simple, serene illusion of a peaceful, sun-dappled {_OPTION0} scene","Mentally projecting feelings of profound serenity, safety, and gentle calm","Whispering soft, soothing words in a calm, rhythmic, almost hypnotic tone","Subtly shaping and adapting the illusion to respond to the patient's subconscious needs and fears","Observing the patient's agitated breathing becoming slower, deeper, and more regular","Maintaining the {_OPTION1} illusion steadily until the worst of the {_OPTION2} subsides"],_OPTION0:["meadow filled with wildflowers","starry night sky over a calm sea","tranquil, mist-shrouded lake","sunlit, ancient forest glade"],_OPTION1:["deeply calming","utterly peaceful","gently protective","blissfully serene"],_OPTION2:["frightening delirium","chaotic fever dream","terrifying night terror","disorienting magical confusion"]}],meditation_chamber:[{name:"Polish meditation crystals",skills:["labor","meditation","lapidary_arts","magical_item_analysis"],intermediates:["Gathering polishing cloths and {_OPTION0} solutions","Gently wiping each crystal surface","Removing accumulated {_OPTION1} dust","Inspecting for micro-fractures with a {_OPTION2} lens","Buffing to a high {_OPTION3} sheen","Feeling the crystal's amplified {_OPTION4}"],_OPTION0:["blessed water","alchemical","moon-infused","crystal-specific"],_OPTION1:["psychic","elemental","astral","ambient"],_OPTION2:["magnifying","scrying","truth-seeing","gemcutter's"],_OPTION3:["spiritual","reflective","magical","etheric"],_OPTION4:["resonance","energy","clarity","focus"]},{name:"Arrange contemplation cushions",skills:["labor","hospitality","meditation"],intermediates:["Fluffing the {_OPTION0} cushions","Consulting the ancient texts on {_OPTION1} placement","Aligning cushions with the chamber's {_OPTION2} lines","Ensuring comfortable spacing for {_OPTION3} practitioners","Testing the feel of each spot","Adjusting for optimal {_OPTION4} circulation"],_OPTION0:["velvet","silk","enchanted","levitating"],_OPTION1:["sacred geometry","astral","geomantic","elemental"],_OPTION2:["ley","mana","psychic","architectural"],_OPTION3:["novice","master","visiting","solitary"],_OPTION4:["energy","mana","thought-form","serenity"]},{name:"Sweep the sacred space with blessed broom",skills:["labor","life_magic","meditation"],intermediates:["Retrieving the {_OPTION0} broom from its consecrated stand","Chanting a minor {_OPTION1} purification incantation","Sweeping away physical and {_OPTION2} debris","Focusing intent on cleansing the area","Guiding dislodged energies towards the {_OPTION3} portal","Feeling the renewed sanctity of the {_OPTION4}"],_OPTION0:["silver-birch","ebony-handled","rune-etched","everglowing"],_OPTION1:["cleansing","banishing","sanctifying","warding"],_OPTION2:["ethereal","negative","astral","emotional"],_OPTION3:["disposal","recycling","nullification","elemental"],_OPTION4:["space","chamber","altar","threshold"]},{name:"Refresh incense burners with calming herbs",skills:["labor","alchemy","meditation","pharmacology"],intermediates:["Emptying old ashes into a {_OPTION0} receptacle","Selecting a blend of {_OPTION1} herbs","Grinding herbs with a {_OPTION2} mortar and pestle","Carefully measuring portions for each burner","Lighting the incense with a {_OPTION3} flame","Inhaling the soothing {_OPTION4} aroma"],_OPTION0:["ritual","earthenware","silver","containment"],_OPTION1:["Dreamleaf","Serenity Bloom","Whisperwind Petals","Moonpetal Dust"],_OPTION2:["marble","obsidian","blessed","alchemical"],_OPTION3:["magical","pure","everlasting","tiny dragon's"],_OPTION4:["peaceful","tranquilizing","focus-enhancing","spirit-lifting"]},{name:"Align geomantic stones for optimal flow",skills:["meditation","geomancy","terramancy","divination"],intermediates:["Consulting the {_OPTION0} charts","Sensing the existing {_OPTION1} currents","Gently nudging a {_OPTION2} stone into place","Recalibrating the energy {_OPTION3} with fine adjustments","Verifying alignment with a {_OPTION4} pendulum","Feeling the harmonious {_OPTION5} resonating through the chamber"],_OPTION0:["geomantic","astrological","ley line","elemental"],_OPTION1:["mana","telluric","earth","psychic"],_OPTION2:["lodestone","quartz","granite","obsidian"],_OPTION3:["nexus","grid","matrix","confluence"],_OPTION4:["dowsing","scrying","crystal","sensitive"],_OPTION5:["energy","vibrations","balance","flow"]},{name:"Cleanse aura disturbances",skills:["meditation","life_magic","psychometry","occlumency"],intermediates:["Entering a deep meditative state","Scanning the chamber for {_OPTION0} dissonances","Identifying the source of an {_OPTION1} imprint","Using {_OPTION2} techniques to smooth out auric ripples","Drawing out negative energies with a {_OPTION3} gesture","Sealing the cleansed space with a {_OPTION4} ward","Perceiving the chamber's aura returning to a {_OPTION5} hue"],_OPTION0:["auric","psychic","emotional","ethereal"],_OPTION1:["lingering","turbulent","parasitic","foreign"],_OPTION2:["gentle life magic","focused will","sonic healing","abjuration patterns"],_OPTION3:["sweeping","siphoning","banishing","cleansing"],_OPTION4:["protective","minor","temporary","serenity"],_OPTION5:["clear","golden","serene","balanced"]},{name:"Dust altar and sacred relics",skills:["labor","magical_lore","mythology"],intermediates:["Donning consecrated {_OPTION0} gloves","Choosing a brush made of {_OPTION1} feathers","Gently whisking dust from the Idol of {_OPTION2}","Carefully cleaning around the {_OPTION3} offering bowl","Recalling the history of each {_OPTION4} relic","Polishing the altar surface with {_OPTION5} oil"],_OPTION0:["silk","enchanted linen","purified leather","non-reactive"],_OPTION1:["griffin","phoenix","swan","enchanted owl"],_OPTION2:["the Serpent God","the Moon Goddess","the First Archmage","a Forgotten One"],_OPTION3:["crystal","silver","ancient stone","oracle's"],_OPTION4:["venerable","powerful","possibly cursed","misunderstood"],_OPTION5:["sacred","blessed","lemongrass","myrrh-infused"]},{name:"Tune resonant bowls for harmony",skills:["musical_instruments","bat_ear","meditation"],intermediates:["Selecting a {_OPTION0} striker","Gently tapping the rim of a {_OPTION1} singing bowl","Listening for the precise {_OPTION2} pitch","Making minute adjustments by adding or removing {_OPTION3} water","Harmonizing multiple bowls to create a {_OPTION4} chord","Feeling the air vibrate with {_OPTION5} frequencies"],_OPTION0:["suede-covered","crystal","rosewood","dragonbone"],_OPTION1:["crystal","bronze","silver-alloy","celestial metal"],_OPTION2:["fundamental","harmonic","resonant","healing"],_OPTION3:["blessed","moon-touched","distilled","elementally charged"],_OPTION4:["serene","powerful","meditative","elemental"],_OPTION5:["soothing","cleansing","energizing","balancing"]},{name:"Straighten prayer rugs and mandalas",skills:["labor","meditation","artistry"],intermediates:["Lifting the edge of a {_OPTION0} rug","Smoothing out wrinkles and creases","Aligning the rug's central motif with the chamber's {_OPTION1} axis","Checking the intricate patterns of a sand {_OPTION2}","Carefully adjusting a hanging {_OPTION3} tapestry","Ensuring all sacred patterns are {_OPTION4} and respected"],_OPTION0:["Persian","Naga-woven","celestial silk","elemental-wool"],_OPTION1:["geomantic","focal","spiritual","true north"],_OPTION2:["mandala","yantra","cosmogram","sigil-map"],_OPTION3:["Kalachakra","dream-catcher","ancestral","prophetic"],_OPTION4:["undisturbed","perfectly aligned","ritually correct","symbolically potent"]},{name:"Remove distracting mundane objects",skills:["labor","introspection"],intermediates:["Spotting a misplaced {_OPTION0}","Picking up a dropped {_OPTION1}","Wondering how a {_OPTION2} got in here","Placing items in the 'Lost and Found (Mundane)' {_OPTION3}","Ensuring only objects of {_OPTION4} significance remain","Appreciating the increased {_OPTION5} of the space"],_OPTION0:["quill","ink pot","snack wrapper","mundane novel"],_OPTION1:["coin","button","glove","shopping list"],_OPTION2:["rubber chicken","spork","garden gnome","single sock"],_OPTION3:["box","chest","cubby","dimensional pocket"],_OPTION4:["spiritual","meditative","ritual","magical"],_OPTION5:["clarity","focus","serenity","order"]},{name:"Recharge mana focusing nodes",skills:["meditation","order_magic","enchanting","mana_conservation"],intermediates:["Identifying depleted {_OPTION0} nodes","Drawing ambient mana through a series of {_OPTION1} gestures","Channeling refined energy into a {_OPTION2} crystal matrix","Monitoring the node's {_OPTION3} levels","Sealing the node with a temporary {_OPTION4} sigil","Feeling the subtle thrum of a fully charged {_OPTION5}"],_OPTION0:["crystal","geomantic","astral","ethereal"],_OPTION1:["arcane","somatic","ritualistic","precise"],_OPTION2:["primary","secondary","amplifying","stabilizing"],_OPTION3:["charge","saturation","resonance","output"],_OPTION4:["containment","conservation","efficiency","protection"],_OPTION5:["node","network","system","conduit"]},{name:"Cleanse the chamber of psychic echoes",skills:["meditation","spectral_mastery","abjuration","psychometry"],intermediates:["Tuning into the chamber's {_OPTION0} ambiance","Detecting lingering {_OPTION1} from past meditations","Employing a {_OPTION2} chant to dispel unwanted echoes","Using a {_OPTION3} focus to absorb stray thought-forms","Grounding residual psychic energy into the {_OPTION4}","Feeling the mental {_OPTION5} return to the room"],_OPTION0:["psychic","mental","emotional","ethereal"],_OPTION1:["impressions","emotions","thought-forms","memories"],_OPTION2:["sonic","verbal","runic","silent"],_OPTION3:["crystal","mirror","symbol","personal"],_OPTION4:["earth","void","elemental plane","nearest ley line"],_OPTION5:["stillness","clarity","silence","neutrality"]},{name:"Transcribe meditative mantras onto scrolls",skills:["meditation","scribing","linguistics","calligraphy"],intermediates:["Selecting a high-quality {_OPTION0} parchment","Preparing {_OPTION1} ink infused with calming properties","Choosing a mantra for {_OPTION2} focus","Writing with precise {_OPTION3} strokes","Imbuing each character with meditative {_OPTION4}","Rolling and sealing the completed {_OPTION5} scroll"],_OPTION0:["vellum","papyrus","lambskin","moon-fiber"],_OPTION1:["lapis lazuli","silver","dreamwood sap","star-petal"],_OPTION2:["clarity","peace","insight","elemental"],_OPTION3:["calligraphic","runic","sigilic","ancient"],_OPTION4:["intent","energy","serenity","power"],_OPTION5:["sacred","empowered","instructional","personal"]},{name:"Prepare ritual tea for introspection",skills:["meditation","provisions","alchemy","introspection"],intermediates:["Selecting {_OPTION0} leaves known for enhancing clarity","Heating {_OPTION1} water to the perfect temperature","Steeping the tea in a {_OPTION2} teapot","Adding a drop of {_OPTION3} essence","Pouring the tea into {_OPTION4} cups","Savoring the aroma before the {_OPTION5} begins"],_OPTION0:["Silver Lotus","Mind's Eye","Oracle's Whisper","Starleaf"],_OPTION1:["spring","blessed","twice-boiled","moon-kissed"],_OPTION2:["clay","porcelain","silver","enchanted"],_OPTION3:["honey","lotus nectar","starlight dew","clarity"],_OPTION4:["delicate","runed","simple ceramic","scrying"],_OPTION5:["meditation","ritual","contemplation","journey"]},{name:"Guide apprentices in basic focus techniques",skills:["meditation","pedagogy","leadership","tutoring"],intermediates:["Gathering the {_OPTION0} apprentices","Explaining the importance of a {_OPTION1} mind","Leading a simple {_OPTION2} exercise","Correcting {_OPTION3} posture and breathing","Answering {_OPTION4} questions patiently","Observing their progress in achieving initial {_OPTION5}"],_OPTION0:["eager","distracted","talented","clumsy"],_OPTION1:["still","clear","centered","receptive"],_OPTION2:["breathing","visualization","sensory awareness","candle-gazing"],_OPTION3:["slumped","restless","shallow","erratic"],_OPTION4:["insightful","basic","repetitive","off-topic"],_OPTION5:["focus","calm","concentration","mindfulness"]}],storage_vault:[{name:"Organize resource crates by type",skills:["labor","logistics","bookkeeping","memory"],intermediates:["Dragging a heavy crate of {_OPTION0}","Checking labels or peeking inside","Consulting the {_OPTION1} manifest","Stacking crates of {_OPTION2} together","Making a new {_OPTION3} label if needed","Updating the inventory of the {_OPTION4} section"],_OPTION0:["golem parts","crystal shards","alchemical ingredients","raw ore"],_OPTION1:["master","digital","holographic","ancient scroll"],_OPTION2:["herbs","metals","gems","scrolls"],_OPTION3:["runic","color-coded","magically glowing","self-updating"],_OPTION4:["Gems & Crystals","Metals & Minerals","Herbs & Reagents","Artifact Components"]},{name:"Dust off forgotten artifacts",skills:["labor","magical_lore","history","appraisal"],intermediates:["Locating a particularly dusty {_OPTION0}","Using a soft brush made of {_OPTION1} bristles","Carefully wiping away centuries of {_OPTION2} accumulation","Revealing intricate {_OPTION3} carvings","Trying to recall the artifact's {_OPTION4} or origin","Wondering if it is valuable or just {_OPTION5}"],_OPTION0:["statue","amulet","weapon","codex"],_OPTION1:["griffin feather","manticore hair","dragon's whisker","enchanted silk"],_OPTION2:["cobweb","magical residue","temporal","ectoplasmic"],_OPTION3:["runic","celestial","demonic","forgotten"],_OPTION4:["purpose","legend","creator","curse"],_OPTION5:["cursed","inert","dangerously powerful","historically significant"]},{name:"Take inventory of hoarded supplies",skills:["bookkeeping","memory","appraisal","logistics"],intermediates:["Opening a chest overflowing with {_OPTION0}","Counting individual {_OPTION1} units","Ticking items off the old {_OPTION2} list","Noting discrepancies and {_OPTION3} items","Estimating the value of a pile of {_OPTION4}","Sighing at the sheer amount of {_OPTION5} accumulated"],_OPTION0:["gemstones","gold coins","mana potions","spell components"],_OPTION1:["phials","ingots","scrolls","bundles"],_OPTION2:["parchment","clay tablet","crystal-based","magical"],_OPTION3:["unaccounted","damaged","surprisingly multiplied","transmuted"],_OPTION4:["dragon scales","phoenix feathers","shadowsilk bolts","sunstone nuggets"],_OPTION5:["stuff","loot","reagents","clutter"]},{name:"Clear cobwebs from treasure chests",skills:["labor","cleaning"],intermediates:["Approaching a {_OPTION0} chest","Wielding a long-handled {_OPTION1} duster","Sweeping away thick curtains of {_OPTION2} cobwebs","Dodging a startled (and possibly giant) {_OPTION3}","Checking for any remaining {_OPTION4} nests","Admiring the now visible {_OPTION5} carvings on the chest"],_OPTION0:["ancient oak","iron-bound","rune-covered","suspiciously silent"],_OPTION1:["feather","bristle","enchanted","anti-spider"],_OPTION2:["ancient","glistening","magically reinforced","slightly sticky"],_OPTION3:["spider","cave cricket","dust bunny elemental","silverfish"],_OPTION4:["egg sacs","spiderling","web-based trap","magical"],_OPTION5:["intricate","warning","ownership","protective"]},{name:"Label unmarked containers carefully",skills:["labor","runes","magical_item_analysis","memory"],intermediates:["Picking up an unlabeled {_OPTION0} jar","Sniffing cautiously at the contents or not","Attempting to identify the {_OPTION1} substance within","Inscribing a temporary label with {_OPTION2} chalk","Deciding on a permanent {_OPTION3} rune for identification","Hoping the contents are not something that eats {_OPTION4}"],_OPTION0:["clay","glass","metal","strangely pulsing"],_OPTION1:["powdered","liquid","gaseous","semi-sentient"],_OPTION2:["blessed","mundane","glow-in-the-dark","self-erasing"],_OPTION3:["preservation","warning","contents-identifying","elemental affinity"],_OPTION4:["labels","containers","curiosity","magic users"]},{name:"Reinforce weak shelving under heavy loads",skills:["labor","construction","woodworking","smithing"],intermediates:["Noticing a shelf groaning under stacks of {_OPTION0}","Fetching {_OPTION1} planks and metal braces","Carefully unloading the {_OPTION2} items","Nailing or {_OPTION3} new supports into place","Testing the shelf's new {_OPTION4}","Restacking the items hopefully more {_OPTION5}"],_OPTION0:["lead ingots","obsidian blocks","grimoires bound in iron","petrified dragon eggs"],_OPTION1:["ironwood","steel","stone","magically hardened"],_OPTION2:["heavy","fragile","cursed","unstable"],_OPTION3:["bolting","welding","magically fusing","conjuring"],_OPTION4:["strength","stability","load capacity","structural integrity"],_OPTION5:["securely","evenly","logically","artistically"]},{name:"Sweep vault passages for traps and dust",skills:["labor","trap_handling","perception","stealth"],intermediates:["Entering a dark and {_OPTION0} passage","Using a {_OPTION1} broom to sweep ahead","Listening for the click of a {_OPTION2} mechanism","Carefully disarming a {_OPTION3} glyph","Sweeping piles of {_OPTION4} dust into a bag","Feeling relieved after passing a {_OPTION5} section"],_OPTION0:["dusty","ominous","rarely used","trap-laden"],_OPTION1:["ten-foot","enchanted","weighted","decoy"],_OPTION2:["pressure plate","tripwire","magical","scuttling"],_OPTION3:["fireball","poison dart","net","teleportation"],_OPTION4:["ancient","sparkling","cursed","strangely warm"],_OPTION5:["particularly suspicious","recently reset","notoriously trapped","alarmingly quiet"]},{name:"Polish guarded relics and valuables",skills:["labor","magical_item_analysis","artisanry","lapidary_arts"],intermediates:["Approaching the {_OPTION0} of Unending Bling","Selecting a {_OPTION1} polishing cloth infused with protection spells","Gently rubbing a {_OPTION2} crown careful of its enchantments","Buffing a set of {_OPTION3} goblets","Applying a thin coat of {_OPTION4} wax to a dragon's egg","Stepping back to admire the renewed {_OPTION5} of the treasure"],_OPTION0:["Pedestal","Display Case","Altar","Guardian Golem's Hoard"],_OPTION1:["unicorn hair","dwarven silk","elfin chamois","gnomish microfiber"],_OPTION2:["lich king's","sunken empire's","archmage's","forgotten deity's"],_OPTION3:["diamond-encrusted","solid gold","never-empty","poison-detecting"],_OPTION4:["preservation","anti-tarnish","dragon-repellent","lustrous"],_OPTION5:["sparkle","radiance","magical aura","gleam"]},{name:"Secure loose gemstones and ingots",skills:["labor","legerdemain","appraisal","lapidary_arts"],intermediates:["Spotting a scattering of loose {_OPTION0}","Carefully picking up a shimmering {_OPTION1}","Checking if any have rolled into a {_OPTION2} crevice","Placing them into a {_OPTION3} velvet bag","Ensuring the {_OPTION4} chest lid is properly closed","Counting the secured items for the {_OPTION5}"],_OPTION0:["rubies","emeralds","diamonds","soul gems"],_OPTION1:["star sapphire","black diamond","fire opal","perfectly cut"],_OPTION2:["dark","bottomless","monster-inhabited","trap-triggering"],_OPTION3:["rune-stitched","reinforced","lead-lined","bottomless"],_OPTION4:["treasure","ingot","gem","overflowing"],_OPTION5:["ledger","inventory","peace of mind","next appraisal"]},{name:"Update the vault magical ledger",skills:["bookkeeping","magical_lore","scribing","memory"],intermediates:["Opening the ancient {_OPTION0} ledger","Dipping a {_OPTION1} quill into ever-full ink","Cross-referencing with the latest {_OPTION2} reports","Noting the addition of the {_OPTION3} of a Thousand Screams","Correcting a previous entry about the Orb of {_OPTION4}","Closing the ledger with a {_OPTION5} clasp"],_OPTION0:["dragon-hide bound","iron-clad","self-updating","holographic"],_OPTION1:["phoenix feather","griffin claw","runed silver","self-writing"],_OPTION2:["acquisition","appraisal","de-cursing","containment"],_OPTION3:["Sceptre","Amulet","Dagger","Music Box"],_OPTION4:["Confusion","Slightly-Off-Key Singing","Infinite Puns","Temporary Blindness"],_OPTION5:["satisfying","magical","secure","ominous"]},{name:"Reset arcane locks and wards",skills:["order_magic","lockpicking","enchanting","magical_lore"],intermediates:["Approaching a door secured by {_OPTION0} glowing runes","Consulting the {_OPTION1} schematics for the warding sequence","Carefully disabling the outer {_OPTION2} layer","Recalibrating the {_OPTION3} crystal in the lock mechanism","Inputting the new {_OPTION4} sequence","Feeling the wards snap back into place with renewed {_OPTION5}"],_OPTION0:["pulsating","shifting","ancient","newly installed"],_OPTION1:["master","warden's","emergency","original"],_OPTION2:["alarm","decoy","mana drain","illusory"],_OPTION3:["focusing","key","attunement","power"],_OPTION4:["activation","passphrase","gestural","psychic"],_OPTION5:["vigor","strength","complexity","impenetrability"]},{name:"Appraise newly acquired treasures",skills:["appraisal","magical_item_analysis","commerce_and_trade","history"],intermediates:["Examining a newly found {_OPTION0} goblet","Using a jeweler's loupe on an inscribed {_OPTION1}","Casting a minor {_OPTION2} spell to detect enchantments","Consulting a tome on {_OPTION3} artifacts","Estimating its value in {_OPTION4} gold pieces","Deciding whether to sell study or store the {_OPTION5}"],_OPTION0:["jeweled","plain-looking","strangely humming","cursed-looking"],_OPTION1:["ring","bracer","pendant","tablet"],_OPTION2:["identification","aura reading","history revealing","curse detection"],_OPTION3:["ancient","rare","lost civilization","forbidden"],_OPTION4:["thousands of","a modest sum of","an obscene amount of","unquantifiable"],_OPTION5:["item","treasure","artifact","piece of junk"]},{name:"Identify and contain cursed items",skills:["magical_item_analysis","order_magic","death_magic","risk_assessment"],intermediates:["Carefully approaching a {_OPTION0} that radiates unease","Donning protective {_OPTION1} gauntlets","Using a {_OPTION2} rod to poke the suspicious item","Confirming a {_OPTION3} curse with a detection spell","Placing the item into a {_OPTION4} containment box","Labeling the box with multiple {_OPTION5} warnings"],_OPTION0:["dagger","mirror","doll","music box"],_OPTION1:["lead-lined","rune-etched","silver-woven","abjuration-infused"],_OPTION2:["silver","ten-foot","divining","non-conductive"],_OPTION3:["soul-binding","luck-draining","transformation","babbling"],_OPTION4:["lead-lined","warded","extra-dimensional","null-magic"],_OPTION5:["danger","do not open","curse of instant regret","contact head archivist"]},{name:"Create hidden compartments for sensitive items",skills:["stealth","engineering","woodworking","legerdemain"],intermediates:["Selecting a sturdy {_OPTION0} chest for modification","Measuring out space for a false {_OPTION1}","Carefully cutting and fitting {_OPTION2} panels","Installing a nearly invisible {_OPTION3} mechanism","Testing the compartment with a decoy {_OPTION4}","Admiring the seamless and {_OPTION5} new hiding spot"],_OPTION0:["oak","iron","bookcase","floorboard section"],_OPTION1:["bottom","lid","side","back"],_OPTION2:["wooden","metal","camouflaged","illusory"],_OPTION3:["spring-loaded","pressure-sensitive","magical trigger","puzzle-based"],_OPTION4:["valuable","document","potion","embarrassing personal item"],_OPTION5:["undetectable","cleverly disguised","perfectly hidden","ingenious"]},{name:"Rotate perishable magical components",skills:["alchemy","magical_lore","logistics","memory"],intermediates:["Checking the {_OPTION0} date on a jar of dried Mandrake root","Moving older batches of {_OPTION1} to the front","Discarding any {_OPTION2} reagents into a neutralizing solution","Noting which components like {_OPTION3} need restocking soon","Ensuring proper storage conditions for {_OPTION4} eyes","Updating the {_OPTION5} chart for component freshness"],_OPTION0:["expiration","best-by","harvest","infusion"],_OPTION1:["phoenix tears","dragon's blood","unicorn horn powder","pixie dust"],_OPTION2:["spoiled","inert","dangerously unstable","transmuted"],_OPTION3:["glowmoss","shadowsilk","ectoplasm","moonpetal dew"],_OPTION4:["newt","basilisk","beholder","spider"],_OPTION5:["rotation","inventory","alchemical","perishables"]}],kitchen:[{name:"Scrub cauldrons and stew pots",skills:["labor","provisions","stamina","cleaning"],intermediates:["Soaking with {_OPTION0} water","Scouring with {_OPTION1} sand","Polishing with a {_OPTION2} cloth","Inspecting for any remaining {_OPTION3} residue","Rinsing with enchanted spring water","Stacking them near the everburning hearth"],_OPTION0:["boiling","blessed","purified","elemental"],_OPTION1:["silver","volcanic","river","crystal"],_OPTION2:["linen","silk","wool","enchanted"],_OPTION3:["grease","magic","food","potion"]},{name:"Organize exotic spice racks",skills:["provisions","refined_palate","memory","foraging"],intermediates:["Identifying {_OPTION0} spices by scent","Checking labels written in {_OPTION1}","Arranging jars alphabetically by their {_OPTION2} name","Wiping dust from {_OPTION3} containers","Noting low stock of {_OPTION4}","Cross-referencing with the latest {_OPTION5} recipe book"],_OPTION0:["fiery","aromatic","rare","otherworldly"],_OPTION1:["Dwarvish runes","Elven script","Draconic symbols","Orcish pictograms"],_OPTION2:["common","magical","planetary","astral"],_OPTION3:["crystal","clay","silver","wooden"],_OPTION4:["Dragon Peppers","Moonpetal Dust","Phoenix Ashes","Shadowsalt"],_OPTION5:["Gorgon Ramesses' Cooking Compendium","Archmage Antoine's Alchemical Appetizers","Hag Agatha's Herbal Delights","Griffin Gourmet's Guide to Sky-High Cuisine"]},{name:"Wipe down preparation surfaces",skills:["labor","provisions","hygiene"],intermediates:["Spraying with a {_OPTION0} cleaning solution","Scrubbing away stubborn {_OPTION1} stains","Wiping with a magically absorbent {_OPTION2} sponge","Buffing the {_OPTION3} countertops until they gleam","Applying a thin layer of protective {_OPTION4} wax","Ensuring no {_OPTION5} residue remains for the next concoction"],_OPTION0:["citrus-infused","alchemically potent","naturally derived","blessed"],_OPTION1:["potion","blood","ectoplasm","unknown goo"],_OPTION2:["sea","mana","crystal","living"],_OPTION3:["stone","marble","obsidian","enchanted wood"],_OPTION4:["bees","dragonscale","gleaming","anti-bacterial"],_OPTION5:["magical","chemical","sticky","slimy"]},{name:"Mop the greasy and occasionally sticky floor",skills:["labor","stamina","cleaning"],intermediates:["Pouring {_OPTION0} cleansing liquid into a heavy bucket","Wringing out the {_OPTION1} mop head with effort","Scrubbing at a patch of stubborn {_OPTION2}","Maneuvering around heavy {_OPTION3} legs","Replacing the dirty {_OPTION4} water with fresh","Admiring the briefly shimmering clean floor before the next spill"],_OPTION0:["bubbling","pine-scented","consecrated","self-heating"],_OPTION1:["ogre-hair","elemental-infused","self-wringing","ancient"],_OPTION2:["ectoplasm","spilled rejuvenation potion","troll jam","dragon grease"],_OPTION3:["cauldron","table","apprentice","kitchen golem"],_OPTION4:["murky","glowing","viscous","strangely sentient"]},{name:"Restock basic and magical ingredients",skills:["provisions","alchemy","bookkeeping","logistics"],intermediates:["Checking the {_OPTION0} inventory ledger","Fetching {_OPTION1} from the magically chilled storage","Unpacking a crate of newly delivered {_OPTION2} from the Caravan Guild","Arranging {_OPTION3} on designated, rune-labelled shelves","Updating stock levels with a {_OPTION4} quill on the requisition scroll","Noticing an order of {_OPTION5} is critically low"],_OPTION0:["master","digitalized (gnomish tech)","ethereal","prophetic parchment"],_OPTION1:["Phoenix Eggs","Powdered Unicorn Horn","Dried Mandrake Root","Bottled Starlight"],_OPTION2:["Glowcap Mushrooms from the Underdark","Sunstone Crystals from desert nomads","River Serpent Scales from the Serpent's Spine","Shadow Lily Nectar from the Shadowfel"],_OPTION3:["rare herbs","volatile potions","finely ground reagents","glittering crystals"],_OPTION4:["self-inking","griffin feather","enchanted","invisible ink revealing"],_OPTION5:["Hydra Hearts for regeneration potions","Gorgon's Tears for petrification reversal","Djinn Lamps (empty) for elemental binding","Philosopher's Stone fragments for transmutation"]},{name:"Dispose of food scraps to the composting worms",skills:["labor","provisions","farming","nature_magic"],intermediates:["Gathering fragrant {_OPTION0} scraps from collection bins","Carrying a heavy bucket towards the {_OPTION1} worm farm in the undercroft","Carefully opening the {_OPTION2} lid, releasing an earthy aroma","Tipping the contents for the wriggling, grateful {_OPTION3}","Sprinkling some {_OPTION4} growth enhancer on top","Closing the lid and whispering a {_OPTION5} druidic growth charm"],_OPTION0:["vegetable peelings","magical beast offcuts","enchanted fruit cores","leftover potion dregs"],_OPTION1:["subterranean","magically accelerated","ever-hungry","oversized"],_OPTION2:["heavy stone","runic-sealed wooden","singing mushroom","self-sealing clay"],_OPTION3:["Giant Earthworms of the Deep","Mana Grubs that glow faintly","Carrion Crawlers (young)","Grave Worms (vegetarian diet)"],_OPTION4:["decay acceleration powder","nutrient-rich bone meal","mana-infused soil","earth elemental essence"],_OPTION5:["quickening","enriching","potent","secret"]},{name:"Clean the everburning hearth or oven",skills:["labor","pyromancy","provisions","engineering"],intermediates:["Temporarily dimming the {_OPTION0} flames with a pyromantic gesture","Scraping out {_OPTION1} ash with a {_OPTION2} adamantine shovel","Wiping soot from the {_OPTION3} fire-resistant bricks","Checking the integrity of the heat-focusing {_OPTION4} runes","Polishing the {_OPTION5} metalwork framing the hearth","Reigniting the flames to their full {_OPTION6} glory with a snap of fingers"],_OPTION0:["eternal","magical","elemental-bound","sacred phoenix"],_OPTION1:["magical","cursed (but inert)","glowing ember","never-ending supply of"],_OPTION2:["mithril","obsidian","dragonbone","enchanted iron"],_OPTION3:["fire-resistant","rune-etched","ancient dwarven","self-repairing obsidian"],_OPTION4:["containment","heat amplification","efficiency","elemental binding"],_OPTION5:["brass fittings","copper pipes","adamantine grates","silver inlays"],_OPTION6:["roaring","dancing","whispering","controlled blue"]},{name:"Sharpen carving knives and cleavers",skills:["provisions","smithing","labor","butchery"],intermediates:["Selecting a {_OPTION0} whetstone from the armory","Applying {_OPTION1} honing oil to its surface","Drawing the {_OPTION2} blade across the stone at a precise, ancestral angle","Testing the sharpness on a {_OPTION3} floating feather","Honing the razor edge with a {_OPTION4} steel","Carefully wiping and storing the gleaming, hungry {_OPTION5}"],_OPTION0:["diamond-grit","water-magic infused","volcanic glass","enchanted dwarven"],_OPTION1:["sharpening","sacred anointing","elemental","cooling dragon"],_OPTION2:["orcish cleaver 'Gutrender'","elven carving knife 'Leafblade'","dwarven butchering axe 'Beardtrimmer'","goblin shiv 'Pointy'"],_OPTION3:["piece of parchment that splits silently","hanging hair that parts instantly","target dummy's finger (willingly offered)","shaft of sunlight"],_OPTION4:["dragonbone","mithril","adamantine","obsidian honing rod"],_OPTION5:["blade","tool of art","weapon against tough roasts","instrument of culinary precision"]},{name:"Sort ladles spoons and spatulas",skills:["provisions","analysis_and_logic","memory"],intermediates:["Emptying the {_OPTION0} utensil drawer onto a clean cloth","Wiping down each {_OPTION1} silver item with care","Separating {_OPTION2} soup ladles from {_OPTION3} potion spatulas","Arranging them by size and {_OPTION4} material, following the Guild's strict protocol","Placing them neatly into their respective {_OPTION5} velvet-lined compartments","Finding a rogue {_OPTION6} stirring rod, likely borrowed by an alchemist"],_OPTION0:["overflowing","chaotic","cluttered","mysteriously humming"],_OPTION1:["gleaming silver","polished wood","carved bone","etched crystal"],_OPTION2:["cauldron-sized soup","delicate serving","alchemical measuring","scrying bowl"],_OPTION3:["ingredient mixing","residue scraping","omelette flipping","enchanted runic"],_OPTION4:["magical property affinity","intended alchemical use","rune marking sequence","frequency of use"],_OPTION5:["velvet-lined","clearly labelled","custom-fit magical","rotating enchanted"],_OPTION6:["alchemical glass","enchanted stirring","borrowed ceremonial","slightly sentient wooden"]},{name:"Empty bins of peelings and offcuts",skills:["labor","provisions","urban_survival"],intermediates:["Lifting a surprisingly heavy {_OPTION0} bin overflowing with vegetable matter","Carrying it carefully towards the {_OPTION1} disposal chute leading to the worm farm","Avoiding tripping over a {_OPTION2} scurrying familiar","Tipping the contents into the gaping, steaming {_OPTION3} maw of the chute","Replacing the bin with a fresh {_OPTION4} magically scented liner","Spraying a deodorizing {_OPTION5} charm to cleanse the air"],_OPTION0:["wooden","metal","self-emptying (but currently malfunctioning)","cursed (makes contents heavier)"],_OPTION1:["compost heap","monster-feeding pit","void portal (small, temporary)","recycling elemental"],_OPTION2:["kitchen imp helper","wandering cauldron on tiny legs","pile of animated potatoes","sleeping apprentice under a table"],_OPTION3:["chute's dark","monster's waiting","portal's swirling","grinder's hungry"],_OPTION4:["magically scented","reinforced goblin-weave","self-cleaning (minor enchantment)","disposable parchment"],_OPTION5:["air-freshening breeze","anti-pest warding","odor-nullifying vacuum","illusionary potpourri"]},{name:"Prepare rations for expeditions",skills:["provisions","survival","logistics","cooking"],intermediates:["Consulting the {_OPTION0} expedition manifest for duration and personnel","Portioning out {_OPTION1} high-energy trail mix into individual pouches","Wrapping {_OPTION2} stone-hard hardtack in oilcloth for preservation","Sealing pouches of dried, spiced {_OPTION3} meat against spoilage","Counting out {_OPTION4} water purification tablets blessed by a cleric","Packing everything into {_OPTION5} magically expanded satchels","Adding a small, hidden {_OPTION6} morale booster treat for each member"],_OPTION0:["upcoming perilous","long-term underground","scouting mission","diplomatic envoy's catering"],_OPTION1:["ironwood nut and sunberry","griffin jerky and roasted seeds","dwarven rock biscuit","elven waybread crumb"],_OPTION2:["stone-baked dwarven","elven Lembas-like","orcish iron","twice-baked ship's"],_OPTION3:["wyvern strips","dire boar jerky","giant spider leg (surprisingly tasty)","mystery salted"],_OPTION4:["alchemical purification","cleric-blessed","elemental-infused","emergency teleport (single use, short range)"],_OPTION5:["sturdy leather","expanded carrying capacity","lightweight magical silk","camouflaged beast hide"],_OPTION6:["candied ginger root","honey cake square","flask of potent dwarven ale (miniature)","enchanted berry that tastes of home"]},{name:"Bake enchanted bread for morale",skills:["provisions","enchanting","life_magic","baking_pastry"],intermediates:["Kneading the {_OPTION0} dough with mana-infused hands, making it glow faintly","Adding a pinch of powdered {_OPTION1} for courage","Shaping loaves into uplifting {_OPTION2} forms","Etching subtle {_OPTION3} runes of cheer and fellowship onto the crust before baking","Baking in a {_OPTION4} oven blessed by a hearth spirit","The aroma of {_OPTION5} bread filling the guild, lifting spirits","Glazing the warm loaves with {_OPTION6} sun-kissed honey"],_OPTION0:["golden, glowing","self-rising star-yeast","ancient grain sourdough","mana-enriched"],_OPTION1:["Sunpetal dust","Laughing Cap mushroom spores","Pixie Wing flakes","Ground Moonstone slivers"],_OPTION2:["smiling sun faces","happy griffin shapes","singing sword silhouettes","bountiful cornucopia designs"],_OPTION3:["joy","courage","fellowship","vigor restoration"],_OPTION4:["dragon-fire brick","elemental-powered crystal","blessed clay","arcane energy"],_OPTION5:["courage-inducing cinnamon","hope-instilling honey-wheat","friendship-binding rosemary","heartwarming spiced apple"],_OPTION6:["elfin clover","golden sun","mana-infused crystal","crystallized pixie"]},{name:"Churn butter from manticore milk",skills:["provisions","beast_mastery","alchemy","dairying"],intermediates:["Carefully pouring the volatile, {_OPTION0} manticore milk into the reinforced churn","Adding a coagulant derived from {_OPTION1} to stabilize it","Beginning the rhythmic, strenuous {_OPTION2} churning motion, warding against {_OPTION2_1}","Feeling the mixture thicken into potent, {_OPTION3} butter","Skimming off the slightly {_OPTION4} buttermilk for alchemical use","Pressing the butter into {_OPTION5} molds depicting manticore visages","Chilling the slightly {_OPTION6} butter in the ice-magic pantry"],_OPTION0:["fiery red","acidic green","electrically charged blue","surprisingly placid white"],_OPTION1:["Cockatrice gizzard extract","Basilisk venom (highly diluted)","Gorgon's gaze (reflected and captured)","Harpy feather ash"],_OPTION2:["vigorous","enchanted (self-churning)","hypnotic","exhausting manual"],_OPTION2_1:["explosions","corrosion","accidental poisoning","curdling"],_OPTION3:["spicy and fortifying","tingling and energizing","courage-inducing yet dangerous","glowing with faint power"],_OPTION4:["caustic","energizing","mildly hallucinogenic","surprisingly tasty (for some)"],_OPTION5:["roaring lion head","stinging scorpion tail","wise human face","simple, unassuming block"],_OPTION6:["venomous (but edible)","empowering (temporarily)","courage-inducing (with side effects)","dangerous-if-mishandled by non-initiates"]},{name:"Ferment potent dwarven ale",skills:["fermentation_distillation","alchemy","customs"],intermediates:["Mashing {_OPTION0} iron-rich mountain barley in heated vats","Boiling the wort with bitter {_OPTION1} cave hops and secret dwarven herbs","Adding a strain of {_OPTION2} ancestral yeast, humming ancient songs to it","Sealing the potent mixture in an {_OPTION3} rune-carved oak barrel","Chanting a {_OPTION4} dwarven fermentation song to encourage the process","Monitoring the {_OPTION5} pressure gauges and runic indicators closely","Anticipating the first taste of the legendary, beard-strengthening {_OPTION6} brew"],_OPTION0:["iron-rich volcanic","flame-toasted obsidian","crystal-infused geode","stone-ground ancestral"],_OPTION1:["shadow","magma-kissed","iron-laced","glow-in-the-dark cave"],_OPTION2:["exceptionally hardy and alcohol-tolerant","explosively potent and fast-acting","long-bearded and wise","singing (if you listen closely)"],_OPTION3:["rune-carved petrified","iron-bound thunderwood","obsidian-lined","geode-encrusted"],_OPTION4:["boisterous and off-key","solemn and rumbling","secret and powerful","very loud and enthusiastic"],_OPTION5:["bubbling and gurgling","glowing faintly from within","creaking ominously under pressure","displaying prophetic runic patterns"],_OPTION6:["legendary 'Dragonsbreath'","volatile 'Giantsbane'","mind-bending 'Stoneshaper'","bone-strengthening 'Adamant Ale'"]},{name:"Identify and remove magically tainted foodstuffs",skills:["provisions","magical_item_analysis","toxicology","arcane_sight"],intermediates:["Scanning shelves with an {_OPTION0} enchanted monocle, searching for discordant auras","Waving a {_OPTION1} truth-detection crystal over suspicious-looking items","Noticing a faint, sickly {_OPTION2} aura around some recently acquired {_OPTION3}","Carefully isolating the tainted {_OPTION4} using telekinetic tongs","Neutralizing its harmful magic with a sprinkle of {_OPTION5} counter-agent powder","Disposing of the now inert residue in a {_OPTION6} lead-lined, rune-sealed container for deep burial"],_OPTION0:["truth-seeing","aura-revealing","poison-detecting","curse-identifying"],_OPTION1:["quartz purity","amethyst warding","obsidian nullification","diamond clarity"],_OPTION2:["sickly green miasma","pulsing red malevolence","chilling blue despair","whispering shadow corruption"],_OPTION3:["exotic fruits from a cursed jungle","cheese wheels from a haunted dairy","jugs of wine from a vampire's cellar","mysterious mushrooms offered by a shifty goblin"],_OPTION4:["glowing mushrooms that whisper secrets","weeping sausages that leave trails of slime","chattering teeth (disembodied, found in a pie)","self-peeling potatoes that scream"],_OPTION5:["purification salt","blessed water dew","anti-magic dust","containment rune chalk"],_OPTION6:["lead-lined vault","rune-warded dimensional pocket","extra-dimensional oubliette","bottomless pit (temporarily summoned)"]}],stable:[{name:"Muck out griffin and hippogriff stalls",skills:["labor","beast_mastery","riding","stamina"],intermediates:["Donning {_OPTION0} reinforced leather protective gear","Wielding a {_OPTION1} rune-engraved pitchfork with practiced, weary ease","Scooping piles of surprisingly large {_OPTION2} droppings into a reinforced barrow","Avoiding a playful, razor-sharp nip from a nearby curious {_OPTION3}","Wheeling the barrow to the designated, steaming {_OPTION4} manure heap outside the city walls","Spreading fresh, sweet-smelling {_OPTION5} straw for bedding"],_OPTION0:["heavy leather and steel-toed boots","enchanted linen (surprisingly resilient)","golem-assisted exoskeleton (for the really big messes)","surprisingly flimsy (but blessed) robes"],_OPTION1:["rune-engraved silver","mithril-pronged","blessed oaken","self-cleaning (but slow)"],_OPTION2:["enormous, bowling ball-sized","slightly magical and shimmering","surprisingly fragrant (in a bad way)","corrosive, smoking"],_OPTION3:["griffin fledgling","hippogriff colt","pegasus foal with attitude","young manticore with boundary issues"],_OPTION4:["towering, mountain-like","steaming and vaguely alive","surprisingly fertile (gardeners love it)","slightly dangerous (watch for dung beetles the size of fists)"],_OPTION5:["golden sun-dried","enchanted sleep-inducing","mountain cloud-soft","feather-soft and hypoallergenic"]},{name:"Brush down mounts equine and otherwise",skills:["labor","beast_mastery","riding","animal_companionship"],intermediates:["Approaching a {_OPTION0} with a soothing murmur and an offering of {_OPTION0_1}","Using a {_OPTION1} mithril curry comb to loosen caked mud and dander","Following with a {_OPTION2} dragon-bristle body brush for achieving a brilliant shine","Gently detangling a {_OPTION3} flowing, often magically imbued mane and tail","Checking for any hidden {_OPTION4} ticks, burrs, or minor curses","The mount expressing its deep contentment with a {_OPTION5} rumbling purr or soft nicker"],_OPTION0:["noble war steed","fiery nightmare steed","majestic royal griffin","skittish silver hippogriff"],_OPTION0_1:["a sugar cube","a piece of jerky","a sky-apple","a whispered compliment"],_OPTION1:["silver-chased","dragonscale-studded","enchanted self-warming","whispering wind"],_OPTION2:["soft phoenix feather","magic-infused polishing","self-polishing elemental","dwarven steel-bristle (for nightmares)"],_OPTION3:["flowing silken","fiery ethereal","feathered iridescent","braided with warding charms"],_OPTION4:["shadow","curse-bearing","mana-draining","particularly stubborn normal"],_OPTION5:["soft, grateful nicker","rumbling, chest-vibrating purr (griffins)","happy, whistling screech (hippogriffs)","grateful snort of warm air (nightmares)"]},{name:"Refill water troughs with fresh water",skills:["labor","beast_mastery","hydromancy","animal_husbandry"],intermediates:["Emptying the old, algae-filled {_OPTION0} water from the stone troughs","Scrubbing the trough interior with a stiff {_OPTION1} bristle brush and purifying salts","Channeling fresh, cool water using a {_OPTION2} 'Create Water' spell or a water elemental's aid","Or, if magic fails, carrying heavy buckets from the {_OPTION3} blessed well","Adding a pinch of {_OPTION4} revitalizing mineral salts to the water","Watching the grateful mounts eagerly {_OPTION5} lap up the clean water"],_OPTION0:["murky and insect-laden","slime-covered and stagnant","slightly glowing with unknown residue","surprisingly clean (thanks to a minor enchantment)"],_OPTION1:["stiff-bristled dwarven","elemental-powered scouring","self-scrubbing enchanted","blessed silver-wire"],_OPTION2:["Create Water cantrip","Summon Minor Water Elemental","Aquatic Conduit sigil","Purify Liquid charm"],_OPTION3:["enchanted everfull","bottomless abyss (carefully!)","talking gargoyle-guarded","sacred spring-fed cistern"],_OPTION4:["revitalizing stamina","stamina-boosting electrolytic","magical fortifying","elemental purity"],_OPTION5:["lap delicately","gulp thirstily","splash playfully","delicately sip (unicorns only)"]},{name:"Restock hay oats and specialized feed",skills:["labor","beast_mastery","bookkeeping","provisions"],intermediates:["Checking feed levels in each {_OPTION0} stall's manger","Hoisting a fragrant bale of {_OPTION1} sun-cured mountain hay onto your shoulder","Scooping out precise measures of {_OPTION2} iron-fortified oats","Preparing a special, protein-rich mix of {_OPTION3} for the carnivorous griffins","Updating the {_OPTION4} perpetual feed inventory scroll with a charcoal stylus","Noticing the supply of {_OPTION5} is alarmingly low and needs reordering from the plains nomads"],_OPTION0:["pegasus sky-loft","unicorn glade-stall","nightmare shadow-pen","hippogriff aerie-coop"],_OPTION1:["sweet-smelling timothy","nutrient-rich alfalfa","sun-dried cloud","moon-kissed elven"],_OPTION2:["iron-fortified warhorse","magically enhanced racing","fire-roasted dwarven","lightning-charged storm"],_OPTION3:["Sunmetal Pellets and dried Sky-Herring","Skyberries and Cloudfish Jerky","Essence of Wind and powdered Cloudstone","Freshly hunted mountain goats (on special occasions)"],_OPTION4:["everlasting parchment","self-updating crystal slate","golem-maintained clay tablet","prophetic dream journal (surprisingly accurate for supplies)"],_OPTION5:["Phoenix Cherries (for nightmares' fiery breath)","Rainbow Carrots (for unicorns' coat sheen)","Star Oats (for pegasi's flight endurance)","Lightning Bugs (for hippogriffs' aerial acrobatics)"]},{name:"Organize tack harnesses and flying gear",skills:["labor","riding","beast_mastery","leatherworking"],intermediates:["Untangling a frustrating mess of {_OPTION0} leather reins and straps","Hanging heavy {_OPTION1} aerial saddles on their designated, reinforced racks","Sorting {_OPTION2} enchanted flight goggles by prescription and magical property","Checking all {_OPTION3} load-bearing straps for wear and tear, especially near buckles","Polishing the {_OPTION4} silver buckles and ornamental studs until they shine","Storing {_OPTION5} emergency featherfall parachutes in easily accessible chests"],_OPTION0:["griffin flight","hippogriff training","pegasus ceremonial","nightmare battle"],_OPTION1:["sky-leather combat","dragonhide armored","enchanted silk racing","feather-light scouting"],_OPTION2:["wind-cutting aerodynamic","night-vision goggled","aura-seeing divinatory","fog-piercing clarity"],_OPTION3:["cinch","harness quick-release","saddlebag securing","emergency landing gear deployment"],_OPTION4:["moon-silver celestial","star-forged dwarven","sun-gold elven","rune-etched protective"],_OPTION5:["featherfall-enchanted silk","self-deploying gnomish contraption","spider-silk dragline","blessed griffin-down"]},{name:"Sweep stable aisles and courtyard",skills:["labor","cleaning","animal_husbandry"],intermediates:["Grabbing a {_OPTION0} surprisingly heavy broom from the tool shed","Sweeping loose {_OPTION1} straw, dust, and feathers into growing piles","Dodging a {_OPTION2} delivery cart laden with fresh supplies","Gathering the piles into a {_OPTION3} magically expanding dustpan","Emptying the contents into the designated {_OPTION4} compost bin near the gardens","The air feeling slightly less {_OPTION5} and more breathable"],_OPTION0:["sturdy straw besom","enchanted self-sweeping (but currently sulking)","witch's borrowed flight-capable","dwarven ironwood and bristle"],_OPTION1:["hay fragments","molted feathers of various sizes","spilled oats and seeds","glittering scales from unknown creatures"],_OPTION2:["hay bale","feed sack","newly arrived (and terrified) recruit","runaway imp causing chaos"],_OPTION3:["giant iron","magically expanding canvas","talking (and complaining) enchanted","long-handled silver"],_OPTION4:["designated stable","ever-hungry monstrous","transforming alchemical","slightly magical and self-sorting"],_OPTION5:["dusty and sneeze-inducing","chaotic and feather-filled","dung-scented and fly-ridden","suffocatingly stale"]},{name:"Repair worn reins and saddlebags",skills:["leatherworking","beast_mastery","riding","artisanry"],intermediates:["Inspecting a dangerously frayed {_OPTION0} rein that nearly caused an accident","Selecting a supple piece of {_OPTION1} cured dragonhide for patching","Stitching with an {_OPTION2} elven bone awl and enchanted sinew thread","Replacing a broken {_OPTION3} mithril buckle with a newly forged one","Applying {_OPTION4} weatherproofing conditioning oil to the repaired leather","Testing the repair for {_OPTION5} strength by yanking on it vigorously"],_OPTION0:["griffin's primary steering","hippogriff's emergency brake","nightmare's soul-binding","pegasus's cloud-guiding"],_OPTION1:["wyvern hide (flexible yet tough)","basilisk skin (surprisingly supple)","manticore leather (dangerously barbed)","unicorn pelt (ethically sourced, of course)"],_OPTION2:["elfin silverwood","dwarven runed steel","magically guided self-stitching","self-threading bone"],_OPTION3:["mithril quick-release","adamantine heavy-duty","bone toggle","enchanted bronze self-fastening"],_OPTION4:["dragon's blood waterproofing","unicorn tear softening","manticore fat conditioning","phoenix ash fireproofing"],_OPTION5:["aerial combat stress","sudden dive maneuverability","emergency stop reliability","griffin's impatient tugging"]},{name:"Polish saddles and protective barding",skills:["labor","leatherworking","smithing","riding"],intermediates:["Applying fragrant {_OPTION0} polish to a well-worn leather flight saddle","Buffing it to a {_OPTION1} battle-ready sheen with a soft sheepskin cloth","Cleaning individual {_OPTION2} mithril chainmail links on a piece of griffin barding","Removing {_OPTION3} rust spots from steel plate armor sections using acidic gel","Checking for loose {_OPTION4} enchanted rivets or damaged articulated plates","Admiring the gleaming, imposing, and now fully {_OPTION5} protective gear"],_OPTION0:["wyvern-fat and beeswax","beeswax and rose oil (for pegasi)","shadow-infused (for nightmares)","sunstone dust (for griffins)"],_OPTION1:["battle-ready gleam","parade-ground dazzling","dangerously slick mirror","subtly glowing protective"],_OPTION2:["mithril feather-light","adamantine impervious","dragonscale articulated","shadowsteel silent"],_OPTION3:["bloodstain","acidic slime","magical corrosion","stubborn demonic tarnish"],_OPTION4:["enchanted self-repairing","explosive counter-measure (if mishandled)","vibrating warning","interlocking defense"],_OPTION5:["impressive and intimidating","beautifully crafted and deadly","newly enchanted with minor wards","ready for parade or war"]},{name:"Clear manure piles for the herb garden",skills:["labor","farming","beast_mastery","logistics"],intermediates:["Shoveling highly potent {_OPTION0} manure into a reinforced wheelbarrow","Navigating the winding path to the {_OPTION1} Arch-Alchemist's prized herb garden","Carefully tipping the precious load onto the designated, steaming {_OPTION2} compost heap","Spreading it evenly with a {_OPTION3} silver-tined rake, careful not to damage rare plants","Receiving a rare nod of thanks from the notoriously prickly {_OPTION4} gnome head herbalist","The scent of rich, magical {_OPTION5} earth mixing with the aroma of exotic herbs"],_OPTION0:["griffin 'sky-fertilizer'","hippogriff 'aerie-gold'","unicorn 'rainbow pellets' (surprisingly potent)","nightmare 'shadow-mulch' (surprisingly fertile for dark herbs)"],_OPTION1:["rooftop sun-drenched","secluded moon-kissed","magically tended greenhouse","carnivorous plant conservatory (they love it!)"],_OPTION2:["bubbling alchemical","glowing with earth magic","sentient (and hungry for more)","perfectly balanced elemental"],_OPTION3:["silver-tined elven","enchanted self-spreading","borrowed (and slightly cursed) gnomish","strangely light mithril"],_OPTION4:["cantankerous old","cheerful but demanding","potion-stained and eccentric","slightly mad but brilliant"],_OPTION5:["magical compost","potent fertilizer","life-giving humus","strangely aromatic and energy-rich"]},{name:"Check and secure stall latches",skills:["labor","beast_mastery","engineering"],intermediates:["Walking down the long line of {_OPTION0} heavily reinforced stalls","Testing each complex {_OPTION1} latch mechanism for looseness or tampering","Tightening a {_OPTION2} adamantine bolt with a specialized dwarven torque wrench","Applying {_OPTION3} silent-movement oil to a stiff, squeaking hinge","Replacing a {_OPTION4} magically reinforced but worn-out spring in a latch","Confirming each stall is {_OPTION5} secure against escape artists like {_OPTION6} the notorious hippogriff"],_OPTION0:["griffin aerie","hippogriff nesting-box","nightmare containment","dire wolf den"],_OPTION1:["iron puzzle","mithril combination","rune-locked magical","electrified deterrent"],_OPTION2:["heavy security","enchanted anti-tamper","self-tightening mechanical","cursed (but only against unauthorized opening)"],_OPTION3:["never-rust alchemical","silent-movement shadow","elemental grease","anti-magic nullification (for magical lockpickers)"],_OPTION4:["magically reinforced titanium","adamantine coiled","self-repairing clockwork","captured air elemental powered"],_OPTION5:["doubly","triply","magically warded and","absolutely, positively (hopefully)"],_OPTION6:["'Sparky' the Kleptomaniac Hippogriff","'Shadowmane' the Phase-Shifting Nightmare","'Clawdia' the Lockpicking Griffin","'Houdini' the Vanishing Imp (who sometimes sleeps in stalls)"]},{name:"Train young hippogriffs for aerial maneuvers",skills:["riding","beast_mastery","pedagogy","acrobatics"],intermediates:["Coaxing a {_OPTION0} young, gangly hippogriff onto the cliffside training grounds","Demonstrating a {_OPTION1} perfect barrel roll with an experienced, patient mount","Guiding the fledgling through a gentle, wind-assisted {_OPTION2} ascent, offering encouragement","Rewarding successful maneuvers and brave attempts with tasty {_OPTION3} sky-berries","Practicing {_OPTION4} emergency landings in designated soft patches of cloud-moss","A surge of pride watching the youngling finally master a wobbly but complete {_OPTION5} loop-the-loop","Dodging an accidental, panicked {_OPTION6} dive bomb from the startled creature"],_OPTION0:["nervous and squawking","excitable and nippy","clumsy but eager","overconfident and reckless"],_OPTION1:["flawless, dizzying","textbook slow-motion","slightly showy instructor's","dangerously close to the cliff face"],_OPTION2:["spiral thermal","straight upward gust-riding","wind-assisted hovering","hesitant, flapping"],_OPTION3:["tasty cloud","encouraging sun","magically enhanced agility","rare star"],_OPTION4:["soft cloud-bank","controlled stall","tree-branch snag (gentle)","water-ditch splash (shallow)"],_OPTION5:["perfect vertical","wobbly but successful horizontal","terrifyingly fast inverted","surprisingly graceful (for a beginner)"],_OPTION6:["manure pellet","feather storm","claw-first (unintentionally)","beak-first (with a yelp)"]},{name:"Craft custom horseshoes for nightmare steeds",skills:["smithing","beast_mastery","pyromancy","enchanting"],intermediates:["Heating {_OPTION0} shadowsteel ingots in the forge's roaring {_OPTION1} demonfire flames","Hammering the glowing, malleable metal into a wicked, sharp-edged {_OPTION2} horseshoe shape on the rune-etched anvil","Etching chilling runes of {_OPTION3} speed, terror, and flame-walking onto each shoe","Quenching the still-hot shoe in a trough of {_OPTION4} Stygian soul-chilling oil","Carefully fitting the slightly smoking shoe to a Nightmare's burning, ethereal {_OPTION5} hoof, using fire-resistant tongs","The Nightmare snorting plumes of black smoke approvingly at its new, intimidating {_OPTION6} footwear"],_OPTION0:["cold iron from the Shadowfell","meteoritic soul-infused starmetal","volcanic obsidian mixed with bone ash","crystallized fear essence"],_OPTION1:["hellfire-stoked","dragon's breath bellows-driven","balefire-enhanced","elemental chaos"],_OPTION2:["wicked, serrated-edge","burning, ever-hot","silent, shadow-stepping","fear-inducing, spiked"],_OPTION3:["unholy swiftness","shadow-walking incorporeality","flaming trails of dread","unearthly silence and terror"],_OPTION4:["Stygian soul-chilling","demon ichor tempering","nightshade and blood","ectoplasmic residue"],_OPTION5:["burning, immaterial","shadowy, semi-solid","massive, cloven","surprisingly delicate, yet razor-sharp"],_OPTION6:["infernal clattering","dread-inducing silent","whispering shadow","flame-wreathed terror-tread"]},{name:"Apply healing salves to mount injuries",skills:["medicine","beast_mastery","life_magic","alchemy"],intermediates:["Gently cleaning a {_OPTION0} deep, festering scratch on a griffin's powerful leg","Selecting a jar of potent, glowing {_OPTION1} salve, carefully concocted with rare {_OPTION2}","Murmuring a {_OPTION3} minor healing incantation to soothe pain and accelerate recovery","Carefully applying the thick salve to the angry, {_OPTION4} wound with a sterile wooden applicator","Bandaging the treated area with strips of {_OPTION5} self-adhesive, enchanted linen","The mount visibly relaxing, showing signs of {_OPTION6} immediate relief and gratitude"],_OPTION0:["deep, bleeding","minor, but irritating","magically inflicted cursed","self-inflicted (clumsy landing)"],_OPTION1:["golden phoenix-ash","emerald green troll-blood","pulsating life-essence","soothing blue moonpetal"],_OPTION2:["Phoenix Tears and powdered Unicorn Horn","Sunpetal essence and Basilisk blood (neutralized)","Troll regeneration extract and silver_dew","Dragon scale powder and elven moss"],_OPTION3:["soothing warmth","regenerative light","pain-numbing chill","swift-mending temporal"],_OPTION4:["bleeding and inflamed","infected and oozing","cursed and resistant","irritated and swollen"],_OPTION5:["self-tightening spider-silk","antiseptic silver-weave","regenerative moss-infused","comforting blessed wool"],_OPTION6:["immediate, sighing","gradual, visible mending","faintly glowing","audible (a soft purr or relieved snort)"]},{name:"Braid warding charms into griffins manes",skills:["beast_mastery","enchanting","magical_lore","order_magic"],intermediates:["Selecting auspiciously colored, magically treated {_OPTION0} silk ribbons","Carving small, intricate {_OPTION1} protective runes onto polished {_OPTION2} beads of amber and jet","Carefully braiding sections of the griffin's surprisingly soft, yet resilient {_OPTION3} feathered mane","Weaving in the enchanted ribbons and the {_OPTION4} rune-carved, charmed beads with precision","Chanting a low, rhythmic {_OPTION5} warding spell with each completed knot, focusing intent","The griffin preening proudly, its mane now shimmering with faint {_OPTION6} protective magical energies"],_OPTION0:["sky blue and silver","sun yellow and gold","protective crimson and black","camouflaging green and brown"],_OPTION1:["anti-arrow deflection","fire resistance (minor)","enhanced luck and perception","confusion aura (for enemies targeting it)"],_OPTION2:["amber sunstone","jet black obsidian","moonstone silver","carved dragon bone"],_OPTION3:["majestic, wind-tousled crest","surprisingly soft neck-ruff","electrically charged lightning-blue (storm griffins)","iridescent rainbow-hued (royal griffins)"],_OPTION4:["gleaming, humming","pulsating with stored energy","whispering ancient secrets","warm to the touch with imbued magic"],_OPTION5:["ancient shield-song","powerful deflection verse","subtle redirection cantrip","rhythmic binding chant"],_OPTION6:["faint blue auroral","golden, sun-like","opalescent, shifting","shadowy, obscuring"]},{name:"Exercise restless dire wolves in the courtyard",skills:["beast_mastery","athletics","leadership","animal_companionship"],intermediates:["Unlatching the {_OPTION0} reinforced iron kennel gates with extreme caution and respect","Leading the eager, powerful pack of {_OPTION1} shadow-pelted dire wolves into the spacious, enclosed training courtyard","Throwing an {_OPTION2} magically animated training dummy for them to chase, hunt, and 'destroy'","Running alongside the thundering pack, testing your own considerable {_OPTION3} speed and endurance against theirs","Practicing complex {_OPTION4} formation commands using hand signals and guttural calls","The wolves panting happily, their wild, destructive {_OPTION5} energy productively spent for now","Rewarding their obedience and effort with large, {_OPTION6} smoked boar bones from the kitchen stores"],_OPTION0:["reinforced iron-banded oak","rune-warded silver-steel","electrified containment field","bone-decorated totem-guarded"],_OPTION1:["eager, slavering","massive, muscle-bound","shadow-pelted, red-eyed","frost-breathing, winter-born"],_OPTION2:["indestructible (mostly) golem","self-repairing straw-stuffed","squealing, fleeing illusionary pig","enchanted, darting will-o-wisp"],_OPTION3:["considerable, hard-won","surprising, mage-enhanced","quickly dwindling but determined","legendary, almost wolf-like"],_OPTION4:["encircling attack","defensive phalanx","silent flanking maneuvers","intimidating coordinated howl"],_OPTION5:["pent-up destructive","nervous, pacing","wild, untamed primal","joyful, playful (in a terrifying way)"],_OPTION6:["giant, marrow-filled","magically preserved and flavorful","still-warm and dripping","rune-carved (for dental health)"]}]}}}},Xv={library:{name:"Library",description:"A place to learn new skills and abilities.",cost:{gold:10},clutterPerSecond:.03,xpMult:2},dining_hall:{name:"Dining Hall",description:"A place to eat and socialize.",cost:{gold:10},clutterPerSecond:.05,xpMult:.5},workshop:{name:"Workshop",description:"A place to craft and upgrade items.",cost:{gold:10},clutterPerSecond:.1},alchemists_lab:{name:"Alchemist's Lab",description:"Brew potent potions and transmute materials.",cost:{gold:10},clutterPerSecond:.12,xpMult:1.5},dormitories:{name:"Dormitories",description:"Comfortable living quarters for guild members.",cost:{gold:10},clutterPerSecond:.06},training_grounds:{name:"Training Grounds",description:"Hone combat skills and magical prowess.",cost:{gold:10},clutterPerSecond:.07},scrying_chamber:{name:"Scrying Chamber",description:"Peer into the unseen and gather intelligence.",cost:{gold:10},clutterPerSecond:.02},herb_garden:{name:"Herb Garden",description:"Cultivate rare herbs for potions and rituals.",cost:{gold:10},clutterPerSecond:.04},scriptorium:{name:"Scriptorium",description:"Copy ancient scrolls and inscribe new magical texts.",cost:{gold:10},clutterPerSecond:.08},infirmary:{name:"Infirmary",description:"A place to mend wounds and cure ailments.",cost:{gold:10},clutterPerSecond:.06},meditation_chamber:{name:"Meditation Chamber",description:"A serene space for focus, mana regeneration, and contemplation.",cost:{gold:10},clutterPerSecond:.01,xpMult:2,effects:[{key:"discover",params:{key:"Discover"}}]},storage_vault:{name:"Storage Vault",description:"Securely stores guild resources, treasures, and artifacts.",cost:{gold:10},clutterPerSecond:.05},kitchen:{name:"Kitchen",description:"Where meals for the guild are prepared.",cost:{gold:10},clutterPerSecond:.09,xpMult:.75},stable:{name:"Stable",description:"Housing for mounts and other mundane or magical creatures.",cost:{gold:10},clutterPerSecond:.08}};class Yv{events=new Map;characters=new Ay;attributes=new Dy;skills;tasks=new Wy;buildings=new Ky;discovery;techs=new Map;ingressWords;welcomeLocations;behTrees;isLoaded=!1;constructor(){this.skills=new jy(this.attributes),this.ingressWords=new ho,this.welcomeLocations=new jh,this.behTrees=new Vv,this.loadAllDefinitions(),this.discovery=new Xy(this.skills,this.attributes,this.buildings)}loadAllDefinitions(){if(!this.isLoaded)try{this.events=this._processDataDefinitions(Hv),this.characters.loadCharacters(Uv),this.characters.loadCharacters(jv),this.characters.loadCharacters(Wv),this.characters.loadCharacters(Gv),this.buildings.loadBuildings(Xv),this.tasks.loadTasks(Kv),this.tasks.verifyAllTasks(this.skills,this.buildings),this.isLoaded=!0}catch(t){console.error("Failed to process library definitions:",t),this.isLoaded=!1}}_processDataDefinitions(t){const n=new Map;for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a={...t[i],id:i};n.set(i,a)}return n}getEvent(t){return this.events.get(t)}getBuilding(t){return this.buildings.getBuilding(t)}getTech(t){return this.techs.get(t)}getCharacter(t){return this.characters.getCharacter(t)}}Ne.CLUTTER_STEP;function cp(e){if(e<=0)return[];if(Ne.SKILL_MULTIPLIERS[e])return Ne.SKILL_MULTIPLIERS[e];const t=4;if(!Ne.SKILL_MULTIPLIERS[t])return console.error("Base skill multipliers for 4 skills are not defined!"),Array(e).fill(Ne.DEFAULT_LAST_SKILL_MULTIPLIER);const i=[...Ne.SKILL_MULTIPLIERS[t]];for(let r=4;r<e;r++)i.push(Ne.DEFAULT_LAST_SKILL_MULTIPLIER);return i}function Zv(e){return`TASK_${e.getAndIncrementTaskUidValue()}`}function up(e){if(e.stepCount<=0||e.stepIdx<0||e.stepIdx>=e.stepCount){e.stepEffortTarget=e.totalEffort;return}const t=e.stepCount-e.stepIdx,n=e.investedEffort,i=Math.max(0,e.totalEffort-n);if(i===0){e.stepEffortTarget=n;return}const r=i/t,a=1+(Math.random()*(Ne.TASK_STEP_RANDOMIZATION_RANGE*2)-Ne.TASK_STEP_RANDOMIZATION_RANGE);let o=r*a;o=Math.max(o,Ne.MIN_EFFORT_FOR_STEP),e.stepEffortTarget=n+o,e.stepEffortTarget=Math.min(e.stepEffortTarget,e.totalEffort)}function Qv(e,t){mp.check(e.tick)&&Jv(e),gp.check(e.tick)&&tb(e);const n=[];for(const i of e.processingTasks){if(i.status!==Xe.Processing){i.status!==Xe.Complete&&n.push(i);continue}let r=0,a=0;if(i.assignedCharacterIds.length>0){const o=i.assignedCharacterIds[0],s=e.characters.find(l=>l.characterId===o);if(s){const{speed:l,proficiencies:c}=hp(s,i,e);if(a=l,i.assignedCharacterEffectiveScores=c,r+=a*e.workSpeed.value*t,r>0){const u=r*i.xpMultiplier,h=s.xp.value+u;oe.setIndependentStat(s.xp,h,e.connections)}}else i.assignedCharacterEffectiveScores={}}else i.assignedCharacterEffectiveScores={};if(i.investedEffort+=r,i.workTime+=t,i.assignedCharacterIds.length>0?i.speed=a:i.speed=0,i.stepCount>0&&i.stepIdx>=0&&i.investedEffort>=i.stepEffortTarget)if(i.stepIdx<i.stepCount-1){i.stepIdx++;const o=dp(i.resolvedDefinitionDetails.intermediates||[],i.resolvedDefinitionDetails);o?(i.stepIntermediateIdx=o.intermediateIndex,i.stepOptionIdx=o.optionIndex):(console.warn(`Task ${i.uid}: Failed to generate details for step ${i.stepIdx}. Step progression might halt.`),i.stepEffortTarget=i.totalEffort),up(i)}else i.stepEffortTarget=i.totalEffort;if(i.investedEffort>=i.totalEffort){if(i.status=Xe.Complete,i.resolvedParentDefinition?.reward){const o=i.resolvedParentDefinition.reward;if(typeof o.clutterPerEffort=="number"&&o.clutterPerEffort<0){const s=e.resources.get("clutter");if(s&&s.current&&e.connections){const l=o.clutterPerEffort*i.totalEffort,c=s.current.value,u=Math.max(0,c+l);oe.setIndependentStat(s.current,u,e.connections),i.clutterReduction=u-c}else console.warn("[Task Processing] Clutter resource, its .current property, or gameState.connections not found for reward processing.")}}e.completedTasks.push(i),console.log(`Task ${i.name} (UID: ${i.uid}) completed. Assigned characters: ${i.assignedCharacterIds.join(", ")} are now free.`),i.assignedCharacterIds=[]}else n.push(i)}e.processingTasks=n,e.completedTasks.length>Ne.MAX_COMPLETED_TASKS_HISTORY&&(e.completedTasks=e.completedTasks.slice(-Ne.MAX_COMPLETED_TASKS_HISTORY))}function dp(e,t){if(!e||e.length===0)return null;const n=[];for(const s of e){let l=3;const c=s.match(/{[a-zA-Z0-9_]+}/g);if(c&&c.length>0){const u=c[0],d=u.substring(1,u.length-1),h=t[d];h&&Array.isArray(h)&&(l+=h.length)}n.push(l)}if(n.length===0)return null;const i=nv(n);if(i===-1)return{intermediateIndex:0,optionIndex:-1};let r=-1;const o=e[i].match(/{[a-zA-Z0-9_]+}/g);if(o&&o.length>0){const s=o[0],l=s.substring(1,s.length-1),c=t[l];c&&Array.isArray(c)&&c.length>0&&(r=Math.floor(Math.random()*c.length))}return{intermediateIndex:i,optionIndex:r}}function Jv(e){if(e.availableTasks.length+e.queuedTasks.length+e.processingTasks.length>=Ne.MAX_ACTIVE_MAINTENANCE_TASKS)return;const n=e.resources.get("clutter");if(!n){console.warn("Clutter resource not found in gameState.");return}const i=e.queuedTasks.concat(e.processingTasks).concat(e.availableTasks).filter(r=>r.type===Nt.Maintenance&&r.status!==Xe.Complete);if(n.current.value>Ne.CLUTTER_STEP*i.length){let r=0;for(const a of i)a.resolvedParentDefinition?.reward?.clutterPerEffort&&(r+=(a.resolvedParentDefinition.reward.clutterPerEffort<0?-a.resolvedParentDefinition.reward.clutterPerEffort:0)*a.totalEffort);if(n.current.value-r>Ne.CLUTTER_STEP){let a,o=0;const s=e.lib.tasks.getTask("declutter");if(!s||!(s.reward?.clutterPerEffort&&s.reward.clutterPerEffort<0)){console.warn("'declutter' task definition not found or does not reduce clutter. No maintenance task created.");return}let l=0;const c=[];for(const u of e.buildings){const d=e.lib.buildings.getBuilding(u.buildingId);d&&d.clutterPerSecond>0&&(l+=d.clutterPerSecond,c.push({id:u.buildingId,clutterPerSecond:d.clutterPerSecond}))}if(l===0||c.length===0){console.warn("No buildings generating clutter found or total clutter generation is zero. No maintenance task created.");return}for(;!a&&o<Ne.MAX_MAINTENANCE_ATTEMPTS;){o++;let u=Math.random()*l,d;for(const b of c){if(u<=b.clutterPerSecond){d=b.id;break}u-=b.clutterPerSecond}if(!d&&c.length>0&&(d=c[Math.floor(Math.random()*c.length)].id),!d)continue;let h,p,w=-1;const m=s.names?.byBuilding?.[d];if(m&&m.length>0)w=Math.floor(Math.random()*m.length),h=m[w],p=["declutter","byBuilding",d,w];else{const b=s.names?.byBuilding?.generic;if(b&&b.length>0)w=Math.floor(Math.random()*b.length),h=b[w],p=["declutter","byBuilding","generic",w];else{console.warn(`Attempt ${o}: No specific or generic declutter task details found for building ${d} or generic. Retrying.`);continue}}if(!h||!p){console.warn(`Attempt ${o}: Failed to resolve task details. Retrying.`);continue}if(!i.some(b=>b.resolvedParentDefinition?.id!=="declutter"||!b.definitionPath||!p||b.definitionPath.length!==p.length?!1:b.definitionPath.every((S,_)=>S===p[_]))||o===Ne.MAX_MAINTENANCE_ATTEMPTS){const b=Zv(e),S=Math.floor(Math.random()*(s.effortMax-s.effortMin)*.1)*10+s.effortMin,_=Math.random(),g=h.intermediates||[];let D=0,q=-1,O=-1;if(g.length>0){const T=(Math.max(Ne.MIN_EXPECTED_TASK_EFFORT,Math.min(Ne.MAX_EXPECTED_TASK_EFFORT,S))-Ne.MIN_EXPECTED_TASK_EFFORT)/(Ne.MAX_EXPECTED_TASK_EFFORT-Ne.MIN_EXPECTED_TASK_EFFORT);let U=Ne.MIN_TASK_STEPS_BASE+T*(Ne.MAX_TASK_STEPS_BASE-Ne.MIN_TASK_STEPS_BASE);const f=1+(Math.random()*(Ne.TASK_STEP_RANDOMIZATION_RANGE*2)-Ne.TASK_STEP_RANDOMIZATION_RANGE);U*=f,D=Math.round(Math.max(Ne.MIN_TASK_STEPS_BASE,Math.min(Ne.MAX_TASK_STEPS_BASE,U)));const C=dp(g,h);C?(q=C.intermediateIndex,O=C.optionIndex):(D=0,console.warn(`Task ${b}: Could not generate first step details despite having intermediates. Setting stepCount to 0.`))}let P=1,E=Ne.EFFORT_TO_XP_RATIO;if(d&&d!=="generic"){const V=e.buildings.find(U=>U.buildingId===d);V&&(P=V.level.value,E*=V.level.value);const T=e.lib.buildings.getBuilding(d);T&&T.xpMult&&(E*=T.xpMult)}const B={uid:b,type:Nt.Maintenance,status:Xe.Available,definitionPath:p,resolvedDefinitionDetails:h,resolvedParentDefinition:s,name:h.name||s.id,totalEffort:S,investedEffort:0,level:P,xpMultiplier:E,assignedCharacterIds:[],startedAt:0,workTime:0,stepIntermediateIdx:q,stepOptionIdx:O,stepIdx:D>0?0:-1,stepCount:D,stepEffortTarget:0,randomSeed:_};s.reward?.clutterPerEffort&&s.reward.clutterPerEffort<0&&(B.clutterReduction=s.reward.clutterPerEffort*B.totalEffort),eb(B,e),a=B}}a?(e.availableTasks.push(a),console.log(`Generated maintenance task '${a.name}' UID: ${a.uid} (${a.definitionPath[2]}.`)):o===Ne.MAX_MAINTENANCE_ATTEMPTS&&console.warn("Max attempts reached for generating a unique 'declutter' task. No task created or duplicate was kept if forced.")}}}function hp(e,t,n){const i=t.resolvedDefinitionDetails.skills,r={};let a=0;if(!i||i.length===0)return{speed:1,proficiencies:r};const o=[];for(const l of i){const c=zi.getProficiency(e,l,n);r[l]=c,o.push(c)}const s=cp(o.length);for(let l=0;l<o.length;l++)a+=o[l]*(s[l]||0);return{speed:a>0?a:0,proficiencies:r}}function eb(e,t){const n=e.resolvedDefinitionDetails.skills;if(n&&n.length>0)for(const i of n)t.markAsEncountered(i)}function Gr(e,t,n){let i,r=-1,a={};for(const o of t){const{speed:s,proficiencies:l}=hp(e,o,n);s>r&&(r=s,i=o,a=l)}if(i)return{task:i,speed:r,proficiencies:a}}function tb(e){const t=e.characters.filter(i=>{const r=e.processingTasks.some(o=>o.assignedCharacterIds.includes(i.characterId)),a=e.queuedTasks.some(o=>o.assignedCharacterIds.includes(i.characterId)&&(o.status===Xe.Queued||o.status===Xe.Paused));return!r&&!a});if(t.length===0)return;let n={character:null,task:null,speed:0,proficiencies:{},sourceList:null};for(const i of t){const r=e.queuedTasks.filter(h=>h.status===Xe.Queued&&(!h.assignedCharacterIds||h.assignedCharacterIds.length===0)&&h.queuedForCharacterId===i.characterId),a=Gr(i,r,e);a&&a.speed>n.speed&&(n={character:i,task:a.task,speed:a.speed,proficiencies:a.proficiencies,sourceList:"queuedTasks"});const o=e.availableTasks.filter(h=>h.type===Nt.Maintenance&&h.status===Xe.Available),s=Gr(i,o,e);s&&s.speed>n.speed&&(n={character:i,task:s.task,speed:s.speed,proficiencies:s.proficiencies,sourceList:"availableTasks"});const l=e.queuedTasks.filter(h=>h.status===Xe.Queued&&(!h.assignedCharacterIds||h.assignedCharacterIds.length===0)&&!h.queuedForCharacterId),c=Gr(i,l,e);c&&c.speed>n.speed&&(n={character:i,task:c.task,speed:c.speed,proficiencies:c.proficiencies,sourceList:"queuedTasks"});const u=e.availableTasks.filter(h=>h.type===Nt.Opportunity&&h.status===Xe.Available),d=Gr(i,u,e);d&&d.speed>n.speed&&(n={character:i,task:d.task,speed:d.speed,proficiencies:d.proficiencies,sourceList:"availableTasks"})}if(n.task&&n.character&&n.speed>=0){const i=n.task,r=n.character;i.status=Xe.Processing,i.assignedCharacterIds=[r.characterId],i.startedAt=e.gameTime,i.speed=n.speed,i.assignedCharacterEffectiveScores=n.proficiencies,i.stepCount>0&&i.stepIdx===0&&i.stepEffortTarget<=i.investedEffort&&up(i),e.processingTasks.push(i),n.sourceList==="availableTasks"?e.availableTasks=e.availableTasks.filter(a=>a.uid!==i.uid):n.sourceList==="queuedTasks"&&(e.queuedTasks=e.queuedTasks.filter(a=>a.uid!==i.uid),e.availableTasks=e.availableTasks.filter(a=>a.uid!==i.uid)),console.log(`Auto-assigned ${i.type} task '${i.name}' (UID: ${i.uid}) to ${r.characterId} with speed ${n.speed.toFixed(2)}.`)}}class pp{modulus;targetTickInModulus;constructor(t,n,i){t<=0?(console.error("SlowTick: minInterval must be positive."),this.modulus=1):this.modulus=Math.max(1,Math.floor(n/t));const r=16777619;let o=2166136261;if(i.length===0)console.warn("SlowTick: Empty key provided, using default hash basis which may lead to less unique tick offsets.");else for(let l=0;l<i.length;l++)o^=i.charCodeAt(l),o=o*r|0;const s=Math.abs(o)%this.modulus;this.modulus>1&&s===0?this.targetTickInModulus=1:this.targetTickInModulus=s}check(t){return t%this.modulus===this.targetTickInModulus}}class nb{trees=[];completedTrees=[];eventListeners=new Map;updateListeners=[];logVerbose=!1;listenersMutationCount=0;addTree(t,n){this.logVerbose&&console.log(`[Invoker] Adding and initializing tree: ${t.name}`),t.invoker=this,this.trees.push(t),t.init(n)}reportTreeComplete(t){this.logVerbose&&console.log(`[Invoker] Tree completed: ${t.name}`),this.trees=this.trees.filter(n=>n.uid!==t.uid),this.completedTrees.includes(t.name)||this.completedTrees.push(t.name)}update(t,n){const i=this.listenersMutationCount,r=[...this.updateListeners];for(const a of r)(i===this.listenersMutationCount||this.updateListeners.find(o=>o.uid===a.uid))&&a.update?.(t,n)}handleEvent(t,n,i){const r=this.eventListeners.get(t.id);if(!r||r.length===0)return;this.logVerbose&&console.log(`[Invoker] Handling event: ${t.id} for ${r.length} listeners.`);const a=this.listenersMutationCount,o=[...r];for(const s of o)(a===this.listenersMutationCount||this.eventListeners.get(t.id)?.find(c=>c.uid===s.uid))&&s.handleEvent?.(t,n,i)}addEventListener(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,[]);const i=this.eventListeners.get(t);i.find(r=>r.uid===n.uid)||(i.push(n),this.listenersMutationCount++)}removeEventListener(t){for(const n of this.eventListeners.values()){const i=n.findIndex(r=>r.uid===t.uid);i>-1&&(n.splice(i,1),this.listenersMutationCount++)}}addUpdateListener(t){this.updateListeners.find(n=>n.uid===t.uid)||(this.updateListeners.push(t),this.listenersMutationCount++)}removeUpdateListener(t){const n=this.updateListeners.length;this.updateListeners=this.updateListeners.filter(i=>i.uid!==t.uid),this.updateListeners.length!==n&&this.listenersMutationCount++}}const mp=new pp(Ne.DEFAULT_MIN_DELTA_TIME,Ne.MAINTENANCE_SLOW_TICK_INTERVAL,"maintenance_task_gen"),gp=new pp(Ne.DEFAULT_MIN_DELTA_TIME,Ne.ASSIGNMENT_SLOW_TICK_INTERVAL,"task_assignment_process"),gt=[];class fp{connections=new Bh;lib=new Yv;resources=new Map;characters=[];buildings=[];discoveredItems=new Set;encounteredItems=new Set;activeKeywords=new Map;discardedKeywords=new Set;discoveryAnalysisLog=[];activeMinigame=null;invoker=new nb;hypothetical=null;ingressGameResults={};crystalBallWords=[];gold;clutter;totalCharacterUpkeep;totalBuildingsClutter;taskUidCounter;workSpeed;clutterRatio;discoveryThreshold;dateStarted=Date.now();dateModified=Date.now();gameTime=0;tick=0;locationId="turfablie";minDeltaTime=Ne.DEFAULT_MIN_DELTA_TIME;timeScale={current:1,previous:1};allowedUpdates=0;availableTasks=[];queuedTasks=[];processingTasks=[];completedTasks=[];uiState;constructor(){this.totalCharacterUpkeep=oe.createParameter("total_character_upkeep",this.connections),this.totalBuildingsClutter=oe.createParameter("total_buildings_clutter",this.connections),this.taskUidCounter=oe.createStat("task_uid_counter",0,this.connections),this.workSpeed=oe.createParameter("workSpeed",this.connections),oe.modifyParameterADD(this.workSpeed,1,this.connections),this.clutterRatio=oe.createParameter("clutterRatio",this.connections),this.discoveryThreshold=oe.createStat("discovery_threshold",Ne.DISCOVERY_THRESHOLD,this.connections),this.uiState=Qt({resources:{},debugStats:{},characters:[],selectedCharacterId:null,activeTabName:"",constructedBuildingIds:new Set,uiCompletedTasks:[],uiActiveTasks:[],uiQueuedTasks:[],uiMaintenanceTasks:[],uiOpportunityTasks:[],uiEndeavourTasks:[],uiQuestTasks:[],currentTimeScale:this.timeScale.current,uiWorkSpeed:0,uiClutterRatio:0,discoveredItemsCount:0,encounteredItemsCount:0,activeMinigameType:null,activeMinigameState:null,debugActiveTab:"main",debugExploreInput:"",activeKeywords:new Map,discardedKeywords:new Set,discoveryAnalysisLog:[],crystalBallWords:[],showCrystalView:!1}),this.setupInitialResources(),xs(this),ip(this)}update(t){this.gameTime+=t;const n=Math.floor(this.gameTime/this.minDeltaTime);n!=this.tick?this.tick=n:this.tick=0,ov(this.resources,t,this.connections),Qv(this,t),this.activeMinigame&&this.activeMinigame.update(this,t),this.invoker.update(t,this),xs(this),this.dateModified=Date.now(),this.tick=n}setupInitialResources(){this.gold=Ts(this.resources,"gold",0,0,this.connections),this.clutter=Ts(this.resources,"clutter",0,100,this.connections),oe.connectStat(this.totalCharacterUpkeep,this.gold.income,_e.SUB,this.connections),oe.connectStat(this.totalBuildingsClutter,this.clutter.income,_e.ADD,this.connections),oe.connectStat(this.clutterRatio,this.clutter.income,_e.MULTY,this.connections),oe.connectStat(this.clutter.max,this.clutterRatio,_e.ADD,this.connections),oe.connectStat(this.clutter.current,this.clutterRatio,_e.SUB,this.connections),oe.connectStat(this.clutter.max,this.clutterRatio,_e.DIV,this.connections),oe.connectStat(this.clutterRatio,this.workSpeed,_e.MULTY,this.connections)}processEventsForCharacter(t,n,i){for(const r of t){const a=this.lib.events.get(r);if(a)try{pn.processSingleEvent(a,this,n)}catch(o){console.error(`GS-PROC-EVENTS-FOR-CHAR: Error calling processSingleEvent for '${r}':`,o)}else console.warn(`GS-PROC-EVENTS-FOR-CHAR: Event definition NOT FOUND for ID: ${r}`)}}addBuilding(t){return _r.addBuilding(this,t)}getAndIncrementTaskUidValue(){const t=this.taskUidCounter.value;return oe.modifyStat(this.taskUidCounter,1,this.connections),t}swapTimeScale(){const t=this.timeScale.current;this.timeScale.current=this.timeScale.previous,this.timeScale.previous=t}setTimeScale(t){this.timeScale.previous=this.timeScale.current,this.timeScale.current=t}setActiveTab(t){this.uiState.activeTabName=t}modifyIndependentStat(t,n){const i=this.connections.connectablesByName.get(t);i&&"independent"in i&&i.independent?oe.modifyStat(i,n,this.connections):console.warn(`Cannot set stat ${t}: not found or not independent`)}isDiscovered(t){return this.discoveredItems.has(t)}isEncountered(t){return this.encounteredItems.has(t)}markAsEncountered(t){if(this.encounteredItems.has(t))return;this.encounteredItems.add(t);const n=this.lib.skills.getSpecialization(t);n&&n.parentId&&this.encounteredItems.add(n.parentId)}startMinigame(t){if(this.activeMinigame){console.warn("Cannot start a new minigame, one is already active:",this.activeMinigame.type);return}this.activeMinigame=t,this.uiState.activeMinigameType=t.type,this.uiState.activeMinigameState=t.state,console.log(`Minigame started: ${t.type}`)}exitMinigame(){if(this.activeMinigame){const t=this.activeMinigame.type;console.log(`Exiting minigame: ${this.activeMinigame.type}`),this.activeMinigame.destroy(this),this.activeMinigame=null,this.uiState.activeMinigameType=null,this.uiState.activeMinigameState=null;const n={id:"minigameComplete",params:{minigameType:t},effects:[]};pn.processSingleEvent(n,this)}}toggleCrystalView(){this.uiState.showCrystalView=!this.uiState.showCrystalView}closeCrystalView(){this.uiState.showCrystalView=!1}}const e3=Object.freeze(Object.defineProperty({__proto__:null,GameState:fp,assignmentSlowTickGlobal:gp,globalInputQueue:gt,maintenanceSlowTickGlobal:mp},Symbol.toStringTag,{value:"Module"})),ib={class:"resource-panel"},rb={key:0},ab={key:1},ob={key:2},sb={class:"resource-name"},lb={class:"resource-amount-group"},cb={class:"resource-current"},ub={class:"resource-max"},db={class:"resource-income"},hb=de({__name:"ResourceDisplay",setup(e){const t=$e("gameState"),n=Q(()=>t?Object.entries(t.uiState.resources).filter(([i])=>t.isDiscovered(i)):[]);return(i,r)=>(I(),z("div",ib,[r[1]||(r[1]=v("h2",null,"Resources",-1)),ee(t)?n.value.length===0?(I(),z("div",ab,"No resources defined or discovered.")):(I(),z("div",ob,[(I(!0),z(he,null,Ce(n.value,([a,o])=>(I(),z("div",{key:a,class:"resource-item"},[v("span",sb,J(a.charAt(0).toUpperCase()+a.slice(1))+":",1),v("div",lb,[v("span",cb,J(o.current.toFixed(1)),1),r[0]||(r[0]=v("span",{class:"resource-separator"},"/",-1)),v("span",ub,J(o.max.toFixed(0)),1)]),v("span",db," +"+J(o.income.toFixed(2)),1)]))),128))])):(I(),z("div",rb,"Loading resources..."))]))}}),Pe=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},pb=Pe(hb,[["__scopeId","data-v-a63da8bb"]]),mb={class:"building-item"},gb=de({__name:"BuildingDisplayItem",props:{building:{},isConstructed:{type:Boolean}},setup(e){const t=e,n=$e("gameState"),i=!t.isConstructed;function r(){if(!t.isConstructed){const a={name:"CmdConstructBuilding",buildingId:t.building.id};gt.push(a)}}return(a,o)=>(I(),z("div",mb,[v("h4",null,J(ee(n)&&ee(n).isDiscovered(a.building.id)?a.building.name:ee(Je)(a.building.name)),1),v("p",null,J(a.building.description),1),v("p",null,"Clutter: "+J(a.building.clutterPerSecond)+"/s",1),i?(I(),z("button",{key:0,onClick:r},"Construct")):Z("",!0)]))}}),nu=Pe(gb,[["__scopeId","data-v-f9a8214b"]]),fb={class:"castle-view-container"},yb={class:"columns"},vb={class:"column"},bb={class:"building-grid"},wb={key:0},_b={class:"column"},Ob={class:"building-grid"},kb={key:0},Ib=de({__name:"CastleView",setup(e){const t=$e("gameState"),n=Q(()=>!t||!t.lib.buildings.isLoaded?[]:Array.from(t.lib.buildings.values())),i=Q(()=>!t||!t.uiState?new Set:t.uiState.constructedBuildingIds),r=Q(()=>n.value.filter(o=>!i.value.has(o.id))),a=Q(()=>n.value.filter(o=>i.value.has(o.id)));return(o,s)=>(I(),z("div",fb,[s[2]||(s[2]=v("h3",null,"Castle View",-1)),v("div",yb,[v("div",vb,[s[0]||(s[0]=v("h4",null,"Constructed Buildings",-1)),v("div",bb,[(I(!0),z(he,null,Ce(a.value,l=>(I(),fe(nu,{key:l.id,building:l,isConstructed:!0},null,8,["building"]))),128))]),a.value.length===0?(I(),z("p",wb,"No buildings constructed yet.")):Z("",!0)]),v("div",_b,[s[1]||(s[1]=v("h4",null,"Available Buildings",-1)),v("div",Ob,[(I(!0),z(he,null,Ce(r.value,l=>(I(),fe(nu,{key:l.id,building:l,isConstructed:!1},null,8,["building"]))),128))]),r.value.length===0?(I(),z("p",kb,"All available buildings have been constructed.")):Z("",!0)])])]))}}),Nb=Pe(Ib,[["__scopeId","data-v-fdd48cf6"]]),iu="gameState";function Ui(){const e=$e(iu),t=gr(e||null);return e||console.warn(`[useGameState] GameState was not provided. Ensure an ancestor component calls app.provide('${iu}', yourGameStateInstance).`),{gameState:t}}const Tb={class:"progress-section"},Pb=["value","max"],xb={class:"progress-overlay-text-container"},Sb={class:"progress-effort-text"},Cb={key:0,class:"progress-speed-text"},Eb=de({__name:"EffortBar",props:{investedEffort:{type:Number,required:!0},totalEffort:{type:Number,required:!0},speed:{type:Number,default:0},status:{type:String,required:!0}},setup(e){const t=e,{gameState:n}=Ui(),i=Q(()=>n.value?t.speed*n.value.workSpeed.value:t.speed),r=[{time:0,color:{r:0,g:255,b:0}},{time:60,color:{r:0,g:255,b:0}},{time:300,color:{r:255,g:255,b:0}},{time:1200,color:{r:255,g:0,b:0}},{time:2400,color:{r:139,g:0,b:0}}];function a(c,u,d){const h=Math.round(c.r+d*(u.r-c.r)),p=Math.round(c.g+d*(u.g-c.g)),w=Math.round(c.b+d*(u.b-c.b));return`rgb(${h}, ${p}, ${w})`}function o(c){if(c<=r[0].time){const d=r[0].color;return`rgb(${d.r}, ${d.g}, ${d.b})`}for(let d=0;d<r.length-1;d++){const h=r[d],p=r[d+1];if(c>=h.time&&c<=p.time){const w=(c-h.time)/(p.time-h.time);return a(h.color,p.color,w)}}const u=r[r.length-1].color;return`rgb(${u.r}, ${u.g}, ${u.b})`}const s=Q(()=>i.value&&i.value>0&&t.totalEffort>t.investedEffort?(t.totalEffort-t.investedEffort)/i.value:1/0),l=Q(()=>t.investedEffort>=t.totalEffort||t.status===Xe.Complete?"rgb(100, 100, 100)":o(s.value));return(c,u)=>(I(),z("div",Tb,[v("progress",{value:e.investedEffort,max:e.totalEffort,class:"task-progress",style:He({"--progress-bar-color":l.value})},null,12,Pb),v("div",xb,[v("span",Sb,J(Math.round(e.investedEffort))+"/"+J(Math.round(e.totalEffort)),1),e.status==="Processing"&&e.speed!==void 0&&e.speed>0?(I(),z("span",Cb,"+"+J(i.value.toFixed(1)),1)):Z("",!0)])]))}}),yp=Pe(Eb,[["__scopeId","data-v-9623c203"]]),$b={class:"task-card"},Ab={class:"task-name"},Mb={key:0,class:"current-step-text"},Db={key:0,class:"character-portrait-area"},zb={class:"skills-area"},Rb={class:"skill-pill-name"},Bb={class:"skill-pill-value"},Lb={key:0,class:"separator-container"},qb={key:1,class:"task-result-item"},Fb={key:2,class:"task-result-item"},Vb={key:4,class:"separator-container-actions"},Hb={key:5,class:"task-actions"},Ub={key:0},jb={key:1},Wb={key:6,class:"completed-task-info"},Gb={key:0,class:"completed-task-effect"},Kb={key:1},Xb=de({__name:"TaskCard",props:{task:{type:Object,required:!0}},setup(e){const t=e,{gameState:n}=Ui(),i=Q(()=>{if(!t.task.assignedCharacterIds||t.task.assignedCharacterIds.length===0||!n.value)return null;const c=t.task.assignedCharacterIds[0],u=n.value.characters.find(h=>h.characterId===c);return u?u.name:n.value.lib.characters.getCharacter(c)?.name||"Unknown"}),r=Q(()=>t.task.totalEffort*t.task.xpMultiplier),a=Q(()=>t.task.status===Xe.Complete),o=Q(()=>[Nt.Opportunity,Nt.Endeavour,Nt.Quest].includes(t.task.type)&&t.task.status===Xe.Available),s=Q(()=>t.task.status===Xe.Processing),l=c=>{if(!n.value)return"Unknown Skill";const u=n.value.lib.skills.items[c]?.displayName||"Unknown Skill";return n.value.isDiscovered(c)?u:Je(u)};return(c,u)=>(I(),z("div",$b,[v("div",Ab,J(e.task.name),1),!a.value&&e.task.currentStepResolvedText?(I(),z("div",Mb,J(e.task.currentStepResolvedText),1)):Z("",!0),a.value?Z("",!0):(I(),fe(yp,{key:1,investedEffort:e.task.investedEffort,totalEffort:e.task.totalEffort,speed:e.task.speed,status:e.task.status},null,8,["investedEffort","totalEffort","speed","status"])),!a.value&&e.task.resolvedDefinitionDetails.skills&&e.task.resolvedDefinitionDetails.skills.length>0?(I(),z("div",{key:2,class:ge(["skills-character-container",{"boxed-layout":i.value}])},[i.value?(I(),z("div",Db," P ")):Z("",!0),v("div",zb,[(I(!0),z(he,null,Ce(e.task.resolvedDefinitionDetails.skills,(d,h)=>(I(),z("div",{key:d,class:"skill-pill"},[v("span",Rb,J(l(d)),1),v("span",Bb,[i.value&&e.task.assignedCharacterEffectiveScores&&e.task.assignedCharacterEffectiveScores[d]!==void 0?(I(),z(he,{key:0},[Le(J(e.task.assignedCharacterEffectiveScores[d].toFixed(1)),1)],64)):e.task.resolvedDefinitionDetails.skills?(I(),z(he,{key:1},[Le(" x"+J((ee(cp)(e.task.resolvedDefinitionDetails.skills.length)[h]||ee(Ne).DEFAULT_LAST_SKILL_MULTIPLIER).toFixed(1)),1)],64)):Z("",!0)])]))),128))])],2)):Z("",!0),a.value?Z("",!0):(I(),z(he,{key:3},[e.task.clutterReduction&&e.task.clutterReduction<0||r.value>0?(I(),z("div",Lb,u[0]||(u[0]=[v("hr",{class:"separator-line"},null,-1),v("span",{class:"separator-text"},"Results",-1),v("hr",{class:"separator-line"},null,-1)]))):Z("",!0),e.task.clutterReduction&&e.task.clutterReduction<0?(I(),z("div",qb," Clutter Reduction: "+J((-e.task.clutterReduction).toFixed(1)),1)):Z("",!0),r.value>0?(I(),z("div",Fb," Total task XP: "+J(Math.round(r.value)),1)):Z("",!0)],64)),a.value?Z("",!0):(I(),z("div",Vb,u[1]||(u[1]=[v("hr",{class:"separator-line-full"},null,-1)]))),a.value?Z("",!0):(I(),z("div",Hb,[o.value?(I(),z("button",Ub,"Enqueue")):Z("",!0),s.value?(I(),z("button",jb,"Put off")):Z("",!0)])),a.value?(I(),z("div",Wb,[e.task.clutterReduction&&e.task.clutterReduction<0?(I(),z("span",Gb," Clutter: "+J(e.task.clutterReduction.toFixed(1)),1)):(I(),z("span",Kb,"Completed"))])):Z("",!0)]))}}),On=Pe(Xb,[["__scopeId","data-v-ae59eb99"]]),Yb={class:"mini-task-display"},Zb={class:"task-name"},Qb=de({__name:"MiniTaskDisplay",props:{task:{type:Object,required:!0}},setup(e){return(t,n)=>(I(),z("div",Yb,[v("div",Zb,J(e.task.name),1),ke(yp,{investedEffort:e.task.investedEffort,totalEffort:e.task.totalEffort,speed:e.task.speed,status:e.task.status},null,8,["investedEffort","totalEffort","speed","status"])]))}}),Jb=Pe(Qb,[["__scopeId","data-v-b0f5227c"]]),ew={class:"character-info"},tw={class:"char-name"},nw={class:"char-stats"},iw={class:"char-level"},rw={class:"char-upkeep"},aw={key:0,class:"task-section"},ow=de({__name:"CharacterListItem",props:{character:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["select"],setup(e){const t=e,{gameState:n}=Ui(),i=Q(()=>{if(!n.value)return null;const r=n.value.processingTasks.find(a=>a.assignedCharacterIds.includes(t.character.id));return r?{...r}:null});return(r,a)=>(I(),z("div",{class:ge(["character-item",{selected:e.isSelected}]),onClick:a[0]||(a[0]=o=>r.$emit("select"))},[v("div",ew,[v("div",tw,J(e.character.name),1),v("div",nw,[v("span",iw,"Level "+J(e.character.level),1),v("span",rw,"Upkeep: "+J(e.character.upkeep.toFixed(1)),1)])]),i.value?(I(),z("div",aw,[e.isSelected?(I(),fe(On,{key:0,task:i.value},null,8,["task"])):(I(),fe(Jb,{key:1,task:i.value},null,8,["task"]))])):Z("",!0)],2))}}),sw=Pe(ow,[["__scopeId","data-v-1ed9091a"]]),lw={key:0,class:"no-characters"},cw={key:1,class:"character-items"},uw=de({__name:"CharacterList",props:{characters:{type:Array,required:!0},selectedCharacterId:{type:String,default:null}},emits:["select-character"],setup(e){return(t,n)=>!e.characters||e.characters.length===0?(I(),z("div",lw," No characters available. ")):(I(),z("div",cw,[(I(!0),z(he,null,Ce(e.characters,i=>(I(),fe(sw,{key:i.id,character:i,"is-selected":i.id===e.selectedCharacterId,onSelect:r=>t.$emit("select-character",i.id)},null,8,["character","is-selected","onSelect"]))),128))]))}}),dw=Pe(uw,[["__scopeId","data-v-26d19459"]]),hw=["title"],pw=de({__name:"SpendPointButton",props:{title:{}},emits:["click","mouseenter","mouseleave"],setup(e,{emit:t}){const n=t,i=o=>{n("click",o)},r=o=>{n("mouseenter",o)},a=o=>{n("mouseleave",o)};return(o,s)=>(I(),z("button",{class:"spend-point-btn",onClick:i,onMouseenter:r,onMouseleave:a,title:o.title},s[0]||(s[0]=[v("span",{class:"plus-text"},"+",-1)]),40,hw))}}),Es=Pe(pw,[["__scopeId","data-v-b02c00eb"]]);var Gt;(e=>{function t(a,o,s=1){const l=`attr_${o.name}_${s}`;if(a.hypothetical?.key===l)return;const c=oe.cloneConnections(a.connections),u=oe.getStatAsserted(o.name,c);oe.setIndependentStat(u,u.value+s,c),a.hypothetical={key:l,connections:c}}e.createHypotheticalForAttributeUpgrade=t;function n(a,o,s=1){const l=`skill_${o.name}_${s}`;if(a.hypothetical?.key===l)return;const c=oe.cloneConnections(a.connections),u=oe.getStatAsserted(o.name,c);oe.setIndependentStat(u,u.value+s,c),a.hypothetical={key:l,connections:c}}e.createHypotheticalForSkillUpgrade=n;function i(a,o,s=1){const l=`spec_${o.name}_${s}`;if(a.hypothetical?.key===l)return;const c=oe.cloneConnections(a.connections),u=oe.getStatAsserted(o.name,c);oe.setIndependentStat(u,u.value+s,c),a.hypothetical={key:l,connections:c}}e.createHypotheticalForSpecUpgrade=i;function r(a){a.hypothetical&&(a.hypothetical=null)}e.clearHypothetical=r})(Gt||(Gt={}));const mw={class:"attributes-section"},gw={key:0,class:"no-attribute-data"},fw={key:1,class:"attribute-boxes"},yw=["onClick"],vw=["onMouseenter"],bw={class:"box-name"},ww={class:"box-value"},_w={class:"box-details"},Ow={key:0,class:"affected-summary-overlay"},kw={key:0},Iw={class:"affected-count"},Nw={key:1},Tw={class:"affected-count"},Pw=["onMouseenter"],xw={class:"attribute-name"},Sw={class:"attribute-value-container"},Cw={class:"attribute-value"},Ew=de({__name:"CharacterAttributes",props:{attributes:{type:Array,required:!0},currentHint:{type:String,default:null},attributePoints:{type:Number,required:!0},selectedTab:{type:String,required:!0},characterId:{type:String,required:!0}},emits:["set-hint","tab-selected"],setup(e,{emit:t}){const n=$e("gameState"),i=Q(()=>n?.uiState?n.uiState.highlightedAttributes:null),r=e,a=t,o=h=>{a("tab-selected",h)},s=h=>{if(r.attributePoints>0){const p=r.attributePoints>1;c();const w={name:"CmdSpendAttributePoint",characterId:r.characterId,attributeId:h.key};gt.push(w),p&&Gt.createHypotheticalForAttributeUpgrade(n,h.stat,2)}},l=h=>{n&&r.characterId&&r.attributePoints>0&&Gt.createHypotheticalForAttributeUpgrade(n,h.stat,1)},c=()=>{n&&Gt.clearHypothetical(n)},u=Q(()=>{const h={};if(!n||!n.uiState.hypotheticalConnections)return h;const p=n.uiState.characters.find(m=>m.id===r.characterId);if(!p)return h;const w=n.uiState.hypotheticalConnections;for(const m of p.skills){const k=m.definition.attribute;if(!k)continue;h[k]||(h[k]={skills:0,specs:0});const b=oe.getStat(m.proficiencyStat.name,w);b&&Math.abs(b.value-m.proficiencyStat.value)>.05&&(h[k].skills+=1);for(const S of m.specializations){const _=oe.getStat(S.proficiencyStat.name,w);_&&Math.abs(_.value-S.proficiencyStat.value)>.05&&(h[k].specs+=1)}}return h}),d=h=>{const p=u.value[h];return!!p&&(p.skills>0||p.specs>0)};return(h,p)=>(I(),z("div",mw,[!e.attributes||e.attributes.length===0?(I(),z("div",gw," No attribute data available. ")):(I(),z("div",fw,[(I(!0),z(he,null,Ce(e.attributes,w=>(I(),z("div",{key:w.key,class:ge(["attribute-box",{selected:e.selectedTab===w.key,[`attribute-box-${w.key.toLowerCase()}`]:!0}]),onClick:m=>o(w.key)},[v("div",{class:"box-header",onMouseenter:m=>h.$emit("set-hint",ee(n)&&ee(n).isDiscovered(w.key)?w.definition.description||null:ee(Je)(w.definition.description||"")),onMouseleave:p[0]||(p[0]=m=>h.$emit("set-hint",null))},[v("span",bw,J(ee(n)&&ee(n).isDiscovered(w.key)?w.definition.displayName:ee(Je)(w.definition.displayName)),1),v("span",ww,J(w.stat.value),1)],40,vw),v("div",_w,[d(w.key)?(I(),z("div",Ow,[u.value[w.key].skills>0?(I(),z("div",kw,[v("span",Iw,J(u.value[w.key].skills),1),p[3]||(p[3]=Le(" skills "))])):Z("",!0),u.value[w.key].specs>0?(I(),z("div",Nw,[v("span",Tw,J(u.value[w.key].specs),1),p[4]||(p[4]=Le(" specializations "))])):Z("",!0),p[5]||(p[5]=v("div",null,"are affected",-1))])):Z("",!0),(I(!0),z(he,null,Ce(w.attributes,m=>(I(),z("div",{key:m.key,class:ge(["attribute-detail",{highlighted:e.currentHint===m.definition.description||e.currentHint===ee(Je)(m.definition.description||""),"highlighted-by-skill":i.value&&i.value.includes(m.key)}]),onMouseenter:k=>h.$emit("set-hint",ee(n)&&ee(n).isDiscovered(m.key)?m.definition.description||null:ee(Je)(m.definition.description||"")),onMouseleave:p[2]||(p[2]=k=>h.$emit("set-hint",null))},[v("span",xw,J(ee(n)&&ee(n).isDiscovered(m.key)?m.definition.displayName:ee(Je)(m.definition.displayName)),1),v("div",Sw,[e.attributePoints>0?(I(),fe(Es,{key:0,onClick:li(k=>s(m),["stop"]),onMouseenter:k=>l(m),onMouseleave:p[1]||(p[1]=k=>c()),title:"Spend attribute point"},null,8,["onClick","onMouseenter"])):Z("",!0),v("span",Cw,J(m.stat.value),1)])],42,Pw))),128))])],10,yw))),128))]))]))}}),$w=Pe(Ew,[["__scopeId","data-v-54394c46"]]),Aw=[{name:"skills",imagePath:"img/skills.png",jsonPath:"img/skills.json"},{name:"heroes",imagePath:"img/heroes.jpg",jsonPath:"img/heroes.json"}];class wi{static instance=null;atlasLoadPromises=new Map;constructor(t){for(const n of t){if(this.atlasLoadPromises.has(n.name)){console.warn("AtlasManager: Duplicate atlas name "+n.name+" in config. Ignoring subsequent entry.");continue}this.atlasLoadPromises.set(n.name,this.loadAtlas(n))}}static getInstance(){return wi.instance||(wi.instance=new wi(Aw)),wi.instance}async loadAtlas(t){try{const n=new Promise((o,s)=>{const l=new Image;l.onload=()=>o(l),l.onerror=c=>s(new Error("Failed to load atlas image "+t.imagePath+": "+c)),l.src=t.imagePath}),i=fetch(t.jsonPath).then(o=>{if(!o.ok)throw new Error("Failed to fetch atlas JSON "+t.jsonPath+": "+o.statusText);return o.json()}).catch(o=>{throw new Error("Failed to fetch or parse atlas JSON "+t.jsonPath+": "+o.message)}),[r,a]=await Promise.all([n,i]);return{image:r,description:a}}catch(n){throw console.error("AtlasManager: Error loading atlas "+t.name+":",n),n}}async getAtlasImage(t,n){const i=this.atlasLoadPromises.get(t);if(!i){console.warn("AtlasManager: Atlas "+t+" not configured.");return}try{const r=await i,a=r.description[n];if(!a){r.description||console.warn("AtlasManager: Atlas description for "+t+" is missing or invalid.");return}return{image:r.image,rect:a}}catch{return}}}const Mw={class:"image-holder-wrapper"},Dw=de({__name:"ImageHolder",props:{atlasName:{},imageName:{},displayWidth:{},displayHeight:{}},setup(e){const t=e,n=re(null),i=wi.getInstance();return bl(async()=>{if(!n.value)return;const r=n.value;r.width=t.displayWidth,r.height=t.displayHeight;const a=r.getContext("2d");if(!a){console.error("ImageHolder: Could not get 2D context from canvas.");return}if(a.clearRect(0,0,r.width,r.height),!(!t.atlasName||!t.imageName))try{const o=await i.getAtlasImage(t.atlasName,t.imageName);if(o){const{image:s,rect:l}=o,c=(t.displayWidth-l.w)/2,u=(t.displayHeight-l.h)/2;a.drawImage(s,l.x,l.y,l.w,l.h,c,u,l.w,l.h)}}catch(o){console.error("ImageHolder: Error getting image from atlas:",o)}}),(r,a)=>(I(),z("div",Mw,[v("canvas",{ref_key:"canvasRef",ref:n},null,512)]))}}),Ca=Pe(Dw,[["__scopeId","data-v-6412d2f0"]]),zw={class:"image-overlay skill-name-overlay"},Rw={class:"image-overlay level-overlay"},Bw={key:1,class:"image-overlay proficiency-overlay"},Lw={class:"proficiency-current"},qw={key:0,class:"proficiency-hypothetical"},Fw={class:"skill-details-container"},Vw={class:"hint-line"},Hw={key:0,class:"specializations-row"},Uw=["onMouseover"],jw={class:"image-overlay spec-name-overlay"},Ww={class:"image-overlay level-overlay spec-level-overlay"},Gw={key:1,class:"image-overlay proficiency-overlay spec-proficiency-overlay"},Kw={class:"proficiency-current"},Xw={key:0,class:"proficiency-hypothetical"},Yw=de({__name:"SkillItem",props:{skill:{},characterId:{},skillPoints:{},specPoints:{}},emits:["set-hint"],setup(e,{emit:t}){const n=e,i=t,r=re(""),a=Q(()=>!n.skill||!n.skill.definition.attribute?"":`skill-attribute-${n.skill.definition.attribute.toLowerCase()}`),o=(q,O=!1)=>q===void 0?"0":typeof q=="number"?O?Math.round(q).toString():Number.isInteger(q)?q.toString():q.toFixed(1):q.toString(),s=q=>!q||q.length===0?"No keywords available":q.map(O=>O.join(", ")).join(`
`),l=q=>{if(n.skill&&d&&!d.isDiscovered(n.skill.id)?r.value=Je(q||""):r.value=q||"",n.skill&&d&&!d.isDiscovered(n.skill.id)){const O=s(n.skill.definition.keywords);i("set-hint",Je(O))}else i("set-hint",s(n.skill.definition.keywords))},c=(q,O)=>{d&&!d.isDiscovered(O)?r.value=Je(q||""):r.value=q||"";const P=n.skill.specializations.find(E=>E.id===O);if(P)if(d&&!d.isDiscovered(O)){const E=s(P.definition.keywords);i("set-hint",Je(E))}else i("set-hint",s(P.definition.keywords))},u=()=>{r.value="",i("set-hint",null)},d=$e("gameState"),h=()=>{d&&n.skill.definition.governedBy&&(d.uiState.highlightedAttributes=n.skill.definition.governedBy)},p=()=>{d&&(d.uiState.highlightedAttributes=null),u()},w=()=>{if(n.skill&&n.characterId&&(n.skillPoints||0)>0){const q=(n.skillPoints||0)>1;D();const O={name:"CmdSpendSkillPoint",characterId:n.characterId,skillId:n.skill.id};gt.push(O),q&&Gt.createHypotheticalForSkillUpgrade(d,n.skill.stat,2)}},m=q=>{if(n.characterId&&(n.specPoints||0)>0){const O=(n.specPoints||0)>1;D();const P={name:"CmdSpendSpecPoint",characterId:n.characterId,specId:q.id};gt.push(P),O&&Gt.createHypotheticalForSpecUpgrade(d,q.stat,2)}},k=()=>{d&&n.characterId&&(n.skillPoints||0)>0&&Gt.createHypotheticalForSkillUpgrade(d,n.skill.stat,1)},b=q=>{d&&n.characterId&&(n.specPoints||0)>0&&Gt.createHypotheticalForSpecUpgrade(d,q.stat,1)},S=q=>!d||!d.uiState.hypotheticalConnections?void 0:oe.getStat(q.name,d.uiState.hypotheticalConnections)?.value,_=Q(()=>{const q=n.skill.proficiencyStat.value,O=S(n.skill.proficiencyStat);if(O!==void 0&&Math.abs(O-q)>.05)return O}),g=q=>{const O=q.proficiencyStat.value,P=S(q.proficiencyStat);if(P!==void 0&&Math.abs(P-O)>.05)return P},D=()=>{d&&Gt.clearHypothetical(d)};return(q,O)=>(I(),z("div",{class:ge(["skill-item",a.value]),onMouseenter:h,onMouseleave:p},[v("div",{class:"skill-image-container",onMouseover:O[3]||(O[3]=P=>l(n.skill.definition.description))},[ke(Ca,{atlasName:"skills",imageName:n.skill.id,displayWidth:128,displayHeight:128,class:"skill-icon"},null,8,["imageName"]),v("div",zw,J(ee(d)&&ee(d).isDiscovered(n.skill.id)?n.skill.definition.displayName:ee(Je)(n.skill.definition.displayName)),1),v("div",Rw,J(o(n.skill.stat.value)),1),q.skillPoints&&q.skillPoints>0?(I(),fe(Es,{key:0,class:"skill-level-btn",onClick:O[0]||(O[0]=li(P=>w(),["stop"])),onMouseenter:O[1]||(O[1]=P=>k()),onMouseleave:O[2]||(O[2]=P=>D()),title:"Spend skill point"})):Z("",!0),n.skill.proficiencyStat?(I(),z("div",Bw,[v("div",Lw,J(o(n.skill.proficiencyStat.value,!1)),1),_.value?(I(),z("div",qw,J(o(_.value,!1)),1)):Z("",!0)])):Z("",!0)],32),v("div",Fw,[v("div",Vw,J(r.value)+"",1),n.skill.specializations&&n.skill.specializations.length>0?(I(),z("div",Hw,[(I(!0),z(he,null,Ce(n.skill.specializations,P=>(I(),z("div",{key:P.id,class:"specialization-item",onMouseover:E=>c(P.definition.description,P.id)},[ke(Ca,{atlasName:"skills",imageName:P.id,displayWidth:128,displayHeight:96,class:"specialization-icon"},null,8,["imageName"]),v("div",jw,J(ee(d)&&ee(d).isDiscovered(P.id)?P.definition.displayName:ee(Je)(P.definition.displayName)),1),v("div",Ww,J(o(P.stat.value)),1),q.specPoints&&q.specPoints>0?(I(),fe(Es,{key:0,class:"spec-level-btn",onClick:li(E=>m(P),["stop"]),onMouseenter:E=>b(P),onMouseleave:O[4]||(O[4]=E=>D()),title:"Spend specialization point"},null,8,["onClick","onMouseenter"])):Z("",!0),P.proficiencyStat?(I(),z("div",Gw,[v("div",Kw,J(o(P.proficiencyStat.value,!1)),1),g(P)?(I(),z("div",Xw,J(o(g(P),!1)),1)):Z("",!0)])):Z("",!0)],40,Uw))),128))])):Z("",!0)])],34))}}),Zw=Pe(Yw,[["__scopeId","data-v-49cf02f3"]]),Qw={class:"skills-section"},Jw={key:0,class:"no-skills-data"},e_={key:0},t_={key:1},n_={key:1,class:"skill-list"},i_=de({__name:"CharacterSkills",props:{skills:{},characterId:{},skillPoints:{},specPoints:{},selectedAttribute:{}},emits:["set-hint"],setup(e,{emit:t}){const n=e,i=t;return(r,a)=>(I(),z("div",Qw,[!n.skills||n.skills.length===0?(I(),z("div",Jw,[n.selectedAttribute?(I(),z("span",e_,"No "+J(n.selectedAttribute)+" skills available.",1)):(I(),z("span",t_,"No skills data available."))])):(I(),z("div",n_,[(I(!0),z(he,null,Ce(n.skills,o=>(I(),fe(Zw,{key:o.id,skill:o,characterId:n.characterId,skillPoints:n.skillPoints,specPoints:n.specPoints,onSetHint:a[0]||(a[0]=s=>i("set-hint",s))},null,8,["skill","characterId","skillPoints","specPoints"]))),128))]))]))}}),r_=Pe(i_,[["__scopeId","data-v-7c0327dc"]]),a_={class:"xp-progress-section"},o_=["value","max"],s_={class:"progress-overlay-text-container"},l_={class:"progress-text"},c_=de({__name:"XpProgressBar",props:{xpProgress:{type:Number,required:!0},nextLevelDelta:{type:Number,required:!0}},setup(e){const t=e,n=Q(()=>{if(t.xpProgress>=t.nextLevelDelta)return"rgb(0, 200, 0)";const i=Math.min(1,t.xpProgress/t.nextLevelDelta),r=Math.round(100+i*155);return`rgb(0, ${Math.round(r*.7)}, ${r})`});return(i,r)=>(I(),z("div",a_,[v("progress",{value:e.xpProgress,max:e.nextLevelDelta,class:"xp-progress",style:He({"--progress-bar-color":n.value})},null,12,o_),v("div",s_,[v("span",l_,J(Math.round(e.xpProgress))+"/"+J(Math.round(e.nextLevelDelta))+" XP",1)])]))}}),u_=Pe(c_,[["__scopeId","data-v-1214d5cc"]]),d_={key:0,class:"no-selection"},h_={key:1,class:"character-details-container"},p_={class:"character-top-row"},m_={class:"character-info-section"},g_={class:"character-header"},f_={class:"unspent-points-container"},y_={class:"character-stats"},v_={class:"stat-badge"},b_={class:"stat-badge"},w_={class:"bio-section-wrapper"},__={key:1,class:"bio-text"},O_={key:2,class:"bio-placeholder"},k_={class:"attribute-tabs-section"},I_={key:1,class:"no-attributes"},N_={class:"character-skills-section"},T_={key:1,class:"no-skills"},P_=de({__name:"CharacterDetails",props:{selectedCharacter:{type:Object,default:null},currentHint:{type:String,default:null}},emits:["set-hint"],setup(e,{emit:t}){const n=e,i=re("physique"),r=Q(()=>!n.selectedCharacter?.skills||!i.value?n.selectedCharacter?.skills||[]:n.selectedCharacter.skills.filter(o=>o.definition.attribute===i.value)),a=()=>{if(n.selectedCharacter){const o={name:"CmdFireCharacter",characterId:n.selectedCharacter.id};gt.push(o)}};return(o,s)=>e.selectedCharacter?(I(),z("div",h_,[v("div",p_,[s[10]||(s[10]=v("div",{class:"portrait-section"},[v("div",{class:"image-holder-placeholder"},[v("span",null,"128x128 Image Placeholder")])],-1)),v("div",m_,[v("div",g_,[v("h3",null,J(e.selectedCharacter.name),1),v("div",f_,[e.selectedCharacter.attributePoints>0?(I(),z("span",{key:0,class:"unspent-points-badge",onMouseenter:s[0]||(s[0]=l=>o.$emit("set-hint",`You have unspent attribute points: ${e.selectedCharacter.attributePoints}`)),onMouseleave:s[1]||(s[1]=l=>o.$emit("set-hint",null))}," +"+J(e.selectedCharacter.attributePoints),33)):Z("",!0),e.selectedCharacter.skillPoints>0?(I(),z("span",{key:1,class:"unspent-points-badge",onMouseenter:s[2]||(s[2]=l=>o.$emit("set-hint",`You have unspent skill points: ${e.selectedCharacter.skillPoints}`)),onMouseleave:s[3]||(s[3]=l=>o.$emit("set-hint",null))}," +"+J(e.selectedCharacter.skillPoints),33)):Z("",!0),e.selectedCharacter.specPoints>0?(I(),z("span",{key:2,class:"unspent-points-badge",onMouseenter:s[4]||(s[4]=l=>o.$emit("set-hint",`You have unspent specialization points: ${e.selectedCharacter.specPoints}`)),onMouseleave:s[5]||(s[5]=l=>o.$emit("set-hint",null))}," +"+J(e.selectedCharacter.specPoints),33)):Z("",!0)]),v("div",y_,[v("span",v_,"Level "+J(e.selectedCharacter.level),1),v("span",b_,"Upkeep: "+J(e.selectedCharacter.upkeep.toFixed(1))+" gold",1),v("button",{class:"fire-button",onClick:a},"Fire")])]),e.selectedCharacter.xp?(I(),fe(u_,{key:0,xpProgress:e.selectedCharacter.xp.progress,nextLevelDelta:e.selectedCharacter.xp.nextLevelDelta},null,8,["xpProgress","nextLevelDelta"])):Z("",!0)]),v("div",w_,[v("div",{class:ge(["bio-section",{"keywords-mode":e.currentHint&&e.currentHint.includes(`
`)}])},[e.currentHint?(I(),z("p",{key:0,class:ge({"keywords-text":e.currentHint&&e.currentHint.includes(`
`)})},J(e.currentHint),3)):e.selectedCharacter.bio?(I(),z("p",__,J(e.selectedCharacter.bio),1)):(I(),z("p",O_,"No description available."))],2)])]),v("div",k_,[e.selectedCharacter.attributes?(I(),fe($w,{key:0,attributes:e.selectedCharacter.attributes,attributePoints:e.selectedCharacter.attributePoints,"current-hint":e.currentHint,selectedTab:i.value,characterId:e.selectedCharacter.id,onSetHint:s[6]||(s[6]=l=>o.$emit("set-hint",l)),onTabSelected:s[7]||(s[7]=l=>i.value=l)},null,8,["attributes","attributePoints","current-hint","selectedTab","characterId"])):(I(),z("div",I_," No attribute data available. "))]),v("div",N_,[e.selectedCharacter.skills&&e.selectedCharacter.skills.length>0?(I(),fe(r_,{key:0,skills:r.value,characterId:e.selectedCharacter.id,skillPoints:e.selectedCharacter.skillPoints,specPoints:e.selectedCharacter.specPoints,selectedAttribute:i.value,onSetHint:s[8]||(s[8]=l=>o.$emit("set-hint",l))},null,8,["skills","characterId","skillPoints","specPoints","selectedAttribute"])):(I(),z("div",T_," No skills data available. "))])])):(I(),z("div",d_,s[9]||(s[9]=[v("p",null,"Select a character to view details",-1)])))}}),x_=Pe(P_,[["__scopeId","data-v-f55d8675"]]),S_={class:"crew-container"},C_={class:"character-list"},E_={class:"character-details"},$_=de({__name:"CrewView",setup(e){const t=$e("gameState"),n=re(null),i=Q(()=>t?t.uiState.characters||[]:[]),r=Q(()=>t?t.uiState.selectedCharacterId:null),a=Q(()=>!t||!r.value?null:t.uiState.characters.find(l=>l.id===r.value)||null),o=l=>{t&&(t.uiState.selectedCharacterId=l,n.value=null)},s=l=>{n.value=l};return(l,c)=>(I(),z("div",S_,[v("div",C_,[ke(dw,{characters:i.value,"selected-character-id":r.value,onSelectCharacter:o},null,8,["characters","selected-character-id"])]),v("div",E_,[ke(x_,{"selected-character":a.value,"current-hint":n.value,onSetHint:s},null,8,["selected-character","current-hint"])])]))}}),A_=Pe($_,[["__scopeId","data-v-a162210f"]]),M_={class:"quests-view-container"},D_=de({__name:"QuestsView",setup(e){return(t,n)=>(I(),z("div",M_,n[0]||(n[0]=[v("h3",null,"Quests View",-1),v("p",null,"Content for the Quests tab goes here. View available quests, track progress.",-1)])))}}),z_=Pe(D_,[["__scopeId","data-v-5bc0f83c"]]),R_={class:"noise-visualizer"},B_={class:"controls"},L_={class:"mode-buttons"},q_=["onClick"],F_={class:"parameters"},V_={class:"param-group"},H_={class:"param-group"},U_={class:"param-group"},j_={class:"param-group"},W_={key:0,class:"param-group"},G_={key:1,class:"param-group"},K_={key:2,class:"param-group"},X_={key:3,class:"param-group"},Y_=["width","height"],Z_={class:"stats"},Q_=de({__name:"NoiseVisualizer",setup(e){const t=re(),n=re(800),i=re(300),r=re(1),a=re(0),o=re(12345),s=re(12345),l=re(4),c=re(.5),u=re("math_random"),d=[{id:"math_random",label:"Math.random()"},{id:"seeded",label:"Seeded Random"},{id:"simplex_1d",label:"OpenSimplex2F 1D"},{id:"simplex_octaves",label:"OpenSimplex2F Octaves 1D"}],h=re({min:0,max:0,avg:0});function p(b){u.value=b,k()}function w(){Ns(s.value),k()}function m(b){const S=b*r.value+a.value;switch(u.value){case"math_random":return Math.random();case"seeded":{const _=o.value+Math.floor(S*1e3);return tv(_).value}case"simplex_1d":return qh(S);case"simplex_octaves":return Qy(S,l.value,c.value,1);default:return 0}}function k(){bt(()=>{const b=t.value?.getContext("2d");if(!b)return;b.fillStyle="#1a1a1a",b.fillRect(0,0,n.value,i.value);const S=[];let _=1/0,g=-1/0,D=0;for(let P=0;P<n.value;P++){const E=m(P);S.push(E),_=Math.min(_,E),g=Math.max(g,E),D+=E}h.value={min:_,max:g,avg:D/S.length};const q=g-_,O=q>0?P=>(P-_)/q:()=>.5;b.fillStyle="#4CAF50";for(let P=0;P<n.value;P++){const B=O(S[P])*i.value;b.fillRect(P,i.value-B,1,B)}if(_<0&&g>0){const P=i.value-O(0)*i.value;b.strokeStyle="#FF5722",b.lineWidth=1,b.beginPath(),b.moveTo(0,P),b.lineTo(n.value,P),b.stroke()}})}return at(()=>{Ns(s.value),k()}),(b,S)=>(I(),z("div",R_,[v("div",B_,[S[8]||(S[8]=v("h3",null,"Noise Visualizer",-1)),v("div",L_,[(I(),z(he,null,Ce(d,_=>v("button",{key:_.id,class:ge({active:u.value===_.id}),onClick:g=>p(_.id)},J(_.label),11,q_)),64))]),v("div",F_,[v("div",V_,[v("label",null,"Width (pixels): "+J(n.value),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[0]||(S[0]=_=>n.value=_),min:"200",max:"1600",step:"10",onInput:k},null,544),[[it,n.value,void 0,{number:!0}]])]),v("div",H_,[v("label",null,"Height (pixels): "+J(i.value),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[1]||(S[1]=_=>i.value=_),min:"100",max:"800",step:"10",onInput:k},null,544),[[it,i.value,void 0,{number:!0}]])]),v("div",U_,[v("label",null,"Noise Scale: "+J(r.value.toFixed(2)),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[2]||(S[2]=_=>r.value=_),min:"0.01",max:"10",step:"0.01",onInput:k},null,544),[[it,r.value,void 0,{number:!0}]])]),v("div",j_,[v("label",null,"X Offset: "+J(a.value.toFixed(2)),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[3]||(S[3]=_=>a.value=_),min:"-100",max:"100",step:"0.1",onInput:k},null,544),[[it,a.value,void 0,{number:!0}]])]),u.value==="seeded"?(I(),z("div",W_,[v("label",null,"Seed: "+J(o.value),1),Ge(v("input",{type:"number","onUpdate:modelValue":S[4]||(S[4]=_=>o.value=_),onInput:k},null,544),[[it,o.value,void 0,{number:!0}]])])):Z("",!0),u.value.startsWith("simplex")?(I(),z("div",G_,[v("label",null,"Simplex Seed: "+J(s.value),1),Ge(v("input",{type:"number","onUpdate:modelValue":S[5]||(S[5]=_=>s.value=_),onInput:w},null,544),[[it,s.value,void 0,{number:!0}]])])):Z("",!0),u.value==="simplex_octaves"?(I(),z("div",K_,[v("label",null,"Octaves: "+J(l.value),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[6]||(S[6]=_=>l.value=_),min:"1",max:"8",step:"1",onInput:k},null,544),[[it,l.value,void 0,{number:!0}]])])):Z("",!0),u.value==="simplex_octaves"?(I(),z("div",X_,[v("label",null,"Persistence: "+J(c.value.toFixed(2)),1),Ge(v("input",{type:"range","onUpdate:modelValue":S[7]||(S[7]=_=>c.value=_),min:"0.1",max:"1",step:"0.05",onInput:k},null,544),[[it,c.value,void 0,{number:!0}]])])):Z("",!0)]),v("button",{onClick:k,class:"redraw-button"},"Redraw")]),v("canvas",{ref_key:"canvas",ref:t,width:n.value,height:i.value,class:"noise-canvas"},null,8,Y_),v("div",Z_,[v("div",null,"Min Value: "+J(h.value.min.toFixed(4)),1),v("div",null,"Max Value: "+J(h.value.max.toFixed(4)),1),v("div",null,"Average: "+J(h.value.avg.toFixed(4)),1)])]))}}),J_=Pe(Q_,[["__scopeId","data-v-31db32c3"]]),eO={class:"tab-content"},tO={class:"button-container"},nO={key:0,class:"content-display"},iO={class:"content-header"},rO={class:"content-text"},aO={key:1,class:"no-content-message"},oO={key:2,class:"visualizer-overlay"},sO=de({__name:"DebugMainTab",setup(e){const t=$e("gameState"),n=re(null),i=P=>{n.value=P,setTimeout(()=>n.value=null,1e3)},r=re(""),a=re(""),o=re(!1),s=(P,E)=>{r.value=P,a.value=E},l=()=>{r.value="",a.value=""},c=()=>{o.value=!0},u=()=>{o.value=!1},d=(P,E)=>{if(!t||!t.lib?.skills||!t.lib?.attributes){console.error("GameState, SkillLib, or AttributeLib not available via getters");return}let B="";const V=t.lib.skills,T=t.lib.attributes,U=V.getAllSkills(),f=T.getAttributeDefinitions(),C=y=>{for(const M of Object.values(f))if(M.attributes[y])return M.attributes[y].displayName;return y};Object.values(U).forEach(y=>{if(B+=`${y.displayName}: ${y.description}
`,P){const M=y.governedBy?.map(j=>C(j)).join(", ")||"none",L=y.assistedBy?.map(j=>C(j)).join(", ")||"none";B+=`Governed by: ${M}
`,B+=`Assisted by: ${L}
`}y.specializations?.length&&y.specializations.forEach(M=>{const L=V.getSpecialization(M);L&&(B+=`* ${L.displayName}: ${L.description}
`)}),B+=`
`}),navigator.clipboard.writeText(B).then(()=>{i(P?"attributes":"basic"),s(B,P?"Skills (With Attributes)":"Skills (Basic)")}).catch(y=>console.error("Failed to copy skills to clipboard:",y))},h=P=>{if(!t||!t.lib?.attributes){console.error("GameState or AttributeLib not available via getter");return}const E=t.lib.attributes.getAttributeDefinitions();let B="";Object.values(E).forEach(V=>{B+=`${V.displayName}: ${V.description}
`,Object.values(V.attributes).forEach(T=>{B+=`* ${T.displayName}: ${T.description}
`}),B+=`
`}),navigator.clipboard.writeText(B).then(()=>{i("attributesCopy"),s(B,"Attributes")}).catch(V=>console.error("Failed to copy attributes to clipboard:",V))},p=P=>{if(!t||!t.lib?.skills||!t.lib?.attributes){console.error("GameState, SkillLib, or AttributeLib not available via getters");return}const B=t.lib.skills.getAllSkills(),V=t.lib.attributes.getAttributeDefinitions(),T={};Object.values(V).forEach(y=>{Object.keys(y.attributes).forEach(M=>T[M]={governs:0,assists:0})});const U={};Object.values(B).forEach(y=>{y.governedBy?.forEach(M=>{T[M]&&(T[M].governs++,U[M]=U[M]||[],U[M].includes(`${y.displayName} (Governs)`)||U[M].push(`${y.displayName} (Governs)`))}),y.assistedBy?.forEach(M=>{T[M]&&(T[M].assists++,U[M]=U[M]||[],U[M].includes(`${y.displayName} (Assists)`)||U[M].push(`${y.displayName} (Assists)`))})});const f=y=>{for(const M of Object.values(V))if(M.attributes[y])return M.attributes[y].displayName;return y};let C=`Attribute Skill Governance Stats:

`;Object.entries(T).sort(([,y],[,M])=>M.governs+M.assists-(y.governs+y.assists)).forEach(([y,M])=>{C+=`${f(y)} - Governs: ${M.governs}, Assists: ${M.assists}
`,U[y]?.sort().forEach(L=>C+=`  - ${L}
`)}),navigator.clipboard.writeText(C.trim()).then(()=>{i("attributeStats"),s(C.trim(),"Attribute Skill Stats")}).catch(y=>console.error("Failed to copy attribute skill stats to clipboard:",y))},w=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available");return}const E=t.lib.skills,B=E.getAllSkills();let V="";Object.values(B).forEach(T=>{V+=`${T.displayName}
`,T.specializations?.forEach(U=>{const f=E.getSpecialization(U);f&&(V+=`* ${f.displayName}
`)})}),navigator.clipboard.writeText(V.trim()).then(()=>{i("skillNames"),s(V.trim(),"Skill Names")}).catch(T=>console.error("Failed to copy skill names to clipboard:",T))},m=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for keyword stats");return}const E=t.lib.skills,B=E.getAllSkills(),V=t.lib.discovery.getKeywordLookup(),T={},U={};Object.values(B).forEach(y=>{const M=(L,j)=>{L.keywords?.flat().forEach(H=>{H=H.toLowerCase(),T[H]=(T[H]||0)+1,U[H]=U[H]||[],U[H].includes(j)||U[H].push(j)})};M(y,y.displayName),y.specializations?.forEach(L=>{const j=E.getSpecialization(L);j&&M(j,`${y.displayName} > ${j.displayName}`)})});let f=`Skill Keyword Statistics:

`;Object.entries(T).sort(([,y],[,M])=>M-y).forEach(([y,M])=>{f+=`${y} (${M}):
`,U[y]?.sort().forEach(L=>f+=`  - ${L}
`),f+=`
`});let C=!1;for(const y of V.keys())T[y.toLowerCase()]||(C||(f+=`
Unused Keywords (from lookup map but not found on skills/specs):
`,C=!0),f+=`- ${y} (Points to: ${V.get(y)||"N/A"})
`);navigator.clipboard.writeText(f.trim()).then(()=>{i("skillKeywords"),s(f.trim(),"Skill Keyword Stats")}).catch(y=>console.error("Failed to copy skill keyword stats to clipboard:",y))},k=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for skill names and descriptions.");return}const E=t.lib.skills,B=E.getAllSkills();let V="";Object.values(B).forEach(U=>{V+=`"${U.displayName}": "${U.description}",
`,U.specializations?.forEach(f=>{const C=E.getSpecialization(f);C&&(V+=`  "${C.displayName}": "${C.description}",
`)})});const T=V.trim().replace(/,\n$/,`
`);navigator.clipboard.writeText(T).then(()=>{i("skillNameDesc"),s(T,"Skill Names & Descriptions")}).catch(U=>console.error("Failed to copy skill names and descriptions to clipboard:",U))},b=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for skill IDs.");return}const B=t.lib.skills.getAllSkills();let V="";Object.values(B).forEach(T=>{V+=`${T.id}
`,T.specializations?.forEach(U=>V+=`${U}
`)}),navigator.clipboard.writeText(V.trim()).then(()=>{i("skillIds"),s(V.trim(),"Skill IDs")}).catch(T=>console.error("Failed to copy skill IDs to clipboard:",T))},S=P=>{if(!t){console.error("GameState not available");return}const E={...t};["connections","lib","uiState","eventProcessor"].forEach(B=>delete E[B]);try{const B=JSON.stringify(E,null,2);navigator.clipboard.writeText(B).then(()=>{i("gameState"),s(B,"Game State (JSON)")}).catch(V=>console.error("Failed to copy game state to clipboard:",V))}catch(B){console.error("Error serializing game state:",B)}},_=async P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for replacing names with IDs."),i("replaceNamesWithIdsError");return}try{let E=await navigator.clipboard.readText();const B=t.lib.skills,V=B.getAllSkills(),T=[];Object.values(V).forEach(f=>{T.push({search:f.displayName,id:f.id}),f.specializations?.forEach(C=>{const y=B.getSpecialization(C);y&&T.push({search:y.displayName,id:y.id})})}),T.sort((f,C)=>C.search.length-f.search.length);const U=f=>f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");T.forEach(({search:f,id:C})=>{E=E.replace(new RegExp(`"${U(f)}"`,"g"),`"${C}"`)}),await navigator.clipboard.writeText(E),i("replaceNamesWithIds"),s(E,"Replace Names with IDs")}catch(E){console.error("Failed to replace skill names with IDs in clipboard:",E),i("replaceNamesWithIdsError")}},g=async P=>{try{let E=await navigator.clipboard.readText();E=E.replace(/"([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)"/g,(B,V,T)=>`"${T}"`),await navigator.clipboard.writeText(E),i("simplifyClipboard"),s(E,"Simplify Clipboard Text")}catch(E){console.error("Failed to simplify clipboard text:",E),i("simplifyClipboardError")}},D=P=>{if(!t||!t.lib?.characters){console.error("GameState, Lib, or CharacterLib not available for character names and bios."),i("characterNamesAndBiosError");return}const E=t.lib.characters;let B="";for(const T of E.values())B+=`Name: ${T.name}
`,B+=`Bio: ${T.bio||"N/A"}

`;const V=B.trim();navigator.clipboard.writeText(V).then(()=>{i("characterNamesAndBios"),s(V,"Character Names & Bios")}).catch(T=>{console.error("Failed to copy character names and bios to clipboard:",T),i("characterNamesAndBiosError")})},q=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for keyword overview");return}const E=t.lib.skills,B=E.getAllSkills(),V=new Set,T={};let U=0,f=0;Object.values(B).forEach(M=>{const L=(j,H)=>{f++;let K=0;if(j.keywords){const te=j.keywords.flat();K=te.length,U+=K,te.forEach(se=>{V.add(se.toLowerCase())})}T[H]=K};L(M,M.displayName),M.specializations?.forEach(j=>{const H=E.getSpecialization(j);H&&L(H,`${M.displayName} > ${H.displayName}`)})});const C=f>0?(U/f).toFixed(2):"0";let y=`Total Keywords: ${U}
`;y+=`Total Unique Keywords: ${V.size}
`,y+=`Average Keywords per Skill/Spec: ${C}
`,y+=`Total Skills/Specs: ${f}

`,Object.entries(T).sort(([,M],[,L])=>L-M).forEach(([M,L])=>{y+=`${M}:	${L}
`}),navigator.clipboard.writeText(y.trim()).then(()=>{i("keywordOverview"),s(y.trim(),"Keyword Overview")}).catch(M=>console.error("Failed to copy keyword overview to clipboard:",M))},O=P=>{if(!t||!t.lib?.skills){console.error("GameState or SkillLib not available for shared keyword analysis");return}const E=t.lib.skills,B=E.getAllSkills(),V={};Object.values(B).forEach(C=>{const y=(M,L,j,H)=>{M.keywords&&M.keywords.flat().forEach(te=>{const se=te.toLowerCase();V[se]||(V[se]=[]),V[se].push({id:L,name:j,type:H})})};y(C,C.id,C.displayName,"skill"),C.specializations?.forEach(M=>{const L=E.getSpecialization(M);L&&y(L,M,`${C.displayName} > ${L.displayName}`,"spec")})});const T={};Object.entries(V).forEach(([C,y])=>{if(y.length===2){const M=[...y].sort((j,H)=>j.id.localeCompare(H.id)),L=`${M[0].id},${M[1].id}`;T[L]||(T[L]=[]),T[L].push(C)}});let U=!1,f=`Analysis of Skills/Specs that share exactly 5+ keywords:

`;Object.entries(T).filter(([,C])=>C.length>=5).sort(([,C],[,y])=>y.length-C.length).forEach(([C,y])=>{U=!0;const[M,L]=C.split(",");let j=M,H=L;Object.values(B).forEach(K=>{K.id===M&&(j=K.displayName),K.id===L&&(H=K.displayName),K.specializations?.forEach(te=>{const se=E.getSpecialization(te);se&&(te===M&&(j=`${K.displayName} > ${se.displayName}`),te===L&&(H=`${K.displayName} > ${se.displayName}`))})}),f+=`${j}
`,f+=`${H}
`,f+=`Shared Keywords (${y.length}): ${y.join(", ")}

`}),U||(f+=`No pairs of skills/specs found that share exactly 5 or more keywords.

`,f+=`Top pairs by shared keyword count:

`,Object.entries(T).sort(([,C],[,y])=>y.length-C.length).slice(0,10).forEach(([C,y])=>{const[M,L]=C.split(",");let j=M,H=L;Object.values(B).forEach(K=>{K.id===M&&(j=K.displayName),K.id===L&&(H=K.displayName),K.specializations?.forEach(te=>{const se=E.getSpecialization(te);se&&(te===M&&(j=`${K.displayName} > ${se.displayName}`),te===L&&(H=`${K.displayName} > ${se.displayName}`))})}),f+=`${j} & ${H}
`,f+=`Shared Keywords (${y.length}): ${y.join(", ")}

`})),navigator.clipboard.writeText(f.trim()).then(()=>{i("sharedKeywordPairs"),s(f.trim(),"Shared Keyword Analysis")}).catch(C=>console.error("Failed to copy shared keyword analysis to clipboard:",C))};return(P,E)=>(I(),z("div",eO,[v("div",tO,[v("button",{onClick:E[0]||(E[0]=B=>d(!1)),class:ge(["action-btn",{"copy-success":n.value==="basic"}])},"Skills (Basic)",2),v("button",{onClick:E[1]||(E[1]=B=>d(!0)),class:ge(["action-btn",{"copy-success":n.value==="attributes"}])},"Skills (With Attributes)",2),v("button",{onClick:E[2]||(E[2]=B=>h()),class:ge(["action-btn",{"copy-success":n.value==="attributesCopy"}])},"Attributes",2),v("button",{onClick:E[3]||(E[3]=B=>p()),class:ge(["action-btn",{"copy-success":n.value==="attributeStats"}])},"Attribute Skill Stats",2),v("button",{onClick:E[4]||(E[4]=B=>w()),class:ge(["action-btn",{"copy-success":n.value==="skillNames"}])},"Skill Names",2),v("button",{onClick:E[5]||(E[5]=B=>m()),class:ge(["action-btn",{"copy-success":n.value==="skillKeywords"}])},"Skill Keyword Stats",2),v("button",{onClick:E[6]||(E[6]=B=>q()),class:ge(["action-btn",{"copy-success":n.value==="keywordOverview"}])},"Keyword Overview",2),v("button",{onClick:E[7]||(E[7]=B=>k()),class:ge(["action-btn",{"copy-success":n.value==="skillNameDesc"}])},"Skill Names & Descriptions",2),v("button",{onClick:E[8]||(E[8]=B=>b()),class:ge(["action-btn",{"copy-success":n.value==="skillIds"}])},"Skill IDs",2),v("button",{onClick:E[9]||(E[9]=B=>S()),class:ge(["action-btn",{"copy-success":n.value==="gameState"}])},"Game State (JSON)",2),v("button",{onClick:E[10]||(E[10]=B=>_()),class:ge(["action-btn",{"copy-success":n.value==="replaceNamesWithIds"}])},"Replace Names with IDs",2),v("button",{onClick:E[11]||(E[11]=B=>g()),class:ge(["action-btn",{"copy-success":n.value==="simplifyClipboard"}])},"Simplify Clipboard Text",2),v("button",{onClick:E[12]||(E[12]=B=>D()),class:ge(["action-btn",{"copy-success":n.value==="characterNamesAndBios"}])},"Character Names & Bios",2),v("button",{onClick:E[13]||(E[13]=B=>O()),class:ge(["action-btn",{"copy-success":n.value==="sharedKeywordPairs"}])},"Find 5 Shared Keywords",2),v("button",{onClick:c,class:"action-btn visualizer-btn"},"Show Noise Visualizer")]),r.value?(I(),z("div",nO,[v("div",iO,[v("h3",null,J(a.value),1),v("button",{onClick:l,class:"clear-content-btn"},"Clear")]),v("pre",rO,J(r.value),1)])):(I(),z("div",aO,E[14]||(E[14]=[v("p",null,"Click any copy button above to display its content here.",-1)]))),o.value?(I(),z("div",oO,[v("button",{onClick:u,class:"close-visualizer-btn"}," Close Visualizer"),ke(J_)])):Z("",!0)]))}}),lO=Pe(sO,[["__scopeId","data-v-291121a6"]]),cO={class:"tab-content"},uO={class:"filter-inputs"},dO={key:0,class:"stats-container"},hO={class:"stat-controls"},pO=["onClick"],mO=["onClick"],gO=["onClick"],fO=["onUpdate:modelValue","onKeyup"],yO=["onClick"],vO={key:1,class:"placeholder-controls-without-explore"},bO={class:"stat-name"},wO={class:"stat-value"},_O={key:0,class:"stat-params"},OO={key:1},kO=de({__name:"DebugStatsTab",props:{stats:{type:Object,required:!0}},setup(e){const t=e,n=$e("gameState"),i=Qt({}),r=re(""),a=re(""),o=re(!0),s=re(!0),l=Q(()=>t.stats&&Object.keys(t.stats).length>0),c=Q(()=>{if(!t.stats)return{};let k=Object.keys(t.stats);if(o.value=!0,s.value=!0,r.value.trim())try{const S=new RegExp(r.value.trim(),"i");k=k.filter(_=>S.test(_))}catch{o.value=!1}if(a.value.trim())try{const S=new RegExp(a.value.trim(),"i");k=k.filter(_=>!S.test(_))}catch{s.value=!1}const b={};return k.sort().forEach(S=>{b[S]=t.stats[S],i[S]===void 0&&(i[S]=String(t.stats[S].value))}),b}),u=k=>!k.params,d=k=>"add"in k&&"multiCache"in k?`${k.add} * ${k.multiCache}`:"argument"in k?`formula(${k.argument})`:Object.entries(k).map(([b,S])=>`${b}: ${S}`).join(", "),h=(k,b)=>{if(!n)return;const S=n.connections.connectablesByName.get(k);S&&"independent"in S&&S.independent&&(n.modifyIndependentStat(k,b),i[k]=String(S.value+b))},p=k=>{if(!n)return;const b=n.connections.connectablesByName.get(k);if(b&&"independent"in b&&b.independent){const S=Number(i[k]);n&&n.connections&&(oe.setIndependentStat(b,S,n.connections),Tl(n))}},w=k=>{n&&(n.uiState.debugExploreInput=k,n.uiState.debugActiveTab="explore")},m=()=>{r.value="",a.value="",o.value=!0,s.value=!0};return(k,b)=>(I(),z("div",cO,[v("div",uO,[Ge(v("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=S=>r.value=S),placeholder:"Include Regex (e.g., ^Player)",class:ge(["filter-input",{"invalid-regex":!o.value}])},null,2),[[it,r.value]]),Ge(v("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=S=>a.value=S),placeholder:"Exclude Regex (e.g., Mana$)",class:ge(["filter-input",{"invalid-regex":!s.value}])},null,2),[[it,a.value]]),v("button",{onClick:m,class:"clear-btn clear-all-btn"},"Clear Filters")]),l.value?(I(),z("div",dO,[(I(!0),z(he,null,Ce(c.value,(S,_)=>(I(),z("div",{key:_,class:"stat-row"},[v("div",hO,[v("button",{onClick:g=>w(_),class:"control-btn explore-btn"},"Explore",8,pO),u(S)?(I(),z(he,{key:0},[v("button",{onClick:g=>h(_,-1),class:"control-btn"},"-",8,mO),v("button",{onClick:g=>h(_,1),class:"control-btn"},"+",8,gO),Ge(v("input",{type:"text","onUpdate:modelValue":g=>i[_]=g,class:"stat-input",onKeyup:Ol(g=>p(_),["enter"])},null,40,fO),[[it,i[_]]]),v("button",{onClick:g=>p(_),class:"control-btn"},"Set",8,yO)],64)):(I(),z("div",vO))]),v("div",bO,J(_),1),b[2]||(b[2]=v("div",{class:"stat-separator"},":",-1)),v("div",wO,[Le(J(S.value)+" ",1),S.params?(I(),z("span",_O," = "+J(d(S.params)),1)):Z("",!0)])]))),128))])):(I(),z("p",OO,"No stats available."))]))}}),IO="modulepreload",NO=function(e){return"/mhq/"+e},ru={},xn=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");r=Promise.allSettled(n.map(l=>{if(l=NO(l),l in ru)return;ru[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":IO,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},TO={class:"tab-content"},PO={class:"discover-header-controls"},xO={class:"discover-count"},SO={class:"discover-buttons"},CO={key:0,class:"discover-container"},EO={class:"discover-columns"},$O={key:1},AO=de({__name:"DebugDiscoverTab",setup(e){const t=$e("gameState"),n=re(""),i=re(!0),r=re(null),a=b=>{r.value=b,setTimeout(()=>r.value=null,1e3)},o=Q(()=>t&&t.discoveredItems&&t.discoveredItems.size>0),s=Q(()=>{if(!t||!t.discoveredItems)return[];let b=Array.from(t.discoveredItems);if(i.value=!0,n.value.trim())try{const S=new RegExp(n.value.trim(),"i");b=b.filter(_=>S.test(_))}catch{i.value=!1}return b.sort()}),l=()=>{n.value="",i.value=!0},c=b=>{if(!t||!t.discoveredItems)return;let _=`Discovered Items:

`+Array.from(t.discoveredItems).sort().join(`
`);navigator.clipboard.writeText(_.trim()).then(()=>a("discoveredItems")).catch(g=>console.error("Failed to copy discovered items:",g))},u=()=>{t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAll(t))},d=()=>{t&&(t.discoveredItems.clear(),t.uiState.discoveredItemsCount=0)},h=()=>t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAllSkills(t)),p=()=>t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAllBuildings(t)),w=()=>t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAllResources(t)),m=()=>t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAllAttributes(t)),k=()=>t&&xn(()=>Promise.resolve().then(()=>mi),void 0).then(b=>b.discoverAllTabs(t));return(b,S)=>(I(),z("div",TO,[v("div",PO,[v("div",xO,J(s.value.length),1),Ge(v("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=_=>n.value=_),placeholder:"Include Regex (e.g., ^skill)",class:ge(["filter-input discover-filter",{"invalid-regex":!i.value}])},null,2),[[it,n.value]]),v("div",SO,[v("button",{onClick:u,class:"discover-type-btn"},"All"),v("button",{onClick:d,class:"discover-type-btn"},"None"),v("button",{onClick:h,class:"discover-type-btn"},"Skills"),v("button",{onClick:p,class:"discover-type-btn"},"Buildings"),v("button",{onClick:w,class:"discover-type-btn"},"Resources"),v("button",{onClick:m,class:"discover-type-btn"},"Attributes"),v("button",{onClick:k,class:"discover-type-btn"},"Tabs"),v("button",{onClick:l,class:"clear-discover-btn"},"Clear"),v("button",{onClick:S[1]||(S[1]=_=>c()),class:ge(["action-btn bigger-btn",{"copy-success":r.value==="discoveredItems"}])},"Copy",2)])]),o.value?(I(),z("div",CO,[v("div",EO,[(I(!0),z(he,null,Ce(s.value,_=>(I(),z("div",{key:_,class:"discover-item"},J(_),1))),128))])])):(I(),z("p",$O,"No discovered items available."))]))}});function go(e){return sl()?(la(e),!0):!1}function ln(e){return typeof e=="function"?e():ee(e)}const MO=typeof window<"u"&&typeof document<"u",DO=e=>typeof e<"u",zO=Object.prototype.toString,RO=e=>zO.call(e)==="[object Object]",BO=()=>{};function LO(e,t){function n(...i){return new Promise((r,a)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(a)})}return n}const vp=e=>e();function qO(e=vp){const t=re(!0);function n(){t.value=!1}function i(){t.value=!0}const r=(...a)=>{t.value&&e(...a)};return{isActive:hl(t),pause:n,resume:i,eventFilter:r}}function au(e,t=!1,n="Timeout"){return new Promise((i,r)=>{setTimeout(t?()=>r(n):i,e)})}function FO(e,t,n={}){const{eventFilter:i=vp,...r}=n;return Ee(e,LO(i,t),r)}function gi(e,t,n={}){const{eventFilter:i,...r}=n,{eventFilter:a,pause:o,resume:s,isActive:l}=qO(i);return{stop:FO(e,t,{...r,eventFilter:a}),pause:o,resume:s,isActive:l}}function VO(e,t={}){if(!Ye(e))return Rd(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=Bg(()=>({get(){return e.value[i]},set(r){var a;if((a=ln(t.replaceRef))!=null?a:!0)if(Array.isArray(e.value)){const s=[...e.value];s[i]=r,e.value=s}else{const s={...e.value,[i]:r};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[i]=r}}));return n}function $s(e,t=!1){function n(d,{flush:h="sync",deep:p=!1,timeout:w,throwOnTimeout:m}={}){let k=null;const S=[new Promise(_=>{k=Ee(e,g=>{d(g)!==t&&(k?.(),_(g))},{flush:h,deep:p,immediate:!0})})];return w!=null&&S.push(au(w,m).then(()=>ln(e)).finally(()=>k?.())),Promise.race(S)}function i(d,h){if(!Ye(d))return n(g=>g===d,h);const{flush:p="sync",deep:w=!1,timeout:m,throwOnTimeout:k}=h??{};let b=null;const _=[new Promise(g=>{b=Ee([e,d],([D,q])=>{t!==(D===q)&&(b?.(),g(D))},{flush:p,deep:w,immediate:!0})})];return m!=null&&_.push(au(m,k).then(()=>ln(e)).finally(()=>(b?.(),ln(e)))),Promise.race(_)}function r(d){return n(h=>!!h,d)}function a(d){return i(null,d)}function o(d){return i(void 0,d)}function s(d){return n(Number.isNaN,d)}function l(d,h){return n(p=>{const w=Array.from(p);return w.includes(d)||w.includes(ln(d))},h)}function c(d){return u(1,d)}function u(d=1,h){let p=-1;return n(()=>(p+=1,p>=d),h)}return Array.isArray(ln(e))?{toMatch:n,toContains:l,changed:c,changedTimes:u,get not(){return $s(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:r,toBeNull:a,toBeNaN:s,toBeUndefined:o,changed:c,changedTimes:u,get not(){return $s(e,!t)}}}function As(e){return $s(e)}function HO(e){var t;const n=ln(e);return(t=n?.$el)!=null?t:n}const bp=MO?window:void 0;function wp(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=bp):[t,n,i,r]=e,!t)return BO;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],o=()=>{a.forEach(u=>u()),a.length=0},s=(u,d,h,p)=>(u.addEventListener(d,h,p),()=>u.removeEventListener(d,h,p)),l=Ee(()=>[HO(t),ln(r)],([u,d])=>{if(o(),!u)return;const h=RO(d)?{...d}:d;a.push(...n.flatMap(p=>i.map(w=>s(u,p,w,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return go(c),c}function UO(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ou(...e){let t,n,i={};e.length===3?(t=e[0],n=e[1],i=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],i=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=bp,eventName:a="keydown",passive:o=!1,dedupe:s=!1}=i,l=UO(t);return wp(r,a,u=>{u.repeat&&ln(s)||l(u)&&n(u)},o)}function jO(e){return JSON.parse(JSON.stringify(e))}function Yo(e,t,n,i={}){var r,a,o;const{clone:s=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=i,p=Fn(),w=n||p?.emit||((r=p?.$emit)==null?void 0:r.bind(p))||((o=(a=p?.proxy)==null?void 0:a.$emit)==null?void 0:o.bind(p?.proxy));let m=c;t||(t="modelValue"),m=m||`update:${t.toString()}`;const k=_=>s?typeof s=="function"?s(_):jO(_):_,b=()=>DO(e[t])?k(e[t]):d,S=_=>{h?h(_)&&w(m,_):w(m,_)};if(l){const _=b(),g=re(_);let D=!1;return Ee(()=>e[t],q=>{D||(D=!0,g.value=k(q),bt(()=>D=!1))}),Ee(g,q=>{!D&&(q!==e[t]||u)&&S(q)},{deep:u}),g}else return Q({get(){return b()},set(_){S(_)}})}var WO={value:()=>{}};function fo(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ha(n)}function ha(e){this._=e}function GO(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ha.prototype=fo.prototype={constructor:ha,on:function(e,t){var n=this._,i=GO(e+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(e=i[a]).type)&&(r=KO(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=i[a]).type)n[r]=su(n[r],e.name,t);else if(t==null)for(r in n)n[r]=su(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ha(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function KO(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function su(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=WO,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ms="http://www.w3.org/1999/xhtml";const lu={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lu.hasOwnProperty(t)?{space:lu[t],local:e}:e}function XO(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ms&&t.documentElement.namespaceURI===Ms?t.createElement(e):t.createElementNS(n,e)}}function YO(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _p(e){var t=yo(e);return(t.local?YO:XO)(t)}function ZO(){}function Dl(e){return e==null?ZO:function(){return this.querySelector(e)}}function QO(e){typeof e!="function"&&(e=Dl(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Ot(i,this._parents)}function JO(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ek(){return[]}function Op(e){return e==null?ek:function(){return this.querySelectorAll(e)}}function tk(e){return function(){return JO(e.apply(this,arguments))}}function nk(e){typeof e=="function"?e=tk(e):e=Op(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new Ot(i,r)}function kp(e){return function(){return this.matches(e)}}function Ip(e){return function(t){return t.matches(e)}}var ik=Array.prototype.find;function rk(e){return function(){return ik.call(this.children,e)}}function ak(){return this.firstElementChild}function ok(e){return this.select(e==null?ak:rk(typeof e=="function"?e:Ip(e)))}var sk=Array.prototype.filter;function lk(){return Array.from(this.children)}function ck(e){return function(){return sk.call(this.children,e)}}function uk(e){return this.selectAll(e==null?lk:ck(typeof e=="function"?e:Ip(e)))}function dk(e){typeof e!="function"&&(e=kp(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Ot(i,this._parents)}function Np(e){return new Array(e.length)}function hk(){return new Ot(this._enter||this._groups.map(Np),this._parents)}function Ea(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ea.prototype={constructor:Ea,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pk(e){return function(){return e}}function mk(e,t,n,i,r,a){for(var o=0,s,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],i[o]=s):n[o]=new Ea(e,a[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function gk(e,t,n,i,r,a,o){var s,l,c=new Map,u=t.length,d=a.length,h=new Array(u),p;for(s=0;s<u;++s)(l=t[s])&&(h[s]=p=o.call(l,l.__data__,s,t)+"",c.has(p)?r[s]=l:c.set(p,l));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+"",(l=c.get(p))?(i[s]=l,l.__data__=a[s],c.delete(p)):n[s]=new Ea(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(h[s])===l&&(r[s]=l)}function fk(e){return e.__data__}function yk(e,t){if(!arguments.length)return Array.from(this,fk);var n=t?gk:mk,i=this._parents,r=this._groups;typeof e!="function"&&(e=pk(e));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],d=r[c],h=d.length,p=vk(e.call(u,u&&u.__data__,c,i)),w=p.length,m=s[c]=new Array(w),k=o[c]=new Array(w),b=l[c]=new Array(h);n(u,d,m,k,b,p,t);for(var S=0,_=0,g,D;S<w;++S)if(g=m[S]){for(S>=_&&(_=S+1);!(D=k[_])&&++_<w;);g._next=D||null}}return o=new Ot(o,i),o._enter=s,o._exit=l,o}function vk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bk(){return new Ot(this._exit||this._groups.map(Np),this._parents)}function wk(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function _k(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,h=s[l]=new Array(d),p,w=0;w<d;++w)(p=c[w]||u[w])&&(h[w]=p);for(;l<r;++l)s[l]=n[l];return new Ot(s,this._parents)}function Ok(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function kk(e){e||(e=Ik);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,l=r[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ot(r,this._parents).order()}function Ik(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Nk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Tk(){return Array.from(this)}function Pk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function xk(){let e=0;for(const t of this)++e;return e}function Sk(){return!this.node()}function Ck(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&e.call(s,s.__data__,a,r);return this}function Ek(e){return function(){this.removeAttribute(e)}}function $k(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ak(e,t){return function(){this.setAttribute(e,t)}}function Mk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rk(e,t){var n=yo(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?$k:Ek:typeof t=="function"?n.local?zk:Dk:n.local?Mk:Ak)(n,t))}function Tp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bk(e){return function(){this.style.removeProperty(e)}}function Lk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qk(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Fk(e,t,n){return arguments.length>1?this.each((t==null?Bk:typeof t=="function"?qk:Lk)(e,t,n??"")):Ri(this.node(),e)}function Ri(e,t){return e.style.getPropertyValue(t)||Tp(e).getComputedStyle(e,null).getPropertyValue(t)}function Vk(e){return function(){delete this[e]}}function Hk(e,t){return function(){this[e]=t}}function Uk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jk(e,t){return arguments.length>1?this.each((t==null?Vk:typeof t=="function"?Uk:Hk)(e,t)):this.node()[e]}function Pp(e){return e.trim().split(/^|\s+/)}function zl(e){return e.classList||new xp(e)}function xp(e){this._node=e,this._names=Pp(e.getAttribute("class")||"")}xp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sp(e,t){for(var n=zl(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Cp(e,t){for(var n=zl(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Wk(e){return function(){Sp(this,e)}}function Gk(e){return function(){Cp(this,e)}}function Kk(e,t){return function(){(t.apply(this,arguments)?Sp:Cp)(this,e)}}function Xk(e,t){var n=Pp(e+"");if(arguments.length<2){for(var i=zl(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Kk:t?Wk:Gk)(n,t))}function Yk(){this.textContent=""}function Zk(e){return function(){this.textContent=e}}function Qk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Jk(e){return arguments.length?this.each(e==null?Yk:(typeof e=="function"?Qk:Zk)(e)):this.node().textContent}function eI(){this.innerHTML=""}function tI(e){return function(){this.innerHTML=e}}function nI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function iI(e){return arguments.length?this.each(e==null?eI:(typeof e=="function"?nI:tI)(e)):this.node().innerHTML}function rI(){this.nextSibling&&this.parentNode.appendChild(this)}function aI(){return this.each(rI)}function oI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sI(){return this.each(oI)}function lI(e){var t=typeof e=="function"?e:_p(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cI(){return null}function uI(e,t){var n=typeof e=="function"?e:_p(e),i=t==null?cI:typeof t=="function"?t:Dl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function dI(){var e=this.parentNode;e&&e.removeChild(this)}function hI(){return this.each(dI)}function pI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gI(e){return this.select(e?mI:pI)}function fI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function yI(e){return function(t){e.call(this,t,this.__data__)}}function vI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function bI(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function wI(e,t,n){return function(){var i=this.__on,r,a=yI(t);if(i){for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function _I(e,t,n){var i=vI(e+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?wI:bI,r=0;r<a;++r)this.each(s(i[r],t,n));return this}function Ep(e,t,n){var i=Tp(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function OI(e,t){return function(){return Ep(this,e,t)}}function kI(e,t){return function(){return Ep(this,e,t.apply(this,arguments))}}function II(e,t){return this.each((typeof t=="function"?kI:OI)(e,t))}function*NI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var $p=[null];function Ot(e,t){this._groups=e,this._parents=t}function Dr(){return new Ot([[document.documentElement]],$p)}function TI(){return this}Ot.prototype=Dr.prototype={constructor:Ot,select:QO,selectAll:nk,selectChild:ok,selectChildren:uk,filter:dk,data:yk,enter:hk,exit:bk,join:wk,merge:_k,selection:TI,order:Ok,sort:kk,call:Nk,nodes:Tk,node:Pk,size:xk,empty:Sk,each:Ck,attr:Rk,style:Fk,property:jk,classed:Xk,text:Jk,html:iI,raise:aI,lower:sI,append:lI,insert:uI,remove:hI,clone:gI,datum:fI,on:_I,dispatch:II,[Symbol.iterator]:NI};function St(e){return typeof e=="string"?new Ot([[document.querySelector(e)]],[document.documentElement]):new Ot([[e]],$p)}function PI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ut(e,t){if(e=PI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const xI={passive:!1},Or={capture:!0,passive:!1};function Zo(e){e.stopImmediatePropagation()}function Ci(e){e.preventDefault(),e.stopImmediatePropagation()}function Ap(e){var t=e.document.documentElement,n=St(e).on("dragstart.drag",Ci,Or);"onselectstart"in t?n.on("selectstart.drag",Ci,Or):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Mp(e,t){var n=e.document.documentElement,i=St(e).on("dragstart.drag",null);t&&(i.on("click.drag",Ci,Or),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Kr=e=>()=>e;function Ds(e,{sourceEvent:t,subject:n,target:i,identifier:r,active:a,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Ds.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function SI(e){return!e.ctrlKey&&!e.button}function CI(){return this.parentNode}function EI(e,t){return t??{x:e.x,y:e.y}}function $I(){return navigator.maxTouchPoints||"ontouchstart"in this}function AI(){var e=SI,t=CI,n=EI,i=$I,r={},a=fo("start","drag","end"),o=0,s,l,c,u,d=0;function h(g){g.on("mousedown.drag",p).filter(i).on("touchstart.drag",k).on("touchmove.drag",b,xI).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(g,D){if(!(u||!e.call(this,g,D))){var q=_(this,t.call(this,g,D),g,D,"mouse");q&&(St(g.view).on("mousemove.drag",w,Or).on("mouseup.drag",m,Or),Ap(g.view),Zo(g),c=!1,s=g.clientX,l=g.clientY,q("start",g))}}function w(g){if(Ci(g),!c){var D=g.clientX-s,q=g.clientY-l;c=D*D+q*q>d}r.mouse("drag",g)}function m(g){St(g.view).on("mousemove.drag mouseup.drag",null),Mp(g.view,c),Ci(g),r.mouse("end",g)}function k(g,D){if(e.call(this,g,D)){var q=g.changedTouches,O=t.call(this,g,D),P=q.length,E,B;for(E=0;E<P;++E)(B=_(this,O,g,D,q[E].identifier,q[E]))&&(Zo(g),B("start",g,q[E]))}}function b(g){var D=g.changedTouches,q=D.length,O,P;for(O=0;O<q;++O)(P=r[D[O].identifier])&&(Ci(g),P("drag",g,D[O]))}function S(g){var D=g.changedTouches,q=D.length,O,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),O=0;O<q;++O)(P=r[D[O].identifier])&&(Zo(g),P("end",g,D[O]))}function _(g,D,q,O,P,E){var B=a.copy(),V=Ut(E||q,D),T,U,f;if((f=n.call(g,new Ds("beforestart",{sourceEvent:q,target:h,identifier:P,active:o,x:V[0],y:V[1],dx:0,dy:0,dispatch:B}),O))!=null)return T=f.x-V[0]||0,U=f.y-V[1]||0,function C(y,M,L){var j=V,H;switch(y){case"start":r[P]=C,H=o++;break;case"end":delete r[P],--o;case"drag":V=Ut(L||M,D),H=o;break}B.call(y,g,new Ds(y,{sourceEvent:M,subject:f,target:h,identifier:P,active:H,x:V[0]+T,y:V[1]+U,dx:V[0]-j[0],dy:V[1]-j[1],dispatch:B}),O)}}return h.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Kr(!!g),h):e},h.container=function(g){return arguments.length?(t=typeof g=="function"?g:Kr(g),h):t},h.subject=function(g){return arguments.length?(n=typeof g=="function"?g:Kr(g),h):n},h.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:Kr(!!g),h):i},h.on=function(){var g=a.on.apply(a,arguments);return g===a?h:g},h.clickDistance=function(g){return arguments.length?(d=(g=+g)*g,h):Math.sqrt(d)},h}function Rl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dp(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function zr(){}var kr=.7,$a=1/kr,Ei="\\s*([+-]?\\d+)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MI=/^#([0-9a-f]{3,8})$/,DI=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),zI=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),RI=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${Ir}\\)$`),BI=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${Ir}\\)$`),LI=new RegExp(`^hsl\\(${Ir},${Yt},${Yt}\\)$`),qI=new RegExp(`^hsla\\(${Ir},${Yt},${Yt},${Ir}\\)$`),cu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rl(zr,ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uu,formatHex:uu,formatHex8:FI,formatHsl:VI,formatRgb:du,toString:du});function uu(){return this.rgb().formatHex()}function FI(){return this.rgb().formatHex8()}function VI(){return zp(this).formatHsl()}function du(){return this.rgb().formatRgb()}function ci(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hu(t):n===3?new yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DI.exec(e))?new yt(t[1],t[2],t[3],1):(t=zI.exec(e))?new yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RI.exec(e))?Xr(t[1],t[2],t[3],t[4]):(t=BI.exec(e))?Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LI.exec(e))?gu(t[1],t[2]/100,t[3]/100,1):(t=qI.exec(e))?gu(t[1],t[2]/100,t[3]/100,t[4]):cu.hasOwnProperty(e)?hu(cu[e]):e==="transparent"?new yt(NaN,NaN,NaN,0):null}function hu(e){return new yt(e>>16&255,e>>8&255,e&255,1)}function Xr(e,t,n,i){return i<=0&&(e=t=n=NaN),new yt(e,t,n,i)}function HI(e){return e instanceof zr||(e=ci(e)),e?(e=e.rgb(),new yt(e.r,e.g,e.b,e.opacity)):new yt}function zs(e,t,n,i){return arguments.length===1?HI(e):new yt(e,t,n,i??1)}function yt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Rl(yt,zs,Dp(zr,{brighter(e){return e=e==null?$a:Math.pow($a,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kr:Math.pow(kr,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yt(ii(this.r),ii(this.g),ii(this.b),Aa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pu,formatHex:pu,formatHex8:UI,formatRgb:mu,toString:mu}));function pu(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function UI(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function mu(){const e=Aa(this.opacity);return`${e===1?"rgb(":"rgba("}${ii(this.r)}, ${ii(this.g)}, ${ii(this.b)}${e===1?")":`, ${e})`}`}function Aa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ii(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=ii(e),(e<16?"0":"")+e.toString(16)}function gu(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ct(e,t,n,i)}function zp(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof zr||(e=ci(e)),!e)return new Ct;if(e instanceof Ct)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(t===a?o=(n-i)/s+(n<i)*6:n===a?o=(i-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new Ct(o,s,l,e.opacity)}function jI(e,t,n,i){return arguments.length===1?zp(e):new Ct(e,t,n,i??1)}function Ct(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Rl(Ct,jI,Dp(zr,{brighter(e){return e=e==null?$a:Math.pow($a,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kr:Math.pow(kr,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new yt(Qo(e>=240?e-240:e+120,r,i),Qo(e,r,i),Qo(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Ct(fu(this.h),Yr(this.s),Yr(this.l),Aa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Aa(this.opacity);return`${e===1?"hsl(":"hsla("}${fu(this.h)}, ${Yr(this.s)*100}%, ${Yr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fu(e){return e=(e||0)%360,e<0?e+360:e}function Yr(e){return Math.max(0,Math.min(1,e||0))}function Qo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bl=e=>()=>e;function WI(e,t){return function(n){return e+n*t}}function GI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function KI(e){return(e=+e)==1?Rp:function(t,n){return n-t?GI(t,n,e):Bl(isNaN(t)?n:t)}}function Rp(e,t){var n=t-e;return n?WI(e,n):Bl(isNaN(e)?t:e)}const Ma=function e(t){var n=KI(t);function i(r,a){var o=n((r=zs(r)).r,(a=zs(a)).r),s=n(r.g,a.g),l=n(r.b,a.b),c=Rp(r.opacity,a.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function XI(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function YI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZI(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=ur(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<i;++o)a[o]=r[o](s);return a}}function QI(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JI(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=ur(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jo=new RegExp(Rs.source,"g");function eN(e){return function(){return e}}function tN(e){return function(t){return e(t)+""}}function Bp(e,t){var n=Rs.lastIndex=Jo.lastIndex=0,i,r,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(i=Rs.exec(e))&&(r=Jo.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Wt(i,r)})),n=Jo.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?tN(l[0].x):eN(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function ur(e,t){var n=typeof t,i;return t==null||n==="boolean"?Bl(t):(n==="number"?Wt:n==="string"?(i=ci(t))?(t=i,Ma):Bp:t instanceof ci?Ma:t instanceof Date?QI:YI(t)?XI:Array.isArray(t)?ZI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JI:Wt)(e,t)}var yu=180/Math.PI,Bs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lp(e,t,n,i,r,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*yu,skewX:Math.atan(l)*yu,scaleX:o,scaleY:s}}var Zr;function nN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bs:Lp(t.a,t.b,t.c,t.d,t.e,t.f)}function iN(e){return e==null||(Zr||(Zr=document.createElementNS("http://www.w3.org/2000/svg","g")),Zr.setAttribute("transform",e),!(e=Zr.transform.baseVal.consolidate()))?Bs:(e=e.matrix,Lp(e.a,e.b,e.c,e.d,e.e,e.f))}function qp(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,w){if(c!==d||u!==h){var m=p.push("translate(",null,t,null,n);w.push({i:m-4,x:Wt(c,d)},{i:m-2,x:Wt(u,h)})}else(d||h)&&p.push("translate("+d+t+h+n)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Wt(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}function s(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Wt(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}function l(c,u,d,h,p,w){if(c!==d||u!==h){var m=p.push(r(p)+"scale(",null,",",null,")");w.push({i:m-4,x:Wt(c,d)},{i:m-2,x:Wt(u,h)})}else(d!==1||h!==1)&&p.push(r(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),s(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var w=-1,m=h.length,k;++w<m;)d[(k=h[w]).i]=k.x(p);return d.join("")}}}var rN=qp(nN,"px, ","px)","deg)"),aN=qp(iN,", ",")",")"),oN=1e-12;function vu(e){return((e=Math.exp(e))+1/e)/2}function sN(e){return((e=Math.exp(e))-1/e)/2}function lN(e){return((e=Math.exp(2*e))-1)/(e+1)}const pa=function e(t,n,i){function r(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],d=o[1],h=o[2],p=u-s,w=d-l,m=p*p+w*w,k,b;if(m<oN)b=Math.log(h/c)/t,k=function(O){return[s+O*p,l+O*w,c*Math.exp(t*O*b)]};else{var S=Math.sqrt(m),_=(h*h-c*c+i*m)/(2*c*n*S),g=(h*h-c*c-i*m)/(2*h*n*S),D=Math.log(Math.sqrt(_*_+1)-_),q=Math.log(Math.sqrt(g*g+1)-g);b=(q-D)/t,k=function(O){var P=O*b,E=vu(D),B=c/(n*S)*(E*lN(t*P+D)-sN(D));return[s+B*p,l+B*w,c*E/vu(t*P+D)]}}return k.duration=b*1e3*t/Math.SQRT2,k}return r.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},r}(Math.SQRT2,2,4);var Bi=0,Ji=0,Ki=0,Fp=1e3,Da,er,za=0,ui=0,vo=0,Nr=typeof performance=="object"&&performance.now?performance:Date,Vp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ll(){return ui||(Vp(cN),ui=Nr.now()+vo)}function cN(){ui=0}function Ra(){this._call=this._time=this._next=null}Ra.prototype=Hp.prototype={constructor:Ra,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ll():+n)+(t==null?0:+t),!this._next&&er!==this&&(er?er._next=this:Da=this,er=this),this._call=e,this._time=n,Ls()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ls())}};function Hp(e,t,n){var i=new Ra;return i.restart(e,t,n),i}function uN(){Ll(),++Bi;for(var e=Da,t;e;)(t=ui-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bi}function bu(){ui=(za=Nr.now())+vo,Bi=Ji=0;try{uN()}finally{Bi=0,hN(),ui=0}}function dN(){var e=Nr.now(),t=e-za;t>Fp&&(vo-=t,za=e)}function hN(){for(var e,t=Da,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Da=n);er=e,Ls(i)}function Ls(e){if(!Bi){Ji&&(Ji=clearTimeout(Ji));var t=e-ui;t>24?(e<1/0&&(Ji=setTimeout(bu,e-Nr.now()-vo)),Ki&&(Ki=clearInterval(Ki))):(Ki||(za=Nr.now(),Ki=setInterval(dN,Fp)),Bi=1,Vp(bu))}}function wu(e,t,n){var i=new Ra;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var pN=fo("start","end","cancel","interrupt"),mN=[],Up=0,_u=1,qs=2,ma=3,Ou=4,Fs=5,ga=6;function bo(e,t,n,i,r,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;gN(e,n,{name:t,index:i,group:r,on:pN,tween:mN,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Up})}function ql(e,t){var n=zt(e,t);if(n.state>Up)throw new Error("too late; already scheduled");return n}function Jt(e,t){var n=zt(e,t);if(n.state>ma)throw new Error("too late; already running");return n}function zt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gN(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Hp(a,0,n.time);function a(c){n.state=_u,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,h,p;if(n.state!==_u)return l();for(u in i)if(p=i[u],p.name===n.name){if(p.state===ma)return wu(o);p.state===Ou?(p.state=ga,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[u]):+u<t&&(p.state=ga,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[u])}if(wu(function(){n.state===ma&&(n.state=Ou,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=qs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qs){for(n.state=ma,r=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=p);r.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Fs,1),d=-1,h=r.length;++d<h;)r[d].call(e,u);n.state===Fs&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ga,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function fa(e,t){var n=e.__transition,i,r,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}r=i.state>qs&&i.state<Fs,i.state=ga,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function fN(e){return this.each(function(){fa(this,e)})}function yN(e,t){var n,i;return function(){var r=Jt(this,e),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function vN(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=Jt(this,e),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function bN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=zt(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?yN:vN)(n,e,t))}function Fl(e,t,n){var i=e._id;return e.each(function(){var r=Jt(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return zt(r,i).value[t]}}function jp(e,t){var n;return(typeof t=="number"?Wt:t instanceof ci?Ma:(n=ci(t))?(t=n,Ma):Bp)(e,t)}function wN(e){return function(){this.removeAttribute(e)}}function _N(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ON(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttribute(e);return o===r?null:o===i?a:a=t(i=o,n)}}function kN(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?a:a=t(i=o,n)}}function IN(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function NN(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function TN(e,t){var n=yo(e),i=n==="transform"?aN:jp;return this.attrTween(e,typeof t=="function"?(n.local?NN:IN)(n,i,Fl(this,"attr."+e,t)):t==null?(n.local?_N:wN)(n):(n.local?kN:ON)(n,i,t))}function PN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function SN(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&xN(e,a)),n}return r._value=t,r}function CN(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&PN(e,a)),n}return r._value=t,r}function EN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=yo(e);return this.tween(n,(i.local?SN:CN)(i,t))}function $N(e,t){return function(){ql(this,e).delay=+t.apply(this,arguments)}}function AN(e,t){return t=+t,function(){ql(this,e).delay=t}}function MN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$N:AN)(t,e)):zt(this.node(),t).delay}function DN(e,t){return function(){Jt(this,e).duration=+t.apply(this,arguments)}}function zN(e,t){return t=+t,function(){Jt(this,e).duration=t}}function RN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DN:zN)(t,e)):zt(this.node(),t).duration}function BN(e,t){if(typeof t!="function")throw new Error;return function(){Jt(this,e).ease=t}}function LN(e){var t=this._id;return arguments.length?this.each(BN(t,e)):zt(this.node(),t).ease}function qN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Jt(this,e).ease=n}}function FN(e){if(typeof e!="function")throw new Error;return this.each(qN(this._id,e))}function VN(e){typeof e!="function"&&(e=kp(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new gn(i,this._parents,this._name,this._id)}function HN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;s<i;++s)o[s]=t[s];return new gn(o,this._parents,this._name,this._id)}function UN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function jN(e,t,n){var i,r,a=UN(t)?ql:Jt;return function(){var o=a(this,e),s=o.on;s!==i&&(r=(i=s).copy()).on(t,n),o.on=r}}function WN(e,t){var n=this._id;return arguments.length<2?zt(this.node(),n).on.on(e):this.each(jN(n,e,t))}function GN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function KN(){return this.on("end.remove",GN(this._id))}function XN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dl(e));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],l=s.length,c=a[o]=new Array(l),u,d,h=0;h<l;++h)(u=s[h])&&(d=e.call(u,u.__data__,h,s))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,bo(c[h],t,n,h,c,zt(u,n)));return new gn(a,this._parents,t,n)}function YN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Op(e));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l=i[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=e.call(u,u.__data__,d,l),p,w=zt(u,n),m=0,k=h.length;m<k;++m)(p=h[m])&&bo(p,t,n,m,h,w);a.push(h),o.push(u)}return new gn(a,o,t,n)}var ZN=Dr.prototype.constructor;function QN(){return new ZN(this._groups,this._parents)}function JN(e,t){var n,i,r;return function(){var a=Ri(this,e),o=(this.style.removeProperty(e),Ri(this,e));return a===o?null:a===n&&o===i?r:r=t(n=a,i=o)}}function Wp(e){return function(){this.style.removeProperty(e)}}function eT(e,t,n){var i,r=n+"",a;return function(){var o=Ri(this,e);return o===r?null:o===i?a:a=t(i=o,n)}}function tT(e,t,n){var i,r,a;return function(){var o=Ri(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Ri(this,e))),o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s))}}function nT(e,t){var n,i,r,a="style."+t,o="end."+a,s;return function(){var l=Jt(this,e),c=l.on,u=l.value[a]==null?s||(s=Wp(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i}}function iT(e,t,n){var i=(e+="")=="transform"?rN:jp;return t==null?this.styleTween(e,JN(e,i)).on("end.style."+e,Wp(e)):typeof t=="function"?this.styleTween(e,tT(e,i,Fl(this,"style."+e,t))).each(nT(this._id,e)):this.styleTween(e,eT(e,i,t),n).on("end.style."+e,null)}function rT(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function aT(e,t,n){var i,r;function a(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&rT(e,o,n)),i}return a._value=t,a}function oT(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,aT(e,t,n??""))}function sT(e){return function(){this.textContent=e}}function lT(e){return function(){var t=e(this);this.textContent=t??""}}function cT(e){return this.tween("text",typeof e=="function"?lT(Fl(this,"text",e)):sT(e==null?"":e+""))}function uT(e){return function(t){this.textContent=e.call(this,t)}}function dT(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&uT(r)),t}return i._value=e,i}function hT(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dT(e))}function pT(){for(var e=this._name,t=this._id,n=Gp(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=zt(l,t);bo(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new gn(i,this._parents,e,n)}function mT(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--r===0&&a()}};n.each(function(){var c=Jt(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&a()})}var gT=0;function gn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Gp(){return++gT}var nn=Dr.prototype;gn.prototype={constructor:gn,select:XN,selectAll:YN,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:VN,merge:HN,selection:QN,transition:pT,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:WN,attr:TN,attrTween:EN,style:iT,styleTween:oT,text:cT,textTween:hT,remove:KN,tween:bN,delay:MN,duration:RN,ease:LN,easeVarying:FN,end:mT,[Symbol.iterator]:nn[Symbol.iterator]};function fT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yT={time:null,delay:0,duration:250,ease:fT};function vT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bT(e){var t,n;e instanceof gn?(t=e._id,e=e._name):(t=Gp(),(n=yT).time=Ll(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&bo(l,e,t,c,o,n||vT(l,t));return new gn(i,this._parents,e,t)}Dr.prototype.interrupt=fN;Dr.prototype.transition=bT;const Qr=e=>()=>e;function wT(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function cn(e,t,n){this.k=e,this.x=t,this.y=n}cn.prototype={constructor:cn,scale:function(e){return e===1?this:new cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Li=new cn(1,0,0);cn.prototype;function es(e){e.stopImmediatePropagation()}function Xi(e){e.preventDefault(),e.stopImmediatePropagation()}function _T(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function OT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ku(){return this.__zoom||Li}function kT(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function IT(){return navigator.maxTouchPoints||"ontouchstart"in this}function NT(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function TT(){var e=_T,t=OT,n=NT,i=kT,r=IT,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=pa,c=fo("start","zoom","end"),u,d,h,p=500,w=150,m=0,k=10;function b(f){f.property("__zoom",ku).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",B).filter(r).on("touchstart.zoom",V).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(f,C,y,M){var L=f.selection?f.selection():f;L.property("__zoom",ku),f!==L?D(f,C,y,M):L.interrupt().each(function(){q(this,arguments).event(M).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},b.scaleBy=function(f,C,y,M){b.scaleTo(f,function(){var L=this.__zoom.k,j=typeof C=="function"?C.apply(this,arguments):C;return L*j},y,M)},b.scaleTo=function(f,C,y,M){b.transform(f,function(){var L=t.apply(this,arguments),j=this.__zoom,H=y==null?g(L):typeof y=="function"?y.apply(this,arguments):y,K=j.invert(H),te=typeof C=="function"?C.apply(this,arguments):C;return n(_(S(j,te),H,K),L,o)},y,M)},b.translateBy=function(f,C,y,M){b.transform(f,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof y=="function"?y.apply(this,arguments):y),t.apply(this,arguments),o)},null,M)},b.translateTo=function(f,C,y,M,L){b.transform(f,function(){var j=t.apply(this,arguments),H=this.__zoom,K=M==null?g(j):typeof M=="function"?M.apply(this,arguments):M;return n(Li.translate(K[0],K[1]).scale(H.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof y=="function"?-y.apply(this,arguments):-y),j,o)},M,L)};function S(f,C){return C=Math.max(a[0],Math.min(a[1],C)),C===f.k?f:new cn(C,f.x,f.y)}function _(f,C,y){var M=C[0]-y[0]*f.k,L=C[1]-y[1]*f.k;return M===f.x&&L===f.y?f:new cn(f.k,M,L)}function g(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function D(f,C,y,M){f.on("start.zoom",function(){q(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,j=arguments,H=q(L,j).event(M),K=t.apply(L,j),te=y==null?g(K):typeof y=="function"?y.apply(L,j):y,se=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),ie=L.__zoom,ce=typeof C=="function"?C.apply(L,j):C,ue=l(ie.invert(te).concat(se/ie.k),ce.invert(te).concat(se/ce.k));return function(ve){if(ve===1)ve=ce;else{var Oe=ue(ve),we=se/Oe[2];ve=new cn(we,te[0]-Oe[0]*we,te[1]-Oe[1]*we)}H.zoom(null,ve)}})}function q(f,C,y){return!y&&f.__zooming||new O(f,C)}function O(f,C){this.that=f,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,C),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,C){return this.mouse&&f!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var C=St(this.that).datum();c.call(f,this.that,new wT(f,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),C)}};function P(f,...C){if(!e.apply(this,arguments))return;var y=q(this,C).event(f),M=this.__zoom,L=Math.max(a[0],Math.min(a[1],M.k*Math.pow(2,i.apply(this,arguments)))),j=Ut(f);if(y.wheel)(y.mouse[0][0]!==j[0]||y.mouse[0][1]!==j[1])&&(y.mouse[1]=M.invert(y.mouse[0]=j)),clearTimeout(y.wheel);else{if(M.k===L)return;y.mouse=[j,M.invert(j)],fa(this),y.start()}Xi(f),y.wheel=setTimeout(H,w),y.zoom("mouse",n(_(S(M,L),y.mouse[0],y.mouse[1]),y.extent,o));function H(){y.wheel=null,y.end()}}function E(f,...C){if(h||!e.apply(this,arguments))return;var y=f.currentTarget,M=q(this,C,!0).event(f),L=St(f.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",se,!0),j=Ut(f,y),H=f.clientX,K=f.clientY;Ap(f.view),es(f),M.mouse=[j,this.__zoom.invert(j)],fa(this),M.start();function te(ie){if(Xi(ie),!M.moved){var ce=ie.clientX-H,ue=ie.clientY-K;M.moved=ce*ce+ue*ue>m}M.event(ie).zoom("mouse",n(_(M.that.__zoom,M.mouse[0]=Ut(ie,y),M.mouse[1]),M.extent,o))}function se(ie){L.on("mousemove.zoom mouseup.zoom",null),Mp(ie.view,M.moved),Xi(ie),M.event(ie).end()}}function B(f,...C){if(e.apply(this,arguments)){var y=this.__zoom,M=Ut(f.changedTouches?f.changedTouches[0]:f,this),L=y.invert(M),j=y.k*(f.shiftKey?.5:2),H=n(_(S(y,j),M,L),t.apply(this,C),o);Xi(f),s>0?St(this).transition().duration(s).call(D,H,M,f):St(this).call(b.transform,H,M,f)}}function V(f,...C){if(e.apply(this,arguments)){var y=f.touches,M=y.length,L=q(this,C,f.changedTouches.length===M).event(f),j,H,K,te;for(es(f),H=0;H<M;++H)K=y[H],te=Ut(K,this),te=[te,this.__zoom.invert(te),K.identifier],L.touch0?!L.touch1&&L.touch0[2]!==te[2]&&(L.touch1=te,L.taps=0):(L.touch0=te,j=!0,L.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(L.taps<2&&(d=te[0],u=setTimeout(function(){u=null},p)),fa(this),L.start())}}function T(f,...C){if(this.__zooming){var y=q(this,C).event(f),M=f.changedTouches,L=M.length,j,H,K,te;for(Xi(f),j=0;j<L;++j)H=M[j],K=Ut(H,this),y.touch0&&y.touch0[2]===H.identifier?y.touch0[0]=K:y.touch1&&y.touch1[2]===H.identifier&&(y.touch1[0]=K);if(H=y.that.__zoom,y.touch1){var se=y.touch0[0],ie=y.touch0[1],ce=y.touch1[0],ue=y.touch1[1],ve=(ve=ce[0]-se[0])*ve+(ve=ce[1]-se[1])*ve,Oe=(Oe=ue[0]-ie[0])*Oe+(Oe=ue[1]-ie[1])*Oe;H=S(H,Math.sqrt(ve/Oe)),K=[(se[0]+ce[0])/2,(se[1]+ce[1])/2],te=[(ie[0]+ue[0])/2,(ie[1]+ue[1])/2]}else if(y.touch0)K=y.touch0[0],te=y.touch0[1];else return;y.zoom("touch",n(_(H,K,te),y.extent,o))}}function U(f,...C){if(this.__zooming){var y=q(this,C).event(f),M=f.changedTouches,L=M.length,j,H;for(es(f),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<L;++j)H=M[j],y.touch0&&y.touch0[2]===H.identifier?delete y.touch0:y.touch1&&y.touch1[2]===H.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(H=Ut(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<k)){var K=St(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return b.wheelDelta=function(f){return arguments.length?(i=typeof f=="function"?f:Qr(+f),b):i},b.filter=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(!!f),b):e},b.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:Qr(!!f),b):r},b.extent=function(f){return arguments.length?(t=typeof f=="function"?f:Qr([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),b):t},b.scaleExtent=function(f){return arguments.length?(a[0]=+f[0],a[1]=+f[1],b):[a[0],a[1]]},b.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(f){return arguments.length?(n=f,b):n},b.duration=function(f){return arguments.length?(s=+f,b):s},b.interpolate=function(f){return arguments.length?(l=f,b):l},b.on=function(){var f=c.on.apply(c,arguments);return f===c?b:f},b.clickDistance=function(f){return arguments.length?(m=(f=+f)*f,b):Math.sqrt(m)},b.tapDistance=function(f){return arguments.length?(k=+f,b):k},b}var be=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(be||{}),Vl=(e=>(e.Partial="partial",e.Full="full",e))(Vl||{}),Zn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Zn||{}),zn=(e=>(e.Strict="strict",e.Loose="loose",e))(zn||{}),Vs=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Vs||{}),dr=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(dr||{}),Kp=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Kp||{});const PT=["INPUT","SELECT","TEXTAREA"],xT=typeof document<"u"?document:null;function Hs(e){var t,n;const i=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof i?.hasAttribute=="function"?i.hasAttribute("contenteditable"):!1,a=typeof i?.closest=="function"?i.closest(".nokey"):null;return PT.includes(i?.nodeName)||r||!!a}function ST(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Iu(e,t,n,i){const r=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(o=>o.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();i||n.add(e.toLowerCase());const a=r.every((o,s)=>n.has(o)&&Array.from(n.values())[s]===r[s]);return i&&n.delete(e.toLowerCase()),a}function CT(e,t){return n=>{if(!n.code&&!n.key)return!1;const i=ET(n.code,e);return Array.isArray(e)?e.some(r=>Iu(n[i],r,t,n.type==="keyup")):Iu(n[i],e,t,n.type==="keyup")}}function ET(e,t){return t.includes(e)?"code":"key"}function hr(e,t){const n=Q(()=>Ae(t?.target)??xT),i=gr(Ae(e)===!0);let r=!1;const a=new Set;let o=l(Ae(e));Ee(()=>Ae(e),(c,u)=>{typeof u=="boolean"&&typeof c!="boolean"&&s(),o=l(c)},{immediate:!0}),wp(["blur","contextmenu"],s),ou((...c)=>o(...c),c=>{var u,d;const h=Ae(t?.actInsideInputWithModifier)??!0,p=Ae(t?.preventDefault)??!1;if(r=ST(c),(!r||r&&!h)&&Hs(c))return;const m=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target,k=m?.nodeName==="BUTTON"||m?.nodeName==="A";!p&&(r||!k)&&c.preventDefault(),i.value=!0},{eventName:"keydown",target:n}),ou((...c)=>o(...c),c=>{const u=Ae(t?.actInsideInputWithModifier)??!0;if(i.value){if((!r||r&&!u)&&Hs(c))return;r=!1,i.value=!1}},{eventName:"keyup",target:n});function s(){r=!1,a.clear(),i.value=Ae(e)===!0}function l(c){return c===null?(s(),()=>!1):typeof c=="boolean"?(s(),i.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?CT(c,a):c}return i}const Xp="vue-flow__node-desc",Yp="vue-flow__edge-desc",$T="vue-flow__aria-live",Zp=["Enter"," ","Escape"],$i={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ba(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function La(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)}function wo(e){return{width:e.offsetWidth,height:e.offsetHeight}}function di(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Qp(e,t){return{x:di(e.x,t[0][0],t[1][0]),y:di(e.y,t[0][1],t[1][1])}}function Nu(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Rn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function ri(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Rn(e)}function tr(e){return ri(e)&&"computedPosition"in e}function Jr(e){return!Number.isNaN(e)&&Number.isFinite(e)}function AT(e){return Jr(e.width)&&Jr(e.height)&&Jr(e.x)&&Jr(e.y)}function MT(e,t,n){const i={id:e.id.toString(),type:e.type??"default",dimensions:Ii({width:0,height:0}),computedPosition:Ii({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ze(e.data)?e.data:{},events:Ii(Ze(e.events)?e.events:{})};return Object.assign(t??i,e,{id:e.id.toString(),parentNode:n})}function Jp(e,t,n){var i,r;const a={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(i=e.sourceHandle)==null?void 0:i.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Ze(e.data)?e.data:{},events:Ii(Ze(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??a,e,{id:e.id.toString()})}function em(e,t,n,i){const r=typeof e=="string"?e:e.id,a=new Set,o=i==="source"?"target":"source";for(const s of n)s[o]===r&&a.add(s[i]);return t.filter(s=>a.has(s.id))}function DT(...e){if(e.length===3){const[a,o,s]=e;return em(a,o,s,"target")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(a=>Rn(a)&&a.source===i).map(a=>n.find(o=>ri(o)&&o.id===a.target))}function zT(...e){if(e.length===3){const[a,o,s]=e;return em(a,o,s,"source")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(a=>Rn(a)&&a.target===i).map(a=>n.find(o=>ri(o)&&o.id===a.source))}function tm({source:e,sourceHandle:t,target:n,targetHandle:i}){return`vueflow__edge-${e}${t??""}-${n}${i??""}`}function RT(e,t){return t.some(n=>Rn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Us({x:e,y:t},{x:n,y:i,zoom:r}){return{x:e*r+n,y:t*r+i}}function Tr({x:e,y:t},{x:n,y:i,zoom:r},a=!1,o=[1,1]){const s={x:(e-n)/r,y:(t-i)/r};return a?_o(s,o):s}function nm(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function qa({x:e,y:t,width:n,height:i}){return{x:e,y:t,x2:e+n,y2:t+i}}function im({x:e,y:t,x2:n,y2:i}){return{x:e,y:t,width:n-e,height:i-t}}function BT(e,t){return im(nm(qa(e),qa(t)))}function Hl(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const i=e[n];t=nm(t,qa({...i.computedPosition,...i.dimensions}))}return im(t)}function rm(e,t,n={x:0,y:0,zoom:1},i=!1,r=!1){const a={...Tr(t,n),width:t.width/n.zoom,height:t.height/n.zoom},o=[];for(const s of e){const{dimensions:l,selectable:c=!0,hidden:u=!1}=s,d=l.width??s.width??null,h=l.height??s.height??null;if(r&&!c||u)continue;const p=La(a,Ba(s)),w=d===null||h===null,m=i&&p>0,k=(d??0)*(h??0);(w||m||p>=k||s.dragging)&&o.push(s)}return o}function Qn(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const i of e)n.add(i.id);return t.filter(i=>n.has(i.source)||n.has(i.target))}function Tu(e,t,n,i,r,a=.1,o={x:0,y:0}){const s=t/(e.width*(1+a)),l=n/(e.height*(1+a)),c=Math.min(s,l),u=di(c,i,r),d=e.x+e.width/2,h=e.y+e.height/2,p=t/2-d*u+(o.x??0),w=n/2-h*u+(o.y??0);return{x:p,y:w,zoom:u}}function LT(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function am(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:am(n,t):!1}function Pr(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`}function Pu(e,t,n){return e<t?di(Math.abs(e-t),1,t)/t:e>n?-di(Math.abs(e-n),1,t)/t:0}function om(e,t,n=15,i=40){const r=Pu(e.x,i,t.width-i)*n,a=Pu(e.y,i,t.height-i)*n;return[r,a]}function ts(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||i>0||e.position.x<0||e.position.y<0){let r={};if(typeof t.style=="function"?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(typeof r.width=="string"){const a=Number(r.width.replace("px",""));r.width=`${a+n}px`}else r.width+=n;if(i>0)if(typeof r.height=="string"){const a=Number(r.height.replace("px",""));r.height=`${a+i}px`}else r.height+=i;if(e.position.x<0){const a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,typeof r.width=="string"){const o=Number(r.width.replace("px",""));r.width=`${o+a}px`}else r.width+=a;e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,typeof r.height=="string"){const o=Number(r.height.replace("px",""));r.height=`${o+a}px`}else r.height+=a;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),typeof t.style=="function"?t.style=a=>{const o=t.style;return{...o(a),...r}}:t.style={...t.style,...r}}}}function xu(e,t){var n,i;const r=e.filter(o=>o.type==="add"||o.type==="remove");for(const o of r)if(o.type==="add")t.findIndex(l=>l.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const s=t.findIndex(l=>l.id===o.id);s!==-1&&t.splice(s,1)}const a=t.map(o=>o.id);for(const o of t)for(const s of e)if(s.id===o.id)switch(s.type){case"select":o.selected=s.selected;break;case"position":if(tr(o)&&(typeof s.position<"u"&&(o.position=s.position),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&o.parentNode)){const l=t[a.indexOf(o.parentNode)];l&&tr(l)&&ts(o,l)}break;case"dimensions":if(tr(o)&&(typeof s.dimensions<"u"&&(o.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(o.style={...o.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(i=s.dimensions)==null?void 0:i.height}px`}),typeof s.resizing<"u"&&(o.resizing=s.resizing),o.expandParent&&o.parentNode)){const l=t[a.indexOf(o.parentNode)];l&&tr(l)&&(!!l.dimensions.width&&!!l.dimensions.height?ts(o,l):bt(()=>{ts(o,l)}))}break}return t}function kn(e,t){return{id:e,type:"select",selected:t}}function Su(e){return{item:e,type:"add"}}function Cu(e){return{id:e,type:"remove"}}function Eu(e,t,n,i,r){return{id:e,source:t,target:n,sourceHandle:i||null,targetHandle:r||null,type:"remove"}}function Sn(e,t=new Set,n=!1){const i=[];for(const[r,a]of e){const o=t.has(r);!(a.selected===void 0&&!o)&&a.selected!==o&&(n&&(a.selected=o),i.push(kn(a.id,o)))}return i}function me(e){const t=new Set;let n=!1;const i=()=>t.size>0;e&&(n=!0,t.add(e));const r=s=>{t.delete(s)};return{on:s=>{e&&n&&t.delete(e),t.add(s);const l=()=>{r(s),e&&n&&t.add(e)};return go(l),{off:l}},off:r,trigger:s=>Promise.all(Array.from(t).map(l=>l(s))),hasListeners:i,fns:t}}function $u(e,t,n){let i=e;do{if(i&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function qT(e,t,n,i,r){var a,o;const s=[];for(const l of e)(l.selected||l.id===r)&&(!l.parentNode||!am(l,i))&&(l.draggable||t&&typeof l.draggable>"u")&&s.push(Ii({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((a=l.computedPosition)==null?void 0:a.x)||0,y:n.y-((o=l.computedPosition)==null?void 0:o.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return s}function ns({id:e,dragItems:t,findNode:n}){const i=[];for(const r of t){const a=n(r.id);a&&i.push(a)}return[e?i.find(r=>r.id===e):i[0],i]}function sm(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function FT(e,t,n){const[i,r,a,o]=typeof e!="string"?sm(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+o,n.computedPosition.y+i],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-a]]:!1}function VT(e,t,n,i){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&r?.range==="parent")&&!e.expandParent)if(e.parentNode&&i&&e.dimensions.width&&e.dimensions.height){const a=FT(r,e,i);a&&(r=a)}else t(new et(Qe.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const a=i?.computedPosition.x||0,o=i?.computedPosition.y||0;r=[[r[0][0]+a,r[0][1]+o],[r[1][0]+a,r[1][1]+o]]}else if(r!=="parent"&&r?.range&&Array.isArray(r.range)){const[a,o,s,l]=sm(r.padding),c=i?.computedPosition.x||0,u=i?.computedPosition.y||0;r=[[r.range[0][0]+c+l,r.range[0][1]+u+a],[r.range[1][0]+c-o,r.range[1][1]+u-s]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function HT({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ul(e,t,n,i,r){const a=HT(e.dimensions,VT(e,n,i,r)),o=Qp(t,a);return{position:{x:o.x-(r?.computedPosition.x||0),y:o.y-(r?.computedPosition.y||0)},computedPosition:o}}function qi(e,t,n=be.Left,i=!1){const r=(t?.x??0)+e.computedPosition.x,a=(t?.y??0)+e.computedPosition.y,{width:o,height:s}=t??GT(e);if(i)return{x:r+o/2,y:a+s/2};switch(t?.position??n){case be.Top:return{x:r+o/2,y:a};case be.Right:return{x:r+o,y:a+s/2};case be.Bottom:return{x:r+o/2,y:a+s};case be.Left:return{x:r,y:a+s/2}}}function Au(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function UT({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:r,targetHeight:a,width:o,height:s,viewport:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+i,t.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=qa({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:o/l.zoom,height:s/l.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),h=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*h)>0}function jT(e,t,n=!1){const i=typeof e.zIndex=="number";let r=i?e.zIndex:0;const a=t(e.source),o=t(e.target);return!a||!o?0:(n&&(r=i?e.zIndex:Math.max(a.computedPosition.z||0,o.computedPosition.z||0)),r)}var Qe=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Qe||{});const Mu={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class et extends Error{constructor(t,...n){var i;super((i=Mu[t])==null?void 0:i.call(Mu,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function jl(e){return"clientX"in e}function WT(e){return"sourceEvent"in e}function Kt(e,t){const n=jl(e);let i,r;return n?(i=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(i=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(i=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(i=0,r=0),{x:i-(t?.left??0),y:r-(t?.top??0)}}const Fa=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function GT(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function _o(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const KT=()=>!0;function is(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function XT(e,t,n){const i=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())La(r,Ba(a))>0&&i.push(a);return i}const YT=250;function ZT(e,t,n,i){var r,a;let o=[],s=Number.POSITIVE_INFINITY;const l=XT(e,n,t+YT);for(const c of l){const u=[...((r=c.handleBounds)==null?void 0:r.source)??[],...((a=c.handleBounds)==null?void 0:a.target)??[]];for(const d of u){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:h,y:p}=qi(c,d,d.position,!0),w=Math.sqrt((h-e.x)**2+(p-e.y)**2);w>t||(w<s?(o=[{...d,x:h,y:p}],s=w):w===s&&o.push({...d,x:h,y:p}))}}if(!o.length)return null;if(o.length>1){const c=i.type==="source"?"target":"source";return o.find(u=>u.type===c)??o[0]}return o[0]}function Du(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:r,fromType:a,doc:o,lib:s,flowId:l,isValidConnection:c=KT},u,d,h){const p=a==="target",w=t?o.querySelector(`.${s}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:m,y:k}=Kt(e),b=o.elementFromPoint(m,k),S=b?.classList.contains(`${s}-flow__handle`)?b:w,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const g=lm(void 0,S),D=S.getAttribute("data-nodeid"),q=S.getAttribute("data-handleid"),O=S.classList.contains("connectable"),P=S.classList.contains("connectableend");if(!D||!g)return _;const E={source:p?D:i,sourceHandle:p?q:r,target:p?i:D,targetHandle:p?r:q};_.connection=E;const V=O&&P&&(n===zn.Strict?p&&g==="source"||!p&&g==="target":D!==i||q!==r);_.isValid=V&&c(E,{nodes:d,edges:u,sourceNode:h(i),targetNode:h(D)}),_.toHandle=t}return _}function lm(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function QT(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function JT(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function e0(e,t,n,i,r,a=!1){var o,s,l;const c=i.get(e);if(!c)return null;const u=r===zn.Strict?(o=c.handleBounds)==null?void 0:o[t]:[...((s=c.handleBounds)==null?void 0:s.source)??[],...((l=c.handleBounds)==null?void 0:l.target)??[]],d=(n?u?.find(h=>h.id===n):u?.[0])??null;return d&&a?{...d,...qi(c,d,d.position,!0)}:d}const js={[be.Left]:be.Right,[be.Right]:be.Left,[be.Top]:be.Bottom,[be.Bottom]:be.Top},t0=["production","prod"];function Oo(e,...t){cm()&&console.warn(`[Vue Flow]: ${e}`,...t)}function cm(){return!t0.includes("production")}function zu(e,t,n,i,r){const a=t.querySelectorAll(`.vue-flow__handle.${e}`);return a?.length?Array.from(a).map(o=>{const s=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:r,position:o.getAttribute("data-handlepos"),x:(s.left-n.left)/i,y:(s.top-n.top)/i,...wo(o)}}):null}function Ws(e,t,n,i,r,a=!1,o){r.value=!1,e.selected?(a||e.selected&&t)&&(i([e]),bt(()=>{o.blur()})):n([e])}function Ze(e){return typeof ee(e)<"u"}function n0(e,t,n,i){if(!e||!e.source||!e.target)return n(new et(Qe.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let r;return Rn(e)?r=e:r={...e,id:tm(e)},r=Jp(r,void 0,i),RT(r,t)?!1:r}function i0(e,t,n,i,r){if(!t.source||!t.target)return r(new et(Qe.EDGE_INVALID,e.id)),!1;if(!n)return r(new et(Qe.EDGE_NOT_FOUND,e.id)),!1;const{id:a,...o}=e;return{...o,id:i?tm(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Ru(e,t,n){const i={},r=[];for(let a=0;a<e.length;++a){const o=e[a];if(!ri(o)){n(new et(Qe.NODE_INVALID,o?.id)||`[ID UNKNOWN|INDEX ${a}]`);continue}const s=MT(o,t(o.id),o.parentNode);o.parentNode&&(i[o.parentNode]=!0),r[a]=s}for(const a of r){const o=t(a.parentNode)||r.find(s=>s.id===a.parentNode);a.parentNode&&!o&&n(new et(Qe.NODE_MISSING_PARENT,a.id,a.parentNode)),(a.parentNode||i[a.id])&&(i[a.id]&&(a.isParent=!0),o&&(o.isParent=!0))}return r}function Bu(e,t,n,i,r,a){let o=r;const s=i.get(o)||new Map;i.set(o,s.set(n,t)),o=`${r}-${e}`;const l=i.get(o)||new Map;if(i.set(o,l.set(n,t)),a){o=`${r}-${e}-${a}`;const c=i.get(o)||new Map;i.set(o,c.set(n,t))}}function rs(e,t,n){e.clear();for(const i of n){const{source:r,target:a,sourceHandle:o=null,targetHandle:s=null}=i,l={edgeId:i.id,source:r,target:a,sourceHandle:o,targetHandle:s},c=`${r}-${o}--${a}-${s}`,u=`${a}-${s}--${r}-${o}`;Bu("source",l,u,e,r,o),Bu("target",l,c,e,a,s)}}function Lu(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function as(e,t,n,i,r,a,o,s){const l=[];for(const c of e){const u=Rn(c)?c:n0(c,s,r,a);if(!u)continue;const d=n(u.source),h=n(u.target);if(!d||!h){r(new et(Qe.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!d){r(new et(Qe.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!h){r(new et(Qe.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:s,nodes:o,sourceNode:d,targetNode:h})){r(new et(Qe.EDGE_INVALID,u.id));continue}const p=i(u.id);l.push({...Jp(u,p,a),sourceNode:d,targetNode:h})}return l}const qu=Symbol("vueFlow"),um=Symbol("nodeId"),dm=Symbol("nodeRef"),r0=Symbol("edgeId"),a0=Symbol("edgeRef"),ko=Symbol("slots");function hm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:i,noDragClassName:r,nodes:a,nodeExtent:o,nodeDragThreshold:s,viewport:l,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:d,panBy:h,findNode:p,multiSelectionActive:w,nodesSelectionActive:m,selectNodesOnDrag:k,removeSelectedElements:b,addSelectedNodes:S,updateNodePositions:_,emits:g}=je(),{onStart:D,onDrag:q,onStop:O,onClick:P,el:E,disabled:B,id:V,selectable:T,dragHandle:U}=e,f=gr(!1);let C=[],y,M=null,L={x:void 0,y:void 0},j={x:0,y:0},H=null,K=!1,te=0,se=!1;const ie=l0(),ce=({x:ye,y:R})=>{L={x:ye,y:R};let F=!1;if(C=C.map(N=>{const x={x:ye-N.distance.x,y:R-N.distance.y},{computedPosition:$}=Ul(N,n.value?_o(x,i.value):x,g.error,o.value,N.parentNode?p(N.parentNode):void 0);return F=F||N.position.x!==$.x||N.position.y!==$.y,N.position=$,N}),!!F&&(_(C,!0,!0),f.value=!0,H)){const[N,x]=ns({id:V,dragItems:C,findNode:p});q({event:H,node:N,nodes:x})}},ue=()=>{if(!M)return;const[ye,R]=om(j,M,u.value);if(ye!==0||R!==0){const F={x:(L.x??0)-ye/l.value.zoom,y:(L.y??0)-R/l.value.zoom};h({x:ye,y:R})&&ce(F)}te=requestAnimationFrame(ue)},ve=(ye,R)=>{K=!0;const F=p(V);!k.value&&!w.value&&F&&(F.selected||b()),F&&Ae(T)&&k.value&&Ws(F,w.value,S,b,m,!1,R);const N=ie(ye.sourceEvent);if(L=N,C=qT(a.value,d.value,N,p,V),C.length){const[x,$]=ns({id:V,dragItems:C,findNode:p});D({event:ye.sourceEvent,node:x,nodes:$})}},Oe=(ye,R)=>{var F;ye.sourceEvent.type==="touchmove"&&ye.sourceEvent.touches.length>1||(s.value===0&&ve(ye,R),L=ie(ye.sourceEvent),M=((F=t.value)==null?void 0:F.getBoundingClientRect())||null,j=Kt(ye.sourceEvent,M))},we=(ye,R)=>{const F=ie(ye.sourceEvent);if(!se&&K&&c.value&&(se=!0,ue()),!K){const N=F.xSnapped-(L.x??0),x=F.ySnapped-(L.y??0);Math.sqrt(N*N+x*x)>s.value&&ve(ye,R)}(L.x!==F.xSnapped||L.y!==F.ySnapped)&&C.length&&K&&(H=ye.sourceEvent,j=Kt(ye.sourceEvent,M),ce(F))},Se=ye=>{let R=!1;if(!K&&!f.value&&!w.value){const F=ye.sourceEvent,N=ie(F),x=N.xSnapped-(L.x??0),$=N.ySnapped-(L.y??0),A=Math.sqrt(x*x+$*$);A!==0&&A<=s.value&&(P?.(F),R=!0)}if(C.length&&!R){_(C,!1,!1);const[F,N]=ns({id:V,dragItems:C,findNode:p});O({event:ye.sourceEvent,node:F,nodes:N})}C=[],f.value=!1,se=!1,K=!1,L={x:void 0,y:void 0},cancelAnimationFrame(te)};return Ee([()=>Ae(B),E],([ye,R],F,N)=>{if(R){const x=St(R);ye||(y=AI().on("start",$=>Oe($,R)).on("drag",$=>we($,R)).on("end",$=>Se($)).filter($=>{const A=$.target,W=Ae(U);return!$.button&&(!r.value||!$u(A,`.${r.value}`,R)&&(!W||$u(A,W,R)))}),x.call(y)),N(()=>{x.on(".drag",null),y&&(y.on("start",null),y.on("drag",null),y.on("end",null))})}}),f}function o0(){return{doubleClick:me(),click:me(),mouseEnter:me(),mouseMove:me(),mouseLeave:me(),contextMenu:me(),updateStart:me(),update:me(),updateEnd:me()}}function s0(e,t){const n=o0();return n.doubleClick.on(i=>{var r,a;t.edgeDoubleClick(i),(a=(r=e.events)==null?void 0:r.doubleClick)==null||a.call(r,i)}),n.click.on(i=>{var r,a;t.edgeClick(i),(a=(r=e.events)==null?void 0:r.click)==null||a.call(r,i)}),n.mouseEnter.on(i=>{var r,a;t.edgeMouseEnter(i),(a=(r=e.events)==null?void 0:r.mouseEnter)==null||a.call(r,i)}),n.mouseMove.on(i=>{var r,a;t.edgeMouseMove(i),(a=(r=e.events)==null?void 0:r.mouseMove)==null||a.call(r,i)}),n.mouseLeave.on(i=>{var r,a;t.edgeMouseLeave(i),(a=(r=e.events)==null?void 0:r.mouseLeave)==null||a.call(r,i)}),n.contextMenu.on(i=>{var r,a;t.edgeContextMenu(i),(a=(r=e.events)==null?void 0:r.contextMenu)==null||a.call(r,i)}),n.updateStart.on(i=>{var r,a;t.edgeUpdateStart(i),(a=(r=e.events)==null?void 0:r.updateStart)==null||a.call(r,i)}),n.update.on(i=>{var r,a;t.edgeUpdate(i),(a=(r=e.events)==null?void 0:r.update)==null||a.call(r,i)}),n.updateEnd.on(i=>{var r,a;t.edgeUpdateEnd(i),(a=(r=e.events)==null?void 0:r.updateEnd)==null||a.call(r,i)}),Object.entries(n).reduce((i,[r,a])=>(i.emit[r]=a.trigger,i.on[r]=a.on,i),{emit:{},on:{}})}function l0(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:i}=je();return r=>{var a;const o=((a=i.value)==null?void 0:a.getBoundingClientRect())??{left:0,top:0},s=WT(r)?r.sourceEvent:r,{x:l,y:c}=Kt(s,o),u=Tr({x:l,y:c},e.value),{x:d,y:h}=n.value?_o(u,t.value):u;return{xSnapped:d,ySnapped:h,...u}}}function ea(){return!0}function pm({handleId:e,nodeId:t,type:n,isValidConnection:i,edgeUpdaterType:r,onEdgeUpdate:a,onEdgeUpdateEnd:o}){const{id:s,vueFlowRef:l,connectionMode:c,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:h,nodesConnectable:p,autoPanOnConnect:w,autoPanSpeed:m,findNode:k,panBy:b,startConnection:S,updateConnection:_,endConnection:g,emits:D,viewport:q,edges:O,nodes:P,isValidConnection:E,nodeLookup:B}=je();let V=null,T=!1,U=null;function f(y){var M;const L=Ae(n)==="target",j=jl(y),H=Nu(y.target);if(j&&y.button===0||!j){let K=function(ae){N=Kt(ae,ye),ce=ZT(Tr(N,q.value,!1,[1,1]),u.value,B.value,A),x||($(),x=!0);const ne=Du(ae,{handle:ce,connectionMode:c.value,fromNodeId:Ae(t),fromHandleId:Ae(e),fromType:L?"target":"source",isValidConnection:ie,doc:H,lib:"vue",flowId:s,nodeLookup:B.value},O.value,P.value,k);U=ne.handleDomNode,V=ne.connection,T=JT(!!ce,ne.isValid);const le={...G,isValid:T,to:ne.toHandle&&T?Us({x:ne.toHandle.x,y:ne.toHandle.y},q.value):N,toHandle:ne.toHandle,toPosition:T&&ne.toHandle?ne.toHandle.position:js[A.position],toNode:ne.toHandle?B.value.get(ne.toHandle.nodeId):null};if(!(T&&ce&&G?.toHandle&&le.toHandle&&G.toHandle.type===le.toHandle.type&&G.toHandle.nodeId===le.toHandle.nodeId&&G.toHandle.id===le.toHandle.id&&G.to.x===le.to.x&&G.to.y===le.to.y)){if(_(ce&&T?Us({x:ce.x,y:ce.y},q.value):N,ne.toHandle,QT(!!ce,T)),G=le,!ce&&!T&&!U)return is(F);V&&V.source!==V.target&&U&&(is(F),F=U,U.classList.add("connecting","vue-flow__handle-connecting"),U.classList.toggle("valid",!!T),U.classList.toggle("vue-flow__handle-valid",!!T))}},te=function(ae){(ce||U)&&V&&T&&(a?a(ae,V):D.connect(V)),D.connectEnd(ae),r&&o?.(ae),is(F),cancelAnimationFrame(ue),g(ae),x=!1,T=!1,V=null,U=null,H.removeEventListener("mousemove",K),H.removeEventListener("mouseup",te),H.removeEventListener("touchmove",K),H.removeEventListener("touchend",te)};const se=k(Ae(t));let ie=Ae(i)||E.value||ea;!ie&&se&&(ie=(L?se.isValidSourcePos:se.isValidTargetPos)||ea);let ce,ue=0;const{x:ve,y:Oe}=Kt(y),we=H?.elementFromPoint(ve,Oe),Se=lm(Ae(r),we),ye=(M=l.value)==null?void 0:M.getBoundingClientRect();if(!ye||!Se)return;const R=e0(Ae(t),Se,Ae(e),B.value,c.value);if(!R)return;let F,N=Kt(y,ye),x=!1;const $=()=>{if(!w.value)return;const[ae,ne]=om(N,ye,m.value);b({x:ae,y:ne}),ue=requestAnimationFrame($)},A={...R,nodeId:Ae(t),type:Se,position:R.position},W=B.value.get(Ae(t)),X={inProgress:!0,isValid:null,from:qi(W,A,be.Left,!0),fromHandle:A,fromPosition:A.position,fromNode:W,to:N,toHandle:null,toPosition:js[A.position],toNode:null};S({nodeId:Ae(t),id:Ae(e),type:Se,position:we?.getAttribute("data-handlepos")||be.Top,...N},{x:ve-ye.left,y:Oe-ye.top}),D.connectStart({event:y,nodeId:Ae(t),handleId:Ae(e),handleType:Se});let G=X;H.addEventListener("mousemove",K),H.addEventListener("mouseup",te),H.addEventListener("touchmove",K),H.addEventListener("touchend",te)}}function C(y){var M,L;if(!d.value)return;const j=Ae(n)==="target";if(!h.value){D.clickConnectStart({event:y,nodeId:Ae(t),handleId:Ae(e)}),S({nodeId:Ae(t),type:Ae(n),id:Ae(e),position:be.Top,...Kt(y)},void 0,!0);return}let H=Ae(i)||E.value||ea;const K=k(Ae(t));if(!H&&K&&(H=(j?K.isValidSourcePos:K.isValidTargetPos)||ea),K&&(typeof K.connectable>"u"?p.value:K.connectable)===!1)return;const te=Nu(y.target),se=Du(y,{handle:{nodeId:Ae(t),id:Ae(e),type:Ae(n),position:be.Top,...Kt(y)},connectionMode:c.value,fromNodeId:h.value.nodeId,fromHandleId:h.value.id??null,fromType:h.value.type,isValidConnection:H,doc:te,lib:"vue",flowId:s,nodeLookup:B.value},O.value,P.value,k),ie=((M=se.connection)==null?void 0:M.source)===((L=se.connection)==null?void 0:L.target);se.isValid&&se.connection&&!ie&&D.connect(se.connection),D.clickConnectEnd(y),g(y,!0)}return{handlePointerDown:f,handleClick:C}}function c0(){return $e(um,"")}function mm(e){const t=e??c0()??"",n=$e(dm,re(null)),{findNode:i,edges:r,emits:a}=je(),o=i(t);return o||a.error(new et(Qe.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:o,parentNode:Q(()=>i(o.parentNode)),connectedEdges:Q(()=>Qn([o],r.value))}}function u0(){return{doubleClick:me(),click:me(),mouseEnter:me(),mouseMove:me(),mouseLeave:me(),contextMenu:me(),dragStart:me(),drag:me(),dragStop:me()}}function d0(e,t){const n=u0();return n.doubleClick.on(i=>{var r,a;t.nodeDoubleClick(i),(a=(r=e.events)==null?void 0:r.doubleClick)==null||a.call(r,i)}),n.click.on(i=>{var r,a;t.nodeClick(i),(a=(r=e.events)==null?void 0:r.click)==null||a.call(r,i)}),n.mouseEnter.on(i=>{var r,a;t.nodeMouseEnter(i),(a=(r=e.events)==null?void 0:r.mouseEnter)==null||a.call(r,i)}),n.mouseMove.on(i=>{var r,a;t.nodeMouseMove(i),(a=(r=e.events)==null?void 0:r.mouseMove)==null||a.call(r,i)}),n.mouseLeave.on(i=>{var r,a;t.nodeMouseLeave(i),(a=(r=e.events)==null?void 0:r.mouseLeave)==null||a.call(r,i)}),n.contextMenu.on(i=>{var r,a;t.nodeContextMenu(i),(a=(r=e.events)==null?void 0:r.contextMenu)==null||a.call(r,i)}),n.dragStart.on(i=>{var r,a;t.nodeDragStart(i),(a=(r=e.events)==null?void 0:r.dragStart)==null||a.call(r,i)}),n.drag.on(i=>{var r,a;t.nodeDrag(i),(a=(r=e.events)==null?void 0:r.drag)==null||a.call(r,i)}),n.dragStop.on(i=>{var r,a;t.nodeDragStop(i),(a=(r=e.events)==null?void 0:r.dragStop)==null||a.call(r,i)}),Object.entries(n).reduce((i,[r,a])=>(i.emit[r]=a.trigger,i.on[r]=a.on,i),{emit:{},on:{}})}function gm(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:i,snapGrid:r,snapToGrid:a,nodesDraggable:o,emits:s}=je();return(l,c=!1)=>{const u=a.value?r.value[0]:5,d=a.value?r.value[1]:5,h=c?4:1,p=l.x*u*h,w=l.y*d*h,m=[];for(const k of e.value)if(k.draggable||o&&typeof k.draggable>"u"){const b={x:k.computedPosition.x+p,y:k.computedPosition.y+w},{computedPosition:S}=Ul(k,b,s.error,t.value,k.parentNode?i(k.parentNode):void 0);m.push({id:k.id,position:S,from:k.position,distance:{x:l.x,y:l.y},dimensions:k.dimensions})}n(m,!0,!1)}}const os=.1,h0=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function wn(){return Oo("Viewport not initialized yet."),Promise.resolve(!1)}const p0={zoomIn:wn,zoomOut:wn,zoomTo:wn,fitView:wn,setCenter:wn,fitBounds:wn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:wn,setTransform:wn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function m0(e){function t(i,r){return new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?ur:pa).scaleBy(ss(e.d3Selection,r?.duration,r?.ease,()=>{a(!0)}),i):a(!1)})}function n(i,r,a,o){return new Promise(s=>{var l;const{x:c,y:u}=Qp({x:-i,y:-r},e.translateExtent),d=Li.translate(-c,-u).scale(a);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate(o?.interpolate==="linear"?ur:pa).transform(ss(e.d3Selection,o?.duration,o?.ease,()=>{s(!0)}),d):s(!1)})}return Q(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,a)=>new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(a?.interpolate==="linear"?ur:pa).scaleTo(ss(e.d3Selection,a?.duration,a?.ease,()=>{o(!0)}),r):o(!1)}),setViewport:(r,a)=>n(r.x,r.y,r.zoom,a),setTransform:(r,a)=>n(r.x,r.y,r.zoom,a),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:os,includeHiddenNodes:!1,duration:0})=>{var a,o;const s=[];for(const h of e.nodes)h.dimensions.width&&h.dimensions.height&&(r?.includeHiddenNodes||!h.hidden)&&(!((a=r.nodes)!=null&&a.length)||(o=r.nodes)!=null&&o.length&&r.nodes.includes(h.id))&&s.push(h);if(!s.length)return Promise.resolve(!1);const l=Hl(s),{x:c,y:u,zoom:d}=Tu(l,e.dimensions.width,e.dimensions.height,r.minZoom??e.minZoom,r.maxZoom??e.maxZoom,r.padding??os,r.offset);return n(c,u,d,r)},setCenter:(r,a,o)=>{const s=typeof o?.zoom<"u"?o.zoom:e.maxZoom,l=e.dimensions.width/2-r*s,c=e.dimensions.height/2-a*s;return n(l,c,s,o)},fitBounds:(r,a={padding:os})=>{const{x:o,y:s,zoom:l}=Tu(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,a.padding);return n(o,s,l,a)},project:r=>Tr(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:a,y:o}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x-a,y:r.y-o};return Tr(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:a,y:o}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x+a,y:r.y+o};return Us(s,e.viewport)}return{x:0,y:0}}}:p0)}function ss(e,t=0,n=h0,i=()=>{}){const r=typeof t=="number"&&t>0;return r||i(),r?e.transition().duration(t).ease(n).on("end",i):e}function g0(e,t,n){const i=bd(!0);return i.run(()=>{const r=()=>{i.run(()=>{let m,k,b=!!(n.nodes.value.length||n.edges.value.length);m=gi([e.modelValue,()=>{var S,_;return(_=(S=e.modelValue)==null?void 0:S.value)==null?void 0:_.length}],([S])=>{S&&Array.isArray(S)&&(k?.pause(),n.setElements(S),!k&&!b&&S.length?b=!0:k?.resume())}),k=gi([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([S,_])=>{var g;(g=e.modelValue)!=null&&g.value&&Array.isArray(e.modelValue.value)&&(m?.pause(),e.modelValue.value=[...S,..._],bt(()=>{m?.resume()}))},{immediate:b}),la(()=>{m?.stop(),k?.stop()})})},a=()=>{i.run(()=>{let m,k,b=!!n.nodes.value.length;m=gi([e.nodes,()=>{var S,_;return(_=(S=e.nodes)==null?void 0:S.value)==null?void 0:_.length}],([S])=>{S&&Array.isArray(S)&&(k?.pause(),n.setNodes(S),!k&&!b&&S.length?b=!0:k?.resume())}),k=gi([n.nodes,()=>n.nodes.value.length],([S])=>{var _;(_=e.nodes)!=null&&_.value&&Array.isArray(e.nodes.value)&&(m?.pause(),e.nodes.value=[...S],bt(()=>{m?.resume()}))},{immediate:b}),la(()=>{m?.stop(),k?.stop()})})},o=()=>{i.run(()=>{let m,k,b=!!n.edges.value.length;m=gi([e.edges,()=>{var S,_;return(_=(S=e.edges)==null?void 0:S.value)==null?void 0:_.length}],([S])=>{S&&Array.isArray(S)&&(k?.pause(),n.setEdges(S),!k&&!b&&S.length?b=!0:k?.resume())}),k=gi([n.edges,()=>n.edges.value.length],([S])=>{var _;(_=e.edges)!=null&&_.value&&Array.isArray(e.edges.value)&&(m?.pause(),e.edges.value=[...S],bt(()=>{m?.resume()}))},{immediate:b}),la(()=>{m?.stop(),k?.stop()})})},s=()=>{i.run(()=>{Ee(()=>t.maxZoom,()=>{t.maxZoom&&Ze(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{i.run(()=>{Ee(()=>t.minZoom,()=>{t.minZoom&&Ze(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{i.run(()=>{Ee(()=>t.translateExtent,()=>{t.translateExtent&&Ze(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{i.run(()=>{Ee(()=>t.nodeExtent,()=>{t.nodeExtent&&Ze(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{i.run(()=>{Ee(()=>t.applyDefault,()=>{Ze(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},h=()=>{i.run(()=>{const m=async k=>{let b=k;typeof t.autoConnect=="function"&&(b=await t.autoConnect(k)),b!==!1&&n.addEdges([b])};Ee(()=>t.autoConnect,()=>{Ze(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ee(n.autoConnect,(k,b,S)=>{k?n.onConnect(m):n.hooks.value.connect.off(m),S(()=>{n.hooks.value.connect.off(m)})},{immediate:!0})})},p=()=>{const m=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const k of Object.keys(t)){const b=k;if(!m.includes(b)){const S=qe(()=>t[b]),_=n[b];Ye(_)&&i.run(()=>{Ee(S,g=>{Ze(g)&&(_.value=g)},{immediate:!0})})}}};(()=>{r(),a(),o(),l(),s(),c(),u(),d(),h(),p()})()}),()=>i.stop()}function f0(){return{edgesChange:me(),nodesChange:me(),nodeDoubleClick:me(),nodeClick:me(),nodeMouseEnter:me(),nodeMouseMove:me(),nodeMouseLeave:me(),nodeContextMenu:me(),nodeDragStart:me(),nodeDrag:me(),nodeDragStop:me(),nodesInitialized:me(),miniMapNodeClick:me(),miniMapNodeDoubleClick:me(),miniMapNodeMouseEnter:me(),miniMapNodeMouseMove:me(),miniMapNodeMouseLeave:me(),connect:me(),connectStart:me(),connectEnd:me(),clickConnectStart:me(),clickConnectEnd:me(),paneReady:me(),init:me(),move:me(),moveStart:me(),moveEnd:me(),selectionDragStart:me(),selectionDrag:me(),selectionDragStop:me(),selectionContextMenu:me(),selectionStart:me(),selectionEnd:me(),viewportChangeStart:me(),viewportChange:me(),viewportChangeEnd:me(),paneScroll:me(),paneClick:me(),paneContextMenu:me(),paneMouseEnter:me(),paneMouseMove:me(),paneMouseLeave:me(),edgeContextMenu:me(),edgeMouseEnter:me(),edgeMouseMove:me(),edgeMouseLeave:me(),edgeDoubleClick:me(),edgeClick:me(),edgeUpdateStart:me(),edgeUpdate:me(),edgeUpdateEnd:me(),updateNodeInternals:me(),error:me(e=>Oo(e.message))}}function y0(e,t){Qd(()=>{for(const[n,i]of Object.entries(t.value)){const r=a=>{e(n,a)};i.fns.add(r),go(()=>{i.off(r)})}})}function fm(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Vl.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:dr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Zn.Bezier,style:{}},connectionMode:zn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Fa()?"Meta":"Control",zoomActivationKeyCode:Fa()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:f0(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const v0=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function b0(e,t,n){const i=m0(e),r=N=>{const x=N??[];e.hooks.updateNodeInternals.trigger(x)},a=N=>zT(N,e.nodes,e.edges),o=N=>DT(N,e.nodes,e.edges),s=N=>Qn(N,e.edges),l=({id:N,type:x,nodeId:$})=>{var A;return Array.from(((A=e.connectionLookup.get(`${$}-${x}-${N??null}`))==null?void 0:A.values())??[])},c=N=>{if(N)return t.value.get(N)},u=N=>{if(N)return n.value.get(N)},d=(N,x,$)=>{var A,W;const Y=[];for(const X of N){const G={id:X.id,type:"position",dragging:$,from:X.from};if(x&&(G.position=X.position,X.parentNode)){const ae=c(X.parentNode);G.position={x:G.position.x-(((A=ae?.computedPosition)==null?void 0:A.x)??0),y:G.position.y-(((W=ae?.computedPosition)==null?void 0:W.y)??0)}}Y.push(G)}Y?.length&&e.hooks.nodesChange.trigger(Y)},h=N=>{if(!e.vueFlowRef)return;const x=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!x)return;const $=window.getComputedStyle(x),{m22:A}=new window.DOMMatrixReadOnly($.transform),W=[];for(const Y of N){const X=Y,G=c(X.id);if(G){const ae=wo(X.nodeElement);if(!!(ae.width&&ae.height&&(G.dimensions.width!==ae.width||G.dimensions.height!==ae.height||X.forceUpdate))){const le=X.nodeElement.getBoundingClientRect();G.dimensions=ae,G.handleBounds.source=zu("source",X.nodeElement,le,A,G.id),G.handleBounds.target=zu("target",X.nodeElement,le,A,G.id),W.push({id:G.id,type:"dimensions",dimensions:ae})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&i.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),W.length&&e.hooks.nodesChange.trigger(W)},p=(N,x)=>{const $=new Set,A=new Set;for(const X of N)ri(X)?$.add(X.id):Rn(X)&&A.add(X.id);const W=Sn(t.value,$,!0),Y=Sn(n.value,A);if(e.multiSelectionActive){for(const X of $)W.push(kn(X,x));for(const X of A)Y.push(kn(X,x))}W.length&&e.hooks.nodesChange.trigger(W),Y.length&&e.hooks.edgesChange.trigger(Y)},w=N=>{if(e.multiSelectionActive){const x=N.map($=>kn($.id,!0));e.hooks.nodesChange.trigger(x);return}e.hooks.nodesChange.trigger(Sn(t.value,new Set(N.map(x=>x.id)),!0)),e.hooks.edgesChange.trigger(Sn(n.value))},m=N=>{if(e.multiSelectionActive){const x=N.map($=>kn($.id,!0));e.hooks.edgesChange.trigger(x);return}e.hooks.edgesChange.trigger(Sn(n.value,new Set(N.map(x=>x.id)))),e.hooks.nodesChange.trigger(Sn(t.value,new Set,!0))},k=N=>{p(N,!0)},b=N=>{const $=(N||e.nodes).map(A=>(A.selected=!1,kn(A.id,!1)));e.hooks.nodesChange.trigger($)},S=N=>{const $=(N||e.edges).map(A=>(A.selected=!1,kn(A.id,!1)));e.hooks.edgesChange.trigger($)},_=N=>{if(!N||!N.length)return p([],!1);const x=N.reduce(($,A)=>{const W=kn(A.id,!1);return ri(A)?$.nodes.push(W):$.edges.push(W),$},{nodes:[],edges:[]});x.nodes.length&&e.hooks.nodesChange.trigger(x.nodes),x.edges.length&&e.hooks.edgesChange.trigger(x.edges)},g=N=>{var x;(x=e.d3Zoom)==null||x.scaleExtent([N,e.maxZoom]),e.minZoom=N},D=N=>{var x;(x=e.d3Zoom)==null||x.scaleExtent([e.minZoom,N]),e.maxZoom=N},q=N=>{var x;(x=e.d3Zoom)==null||x.translateExtent(N),e.translateExtent=N},O=N=>{e.nodeExtent=N,r()},P=N=>{var x;(x=e.d3Zoom)==null||x.clickDistance(N)},E=N=>{e.nodesDraggable=N,e.nodesConnectable=N,e.elementsSelectable=N},B=N=>{const x=N instanceof Function?N(e.nodes):N;!e.initialized&&!x.length||(e.nodes=Ru(x,c,e.hooks.error.trigger))},V=N=>{const x=N instanceof Function?N(e.edges):N;if(!e.initialized&&!x.length)return;const $=as(x,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);rs(e.connectionLookup,n.value,$),e.edges=$},T=N=>{const x=N instanceof Function?N([...e.nodes,...e.edges]):N;!e.initialized&&!x.length||(B(x.filter(ri)),V(x.filter(Rn)))},U=N=>{let x=N instanceof Function?N(e.nodes):N;x=Array.isArray(x)?x:[x];const $=Ru(x,c,e.hooks.error.trigger),A=[];for(const W of $)A.push(Su(W));A.length&&e.hooks.nodesChange.trigger(A)},f=N=>{let x=N instanceof Function?N(e.edges):N;x=Array.isArray(x)?x:[x];const $=as(x,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),A=[];for(const W of $)A.push(Su(W));A.length&&e.hooks.edgesChange.trigger(A)},C=(N,x=!0,$=!1)=>{const A=N instanceof Function?N(e.nodes):N,W=Array.isArray(A)?A:[A],Y=[],X=[];function G(ne){const le=s(ne);for(const pe of le)(!Ze(pe.deletable)||pe.deletable)&&X.push(Eu(pe.id,pe.source,pe.target,pe.sourceHandle,pe.targetHandle))}function ae(ne){const le=[];for(const pe of e.nodes)pe.parentNode===ne&&le.push(pe);if(le.length){for(const pe of le)Y.push(Cu(pe.id));x&&G(le);for(const pe of le)ae(pe.id)}}for(const ne of W){const le=typeof ne=="string"?c(ne):ne;le&&(Ze(le.deletable)&&!le.deletable||(Y.push(Cu(le.id)),x&&G([le]),$&&ae(le.id)))}X.length&&e.hooks.edgesChange.trigger(X),Y.length&&e.hooks.nodesChange.trigger(Y)},y=N=>{const x=N instanceof Function?N(e.edges):N,$=Array.isArray(x)?x:[x],A=[];for(const W of $){const Y=typeof W=="string"?u(W):W;Y&&(Ze(Y.deletable)&&!Y.deletable||A.push(Eu(typeof W=="string"?W:W.id,Y.source,Y.target,Y.sourceHandle,Y.targetHandle)))}e.hooks.edgesChange.trigger(A)},M=(N,x,$=!0)=>{const A=u(N.id);if(!A)return!1;const W=e.edges.indexOf(A),Y=i0(N,x,A,$,e.hooks.error.trigger);if(Y){const[X]=as([Y],e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((G,ae)=>ae===W?X:G),rs(e.connectionLookup,n.value,[X]),X}return!1},L=(N,x,$={replace:!1})=>{const A=u(N);if(!A)return;const W=typeof x=="function"?x(A):x;A.data=$.replace?W:{...A.data,...W}},j=N=>xu(N,e.nodes),H=N=>{const x=xu(N,e.edges);return rs(e.connectionLookup,n.value,x),x},K=(N,x,$={replace:!1})=>{const A=c(N);if(!A)return;const W=typeof x=="function"?x(A):x;$.replace?e.nodes.splice(e.nodes.indexOf(A),1,W):Object.assign(A,W)},te=(N,x,$={replace:!1})=>{const A=c(N);if(!A)return;const W=typeof x=="function"?x(A):x;A.data=$.replace?W:{...A.data,...W}},se=(N,x,$=!1)=>{$?e.connectionClickStartHandle=N:e.connectionStartHandle=N,e.connectionEndHandle=null,e.connectionStatus=null,x&&(e.connectionPosition=x)},ie=(N,x=null,$=null)=>{e.connectionStartHandle&&(e.connectionPosition=N,e.connectionEndHandle=x,e.connectionStatus=$)},ce=(N,x)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,x?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ue=N=>{const x=AT(N),$=x?null:tr(N)?N:c(N.id);return!x&&!$?[null,null,x]:[x?N:Ba($),$,x]},ve=(N,x=!0,$=e.nodes)=>{const[A,W,Y]=ue(N);if(!A)return[];const X=[];for(const G of $||e.nodes){if(!Y&&(G.id===W.id||!G.computedPosition))continue;const ae=Ba(G),ne=La(ae,A);(x&&ne>0||ne>=Number(A.width)*Number(A.height))&&X.push(G)}return X},Oe=(N,x,$=!0)=>{const[A]=ue(N);if(!A)return!1;const W=La(A,x);return $&&W>0||W>=Number(A.width)*Number(A.height)},we=N=>{const{viewport:x,dimensions:$,d3Zoom:A,d3Selection:W,translateExtent:Y}=e;if(!A||!W||!N.x&&!N.y)return!1;const X=Li.translate(x.x+N.x,x.y+N.y).scale(x.zoom),G=[[0,0],[$.width,$.height]],ae=A.constrain()(X,G,Y),ne=e.viewport.x!==ae.x||e.viewport.y!==ae.y||e.viewport.zoom!==ae.k;return A.transform(W,ae),ne},Se=N=>{const x=N instanceof Function?N(e):N,$=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ze(x.defaultEdgeOptions)&&(e.defaultEdgeOptions=x.defaultEdgeOptions);const A=x.modelValue||x.nodes||x.edges?[]:void 0;A&&(x.modelValue&&A.push(...x.modelValue),x.nodes&&A.push(...x.nodes),x.edges&&A.push(...x.edges),T(A));const W=()=>{Ze(x.maxZoom)&&D(x.maxZoom),Ze(x.minZoom)&&g(x.minZoom),Ze(x.translateExtent)&&q(x.translateExtent)};for(const Y of Object.keys(x)){const X=Y,G=x[X];![...v0,...$].includes(X)&&Ze(G)&&(e[X]=G)}As(()=>e.d3Zoom).not.toBeNull().then(W),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:h,setElements:T,setNodes:B,setEdges:V,addNodes:U,addEdges:f,removeNodes:C,removeEdges:y,findNode:c,findEdge:u,updateEdge:M,updateEdgeData:L,updateNode:K,updateNodeData:te,applyEdgeChanges:H,applyNodeChanges:j,addSelectedElements:k,addSelectedNodes:w,addSelectedEdges:m,setMinZoom:g,setMaxZoom:D,setTranslateExtent:q,setNodeExtent:O,setPaneClickDistance:P,removeSelectedElements:_,removeSelectedNodes:b,removeSelectedEdges:S,startConnection:se,updateConnection:ie,endConnection:ce,setInteractive:E,setState:Se,getIntersectingNodes:ve,getIncomers:a,getOutgoers:o,getConnectedEdges:s,getHandleConnections:l,isNodeIntersecting:Oe,panBy:we,fitView:N=>i.value.fitView(N),zoomIn:N=>i.value.zoomIn(N),zoomOut:N=>i.value.zoomOut(N),zoomTo:(N,x)=>i.value.zoomTo(N,x),setViewport:(N,x)=>i.value.setViewport(N,x),setTransform:(N,x)=>i.value.setTransform(N,x),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(N,x,$)=>i.value.setCenter(N,x,$),fitBounds:(N,x)=>i.value.fitBounds(N,x),project:N=>i.value.project(N),screenToFlowCoordinate:N=>i.value.screenToFlowCoordinate(N),flowToScreenCoordinate:N=>i.value.flowToScreenCoordinate(N),toObject:()=>{const N=[],x=[];for(const $ of e.nodes){const{computedPosition:A,handleBounds:W,selected:Y,dimensions:X,isParent:G,resizing:ae,dragging:ne,events:le,...pe}=$;N.push(pe)}for(const $ of e.edges){const{selected:A,sourceNode:W,targetNode:Y,events:X,...G}=$;x.push(G)}return JSON.parse(JSON.stringify({nodes:N,edges:x,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:N=>new Promise(x=>{const{nodes:$,edges:A,position:W,zoom:Y,viewport:X}=N;if($&&B($),A&&V(A),X?.x&&X?.y||W){const G=X?.x||W[0],ae=X?.y||W[1],ne=X?.zoom||Y||e.viewport.zoom;return As(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:G,y:ae,zoom:ne}).then(()=>{x(!0)})})}else x(!0)}),updateNodeInternals:r,viewportHelper:i,$reset:()=>{const N=fm();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const x=Li.translate(N.defaultViewport.x??0,N.defaultViewport.y??0).scale(di(N.defaultViewport.zoom??1,N.minZoom,N.maxZoom)),$=e.viewportRef.getBoundingClientRect(),A=[[0,0],[$.width,$.height]],W=e.d3Zoom.constrain()(x,A,N.translateExtent);e.d3Zoom.transform(e.d3Selection,W)}Se(N)},$destroy:()=>{}}}const w0=["data-id","data-handleid","data-nodeid","data-handlepos"],_0={name:"Handle",compatConfig:{MODE:3}},Va=de({..._0,props:{id:{default:null},type:{},position:{default:()=>be.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=sf(e,["position","connectable","connectableStart","connectableEnd","id"]),i=qe(()=>n.type??"source"),r=qe(()=>n.isValidConnection??null),{id:a,connectionStartHandle:o,connectionClickStartHandle:s,connectionEndHandle:l,vueFlowRef:c,nodesConnectable:u,noDragClassName:d,noPanClassName:h}=je(),{id:p,node:w,nodeEl:m,connectedEdges:k}=mm(),b=re(),S=qe(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),_=qe(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),g=qe(()=>{var V,T,U,f,C,y;return((V=o.value)==null?void 0:V.nodeId)===p&&((T=o.value)==null?void 0:T.id)===e.id&&((U=o.value)==null?void 0:U.type)===i.value||((f=l.value)==null?void 0:f.nodeId)===p&&((C=l.value)==null?void 0:C.id)===e.id&&((y=l.value)==null?void 0:y.type)===i.value}),D=qe(()=>{var V,T,U;return((V=s.value)==null?void 0:V.nodeId)===p&&((T=s.value)==null?void 0:T.id)===e.id&&((U=s.value)==null?void 0:U.type)===i.value}),{handlePointerDown:q,handleClick:O}=pm({nodeId:p,handleId:e.id,isValidConnection:r,type:i}),P=Q(()=>typeof e.connectable=="string"&&e.connectable==="single"?!k.value.some(V=>{const T=V[`${i.value}Handle`];return V[i.value]!==p?!1:T?T===e.id:!0}):typeof e.connectable=="number"?k.value.filter(V=>{const T=V[`${i.value}Handle`];return V[i.value]!==p?!1:T?T===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(w,k.value):Ze(e.connectable)?e.connectable:u.value);at(()=>{var V;if(!w.dimensions.width||!w.dimensions.height)return;const T=(V=w.handleBounds[i.value])==null?void 0:V.find(j=>j.id===e.id);if(!c.value||T)return;const U=c.value.querySelector(".vue-flow__transformationpane");if(!m.value||!b.value||!U||!e.id)return;const f=m.value.getBoundingClientRect(),C=b.value.getBoundingClientRect(),y=window.getComputedStyle(U),{m22:M}=new window.DOMMatrixReadOnly(y.transform),L={id:e.id,position:e.position,x:(C.left-f.left)/M,y:(C.top-f.top)/M,type:i.value,nodeId:p,...wo(b.value)};w.handleBounds[i.value]=[...w.handleBounds[i.value]??[],L]});function E(V){const T=jl(V);P.value&&S.value&&(T&&V.button===0||!T)&&q(V)}function B(V){!p||!s.value&&!S.value||P.value&&O(V)}return t({handleClick:O,handlePointerDown:q,onClick:B,onPointerDown:E}),(V,T)=>(I(),z("div",{ref_key:"handle",ref:b,"data-id":`${ee(a)}-${ee(p)}-${e.id}-${i.value}`,"data-handleid":e.id,"data-nodeid":ee(p),"data-handlepos":V.position,class:ge(["vue-flow__handle",[`vue-flow__handle-${V.position}`,`vue-flow__handle-${e.id}`,ee(d),ee(h),i.value,{connectable:P.value,connecting:D.value,connectablestart:S.value,connectableend:_.value,connectionindicator:P.value&&(S.value&&!g.value||_.value&&g.value)}]]),onMousedown:E,onTouchstartPassive:E,onClick:B},[We(V.$slots,"default",{id:V.id})],42,w0))}}),Io=function({sourcePosition:e=be.Bottom,targetPosition:t=be.Top,label:n,connectable:i=!0,isValidTargetPos:r,isValidSourcePos:a,data:o}){const s=o.label??n;return[Re(Va,{type:"target",position:t,connectable:i,isValidConnection:r}),typeof s!="string"&&s?Re(s):Re(he,[s]),Re(Va,{type:"source",position:e,connectable:i,isValidConnection:a})]};Io.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Io.inheritAttrs=!1;Io.compatConfig={MODE:3};const O0=Io,No=function({targetPosition:e=be.Top,label:t,connectable:n=!0,isValidTargetPos:i,data:r}){const a=r.label??t;return[Re(Va,{type:"target",position:e,connectable:n,isValidConnection:i}),typeof a!="string"&&a?Re(a):Re(he,[a])]};No.props=["targetPosition","label","isValidTargetPos","connectable","data"];No.inheritAttrs=!1;No.compatConfig={MODE:3};const k0=No,To=function({sourcePosition:e=be.Bottom,label:t,connectable:n=!0,isValidSourcePos:i,data:r}){const a=r.label??t;return[typeof a!="string"&&a?Re(a):Re(he,[a]),Re(Va,{type:"source",position:e,connectable:n,isValidConnection:i})]};To.props=["sourcePosition","label","isValidSourcePos","connectable","data"];To.inheritAttrs=!1;To.compatConfig={MODE:3};const I0=To,N0=["transform"],T0=["width","height","x","y","rx","ry"],P0=["y"],x0={name:"EdgeText",compatConfig:{MODE:3}},S0=de({...x0,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=re({x:0,y:0,width:0,height:0}),n=re(null),i=Q(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);at(r),Ee([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const a=n.value.getBBox();(a.width!==t.value.width||a.height!==t.value.height)&&(t.value=a)}return(a,o)=>(I(),z("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[a.labelShowBg?(I(),z("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*a.labelBgPadding[0]}px`,height:`${t.value.height+2*a.labelBgPadding[1]}px`,x:-a.labelBgPadding[0],y:-a.labelBgPadding[1],style:He(a.labelBgStyle),rx:a.labelBgBorderRadius,ry:a.labelBgBorderRadius},null,12,T0)):Z("",!0),v("text",br(a.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:a.labelStyle}),[We(a.$slots,"default",{},()=>[typeof a.label!="string"?(I(),fe(Wn(a.label),{key:0})):(I(),z(he,{key:1},[Le(J(a.label),1)],64))])],16,P0)],8,N0))}}),C0=["id","d","marker-end","marker-start"],E0=["d","stroke-width"],$0={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Po=de({...$0,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=re(null),i=re(null),r=re(null),a=yl();return t({pathEl:n,interactionEl:i,labelEl:r}),(o,s)=>(I(),z(he,null,[v("path",br(ee(a),{id:o.id,ref_key:"pathEl",ref:n,d:o.path,class:"vue-flow__edge-path","marker-end":o.markerEnd,"marker-start":o.markerStart}),null,16,C0),o.interactionWidth?(I(),z("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:o.path,"stroke-width":o.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,E0)):Z("",!0),o.label&&o.labelX&&o.labelY?(I(),fe(S0,{key:1,ref_key:"labelEl",ref:r,x:o.labelX,y:o.labelY,label:o.label,"label-show-bg":o.labelShowBg,"label-bg-style":o.labelBgStyle,"label-bg-padding":o.labelBgPadding,"label-bg-border-radius":o.labelBgBorderRadius,"label-style":o.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Z("",!0)],64))}});function ym({sourceX:e,sourceY:t,targetX:n,targetY:i}){const r=Math.abs(n-e)/2,a=n<e?n+r:n-r,o=Math.abs(i-t)/2,s=i<t?i+o:i-o;return[a,s,r,o]}function vm({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:r,sourceControlY:a,targetControlX:o,targetControlY:s}){const l=e*.125+r*.375+o*.375+n*.125,c=t*.125+a*.375+s*.375+i*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function ta(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Fu({pos:e,x1:t,y1:n,x2:i,y2:r,c:a}){let o,s;switch(e){case be.Left:o=t-ta(t-i,a),s=n;break;case be.Right:o=t+ta(i-t,a),s=n;break;case be.Top:o=t,s=n-ta(n-r,a);break;case be.Bottom:o=t,s=n+ta(r-n,a);break}return[o,s]}function bm(e){const{sourceX:t,sourceY:n,sourcePosition:i=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top,curvature:s=.25}=e,[l,c]=Fu({pos:i,x1:t,y1:n,x2:r,y2:a,c:s}),[u,d]=Fu({pos:o,x1:r,y1:a,x2:t,y2:n,c:s}),[h,p,w,m]=vm({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${c} ${u},${d} ${r},${a}`,h,p,w,m]}function Vu({pos:e,x1:t,y1:n,x2:i,y2:r}){let a,o;switch(e){case be.Left:case be.Right:a=.5*(t+i),o=n;break;case be.Top:case be.Bottom:a=t,o=.5*(n+r);break}return[a,o]}function wm(e){const{sourceX:t,sourceY:n,sourcePosition:i=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top}=e,[s,l]=Vu({pos:i,x1:t,y1:n,x2:r,y2:a}),[c,u]=Vu({pos:o,x1:r,y1:a,x2:t,y2:n}),[d,h,p,w]=vm({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${s},${l} ${c},${u} ${r},${a}`,d,h,p,w]}const Hu={[be.Left]:{x:-1,y:0},[be.Right]:{x:1,y:0},[be.Top]:{x:0,y:-1},[be.Bottom]:{x:0,y:1}};function A0({source:e,sourcePosition:t=be.Bottom,target:n}){return t===be.Left||t===be.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Uu(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function M0({source:e,sourcePosition:t=be.Bottom,target:n,targetPosition:i=be.Top,center:r,offset:a}){const o=Hu[t],s=Hu[i],l={x:e.x+o.x*a,y:e.y+o.y*a},c={x:n.x+s.x*a,y:n.y+s.y*a},u=A0({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",h=u[d];let p,w,m;const k={x:0,y:0},b={x:0,y:0},[S,_,g,D]=ym({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){w=r.x??S,m=r.y??_;const O=[{x:w,y:l.y},{x:w,y:c.y}],P=[{x:l.x,y:m},{x:c.x,y:m}];o[d]===h?p=d==="x"?O:P:p=d==="x"?P:O}else{const O=[{x:l.x,y:c.y}],P=[{x:c.x,y:l.y}];if(d==="x"?p=o.x===h?P:O:p=o.y===h?O:P,t===i){const U=Math.abs(e[d]-n[d]);if(U<=a){const f=Math.min(a-1,a-U);o[d]===h?k[d]=(l[d]>e[d]?-1:1)*f:b[d]=(c[d]>n[d]?-1:1)*f}}if(t!==i){const U=d==="x"?"y":"x",f=o[d]===s[U],C=l[U]>c[U],y=l[U]<c[U];(o[d]===1&&(!f&&C||f&&y)||o[d]!==1&&(!f&&y||f&&C))&&(p=d==="x"?O:P)}const E={x:l.x+k.x,y:l.y+k.y},B={x:c.x+b.x,y:c.y+b.y},V=Math.max(Math.abs(E.x-p[0].x),Math.abs(B.x-p[0].x)),T=Math.max(Math.abs(E.y-p[0].y),Math.abs(B.y-p[0].y));V>=T?(w=(E.x+B.x)/2,m=p[0].y):(w=p[0].x,m=(E.y+B.y)/2)}return[[e,{x:l.x+k.x,y:l.y+k.y},...p,{x:c.x+b.x,y:c.y+b.y},n],w,m,g,D]}function D0(e,t,n,i){const r=Math.min(Uu(e,t)/2,Uu(t,n)/2,i),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${a+r*c},${o}Q ${a},${o} ${a},${o+r*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${a},${o+r*l}Q ${a},${o} ${a+r*s},${o}`}function Gs(e){const{sourceX:t,sourceY:n,sourcePosition:i=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e,[d,h,p,w,m]=M0({source:{x:t,y:n},sourcePosition:i,target:{x:r,y:a},targetPosition:o,center:{x:l,y:c},offset:u});return[d.reduce((b,S,_)=>{let g;return _>0&&_<d.length-1?g=D0(d[_-1],S,d[_+1],s):g=`${_===0?"M":"L"}${S.x} ${S.y}`,b+=g,b},""),h,p,w,m]}function z0(e){const{sourceX:t,sourceY:n,targetX:i,targetY:r}=e,[a,o,s,l]=ym({sourceX:t,sourceY:n,targetX:i,targetY:r});return[`M ${t},${n}L ${i},${r}`,a,o,s,l]}const R0=de({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,r]=z0(e);return Re(Po,{path:n,labelX:i,labelY:r,...t,...e})}}}),B0=R0,L0=de({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,r]=Gs({...e,sourcePosition:e.sourcePosition??be.Bottom,targetPosition:e.targetPosition??be.Top});return Re(Po,{path:n,labelX:i,labelY:r,...t,...e})}}}),_m=L0,q0=de({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Re(_m,{...e,...t,borderRadius:0})}}),F0=q0,V0=de({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,r]=bm({...e,sourcePosition:e.sourcePosition??be.Bottom,targetPosition:e.targetPosition??be.Top});return Re(Po,{path:n,labelX:i,labelY:r,...t,...e})}}}),H0=V0,U0=de({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,r]=wm({...e,sourcePosition:e.sourcePosition??be.Bottom,targetPosition:e.targetPosition??be.Top});return Re(Po,{path:n,labelX:i,labelY:r,...t,...e})}}}),j0=U0,W0={input:I0,default:O0,output:k0},G0={default:H0,straight:B0,step:F0,smoothstep:_m,simplebezier:j0};function K0(e,t,n){const i=Q(()=>m=>t.value.get(m)),r=Q(()=>m=>n.value.get(m)),a=Q(()=>{const m={...G0,...e.edgeTypes},k=Object.keys(m);for(const b of e.edges)b.type&&!k.includes(b.type)&&(m[b.type]=b.type);return m}),o=Q(()=>{const m={...W0,...e.nodeTypes},k=Object.keys(m);for(const b of e.nodes)b.type&&!k.includes(b.type)&&(m[b.type]=b.type);return m}),s=Q(()=>e.onlyRenderVisibleElements?rm(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=Q(()=>{if(e.onlyRenderVisibleElements){const m=[];for(const k of e.edges){const b=t.value.get(k.source),S=t.value.get(k.target);UT({sourcePos:b.computedPosition||{x:0,y:0},targetPos:S.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:S.dimensions.width,targetHeight:S.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&m.push(k)}return m}return e.edges}),c=Q(()=>[...s.value,...l.value]),u=Q(()=>{const m=[];for(const k of e.nodes)k.selected&&m.push(k);return m}),d=Q(()=>{const m=[];for(const k of e.edges)k.selected&&m.push(k);return m}),h=Q(()=>[...u.value,...d.value]),p=Q(()=>{const m=[];for(const k of e.nodes)k.dimensions.width&&k.dimensions.height&&k.handleBounds!==void 0&&m.push(k);return m}),w=Q(()=>s.value.length>0&&p.value.length===s.value.length);return{getNode:i,getEdge:r,getElements:c,getEdgeTypes:a,getNodeTypes:o,getEdges:l,getNodes:s,getSelectedElements:h,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:p,areNodesInitialized:w}}class Jn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Fn())==null?void 0:t.appContext.app,i=n?.config.globalProperties.$vueFlowStorage??Jn.instance;return Jn.instance=i??new Jn,n&&(n.config.globalProperties.$vueFlowStorage=Jn.instance),Jn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const i=fm(),r=Qt(i),a={};for(const[h,p]of Object.entries(r.hooks)){const w=`on${h.charAt(0).toUpperCase()+h.slice(1)}`;a[w]=p.on}const o={};for(const[h,p]of Object.entries(r.hooks))o[h]=p.trigger;const s=Q(()=>{const h=new Map;for(const p of r.nodes)h.set(p.id,p);return h}),l=Q(()=>{const h=new Map;for(const p of r.edges)h.set(p.id,p);return h}),c=K0(r,s,l),u=b0(r,s,l);u.setState({...r,...n});const d={...a,...c,...u,...VO(r),nodeLookup:s,edgeLookup:l,emits:o,id:t,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function je(e){const t=Jn.getInstance(),n=sl(),i=typeof e=="object",r=i?e:{id:e},a=r.id,o=a??n?.vueFlowId;let s;if(n){const l=$e(qu,null);typeof l<"u"&&l!==null&&(!o||l.id===o)&&(s=l)}if(s||o&&(s=t.get(o)),!s||o&&s.id!==o){const l=a??t.getId(),c=t.create(l,r);s=c,(n??bd(!0)).run(()=>{Ee(c.applyDefault,(d,h,p)=>{const w=k=>{c.applyNodeChanges(k)},m=k=>{c.applyEdgeChanges(k)};d?(c.onNodesChange(w),c.onEdgesChange(m)):(c.hooks.value.nodesChange.off(w),c.hooks.value.edgesChange.off(m)),p(()=>{c.hooks.value.nodesChange.off(w),c.hooks.value.edgesChange.off(m)})},{immediate:!0}),go(()=>{if(s){const d=t.get(s.id);d?d.$destroy():Oo(`No store instance found for id ${s.id} in storage.`)}})})}else i&&s.setState(r);if(n&&(Mn(qu,s),n.vueFlowId=s.id),i){const l=Fn();l?.type.name!=="VueFlow"&&s.emits.error(new et(Qe.USEVUEFLOW_OPTIONS))}return s}function X0(e){const{emits:t,dimensions:n}=je();let i;at(()=>{const r=e.value,a=()=>{if(!r)return;const o=wo(r);(o.width===0||o.height===0)&&t.error(new et(Qe.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:o.width||500,height:o.height||500}};a(),window.addEventListener("resize",a),r&&(i=new ResizeObserver(()=>a()),i.observe(r)),oo(()=>{window.removeEventListener("resize",a),i&&r&&i.unobserve(r)})})}const Y0={name:"UserSelection",compatConfig:{MODE:3}},Z0=de({...Y0,props:{userSelectionRect:{}},setup(e){return(t,n)=>(I(),z("div",{class:"vue-flow__selection vue-flow__container",style:He({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),Q0=["tabIndex"],J0={name:"NodesSelection",compatConfig:{MODE:3}},eP=de({...J0,setup(e){const{emits:t,viewport:n,getSelectedNodes:i,noPanClassName:r,disableKeyboardA11y:a,userSelectionActive:o}=je(),s=gm(),l=re(null),c=hm({el:l,onStart(w){t.selectionDragStart(w)},onDrag(w){t.selectionDrag(w)},onStop(w){t.selectionDragStop(w)}});at(()=>{var w;a.value||(w=l.value)==null||w.focus({preventScroll:!0})});const u=Q(()=>Hl(i.value)),d=Q(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function h(w){t.selectionContextMenu({event:w,nodes:i.value})}function p(w){a||$i[w.key]&&(w.preventDefault(),s({x:$i[w.key].x,y:$i[w.key].y},w.shiftKey))}return(w,m)=>!ee(o)&&u.value.width&&u.value.height?(I(),z("div",{key:0,class:ge(["vue-flow__nodesselection vue-flow__container",ee(r)]),style:He({transform:`translate(${ee(n).x}px,${ee(n).y}px) scale(${ee(n).zoom})`})},[v("div",{ref_key:"el",ref:l,class:ge([{dragging:ee(c)},"vue-flow__nodesselection-rect"]),style:He(d.value),tabIndex:ee(a)?void 0:-1,onContextmenu:h,onKeydown:p},null,46,Q0)],6)):Z("",!0)}});function tP(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const nP={name:"Pane",compatConfig:{MODE:3}},iP=de({...nP,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:i,emits:r,userSelectionActive:a,removeSelectedElements:o,userSelectionRect:s,elementsSelectable:l,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:d,removeNodes:h,removeEdges:p,selectionMode:w,deleteKeyCode:m,multiSelectionKeyCode:k,multiSelectionActive:b,edgeLookup:S,nodeLookup:_,connectionLookup:g,defaultEdgeOptions:D,connectionStartHandle:q}=je(),O=re(null),P=re(new Set),E=re(new Set),B=re(),V=qe(()=>l.value&&(e.isSelecting||a.value)),T=qe(()=>q.value!==null);let U=!1,f=!1;const C=hr(m,{actInsideInputWithModifier:!1}),y=hr(k);Ee(C,ie=>{ie&&(h(d.value),p(u.value),c.value=!1)}),Ee(y,ie=>{b.value=ie});function M(ie,ce){return ue=>{ue.target===ce&&ie?.(ue)}}function L(ie){if(U||T.value){U=!1;return}r.paneClick(ie),o(),c.value=!1}function j(ie){ie.preventDefault(),ie.stopPropagation(),r.paneContextMenu(ie)}function H(ie){r.paneScroll(ie)}function K(ie){var ce,ue,ve;if(B.value=(ce=t.value)==null?void 0:ce.getBoundingClientRect(),!l.value||!e.isSelecting||ie.button!==0||ie.target!==O.value||!B.value)return;(ve=(ue=ie.target)==null?void 0:ue.setPointerCapture)==null||ve.call(ue,ie.pointerId);const{x:Oe,y:we}=tP(ie,B.value);f=!0,U=!1,o(),s.value={width:0,height:0,startX:Oe,startY:we,x:Oe,y:we},r.selectionStart(ie)}function te(ie){var ce;if(!B.value||!s.value)return;U=!0;const{x:ue,y:ve}=Kt(ie,B.value),{startX:Oe=0,startY:we=0}=s.value,Se={startX:Oe,startY:we,x:ue<Oe?ue:Oe,y:ve<we?ve:we,width:Math.abs(ue-Oe),height:Math.abs(ve-we)},ye=P.value,R=E.value;P.value=new Set(rm(n.value,Se,i.value,w.value===Vl.Partial,!0).map(N=>N.id)),E.value=new Set;const F=((ce=D.value)==null?void 0:ce.selectable)??!0;for(const N of P.value){const x=g.value.get(N);if(x)for(const{edgeId:$}of x.values()){const A=S.value.get($);A&&(A.selectable??F)&&E.value.add($)}}if(!Lu(ye,P.value)){const N=Sn(_.value,P.value,!0);r.nodesChange(N)}if(!Lu(R,E.value)){const N=Sn(S.value,E.value);r.edgesChange(N)}s.value=Se,a.value=!0,c.value=!1}function se(ie){var ce;ie.button!==0||!f||((ce=ie.target)==null||ce.releasePointerCapture(ie.pointerId),!a.value&&s.value&&ie.target===O.value&&L(ie),a.value=!1,s.value=null,c.value=P.value.size>0,r.selectionEnd(ie),e.selectionKeyPressed&&(U=!1),f=!1)}return(ie,ce)=>(I(),z("div",{ref_key:"container",ref:O,class:ge(["vue-flow__pane vue-flow__container",{selection:ie.isSelecting}]),onClick:ce[0]||(ce[0]=ue=>V.value?void 0:M(L,O.value)(ue)),onContextmenu:ce[1]||(ce[1]=ue=>M(j,O.value)(ue)),onWheelPassive:ce[2]||(ce[2]=ue=>M(H,O.value)(ue)),onPointerenter:ce[3]||(ce[3]=ue=>V.value?void 0:ee(r).paneMouseEnter(ue)),onPointerdown:ce[4]||(ce[4]=ue=>V.value?K(ue):ee(r).paneMouseMove(ue)),onPointermove:ce[5]||(ce[5]=ue=>V.value?te(ue):ee(r).paneMouseMove(ue)),onPointerup:ce[6]||(ce[6]=ue=>V.value?se(ue):void 0),onPointerleave:ce[7]||(ce[7]=ue=>ee(r).paneMouseLeave(ue))},[We(ie.$slots,"default"),ee(a)&&ee(s)?(I(),fe(Z0,{key:0,"user-selection-rect":ee(s)},null,8,["user-selection-rect"])):Z("",!0),ee(c)&&ee(d).length?(I(),fe(eP,{key:1})):Z("",!0)],34))}}),rP={name:"Transform",compatConfig:{MODE:3}},aP=de({...rP,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:i}=je(),r=Q(()=>n.value?!i.value:!1),a=Q(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(o,s)=>(I(),z("div",{class:"vue-flow__transformationpane vue-flow__container",style:He({transform:a.value,opacity:r.value?0:void 0})},[We(o.$slots,"default")],4))}}),oP={name:"Viewport",compatConfig:{MODE:3}},sP=de({...oP,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:i,translateExtent:r,zoomActivationKeyCode:a,selectionKeyCode:o,panActivationKeyCode:s,panOnScroll:l,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:d,zoomOnDoubleClick:h,zoomOnPinch:p,zoomOnScroll:w,preventScrolling:m,noWheelClassName:k,noPanClassName:b,emits:S,connectionStartHandle:_,userSelectionActive:g,paneDragging:D,d3Zoom:q,d3Selection:O,d3ZoomHandler:P,viewport:E,viewportRef:B,paneClickDistance:V}=je();X0(B);const T=gr(!1),U=gr(!1);let f=null,C=!1,y=0,M={x:0,y:0,zoom:0};const L=hr(s),j=hr(o),H=hr(a),K=qe(()=>(!j.value||j.value&&o.value===!0)&&(L.value||d.value)),te=qe(()=>L.value||l.value),se=qe(()=>j.value||o.value===!0&&K.value!==!0);at(()=>{if(!B.value){Oo("Viewport element is missing");return}const we=B.value,Se=we.getBoundingClientRect(),ye=TT().clickDistance(V.value).scaleExtent([t.value,n.value]).translateExtent(r.value),R=St(we).call(ye),F=R.on("wheel.zoom"),N=Li.translate(i.value.x??0,i.value.y??0).scale(di(i.value.zoom??1,t.value,n.value)),x=[[0,0],[Se.width,Se.height]],$=ye.constrain()(N,x,r.value);ye.transform(R,$),ye.wheelDelta(ce),q.value=ye,O.value=R,P.value=F,E.value={x:$.x,y:$.y,zoom:$.k},ye.on("start",A=>{var W;if(!A.sourceEvent)return null;y=A.sourceEvent.button,T.value=!0;const Y=ve(A.transform);((W=A.sourceEvent)==null?void 0:W.type)==="mousedown"&&(D.value=!0),M=Y,S.viewportChangeStart(Y),S.moveStart({event:A,flowTransform:Y})}),ye.on("end",A=>{if(!A.sourceEvent)return null;if(T.value=!1,D.value=!1,ie(K.value,y??0)&&!C&&S.paneContextMenu(A.sourceEvent),C=!1,ue(M,A.transform)){const W=ve(A.transform);M=W,S.viewportChangeEnd(W),S.moveEnd({event:A,flowTransform:W})}}),ye.filter(A=>{var W;const Y=H.value||w.value,X=p.value&&A.ctrlKey,G=A.button;if(G===1&&A.type==="mousedown"&&(Oe(A,"vue-flow__node")||Oe(A,"vue-flow__edge")))return!0;if(!K.value&&!Y&&!te.value&&!h.value&&!p.value||g.value||!h.value&&A.type==="dblclick"||Oe(A,k.value)&&A.type==="wheel"||Oe(A,b.value)&&(A.type!=="wheel"||te.value&&A.type==="wheel"&&!H.value)||!p.value&&A.ctrlKey&&A.type==="wheel"||!Y&&!te.value&&!X&&A.type==="wheel")return!1;if(!p&&A.type==="touchstart"&&((W=A.touches)==null?void 0:W.length)>1)return A.preventDefault(),!1;if(!K.value&&(A.type==="mousedown"||A.type==="touchstart")||o.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&G===0||Array.isArray(d.value)&&!d.value.includes(G)&&(A.type==="mousedown"||A.type==="touchstart"))return!1;const ae=Array.isArray(d.value)&&d.value.includes(G)||o.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!G||G<=1;return(!A.ctrlKey||L.value||A.type==="wheel")&&ae}),Ee([g,K],()=>{g.value&&!T.value?ye.on("zoom",null):g.value||ye.on("zoom",A=>{E.value={x:A.transform.x,y:A.transform.y,zoom:A.transform.k};const W=ve(A.transform);C=ie(K.value,y??0),S.viewportChange(W),S.move({event:A,flowTransform:W})})},{immediate:!0}),Ee([g,te,c,H,p,m,k],()=>{te.value&&!H.value&&!g.value?R.on("wheel.zoom",A=>{if(Oe(A,k.value))return!1;const W=H.value||w.value,Y=p.value&&A.ctrlKey;if(!(!m.value||te.value||W||Y))return!1;A.preventDefault(),A.stopImmediatePropagation();const G=R.property("__zoom").k||1,ae=Fa();if(!L.value&&A.ctrlKey&&p.value&&ae){const De=Ut(A),ze=ce(A),lt=G*2**ze;ye.scaleTo(R,lt,De,A);return}const ne=A.deltaMode===1?20:1;let le=c.value===dr.Vertical?0:A.deltaX*ne,pe=c.value===dr.Horizontal?0:A.deltaY*ne;!ae&&A.shiftKey&&c.value!==dr.Vertical&&!le&&pe&&(le=pe,pe=0),ye.translateBy(R,-(le/G)*u.value,-(pe/G)*u.value);const xe=ve(R.property("__zoom"));f&&clearTimeout(f),U.value?(S.move({event:A,flowTransform:xe}),S.viewportChange(xe),f=setTimeout(()=>{S.moveEnd({event:A,flowTransform:xe}),S.viewportChangeEnd(xe),U.value=!1},150)):(U.value=!0,S.moveStart({event:A,flowTransform:xe}),S.viewportChangeStart(xe))},{passive:!1}):typeof F<"u"&&R.on("wheel.zoom",function(A,W){const Y=!m.value&&A.type==="wheel"&&!A.ctrlKey,X=H.value||w.value,G=p.value&&A.ctrlKey;if(!X&&!l.value&&!G&&A.type==="wheel"||Y||Oe(A,k.value))return null;A.preventDefault(),F.call(this,A,W)},{passive:!1})},{immediate:!0})});function ie(we,Se){return Se===2&&Array.isArray(we)&&we.includes(2)}function ce(we){const Se=we.ctrlKey&&Fa()?10:1;return-we.deltaY*(we.deltaMode===1?.05:we.deltaMode?1:.002)*Se}function ue(we,Se){return we.x!==Se.x&&!Number.isNaN(Se.x)||we.y!==Se.y&&!Number.isNaN(Se.y)||we.zoom!==Se.k&&!Number.isNaN(Se.k)}function ve(we){return{x:we.x,y:we.y,zoom:we.k}}function Oe(we,Se){return we.target.closest(`.${Se}`)}return(we,Se)=>(I(),z("div",{ref_key:"viewportRef",ref:B,class:"vue-flow__viewport vue-flow__container"},[ke(iP,{"is-selecting":se.value,"selection-key-pressed":ee(j),class:ge({connecting:!!ee(_),dragging:ee(D),draggable:ee(d)===!0||Array.isArray(ee(d))&&ee(d).includes(0)})},{default:ht(()=>[ke(aP,null,{default:ht(()=>[We(we.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),lP=["id"],cP=["id"],uP=["id"],dP={name:"A11yDescriptions",compatConfig:{MODE:3}},hP=de({...dP,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:i}=je();return(r,a)=>(I(),z(he,null,[v("div",{id:`${ee(Xp)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+J(ee(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,lP),v("div",{id:`${ee(Yp)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,cP),ee(n)?Z("",!0):(I(),z("div",{key:0,id:`${ee($T)}-${ee(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},J(ee(i)),9,uP))],64))}});function pP(){const e=je();Ee(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function mP(e,t,n){return n===be.Left?e-t:n===be.Right?e+t:e}function gP(e,t,n){return n===be.Top?e-t:n===be.Bottom?e+t:e}const Wl=function({radius:e=10,centerX:t=0,centerY:n=0,position:i=be.Top,type:r}){return Re("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:mP(t,e,i),cy:gP(n,e,i),r:e,stroke:"transparent",fill:"transparent"})};Wl.props=["radius","centerX","centerY","position","type"];Wl.compatConfig={MODE:3};const ju=Wl,fP=de({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:i,edgeUpdaterRadius:r,emits:a,nodesSelectionActive:o,noPanClassName:s,getEdgeTypes:l,removeSelectedEdges:c,findEdge:u,findNode:d,isValidConnection:h,multiSelectionActive:p,disableKeyboardA11y:w,elementsSelectable:m,edgesUpdatable:k,edgesFocusable:b,hooks:S}=je(),_=Q(()=>u(e.id)),{emit:g,on:D}=s0(_.value,a),q=$e(ko),O=Fn(),P=re(!1),E=re(!1),B=re(""),V=re(null),T=re("source"),U=re(null),f=qe(()=>typeof _.value.selectable>"u"?m.value:_.value.selectable),C=qe(()=>typeof _.value.updatable>"u"?k.value:_.value.updatable),y=qe(()=>typeof _.value.focusable>"u"?b.value:_.value.focusable);Mn(r0,e.id),Mn(a0,U);const M=Q(()=>_.value.class instanceof Function?_.value.class(_.value):_.value.class),L=Q(()=>_.value.style instanceof Function?_.value.style(_.value):_.value.style),j=Q(()=>{const x=_.value.type||"default",$=q?.[`edge-${x}`];if($)return $;let A=_.value.template??l.value[x];if(typeof A=="string"&&O){const W=Object.keys(O.appContext.components);W&&W.includes(x)&&(A=th(x,!1))}return A&&typeof A!="string"?A:(a.error(new et(Qe.EDGE_TYPE_MISSING,A)),!1)}),{handlePointerDown:H}=pm({nodeId:B,handleId:V,type:T,isValidConnection:h,edgeUpdaterType:T,onEdgeUpdate:se,onEdgeUpdateEnd:ie});return()=>{const x=d(_.value.source),$=d(_.value.target),A="pathOptions"in _.value?_.value.pathOptions:{};if(!x&&!$)return a.error(new et(Qe.EDGE_SOURCE_TARGET_MISSING,_.value.id,_.value.source,_.value.target)),null;if(!x)return a.error(new et(Qe.EDGE_SOURCE_MISSING,_.value.id,_.value.source)),null;if(!$)return a.error(new et(Qe.EDGE_TARGET_MISSING,_.value.id,_.value.target)),null;if(!_.value||_.value.hidden||x.hidden||$.hidden)return null;let W;i.value===zn.Strict?W=x.handleBounds.source:W=[...x.handleBounds.source||[],...x.handleBounds.target||[]];const Y=Au(W,_.value.sourceHandle);let X;i.value===zn.Strict?X=$.handleBounds.target:X=[...$.handleBounds.target||[],...$.handleBounds.source||[]];const G=Au(X,_.value.targetHandle),ae=Y?.position||be.Bottom,ne=G?.position||be.Top,{x:le,y:pe}=qi(x,Y,ae),{x:xe,y:De}=qi($,G,ne);return _.value.sourceX=le,_.value.sourceY=pe,_.value.targetX=xe,_.value.targetY=De,Re("g",{ref:U,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${j.value===!1?"default":_.value.type||"default"}`,s.value,M.value,{updating:P.value,selected:_.value.selected,animated:_.value.animated,inactive:!f.value&&!S.value.edgeClick.hasListeners()}],tabIndex:y.value?0:void 0,"aria-label":_.value.ariaLabel===null?void 0:_.value.ariaLabel??`Edge from ${_.value.source} to ${_.value.target}`,"aria-describedby":y.value?`${Yp}-${t}`:void 0,"aria-roledescription":"edge",role:y.value?"group":"img",..._.value.domAttributes,onClick:ue,onContextmenu:ve,onDblclick:Oe,onMouseenter:we,onMousemove:Se,onMouseleave:ye,onKeyDown:y.value?N:void 0},[E.value?null:Re(j.value===!1?l.value.default:j.value,{id:e.id,sourceNode:x,targetNode:$,source:_.value.source,target:_.value.target,type:_.value.type,updatable:C.value,selected:_.value.selected,animated:_.value.animated,label:_.value.label,labelStyle:_.value.labelStyle,labelShowBg:_.value.labelShowBg,labelBgStyle:_.value.labelBgStyle,labelBgPadding:_.value.labelBgPadding,labelBgBorderRadius:_.value.labelBgBorderRadius,data:_.value.data,events:{..._.value.events,...D},style:L.value,markerStart:`url('#${Pr(_.value.markerStart,t)}')`,markerEnd:`url('#${Pr(_.value.markerEnd,t)}')`,sourcePosition:ae,targetPosition:ne,sourceX:le,sourceY:pe,targetX:xe,targetY:De,sourceHandleId:_.value.sourceHandle,targetHandleId:_.value.targetHandle,interactionWidth:_.value.interactionWidth,...A}),[C.value==="source"||C.value===!0?[Re("g",{onMousedown:R,onMouseenter:K,onMouseout:te},Re(ju,{position:ae,centerX:le,centerY:pe,radius:r.value,type:"source","data-type":"source"}))]:null,C.value==="target"||C.value===!0?[Re("g",{onMousedown:F,onMouseenter:K,onMouseout:te},Re(ju,{position:ne,centerX:xe,centerY:De,radius:r.value,type:"target","data-type":"target"}))]:null]])};function K(){P.value=!0}function te(){P.value=!1}function se(x,$){g.update({event:x,edge:_.value,connection:$})}function ie(x){g.updateEnd({event:x,edge:_.value}),E.value=!1}function ce(x,$){x.button===0&&(E.value=!0,B.value=$?_.value.target:_.value.source,V.value=($?_.value.targetHandle:_.value.sourceHandle)??null,T.value=$?"target":"source",g.updateStart({event:x,edge:_.value}),H(x))}function ue(x){var $;const A={event:x,edge:_.value};f.value&&(o.value=!1,_.value.selected&&p.value?(c([_.value]),($=U.value)==null||$.blur()):n([_.value])),g.click(A)}function ve(x){g.contextMenu({event:x,edge:_.value})}function Oe(x){g.doubleClick({event:x,edge:_.value})}function we(x){g.mouseEnter({event:x,edge:_.value})}function Se(x){g.mouseMove({event:x,edge:_.value})}function ye(x){g.mouseLeave({event:x,edge:_.value})}function R(x){ce(x,!0)}function F(x){ce(x,!1)}function N(x){var $;!w.value&&Zp.includes(x.key)&&f.value&&(x.key==="Escape"?(($=U.value)==null||$.blur(),c([u(e.id)])):n([u(e.id)]))}}}),yP=fP,vP=de({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:i,connectionEndHandle:r,connectionPosition:a,connectionLineType:o,connectionLineStyle:s,connectionLineOptions:l,connectionStatus:c,viewport:u,findNode:d}=je(),h=(e=$e(ko))==null?void 0:e["connection-line"],p=Q(()=>{var S;return d((S=i.value)==null?void 0:S.nodeId)}),w=Q(()=>{var S;return d((S=r.value)==null?void 0:S.nodeId)??null}),m=Q(()=>({x:(a.value.x-u.value.x)/u.value.zoom,y:(a.value.y-u.value.y)/u.value.zoom})),k=Q(()=>l.value.markerStart?`url(#${Pr(l.value.markerStart,t)})`:""),b=Q(()=>l.value.markerEnd?`url(#${Pr(l.value.markerEnd,t)})`:"");return()=>{var S,_,g;if(!p.value||!i.value)return null;const D=i.value.id,q=i.value.type,O=p.value.handleBounds;let P=O?.[q]??[];if(n.value===zn.Loose){const L=O?.[q==="source"?"target":"source"]??[];P=[...P,...L]}if(!P)return null;const E=(D?P.find(L=>L.id===D):P[0])??null,B=E?.position??be.Top,{x:V,y:T}=qi(p.value,E,B);let U=null;w.value&&(n.value===zn.Strict?U=((S=w.value.handleBounds[q==="source"?"target":"source"])==null?void 0:S.find(L=>{var j;return L.id===((j=r.value)==null?void 0:j.id)}))||null:U=((_=[...w.value.handleBounds.source??[],...w.value.handleBounds.target??[]])==null?void 0:_.find(L=>{var j;return L.id===((j=r.value)==null?void 0:j.id)}))||null);const f=((g=r.value)==null?void 0:g.position)??(B?js[B]:null);if(!B||!f)return null;const C=o.value??l.value.type??Zn.Bezier;let y="";const M={sourceX:V,sourceY:T,sourcePosition:B,targetX:m.value.x,targetY:m.value.y,targetPosition:f};return C===Zn.Bezier?[y]=bm(M):C===Zn.Step?[y]=Gs({...M,borderRadius:0}):C===Zn.SmoothStep?[y]=Gs(M):C===Zn.SimpleBezier?[y]=wm(M):y=`M${V},${T} ${m.value.x},${m.value.y}`,Re("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Re("g",{class:"vue-flow__connection"},h?Re(h,{sourceX:V,sourceY:T,sourcePosition:B,targetX:m.value.x,targetY:m.value.y,targetPosition:f,sourceNode:p.value,sourceHandle:E,targetNode:w.value,targetHandle:U,markerEnd:b.value,markerStart:k.value,connectionStatus:c.value}):Re("path",{d:y,class:[l.value.class,c,"vue-flow__connection-path"],style:{...s.value,...l.value.style},"marker-end":b.value,"marker-start":k.value})))}}}),bP=vP,wP=["id","markerWidth","markerHeight","markerUnits","orient"],_P={name:"MarkerType",compatConfig:{MODE:3}},OP=de({..._P,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(I(),z("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ee(Vs).ArrowClosed?(I(),z("polyline",{key:0,style:He({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Z("",!0),t.type===ee(Vs).Arrow?(I(),z("polyline",{key:1,style:He({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Z("",!0)],8,wP))}}),kP={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},IP={name:"MarkerDefinitions",compatConfig:{MODE:3}},NP=de({...IP,setup(e){const{id:t,edges:n,connectionLineOptions:i,defaultMarkerColor:r}=je(),a=Q(()=>{const o=new Set,s=[],l=c=>{if(c){const u=Pr(c,t);o.has(u)||(typeof c=="object"?s.push({...c,id:u,color:c.color||r.value}):s.push({id:u,color:r.value,type:c}),o.add(u))}};for(const c of[i.value.markerEnd,i.value.markerStart])l(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])l(u);return s.sort((c,u)=>c.id.localeCompare(u.id))});return(o,s)=>(I(),z("svg",kP,[v("defs",null,[(I(!0),z(he,null,Ce(a.value,l=>(I(),fe(OP,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),TP={name:"Edges",compatConfig:{MODE:3}},PP=de({...TP,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:i}=je();return(r,a)=>(I(),z(he,null,[ke(NP),(I(!0),z(he,null,Ce(ee(n),o=>(I(),z("svg",{key:o.id,class:"vue-flow__edges vue-flow__container",style:He({zIndex:ee(jT)(o,ee(t),ee(i))})},[ke(ee(yP),{id:o.id},null,8,["id"])],4))),128)),ke(ee(bP))],64))}}),xP=de({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:i,nodesSelectionActive:r,multiSelectionActive:a,emits:o,removeSelectedNodes:s,addSelectedNodes:l,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:h,elevateNodesOnSelect:p,disableKeyboardA11y:w,ariaLiveMessage:m,snapToGrid:k,snapGrid:b,nodeDragThreshold:S,nodesDraggable:_,elementsSelectable:g,nodesConnectable:D,nodesFocusable:q,hooks:O}=je(),P=re(null);Mn(dm,P),Mn(um,e.id);const E=$e(ko),B=Fn(),V=gm(),{node:T,parentNode:U}=mm(e.id),{emit:f,on:C}=d0(T,o),y=qe(()=>typeof T.draggable>"u"?_.value:T.draggable),M=qe(()=>typeof T.selectable>"u"?g.value:T.selectable),L=qe(()=>typeof T.connectable>"u"?D.value:T.connectable),j=qe(()=>typeof T.focusable>"u"?q.value:T.focusable),H=Q(()=>M.value||y.value||O.value.nodeClick.hasListeners()||O.value.nodeDoubleClick.hasListeners()||O.value.nodeMouseEnter.hasListeners()||O.value.nodeMouseMove.hasListeners()||O.value.nodeMouseLeave.hasListeners()),K=qe(()=>!!T.dimensions.width&&!!T.dimensions.height),te=Q(()=>{const $=T.type||"default",A=E?.[`node-${$}`];if(A)return A;let W=T.template||d.value[$];if(typeof W=="string"&&B){const Y=Object.keys(B.appContext.components);Y&&Y.includes($)&&(W=th($,!1))}return W&&typeof W!="string"?W:(o.error(new et(Qe.NODE_TYPE_MISSING,W)),!1)}),se=hm({id:e.id,el:P,disabled:()=>!y.value,selectable:M,dragHandle:()=>T.dragHandle,onStart($){f.dragStart($)},onDrag($){f.drag($)},onStop($){f.dragStop($)},onClick($){N($)}}),ie=Q(()=>T.class instanceof Function?T.class(T):T.class),ce=Q(()=>{const $=(T.style instanceof Function?T.style(T):T.style)||{},A=T.width instanceof Function?T.width(T):T.width,W=T.height instanceof Function?T.height(T):T.height;return!$.width&&A&&($.width=typeof A=="string"?A:`${A}px`),!$.height&&W&&($.height=typeof W=="string"?W:`${W}px`),$}),ue=qe(()=>Number(T.zIndex??ce.value.zIndex??0));return u($=>{($.includes(e.id)||!$.length)&&Oe()}),at(()=>{Ee(()=>T.hidden,($=!1,A,W)=>{!$&&P.value&&(e.resizeObserver.observe(P.value),W(()=>{P.value&&e.resizeObserver.unobserve(P.value)}))},{immediate:!0,flush:"post"})}),Ee([()=>T.type,()=>T.sourcePosition,()=>T.targetPosition],()=>{bt(()=>{c([{id:e.id,nodeElement:P.value,forceUpdate:!0}])})}),Ee([()=>T.position.x,()=>T.position.y,()=>{var $;return($=U.value)==null?void 0:$.computedPosition.x},()=>{var $;return($=U.value)==null?void 0:$.computedPosition.y},()=>{var $;return($=U.value)==null?void 0:$.computedPosition.z},ue,()=>T.selected,()=>T.dimensions.height,()=>T.dimensions.width,()=>{var $;return($=U.value)==null?void 0:$.dimensions.height},()=>{var $;return($=U.value)==null?void 0:$.dimensions.width}],([$,A,W,Y,X,G])=>{const ae={x:$,y:A,z:G+(p.value&&T.selected?1e3:0)};typeof W<"u"&&typeof Y<"u"?T.computedPosition=LT({x:W,y:Y,z:X},ae):T.computedPosition=ae},{flush:"post",immediate:!0}),Ee([()=>T.extent,h],([$,A],[W,Y])=>{($!==W||A!==Y)&&ve()}),T.extent==="parent"||typeof T.extent=="object"&&"range"in T.extent&&T.extent.range==="parent"?As(()=>K).toBe(!0).then(ve):ve(),()=>T.hidden?null:Re("div",{ref:P,"data-id":T.id,class:["vue-flow__node",`vue-flow__node-${te.value===!1?"default":T.type||"default"}`,{[n.value]:y.value,dragging:se?.value,draggable:y.value,selected:T.selected,selectable:M.value,parent:T.isParent},ie.value],style:{visibility:K.value?"visible":"hidden",zIndex:T.computedPosition.z??ue.value,transform:`translate(${T.computedPosition.x}px,${T.computedPosition.y}px)`,pointerEvents:H.value?"all":"none",...ce.value},tabIndex:j.value?0:void 0,role:j.value?"group":void 0,"aria-describedby":w.value?void 0:`${Xp}-${t}`,"aria-label":T.ariaLabel,"aria-roledescription":"node",...T.domAttributes,onMouseenter:we,onMousemove:Se,onMouseleave:ye,onContextmenu:R,onClick:N,onDblclick:F,onKeydown:x},[Re(te.value===!1?d.value.default:te.value,{id:T.id,type:T.type,data:T.data,events:{...T.events,...C},selected:T.selected,resizing:T.resizing,dragging:se.value,connectable:L.value,position:T.computedPosition,dimensions:T.dimensions,isValidTargetPos:T.isValidTargetPos,isValidSourcePos:T.isValidSourcePos,parent:T.parentNode,parentNodeId:T.parentNode,zIndex:T.computedPosition.z??ue.value,targetPosition:T.targetPosition,sourcePosition:T.sourcePosition,label:T.label,dragHandle:T.dragHandle,onUpdateNodeInternals:Oe})]);function ve(){const $=T.computedPosition,{computedPosition:A,position:W}=Ul(T,k.value?_o($,b.value):$,o.error,h.value,U.value);(T.computedPosition.x!==A.x||T.computedPosition.y!==A.y)&&(T.computedPosition={...T.computedPosition,...A}),(T.position.x!==W.x||T.position.y!==W.y)&&(T.position=W)}function Oe(){P.value&&c([{id:e.id,nodeElement:P.value,forceUpdate:!0}])}function we($){se?.value||f.mouseEnter({event:$,node:T})}function Se($){se?.value||f.mouseMove({event:$,node:T})}function ye($){se?.value||f.mouseLeave({event:$,node:T})}function R($){return f.contextMenu({event:$,node:T})}function F($){return f.doubleClick({event:$,node:T})}function N($){M.value&&(!i.value||!y.value||S.value>0)&&Ws(T,a.value,l,s,r,!1,P.value),f.click({event:$,node:T})}function x($){if(!(Hs($)||w.value))if(Zp.includes($.key)&&M.value){const A=$.key==="Escape";Ws(T,a.value,l,s,r,A,P.value)}else y.value&&T.selected&&$i[$.key]&&($.preventDefault(),m.value=`Moved selected node ${$.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~T.position.x}, y: ${~~T.position.y}`,V({x:$i[$.key].x,y:$i[$.key].y},$.shiftKey))}}}),SP=xP;function CP(e={includeHiddenNodes:!1}){const{nodes:t}=je();return Q(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const EP={class:"vue-flow__nodes vue-flow__container"},$P={name:"Nodes",compatConfig:{MODE:3}},AP=de({...$P,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:i}=je(),r=CP(),a=re();return Ee(r,o=>{o&&bt(()=>{i.nodesInitialized(t.value)})},{immediate:!0}),at(()=>{a.value=new ResizeObserver(o=>{const s=o.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));bt(()=>n(s))})}),oo(()=>{var o;return(o=a.value)==null?void 0:o.disconnect()}),(o,s)=>(I(),z("div",EP,[a.value?(I(!0),z(he,{key:0},Ce(ee(t),(l,c,u,d)=>{const h=[l.id];if(d&&d.key===l.id&&Wf(d,h))return d;const p=(I(),fe(ee(SP),{id:l.id,key:l.id,"resize-observer":a.value},null,8,["id","resize-observer"]));return p.memo=h,p},s,0),128)):Z("",!0)]))}});function MP(){const{emits:e}=je();at(()=>{if(cm()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new et(Qe.MISSING_STYLES))}})}const DP=v("div",{class:"vue-flow__edge-labels"},null,-1),zP={name:"VueFlow",compatConfig:{MODE:3}},RP=de({...zP,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const i=e,r=ah(),a=Yo(i,"modelValue",n),o=Yo(i,"nodes",n),s=Yo(i,"edges",n),l=je(i),c=g0({modelValue:a,nodes:o,edges:s},i,l);return y0(n,l.hooks),pP(),MP(),Mn(ko,r),so(()=>{c()}),t(l),(u,d)=>(I(),z("div",{ref:ee(l).vueFlowRef,class:"vue-flow"},[ke(sP,null,{default:ht(()=>[ke(PP),DP,ke(AP),We(u.$slots,"zoom-pane")]),_:3}),We(u.$slots,"default"),ke(hP)],512))}}),BP={name:"Panel",compatConfig:{MODE:3}},Om=de({...BP,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=je(),i=Q(()=>`${t.position}`.split("-"));return(r,a)=>(I(),z("div",{class:ge(["vue-flow__panel",i.value]),style:He({pointerEvents:ee(n)?"none":"all"})},[We(r.$slots,"default")],6))}});var un=(e=>(e.Lines="lines",e.Dots="dots",e))(un||{});const km=function({dimensions:e,size:t,color:n}){return Re("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Im=function({radius:e,color:t}){return Re("circle",{cx:e,cy:e,r:e,fill:t})};un.Lines+"",un.Dots+"";const LP={[un.Dots]:"#81818a",[un.Lines]:"#eee"},qP=["id","x","y","width","height","patternTransform"],FP={key:2,height:"100",width:"100"},VP=["fill"],HP=["x","y","fill"],UP={name:"Background",compatConfig:{MODE:3}},jP=de({...UP,props:{id:{},variant:{default:()=>un.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=je(),i=Q(()=>{const o=n.value.zoom,[s,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],c=[s*o||1,l*o||1],u=e.size*o,[d,h]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],p=[d*o||1+c[0]/2,h*o||1+c[1]/2];return{scaledGap:c,offset:p,size:u}}),r=qe(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),a=qe(()=>e.color||e.patternColor||LP[e.variant||un.Dots]);return(o,s)=>(I(),z("svg",{class:"vue-flow__background vue-flow__container",style:He({height:`${o.height>100?100:o.height}%`,width:`${o.width>100?100:o.width}%`})},[We(o.$slots,"pattern-container",{id:r.value},()=>[v("pattern",{id:r.value,x:ee(n).x%i.value.scaledGap[0],y:ee(n).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[We(o.$slots,"pattern",{},()=>[o.variant===ee(un).Lines?(I(),fe(ee(km),{key:0,size:o.lineWidth,color:a.value,dimensions:i.value.scaledGap},null,8,["size","color","dimensions"])):o.variant===ee(un).Dots?(I(),fe(ee(Im),{key:1,color:a.value,radius:i.value.size/2},null,8,["color","radius"])):Z("",!0),o.bgColor?(I(),z("svg",FP,[v("rect",{width:"100%",height:"100%",fill:o.bgColor},null,8,VP)])):Z("",!0)])],8,qP)]),v("rect",{x:o.x,y:o.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,HP),We(o.$slots,"default",{id:r.value})],4))}}),WP={name:"ControlButton",compatConfig:{MODE:3}},GP=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},KP={class:"vue-flow__controls-button"};function XP(e,t,n,i,r,a){return I(),z("button",KP,[We(e.$slots,"default")])}const na=GP(WP,[["render",XP]]),YP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ZP=v("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),QP=[ZP];function JP(e,t){return I(),z("svg",YP,QP)}const e1={render:JP},t1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},n1=v("path",{d:"M0 0h32v4.2H0z"},null,-1),i1=[n1];function r1(e,t){return I(),z("svg",t1,i1)}const a1={render:r1},o1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},s1=v("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),l1=[s1];function c1(e,t){return I(),z("svg",o1,l1)}const u1={render:c1},d1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},h1=v("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),p1=[h1];function m1(e,t){return I(),z("svg",d1,p1)}const g1={render:m1},f1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},y1=v("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),v1=[y1];function b1(e,t){return I(),z("svg",f1,v1)}const w1={render:b1},_1={name:"Controls",compatConfig:{MODE:3}},O1=de({..._1,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Kp.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:i,elementsSelectable:r,setInteractive:a,zoomIn:o,zoomOut:s,fitView:l,viewport:c,minZoom:u,maxZoom:d}=je(),h=qe(()=>n.value||i.value||r.value),p=qe(()=>c.value.zoom<=u.value),w=qe(()=>c.value.zoom>=d.value);function m(){o(),t("zoomIn")}function k(){s(),t("zoomOut")}function b(){l(e.fitViewParams),t("fitView")}function S(){a(!h.value),t("interactionChange",!h.value)}return(_,g)=>(I(),fe(ee(Om),{class:"vue-flow__controls",position:_.position},{default:ht(()=>[We(_.$slots,"top"),_.showZoom?(I(),z(he,{key:0},[We(_.$slots,"control-zoom-in",{},()=>[ke(na,{class:"vue-flow__controls-zoomin",disabled:w.value,onClick:m},{default:ht(()=>[We(_.$slots,"icon-zoom-in",{},()=>[(I(),fe(Wn(ee(e1))))])]),_:3},8,["disabled"])]),We(_.$slots,"control-zoom-out",{},()=>[ke(na,{class:"vue-flow__controls-zoomout",disabled:p.value,onClick:k},{default:ht(()=>[We(_.$slots,"icon-zoom-out",{},()=>[(I(),fe(Wn(ee(a1))))])]),_:3},8,["disabled"])])],64)):Z("",!0),_.showFitView?We(_.$slots,"control-fit-view",{key:1},()=>[ke(na,{class:"vue-flow__controls-fitview",onClick:b},{default:ht(()=>[We(_.$slots,"icon-fit-view",{},()=>[(I(),fe(Wn(ee(u1))))])]),_:3})]):Z("",!0),_.showInteractive?We(_.$slots,"control-interactive",{key:2},()=>[_.showInteractive?(I(),fe(na,{key:0,class:"vue-flow__controls-interactive",onClick:S},{default:ht(()=>[h.value?We(_.$slots,"icon-unlock",{key:0},()=>[(I(),fe(Wn(ee(w1))))]):Z("",!0),h.value?Z("",!0):We(_.$slots,"icon-lock",{key:1},()=>[(I(),fe(Wn(ee(g1))))])]),_:3})):Z("",!0)]):Z("",!0),We(_.$slots,"default")]),_:3},8,["position"]))}});var k1={value:()=>{}};function Gl(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ya(n)}function ya(e){this._=e}function I1(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ya.prototype=Gl.prototype={constructor:ya,on:function(e,t){var n=this._,i=I1(e+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(e=i[a]).type)&&(r=N1(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=i[a]).type)n[r]=Wu(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Wu(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ya(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function N1(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Wu(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=k1,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ks="http://www.w3.org/1999/xhtml";const Gu={svg:"http://www.w3.org/2000/svg",xhtml:Ks,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gu.hasOwnProperty(t)?{space:Gu[t],local:e}:e}function T1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ks&&t.documentElement.namespaceURI===Ks?t.createElement(e):t.createElementNS(n,e)}}function P1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nm(e){var t=xo(e);return(t.local?P1:T1)(t)}function x1(){}function Kl(e){return e==null?x1:function(){return this.querySelector(e)}}function S1(e){typeof e!="function"&&(e=Kl(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new kt(i,this._parents)}function C1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function E1(){return[]}function Tm(e){return e==null?E1:function(){return this.querySelectorAll(e)}}function $1(e){return function(){return C1(e.apply(this,arguments))}}function A1(e){typeof e=="function"?e=$1(e):e=Tm(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new kt(i,r)}function Pm(e){return function(){return this.matches(e)}}function xm(e){return function(t){return t.matches(e)}}var M1=Array.prototype.find;function D1(e){return function(){return M1.call(this.children,e)}}function z1(){return this.firstElementChild}function R1(e){return this.select(e==null?z1:D1(typeof e=="function"?e:xm(e)))}var B1=Array.prototype.filter;function L1(){return Array.from(this.children)}function q1(e){return function(){return B1.call(this.children,e)}}function F1(e){return this.selectAll(e==null?L1:q1(typeof e=="function"?e:xm(e)))}function V1(e){typeof e!="function"&&(e=Pm(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new kt(i,this._parents)}function Sm(e){return new Array(e.length)}function H1(){return new kt(this._enter||this._groups.map(Sm),this._parents)}function Ha(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ha.prototype={constructor:Ha,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function U1(e){return function(){return e}}function j1(e,t,n,i,r,a){for(var o=0,s,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],i[o]=s):n[o]=new Ha(e,a[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function W1(e,t,n,i,r,a,o){var s,l,c=new Map,u=t.length,d=a.length,h=new Array(u),p;for(s=0;s<u;++s)(l=t[s])&&(h[s]=p=o.call(l,l.__data__,s,t)+"",c.has(p)?r[s]=l:c.set(p,l));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+"",(l=c.get(p))?(i[s]=l,l.__data__=a[s],c.delete(p)):n[s]=new Ha(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(h[s])===l&&(r[s]=l)}function G1(e){return e.__data__}function K1(e,t){if(!arguments.length)return Array.from(this,G1);var n=t?W1:j1,i=this._parents,r=this._groups;typeof e!="function"&&(e=U1(e));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],d=r[c],h=d.length,p=X1(e.call(u,u&&u.__data__,c,i)),w=p.length,m=s[c]=new Array(w),k=o[c]=new Array(w),b=l[c]=new Array(h);n(u,d,m,k,b,p,t);for(var S=0,_=0,g,D;S<w;++S)if(g=m[S]){for(S>=_&&(_=S+1);!(D=k[_])&&++_<w;);g._next=D||null}}return o=new kt(o,i),o._enter=s,o._exit=l,o}function X1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y1(){return new kt(this._exit||this._groups.map(Sm),this._parents)}function Z1(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Q1(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,h=s[l]=new Array(d),p,w=0;w<d;++w)(p=c[w]||u[w])&&(h[w]=p);for(;l<r;++l)s[l]=n[l];return new kt(s,this._parents)}function J1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ex(e){e||(e=tx);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,l=r[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new kt(r,this._parents).order()}function tx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ix(){return Array.from(this)}function rx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function ax(){let e=0;for(const t of this)++e;return e}function ox(){return!this.node()}function sx(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&e.call(s,s.__data__,a,r);return this}function lx(e){return function(){this.removeAttribute(e)}}function cx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ux(e,t){return function(){this.setAttribute(e,t)}}function dx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hx(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function px(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mx(e,t){var n=xo(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?cx:lx:typeof t=="function"?n.local?px:hx:n.local?dx:ux)(n,t))}function Cm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gx(e){return function(){this.style.removeProperty(e)}}function fx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yx(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function vx(e,t,n){return arguments.length>1?this.each((t==null?gx:typeof t=="function"?yx:fx)(e,t,n??"")):Fi(this.node(),e)}function Fi(e,t){return e.style.getPropertyValue(t)||Cm(e).getComputedStyle(e,null).getPropertyValue(t)}function bx(e){return function(){delete this[e]}}function wx(e,t){return function(){this[e]=t}}function _x(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ox(e,t){return arguments.length>1?this.each((t==null?bx:typeof t=="function"?_x:wx)(e,t)):this.node()[e]}function Em(e){return e.trim().split(/^|\s+/)}function Xl(e){return e.classList||new $m(e)}function $m(e){this._node=e,this._names=Em(e.getAttribute("class")||"")}$m.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Am(e,t){for(var n=Xl(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Mm(e,t){for(var n=Xl(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function kx(e){return function(){Am(this,e)}}function Ix(e){return function(){Mm(this,e)}}function Nx(e,t){return function(){(t.apply(this,arguments)?Am:Mm)(this,e)}}function Tx(e,t){var n=Em(e+"");if(arguments.length<2){for(var i=Xl(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Nx:t?kx:Ix)(n,t))}function Px(){this.textContent=""}function xx(e){return function(){this.textContent=e}}function Sx(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Cx(e){return arguments.length?this.each(e==null?Px:(typeof e=="function"?Sx:xx)(e)):this.node().textContent}function Ex(){this.innerHTML=""}function $x(e){return function(){this.innerHTML=e}}function Ax(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Mx(e){return arguments.length?this.each(e==null?Ex:(typeof e=="function"?Ax:$x)(e)):this.node().innerHTML}function Dx(){this.nextSibling&&this.parentNode.appendChild(this)}function zx(){return this.each(Dx)}function Rx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bx(){return this.each(Rx)}function Lx(e){var t=typeof e=="function"?e:Nm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qx(){return null}function Fx(e,t){var n=typeof e=="function"?e:Nm(e),i=t==null?qx:typeof t=="function"?t:Kl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Vx(){var e=this.parentNode;e&&e.removeChild(this)}function Hx(){return this.each(Vx)}function Ux(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wx(e){return this.select(e?jx:Ux)}function Gx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kx(e){return function(t){e.call(this,t,this.__data__)}}function Xx(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Yx(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function Zx(e,t,n){return function(){var i=this.__on,r,a=Kx(t);if(i){for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Qx(e,t,n){var i=Xx(e+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?Zx:Yx,r=0;r<a;++r)this.each(s(i[r],t,n));return this}function Dm(e,t,n){var i=Cm(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Jx(e,t){return function(){return Dm(this,e,t)}}function eS(e,t){return function(){return Dm(this,e,t.apply(this,arguments))}}function tS(e,t){return this.each((typeof t=="function"?eS:Jx)(e,t))}function*nS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var zm=[null];function kt(e,t){this._groups=e,this._parents=t}function Rr(){return new kt([[document.documentElement]],zm)}function iS(){return this}kt.prototype=Rr.prototype={constructor:kt,select:S1,selectAll:A1,selectChild:R1,selectChildren:F1,filter:V1,data:K1,enter:H1,exit:Y1,join:Z1,merge:Q1,selection:iS,order:J1,sort:ex,call:nx,nodes:ix,node:rx,size:ax,empty:ox,each:sx,attr:mx,style:vx,property:Ox,classed:Tx,text:Cx,html:Mx,raise:zx,lower:Bx,append:Lx,insert:Fx,remove:Hx,clone:Wx,datum:Gx,on:Qx,dispatch:tS,[Symbol.iterator]:nS};function $n(e){return typeof e=="string"?new kt([[document.querySelector(e)]],[document.documentElement]):new kt([[e]],zm)}function rS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function In(e,t){if(e=rS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Xs={capture:!0,passive:!1};function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function aS(e){var t=e.document.documentElement,n=$n(e).on("dragstart.drag",Ys,Xs);"onselectstart"in t?n.on("selectstart.drag",Ys,Xs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oS(e,t){var n=e.document.documentElement,i=$n(e).on("dragstart.drag",null);t&&(i.on("click.drag",Ys,Xs),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Yl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rm(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Br(){}var xr=.7,Ua=1/xr,Ai="\\s*([+-]?\\d+)\\s*",Sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sS=/^#([0-9a-f]{3,8})$/,lS=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),cS=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),uS=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${Sr}\\)$`),dS=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${Sr}\\)$`),hS=new RegExp(`^hsl\\(${Sr},${Zt},${Zt}\\)$`),pS=new RegExp(`^hsla\\(${Sr},${Zt},${Zt},${Sr}\\)$`),Ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yl(Br,Cr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xu,formatHex:Xu,formatHex8:mS,formatHsl:gS,formatRgb:Yu,toString:Yu});function Xu(){return this.rgb().formatHex()}function mS(){return this.rgb().formatHex8()}function gS(){return Bm(this).formatHsl()}function Yu(){return this.rgb().formatRgb()}function Cr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zu(t):n===3?new vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ia(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ia(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lS.exec(e))?new vt(t[1],t[2],t[3],1):(t=cS.exec(e))?new vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uS.exec(e))?ia(t[1],t[2],t[3],t[4]):(t=dS.exec(e))?ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hS.exec(e))?ed(t[1],t[2]/100,t[3]/100,1):(t=pS.exec(e))?ed(t[1],t[2]/100,t[3]/100,t[4]):Ku.hasOwnProperty(e)?Zu(Ku[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function Zu(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function ia(e,t,n,i){return i<=0&&(e=t=n=NaN),new vt(e,t,n,i)}function fS(e){return e instanceof Br||(e=Cr(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function Zs(e,t,n,i){return arguments.length===1?fS(e):new vt(e,t,n,i??1)}function vt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Yl(vt,Zs,Rm(Br,{brighter(e){return e=e==null?Ua:Math.pow(Ua,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xr:Math.pow(xr,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vt(ai(this.r),ai(this.g),ai(this.b),ja(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qu,formatHex:Qu,formatHex8:yS,formatRgb:Ju,toString:Ju}));function Qu(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function yS(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ju(){const e=ja(this.opacity);return`${e===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${e===1?")":`, ${e})`}`}function ja(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=ai(e),(e<16?"0":"")+e.toString(16)}function ed(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,i)}function Bm(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof Br||(e=Cr(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(t===a?o=(n-i)/s+(n<i)*6:n===a?o=(i-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new Et(o,s,l,e.opacity)}function vS(e,t,n,i){return arguments.length===1?Bm(e):new Et(e,t,n,i??1)}function Et(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Yl(Et,vS,Rm(Br,{brighter(e){return e=e==null?Ua:Math.pow(Ua,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xr:Math.pow(xr,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new vt(ls(e>=240?e-240:e+120,r,i),ls(e,r,i),ls(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Et(td(this.h),ra(this.s),ra(this.l),ja(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ja(this.opacity);return`${e===1?"hsl(":"hsla("}${td(this.h)}, ${ra(this.s)*100}%, ${ra(this.l)*100}%${e===1?")":`, ${e})`}`}}));function td(e){return e=(e||0)%360,e<0?e+360:e}function ra(e){return Math.max(0,Math.min(1,e||0))}function ls(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lm=e=>()=>e;function bS(e,t){return function(n){return e+n*t}}function wS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function _S(e){return(e=+e)==1?qm:function(t,n){return n-t?wS(t,n,e):Lm(isNaN(t)?n:t)}}function qm(e,t){var n=t-e;return n?bS(e,n):Lm(isNaN(e)?t:e)}const nd=function e(t){var n=_S(t);function i(r,a){var o=n((r=Zs(r)).r,(a=Zs(a)).r),s=n(r.g,a.g),l=n(r.b,a.b),c=qm(r.opacity,a.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function Cn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cs=new RegExp(Qs.source,"g");function OS(e){return function(){return e}}function kS(e){return function(t){return e(t)+""}}function IS(e,t){var n=Qs.lastIndex=cs.lastIndex=0,i,r,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(i=Qs.exec(e))&&(r=cs.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Cn(i,r)})),n=cs.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?kS(l[0].x):OS(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var id=180/Math.PI,Js={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fm(e,t,n,i,r,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*id,skewX:Math.atan(l)*id,scaleX:o,scaleY:s}}var aa;function NS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Js:Fm(t.a,t.b,t.c,t.d,t.e,t.f)}function TS(e){return e==null||(aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g")),aa.setAttribute("transform",e),!(e=aa.transform.baseVal.consolidate()))?Js:(e=e.matrix,Fm(e.a,e.b,e.c,e.d,e.e,e.f))}function Vm(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,w){if(c!==d||u!==h){var m=p.push("translate(",null,t,null,n);w.push({i:m-4,x:Cn(c,d)},{i:m-2,x:Cn(u,h)})}else(d||h)&&p.push("translate("+d+t+h+n)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Cn(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}function s(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Cn(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}function l(c,u,d,h,p,w){if(c!==d||u!==h){var m=p.push(r(p)+"scale(",null,",",null,")");w.push({i:m-4,x:Cn(c,d)},{i:m-2,x:Cn(u,h)})}else(d!==1||h!==1)&&p.push(r(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),s(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var w=-1,m=h.length,k;++w<m;)d[(k=h[w]).i]=k.x(p);return d.join("")}}}var PS=Vm(NS,"px, ","px)","deg)"),xS=Vm(TS,", ",")",")"),SS=1e-12;function rd(e){return((e=Math.exp(e))+1/e)/2}function CS(e){return((e=Math.exp(e))-1/e)/2}function ES(e){return((e=Math.exp(2*e))-1)/(e+1)}const $S=function e(t,n,i){function r(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],d=o[1],h=o[2],p=u-s,w=d-l,m=p*p+w*w,k,b;if(m<SS)b=Math.log(h/c)/t,k=function(O){return[s+O*p,l+O*w,c*Math.exp(t*O*b)]};else{var S=Math.sqrt(m),_=(h*h-c*c+i*m)/(2*c*n*S),g=(h*h-c*c-i*m)/(2*h*n*S),D=Math.log(Math.sqrt(_*_+1)-_),q=Math.log(Math.sqrt(g*g+1)-g);b=(q-D)/t,k=function(O){var P=O*b,E=rd(D),B=c/(n*S)*(E*ES(t*P+D)-CS(D));return[s+B*p,l+B*w,c*E/rd(t*P+D)]}}return k.duration=b*1e3*t/Math.SQRT2,k}return r.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},r}(Math.SQRT2,2,4);var Vi=0,nr=0,Yi=0,Hm=1e3,Wa,ir,Ga=0,hi=0,So=0,Er=typeof performance=="object"&&performance.now?performance:Date,Um=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zl(){return hi||(Um(AS),hi=Er.now()+So)}function AS(){hi=0}function Ka(){this._call=this._time=this._next=null}Ka.prototype=jm.prototype={constructor:Ka,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Zl():+n)+(t==null?0:+t),!this._next&&ir!==this&&(ir?ir._next=this:Wa=this,ir=this),this._call=e,this._time=n,el()},stop:function(){this._call&&(this._call=null,this._time=1/0,el())}};function jm(e,t,n){var i=new Ka;return i.restart(e,t,n),i}function MS(){Zl(),++Vi;for(var e=Wa,t;e;)(t=hi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vi}function ad(){hi=(Ga=Er.now())+So,Vi=nr=0;try{MS()}finally{Vi=0,zS(),hi=0}}function DS(){var e=Er.now(),t=e-Ga;t>Hm&&(So-=t,Ga=e)}function zS(){for(var e,t=Wa,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wa=n);ir=e,el(i)}function el(e){if(!Vi){nr&&(nr=clearTimeout(nr));var t=e-hi;t>24?(e<1/0&&(nr=setTimeout(ad,e-Er.now()-So)),Yi&&(Yi=clearInterval(Yi))):(Yi||(Ga=Er.now(),Yi=setInterval(DS,Hm)),Vi=1,Um(ad))}}function od(e,t,n){var i=new Ka;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var RS=Gl("start","end","cancel","interrupt"),BS=[],Wm=0,sd=1,tl=2,va=3,ld=4,nl=5,ba=6;function Co(e,t,n,i,r,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;LS(e,n,{name:t,index:i,group:r,on:RS,tween:BS,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Wm})}function Ql(e,t){var n=Rt(e,t);if(n.state>Wm)throw new Error("too late; already scheduled");return n}function en(e,t){var n=Rt(e,t);if(n.state>va)throw new Error("too late; already running");return n}function Rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function LS(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=jm(a,0,n.time);function a(c){n.state=sd,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,h,p;if(n.state!==sd)return l();for(u in i)if(p=i[u],p.name===n.name){if(p.state===va)return od(o);p.state===ld?(p.state=ba,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[u]):+u<t&&(p.state=ba,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[u])}if(od(function(){n.state===va&&(n.state=ld,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=tl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===tl){for(n.state=va,r=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=p);r.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=nl,1),d=-1,h=r.length;++d<h;)r[d].call(e,u);n.state===nl&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ba,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function wa(e,t){var n=e.__transition,i,r,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}r=i.state>tl&&i.state<nl,i.state=ba,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function qS(e){return this.each(function(){wa(this,e)})}function FS(e,t){var n,i;return function(){var r=en(this,e),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function VS(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=en(this,e),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function HS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Rt(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?FS:VS)(n,e,t))}function Jl(e,t,n){var i=e._id;return e.each(function(){var r=en(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Rt(r,i).value[t]}}function Gm(e,t){var n;return(typeof t=="number"?Cn:t instanceof Cr?nd:(n=Cr(t))?(t=n,nd):IS)(e,t)}function US(e){return function(){this.removeAttribute(e)}}function jS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WS(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttribute(e);return o===r?null:o===i?a:a=t(i=o,n)}}function GS(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?a:a=t(i=o,n)}}function KS(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function XS(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function YS(e,t){var n=xo(e),i=n==="transform"?xS:Gm;return this.attrTween(e,typeof t=="function"?(n.local?XS:KS)(n,i,Jl(this,"attr."+e,t)):t==null?(n.local?jS:US)(n):(n.local?GS:WS)(n,i,t))}function ZS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function QS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function JS(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&QS(e,a)),n}return r._value=t,r}function eC(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&ZS(e,a)),n}return r._value=t,r}function tC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=xo(e);return this.tween(n,(i.local?JS:eC)(i,t))}function nC(e,t){return function(){Ql(this,e).delay=+t.apply(this,arguments)}}function iC(e,t){return t=+t,function(){Ql(this,e).delay=t}}function rC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nC:iC)(t,e)):Rt(this.node(),t).delay}function aC(e,t){return function(){en(this,e).duration=+t.apply(this,arguments)}}function oC(e,t){return t=+t,function(){en(this,e).duration=t}}function sC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aC:oC)(t,e)):Rt(this.node(),t).duration}function lC(e,t){if(typeof t!="function")throw new Error;return function(){en(this,e).ease=t}}function cC(e){var t=this._id;return arguments.length?this.each(lC(t,e)):Rt(this.node(),t).ease}function uC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;en(this,e).ease=n}}function dC(e){if(typeof e!="function")throw new Error;return this.each(uC(this._id,e))}function hC(e){typeof e!="function"&&(e=Pm(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new fn(i,this._parents,this._name,this._id)}function pC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;s<i;++s)o[s]=t[s];return new fn(o,this._parents,this._name,this._id)}function mC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function gC(e,t,n){var i,r,a=mC(t)?Ql:en;return function(){var o=a(this,e),s=o.on;s!==i&&(r=(i=s).copy()).on(t,n),o.on=r}}function fC(e,t){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(gC(n,e,t))}function yC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vC(){return this.on("end.remove",yC(this._id))}function bC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Kl(e));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],l=s.length,c=a[o]=new Array(l),u,d,h=0;h<l;++h)(u=s[h])&&(d=e.call(u,u.__data__,h,s))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Co(c[h],t,n,h,c,Rt(u,n)));return new fn(a,this._parents,t,n)}function wC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tm(e));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l=i[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=e.call(u,u.__data__,d,l),p,w=Rt(u,n),m=0,k=h.length;m<k;++m)(p=h[m])&&Co(p,t,n,m,h,w);a.push(h),o.push(u)}return new fn(a,o,t,n)}var _C=Rr.prototype.constructor;function OC(){return new _C(this._groups,this._parents)}function kC(e,t){var n,i,r;return function(){var a=Fi(this,e),o=(this.style.removeProperty(e),Fi(this,e));return a===o?null:a===n&&o===i?r:r=t(n=a,i=o)}}function Km(e){return function(){this.style.removeProperty(e)}}function IC(e,t,n){var i,r=n+"",a;return function(){var o=Fi(this,e);return o===r?null:o===i?a:a=t(i=o,n)}}function NC(e,t,n){var i,r,a;return function(){var o=Fi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Fi(this,e))),o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s))}}function TC(e,t){var n,i,r,a="style."+t,o="end."+a,s;return function(){var l=en(this,e),c=l.on,u=l.value[a]==null?s||(s=Km(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i}}function PC(e,t,n){var i=(e+="")=="transform"?PS:Gm;return t==null?this.styleTween(e,kC(e,i)).on("end.style."+e,Km(e)):typeof t=="function"?this.styleTween(e,NC(e,i,Jl(this,"style."+e,t))).each(TC(this._id,e)):this.styleTween(e,IC(e,i,t),n).on("end.style."+e,null)}function xC(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function SC(e,t,n){var i,r;function a(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&xC(e,o,n)),i}return a._value=t,a}function CC(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,SC(e,t,n??""))}function EC(e){return function(){this.textContent=e}}function $C(e){return function(){var t=e(this);this.textContent=t??""}}function AC(e){return this.tween("text",typeof e=="function"?$C(Jl(this,"text",e)):EC(e==null?"":e+""))}function MC(e){return function(t){this.textContent=e.call(this,t)}}function DC(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&MC(r)),t}return i._value=e,i}function zC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DC(e))}function RC(){for(var e=this._name,t=this._id,n=Xm(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Rt(l,t);Co(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new fn(i,this._parents,e,n)}function BC(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--r===0&&a()}};n.each(function(){var c=en(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&a()})}var LC=0;function fn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Xm(){return++LC}var rn=Rr.prototype;fn.prototype={constructor:fn,select:bC,selectAll:wC,selectChild:rn.selectChild,selectChildren:rn.selectChildren,filter:hC,merge:pC,selection:OC,transition:RC,call:rn.call,nodes:rn.nodes,node:rn.node,size:rn.size,empty:rn.empty,each:rn.each,on:fC,attr:YS,attrTween:tC,style:PC,styleTween:CC,text:AC,textTween:zC,remove:vC,tween:HS,delay:rC,duration:sC,ease:cC,easeVarying:dC,end:BC,[Symbol.iterator]:rn[Symbol.iterator]};function qC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FC={time:null,delay:0,duration:250,ease:qC};function VC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function HC(e){var t,n;e instanceof fn?(t=e._id,e=e._name):(t=Xm(),(n=FC).time=Zl(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Co(l,e,t,c,o,n||VC(l,t));return new fn(i,this._parents,e,t)}Rr.prototype.interrupt=qS;Rr.prototype.transition=HC;const oa=e=>()=>e;function UC(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function dn(e,t,n){this.k=e,this.x=t,this.y=n}dn.prototype={constructor:dn,scale:function(e){return e===1?this:new dn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ec=new dn(1,0,0);dn.prototype;function us(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function jC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function WC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function cd(){return this.__zoom||ec}function GC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function KC(){return navigator.maxTouchPoints||"ontouchstart"in this}function XC(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function YC(){var e=jC,t=WC,n=XC,i=GC,r=KC,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=$S,c=Gl("start","zoom","end"),u,d,h,p=500,w=150,m=0,k=10;function b(f){f.property("__zoom",cd).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",B).filter(r).on("touchstart.zoom",V).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(f,C,y,M){var L=f.selection?f.selection():f;L.property("__zoom",cd),f!==L?D(f,C,y,M):L.interrupt().each(function(){q(this,arguments).event(M).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},b.scaleBy=function(f,C,y,M){b.scaleTo(f,function(){var L=this.__zoom.k,j=typeof C=="function"?C.apply(this,arguments):C;return L*j},y,M)},b.scaleTo=function(f,C,y,M){b.transform(f,function(){var L=t.apply(this,arguments),j=this.__zoom,H=y==null?g(L):typeof y=="function"?y.apply(this,arguments):y,K=j.invert(H),te=typeof C=="function"?C.apply(this,arguments):C;return n(_(S(j,te),H,K),L,o)},y,M)},b.translateBy=function(f,C,y,M){b.transform(f,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof y=="function"?y.apply(this,arguments):y),t.apply(this,arguments),o)},null,M)},b.translateTo=function(f,C,y,M,L){b.transform(f,function(){var j=t.apply(this,arguments),H=this.__zoom,K=M==null?g(j):typeof M=="function"?M.apply(this,arguments):M;return n(ec.translate(K[0],K[1]).scale(H.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof y=="function"?-y.apply(this,arguments):-y),j,o)},M,L)};function S(f,C){return C=Math.max(a[0],Math.min(a[1],C)),C===f.k?f:new dn(C,f.x,f.y)}function _(f,C,y){var M=C[0]-y[0]*f.k,L=C[1]-y[1]*f.k;return M===f.x&&L===f.y?f:new dn(f.k,M,L)}function g(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function D(f,C,y,M){f.on("start.zoom",function(){q(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,j=arguments,H=q(L,j).event(M),K=t.apply(L,j),te=y==null?g(K):typeof y=="function"?y.apply(L,j):y,se=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),ie=L.__zoom,ce=typeof C=="function"?C.apply(L,j):C,ue=l(ie.invert(te).concat(se/ie.k),ce.invert(te).concat(se/ce.k));return function(ve){if(ve===1)ve=ce;else{var Oe=ue(ve),we=se/Oe[2];ve=new dn(we,te[0]-Oe[0]*we,te[1]-Oe[1]*we)}H.zoom(null,ve)}})}function q(f,C,y){return!y&&f.__zooming||new O(f,C)}function O(f,C){this.that=f,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,C),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,C){return this.mouse&&f!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var C=$n(this.that).datum();c.call(f,this.that,new UC(f,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),C)}};function P(f,...C){if(!e.apply(this,arguments))return;var y=q(this,C).event(f),M=this.__zoom,L=Math.max(a[0],Math.min(a[1],M.k*Math.pow(2,i.apply(this,arguments)))),j=In(f);if(y.wheel)(y.mouse[0][0]!==j[0]||y.mouse[0][1]!==j[1])&&(y.mouse[1]=M.invert(y.mouse[0]=j)),clearTimeout(y.wheel);else{if(M.k===L)return;y.mouse=[j,M.invert(j)],wa(this),y.start()}Zi(f),y.wheel=setTimeout(H,w),y.zoom("mouse",n(_(S(M,L),y.mouse[0],y.mouse[1]),y.extent,o));function H(){y.wheel=null,y.end()}}function E(f,...C){if(h||!e.apply(this,arguments))return;var y=f.currentTarget,M=q(this,C,!0).event(f),L=$n(f.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",se,!0),j=In(f,y),H=f.clientX,K=f.clientY;aS(f.view),us(f),M.mouse=[j,this.__zoom.invert(j)],wa(this),M.start();function te(ie){if(Zi(ie),!M.moved){var ce=ie.clientX-H,ue=ie.clientY-K;M.moved=ce*ce+ue*ue>m}M.event(ie).zoom("mouse",n(_(M.that.__zoom,M.mouse[0]=In(ie,y),M.mouse[1]),M.extent,o))}function se(ie){L.on("mousemove.zoom mouseup.zoom",null),oS(ie.view,M.moved),Zi(ie),M.event(ie).end()}}function B(f,...C){if(e.apply(this,arguments)){var y=this.__zoom,M=In(f.changedTouches?f.changedTouches[0]:f,this),L=y.invert(M),j=y.k*(f.shiftKey?.5:2),H=n(_(S(y,j),M,L),t.apply(this,C),o);Zi(f),s>0?$n(this).transition().duration(s).call(D,H,M,f):$n(this).call(b.transform,H,M,f)}}function V(f,...C){if(e.apply(this,arguments)){var y=f.touches,M=y.length,L=q(this,C,f.changedTouches.length===M).event(f),j,H,K,te;for(us(f),H=0;H<M;++H)K=y[H],te=In(K,this),te=[te,this.__zoom.invert(te),K.identifier],L.touch0?!L.touch1&&L.touch0[2]!==te[2]&&(L.touch1=te,L.taps=0):(L.touch0=te,j=!0,L.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(L.taps<2&&(d=te[0],u=setTimeout(function(){u=null},p)),wa(this),L.start())}}function T(f,...C){if(this.__zooming){var y=q(this,C).event(f),M=f.changedTouches,L=M.length,j,H,K,te;for(Zi(f),j=0;j<L;++j)H=M[j],K=In(H,this),y.touch0&&y.touch0[2]===H.identifier?y.touch0[0]=K:y.touch1&&y.touch1[2]===H.identifier&&(y.touch1[0]=K);if(H=y.that.__zoom,y.touch1){var se=y.touch0[0],ie=y.touch0[1],ce=y.touch1[0],ue=y.touch1[1],ve=(ve=ce[0]-se[0])*ve+(ve=ce[1]-se[1])*ve,Oe=(Oe=ue[0]-ie[0])*Oe+(Oe=ue[1]-ie[1])*Oe;H=S(H,Math.sqrt(ve/Oe)),K=[(se[0]+ce[0])/2,(se[1]+ce[1])/2],te=[(ie[0]+ue[0])/2,(ie[1]+ue[1])/2]}else if(y.touch0)K=y.touch0[0],te=y.touch0[1];else return;y.zoom("touch",n(_(H,K,te),y.extent,o))}}function U(f,...C){if(this.__zooming){var y=q(this,C).event(f),M=f.changedTouches,L=M.length,j,H;for(us(f),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<L;++j)H=M[j],y.touch0&&y.touch0[2]===H.identifier?delete y.touch0:y.touch1&&y.touch1[2]===H.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(H=In(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<k)){var K=$n(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return b.wheelDelta=function(f){return arguments.length?(i=typeof f=="function"?f:oa(+f),b):i},b.filter=function(f){return arguments.length?(e=typeof f=="function"?f:oa(!!f),b):e},b.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:oa(!!f),b):r},b.extent=function(f){return arguments.length?(t=typeof f=="function"?f:oa([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),b):t},b.scaleExtent=function(f){return arguments.length?(a[0]=+f[0],a[1]=+f[1],b):[a[0],a[1]]},b.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(f){return arguments.length?(n=f,b):n},b.duration=function(f){return arguments.length?(s=+f,b):s},b.interpolate=function(f){return arguments.length?(l=f,b):l},b.on=function(){var f=c.on.apply(c,arguments);return f===c?b:f},b.clickDistance=function(f){return arguments.length?(m=(f=+f)*f,b):Math.sqrt(m)},b.tapDistance=function(f){return arguments.length?(k=+f,b):k},b}const Ym=Symbol("MiniMapSlots"),ZC=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],QC={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},JC=de({...QC,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,i=$e(Ym),r=yl(),a=qe(()=>r.style??{});function o(d){t("click",d)}function s(d){t("dblclick",d)}function l(d){t("mouseenter",d)}function c(d){t("mousemove",d)}function u(d){t("mouseleave",d)}return(d,h)=>!d.hidden&&d.dimensions.width!==0&&d.dimensions.height!==0?(I(),z(he,{key:0},[ee(i)[`node-${n.type}`]?(I(),fe(Wn(ee(i)[`node-${n.type}`]),hg(br({key:0},{...n,...d.$attrs})),null,16)):(I(),z("rect",br({key:1,id:d.id},d.$attrs,{class:["vue-flow__minimap-node",{selected:d.selected,dragging:d.dragging}],x:d.position.x,y:d.position.y,rx:d.borderRadius,ry:d.borderRadius,width:d.dimensions.width,height:d.dimensions.height,fill:d.color||a.value.background||a.value.backgroundColor,stroke:d.strokeColor,"stroke-width":d.strokeWidth,"shape-rendering":d.shapeRendering,onClick:o,onDblclick:s,onMouseenter:l,onMousemove:c,onMouseleave:u}),null,16,ZC))],64)):Z("",!0)}}),eE=["width","height","viewBox","aria-labelledby"],tE=["id"],nE=["d","fill","stroke","stroke-width"],iE={name:"MiniMap",compatConfig:{MODE:3}},rE=de({...iE,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=ah(),i=yl(),r=200,a=150,{id:o,edges:s,viewport:l,translateExtent:c,dimensions:u,emits:d,d3Selection:h,d3Zoom:p,getNodesInitialized:w}=je(),m=re();Mn(Ym,n);const k=qe(()=>{var L;return e.width??((L=i.style)==null?void 0:L.width)??r}),b=qe(()=>{var L;return e.height??((L=i.style)==null?void 0:L.height)??a}),S=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",_=Q(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),g=Q(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),D=Q(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),q=Q(()=>Hl(w.value.filter(L=>!L.hidden))),O=Q(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:u.value.width/l.value.zoom,height:u.value.height/l.value.zoom})),P=Q(()=>w.value&&w.value.length?BT(q.value,O.value):O.value),E=Q(()=>{const L=P.value.width/k.value,j=P.value.height/b.value;return Math.max(L,j)}),B=Q(()=>{const L=E.value*k.value,j=E.value*b.value,H=e.offsetScale*E.value;return{offset:H,x:P.value.x-(L-P.value.width)/2-H,y:P.value.y-(j-P.value.height)/2-H,width:L+H*2,height:j+H*2}}),V=Q(()=>!B.value.x||!B.value.y?"":`
    M${B.value.x-B.value.offset},${B.value.y-B.value.offset}
    h${B.value.width+B.value.offset*2}
    v${B.value.height+B.value.offset*2}
    h${-B.value.width-B.value.offset*2}z
    M${O.value.x+e.maskBorderRadius},${O.value.y}
    h${O.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${O.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(O.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(O.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);bl(L=>{if(m.value){const j=$n(m.value),H=se=>{if(se.sourceEvent.type!=="wheel"||!h.value||!p.value)return;const ie=-se.sourceEvent.deltaY*(se.sourceEvent.deltaMode===1?.05:se.sourceEvent.deltaMode?1:.002)*e.zoomStep,ce=l.value.zoom*2**ie;p.value.scaleTo(h.value,ce)},K=se=>{if(se.sourceEvent.type!=="mousemove"||!h.value||!p.value)return;const ie=E.value*Math.max(1,l.value.zoom)*(e.inversePan?-1:1),ce={x:l.value.x-se.sourceEvent.movementX*ie,y:l.value.y-se.sourceEvent.movementY*ie},ue=[[0,0],[u.value.width,u.value.height]],ve=ec.translate(ce.x,ce.y).scale(l.value.zoom),Oe=p.value.constrain()(ve,ue,c.value);p.value.transform(h.value,Oe)},te=YC().on("zoom",e.pannable?K:()=>{}).on("zoom.wheel",e.zoomable?H:()=>{});j.call(te),L(()=>{j.on("zoom",null)})}},{flush:"post"});function T(L){const[j,H]=In(L);t("click",{event:L,position:{x:j,y:H}})}function U(L,j){const H={event:L,node:j,connectedEdges:Qn([j],s.value)};d.miniMapNodeClick(H),t("nodeClick",H)}function f(L,j){const H={event:L,node:j,connectedEdges:Qn([j],s.value)};d.miniMapNodeDoubleClick(H),t("nodeDblclick",H)}function C(L,j){const H={event:L,node:j,connectedEdges:Qn([j],s.value)};d.miniMapNodeMouseEnter(H),t("nodeMouseenter",H)}function y(L,j){const H={event:L,node:j,connectedEdges:Qn([j],s.value)};d.miniMapNodeMouseMove(H),t("nodeMousemove",H)}function M(L,j){const H={event:L,node:j,connectedEdges:Qn([j],s.value)};d.miniMapNodeMouseLeave(H),t("nodeMouseleave",H)}return(L,j)=>(I(),fe(ee(Om),{position:L.position,class:ge(["vue-flow__minimap",{pannable:L.pannable,zoomable:L.zoomable}])},{default:ht(()=>[(I(),z("svg",{ref_key:"el",ref:m,width:k.value,height:b.value,viewBox:[B.value.x,B.value.y,B.value.width,B.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${ee(o)}`,onClick:T},[L.ariaLabel?(I(),z("title",{key:0,id:`vue-flow__minimap-${ee(o)}`},J(L.ariaLabel),9,tE)):Z("",!0),(I(!0),z(he,null,Ce(ee(w),H=>(I(),fe(JC,{id:H.id,key:H.id,position:H.computedPosition,dimensions:H.dimensions,selected:H.selected,dragging:H.dragging,style:He(H.style),class:ge(D.value(H)),color:_.value(H),"border-radius":L.nodeBorderRadius,"stroke-color":g.value(H),"stroke-width":L.nodeStrokeWidth,"shape-rendering":ee(S),type:H.type,hidden:H.hidden,onClick:K=>U(K,H),onDblclick:K=>f(K,H),onMouseenter:K=>C(K,H),onMousemove:K=>y(K,H),onMouseleave:K=>M(K,H)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),v("path",{class:"vue-flow__minimap-mask",d:V.value,fill:L.maskColor,stroke:L.maskStrokeColor,"stroke-width":L.maskStrokeWidth,"fill-rule":"evenodd"},null,8,nE)],8,eE))]),_:1},8,["position","class"]))}}),aE={class:"explore-tab"},oE={class:"explore-controls"},sE={class:"controls-right"},lE={key:0,class:"tree-container"},cE={class:"stat-name"},uE={class:"stat-value"},dE={key:0,class:"stat-params"},hE={class:"stat-type"},pE={key:1,class:"no-results"},mE={key:2,class:"instructions"},gE=de({__name:"DebugExploreTab",setup(e){const t=$e("gameState"),n=re(t?.uiState.debugExploreInput||""),i=re(!1),r=re(!0),a=re(!0),o=re(7),s=re([]),l=re([]),c={[_e.ADD]:"ADD",[_e.SUB]:"SUB",[_e.MULTY]:"MULT",[_e.DIV]:"DIV",[_e.FORMULA]:"FORMULA",[_e.NAMED_INPUT]:"NAMED_INPUT",[_e.GATE_THRESHOLD]:"GATE_THRESHOLD",[_e.GATE_VALUE]:"GATE_VALUE"};function u(g){return g instanceof cr?"Independent":g instanceof En?"Parameter":g instanceof Si?"Formula":g instanceof Xn?"FormulaParam":g instanceof bi?"Gate":"Unknown"}function d(g){return typeof g=="number"?g.toFixed(3):Array.isArray(g)?`[${g.join(", ")}]`:typeof g=="boolean"?g?"true":"false":String(g)}function h(g){if(g instanceof En){const D={add:g.add,multiCache:g.multiCache};return g.multi.length>0&&(D.multiSources=g.multi),g.divSources.length>0&&(D.divSources=g.divSources),D}if(g instanceof Si)return{argument:g.argument};if(g instanceof Xn){const D={};return Object.entries(g.inputs).forEach(([q,O])=>{D[`input_${q}`]=O}),D.totalInputs=Object.keys(g.inputs).length,D}if(g instanceof bi)return{baseValue:g.baseValue,threshold:g.threshold,inputValue:g.inputValue,isAboveThreshold:g.isAboveThreshold}}function p(g){if(!t)return[];const D=[];for(const[q,O]of t.connections.establishedConnections)for(const P of O)P.target===g&&D.push({from:q,connection:P});return D}function w(g){return t?t.connections.establishedConnections.get(g)||[]:[]}function m(){if(!t||!n.value.trim()){b();return}i.value=!0;const g=n.value.trim(),D=t.connections.connectablesByName.get(g);if(!D){s.value=[],l.value=[];return}const q=[],O=[],P=new Set,E=new Map,B=D.independent?"root-independent":"root";q.push({id:g,type:"stat",position:{x:0,y:0},data:{label:g,value:D.value.toFixed(3),params:h(D),statType:u(D),nodeType:B}}),E.set(g,{x:0,y:0}),P.add(g);let V=0;const T=new Map;if(T.set(0,[g]),r.value){const C=[];for(p(g).forEach((M,L)=>{C.push({statName:M.from,depth:1,level:-1})});C.length>0&&V>-o.value;){const{statName:M,depth:L,level:j}=C.shift();if(L>o.value||P.has(M))continue;const H=t.connections.connectablesByName.get(M);if(!H)continue;P.add(M),T.has(j)||T.set(j,[]),T.get(j).push(M);const K=H.independent?"source":"intermediate";q.push({id:M,type:"stat",position:{x:0,y:0},data:{label:M,value:H.value.toFixed(3),params:h(H),statType:u(H),nodeType:K}}),p(M).forEach(se=>{!P.has(se.from)&&L<o.value&&C.push({statName:se.from,depth:L+1,level:j-1})}),V=Math.min(V,j)}}if(a.value){const C=[];w(g).forEach((L,j)=>{C.push({statName:L.target,depth:1,level:1})});let M=0;for(;C.length>0&&M<o.value;){const{statName:L,depth:j,level:H}=C.shift();if(j>o.value||P.has(L))continue;const K=t.connections.connectablesByName.get(L);if(!K)continue;P.add(L),T.has(H)||T.set(H,[]),T.get(H).push(L),q.push({id:L,type:"stat",position:{x:0,y:0},data:{label:L,value:K.value.toFixed(3),params:h(K),statType:u(K),nodeType:"target"}}),w(L).forEach(ie=>{!P.has(ie.target)&&j<o.value&&C.push({statName:ie.target,depth:j+1,level:H+1})}),M=Math.max(M,H)}}const U=300,f=150;for(const[C,y]of T){const M=C*U,j=-((y.length-1)*f)/2;y.forEach((H,K)=>{const te=j+K*f;E.set(H,{x:te,y:M});const se=q.find(ie=>ie.id===H);se&&(se.position={x:te,y:M})})}for(const[C,y]of t.connections.establishedConnections)if(P.has(C))for(const M of y){if(!P.has(M.target))continue;const L=c[M.type],j=`${C}-${M.target}-${M.type}`;O.push({id:j,source:C,target:M.target,label:M.inputName?`${L}(${M.inputName})`:L,type:"default",style:{stroke:k(M.type)}})}s.value=q,l.value=O}function k(g){return{[_e.ADD]:"#4CAF50",[_e.SUB]:"#F44336",[_e.MULTY]:"#2196F3",[_e.DIV]:"#FF9800",[_e.FORMULA]:"#9C27B0",[_e.NAMED_INPUT]:"#607D8B",[_e.GATE_THRESHOLD]:"#795548",[_e.GATE_VALUE]:"#009688"}[g]||"#666666"}function b(){s.value=[],l.value=[],i.value=!1}function S(){}let _=null;return Ee(n,async g=>{t&&(t.uiState.debugExploreInput=g),_&&clearTimeout(_),_=setTimeout(()=>{m()},300)},{immediate:!1}),Ee([r,a,o],()=>{n.value.trim()&&m()}),at(()=>{n.value.trim()&&m()}),(g,D)=>(I(),z("div",aE,[v("div",oE,[Ge(v("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=q=>n.value=q),class:"explore-input",placeholder:"Enter stat name to explore its connections..."},null,512),[[it,n.value]]),v("button",{onClick:b,class:"clear-button"},"Clear"),v("div",sE,[v("label",null,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[1]||(D[1]=q=>r.value=q),onChange:m},null,544),[[vi,r.value]]),D[4]||(D[4]=Le(" Show incoming connections "))]),v("label",null,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[2]||(D[2]=q=>a.value=q),onChange:m},null,544),[[vi,a.value]]),D[5]||(D[5]=Le(" Show outgoing connections "))]),v("label",null,[D[6]||(D[6]=Le(" Max depth: ")),Ge(v("input",{type:"number","onUpdate:modelValue":D[3]||(D[3]=q=>o.value=q),min:"1",max:"10",onChange:m,class:"depth-input"},null,544),[[it,o.value,void 0,{number:!0}]])])])]),s.value.length>0?(I(),z("div",lE,[ke(ee(RP),{nodes:s.value,edges:l.value,"fit-view-on-init":!0,"nodes-draggable":!0,"nodes-connectable":!1,"elements-selectable":!0,"min-zoom":.1,"max-zoom":2,onNodesInitialized:S},{"node-stat":ht(({data:q})=>[v("div",{class:ge(["stat-node",q.nodeType])},[v("div",cE,J(q.label),1),v("div",uE,J(q.value),1),q.params?(I(),z("div",dE,[(I(!0),z(he,null,Ce(q.params,(O,P)=>(I(),z("div",{key:P,class:"param-item"},J(P)+": "+J(d(O)),1))),128))])):Z("",!0),v("div",hE,J(q.statType),1)],2)]),default:ht(()=>[ke(ee(jP)),ke(ee(O1)),ke(ee(rE))]),_:1},8,["nodes","edges"])])):n.value.trim()&&i.value?(I(),z("div",pE,[v("p",null,'No stat found with name: "'+J(n.value)+'"',1)])):(I(),z("div",mE,D[7]||(D[7]=[v("p",null,"Enter a stat name above to visualize its connection tree.",-1),v("p",null,"The visualization will show how stats are connected and how changes propagate through the system.",-1)])))]))}}),fE=Pe(gE,[["__scopeId","data-v-089b9261"]]),yE={class:"debug-view"},vE={class:"tab-navigation"},bE={class:"debug-tab-content"},wE=de({__name:"DebugView",props:{stats:{type:Object,required:!0}},setup(e){const t=$e("gameState"),n=Q(()=>t?.uiState?.debugActiveTab||"main"),i=r=>{t&&(t.uiState.debugActiveTab||(t.uiState.debugActiveTab="main"),t.uiState.debugActiveTab=r)};return(r,a)=>(I(),z("div",yE,[v("div",vE,[v("button",{onClick:a[0]||(a[0]=o=>i("main")),class:ge([{active:n.value==="main"},"tab-btn"])}," Main ",2),v("button",{onClick:a[1]||(a[1]=o=>i("stats")),class:ge([{active:n.value==="stats"},"tab-btn"])}," Stats ",2),v("button",{onClick:a[2]||(a[2]=o=>i("discover")),class:ge([{active:n.value==="discover"},"tab-btn"])}," Discover ",2),v("button",{onClick:a[3]||(a[3]=o=>i("explore")),class:ge([{active:n.value==="explore"},"tab-btn"])}," Explore ",2)]),v("div",bE,[n.value==="main"?(I(),fe(lO,{key:0})):Z("",!0),n.value==="stats"?(I(),fe(kO,{key:1,stats:e.stats},null,8,["stats"])):Z("",!0),n.value==="discover"?(I(),fe(AO,{key:2})):Z("",!0),n.value==="explore"?(I(),fe(fE,{key:3})):Z("",!0)])]))}}),_E=de({__name:"TooltipBubble",props:{visible:{type:Boolean,default:!1},targetElement:{type:Object,default:null}},setup(e){const t=e,{visible:n,targetElement:i}=Rd(t),r=re({});return bl(()=>{if(n.value&&i.value){const a=i.value.getBoundingClientRect();r.value={position:"fixed",left:`${a.left}px`,top:`${a.bottom+5}px`,zIndex:"1000"}}else r.value={}}),(a,o)=>ee(n)?(I(),z("div",{key:0,class:"tooltip-bubble",style:He(r.value)},[We(a.$slots,"default",{},void 0,!0)],4)):Z("",!0)}}),OE=Pe(_E,[["__scopeId","data-v-4dda30ca"]]),kE={class:"buff-bar-container"},IE=de({__name:"BuffBar",setup(e){const{gameState:t}=Ui(),n=Q(()=>t.value?.uiState.uiWorkSpeed.toFixed(2)||"0.00"),i=Q(()=>`From clutter: ${Math.round(((t.value?.uiState.uiClutterRatio||0)-1)*100)}%`),r=re(!1),a=re(null);return(o,s)=>(I(),z("div",kE,[v("span",{class:"work-speed-buff",onMouseover:s[0]||(s[0]=l=>r.value=!0),onMouseleave:s[1]||(s[1]=l=>r.value=!1),ref_key:"workSpeedBuffElement",ref:a}," Work Speed: "+J(n.value),545),ke(OE,{visible:r.value,targetElement:a.value},{default:ht(()=>[Le(J(i.value),1)]),_:1},8,["visible","targetElement"])]))}}),NE=Pe(IE,[["__scopeId","data-v-71ad6262"]]),TE={class:"tasks-view-container"},PE={class:"task-columns"},xE={class:"task-column"},SE={class:"task-column"},CE={class:"task-column"},EE={class:"task-column"},$E={class:"task-column"},AE={class:"task-column"},ME={class:"task-column"},DE=de({__name:"TasksView",setup(e){const{gameState:t}=Ui();return(n,i)=>(I(),z("div",TE,[ke(NE),i[0]||(i[0]=Th('<div class="task-headers" data-v-e8367e3e><div class="task-header" data-v-e8367e3e>Completed</div><div class="task-header" data-v-e8367e3e>Active</div><div class="task-header" data-v-e8367e3e>Queued</div><div class="task-header" data-v-e8367e3e>Maintenance</div><div class="task-header" data-v-e8367e3e>Opportunity</div><div class="task-header" data-v-e8367e3e>Endeavour</div><div class="task-header" data-v-e8367e3e>Quest</div></div>',1)),v("div",PE,[v("div",xE,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiCompletedTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",SE,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiActiveTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",CE,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiQueuedTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",EE,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiMaintenanceTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",$E,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiOpportunityTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",AE,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiEndeavourTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))]),v("div",ME,[(I(!0),z(he,null,Ce(ee(t)?.uiState.uiQuestTasks,r=>(I(),fe(On,{key:r.uid,task:r},null,8,["task"]))),128))])])]))}}),zE=Pe(DE,[["__scopeId","data-v-e8367e3e"]]),RE={class:"skill-browser"},BE={class:"skill-browser-header"},LE={class:"settings-row"},qE={class:"checkbox-label"},FE={class:"checkbox-label"},VE={class:"checkbox-label"},HE={class:"checkbox-label"},UE={class:"skills-container"},jE={class:"skill-main"},WE={class:"skill-title"},GE={class:"level-badge-container"},KE={class:"skill-name"},XE={class:"relation-badge-container"},YE=["onMouseenter"],ZE={key:0,class:"specializations"},QE={class:"level-badge-container"},JE={class:"spec-name"},e2={class:"relation-badge-container"},t2=["onMouseenter"],n2={key:0},i2={class:"tooltip-item-name"},r2={key:1},a2={class:"tooltip-item-name"},o2=de({__name:"SkillBrowser",setup(e){const t=$e("gameState"),n=re(!1),i=re(!0),r=re(!0),a=re(!1),o=re(0),s=re(0),l=re(0),c=re(0),u=re(!1),d=re([]),h=re({x:0,y:0});function p(g){switch(g){case 0:return 1;case 1:return .85;case 2:return .75;case 3:return .65;case 4:return .55;case 5:return .45;case 6:return .35;default:return .2}}function w(g){let D=0;g.isDiscovered?D+=5:D+=g.keywordStars;for(const q of g.specializations)q.isDiscovered?D+=5:D+=q.keywordStars;return D}function m(g){if(!t)return{count:0,details:[]};const D=[];for(const O of t.characters)O.skills[g]&&O.skills[g].value>0&&D.push({type:"character",name:O.name,level:O.skills[g].value}),O.specializations[g]&&O.specializations[g].value>0&&D.push({type:"character",name:O.name,level:O.specializations[g].value});const q=[...t.availableTasks,...t.queuedTasks,...t.processingTasks,...t.completedTasks];for(const O of q)O.resolvedDefinitionDetails.skills&&O.resolvedDefinitionDetails.skills.includes(g)&&(D.some(P=>P.type==="task"&&P.name===O.name)||D.push({type:"task",name:O.name}));return{count:D.length,details:D}}function k(g,D){d.value=D,h.value={x:g.clientX+10,y:g.clientY+10},u.value=!0}function b(){u.value=!1}function S(g){return g.isDiscovered?g.specializations.every(D=>D.isDiscovered):!1}const _=Q(()=>{if(!t)return[];c.value,n.value,i.value,r.value,a.value;const g=[],D=t.lib.skills.getAllSkills();for(const[O,P]of Object.entries(D)){if(!t.isEncountered(O))continue;const B=t.characters.some(y=>y.skills[O]&&y.skills[O].value>0),V=t.isDiscovered(O),T=V?0:Ss(O,t),U=p(T),f=[];for(const y of P.specializations){const M=t.lib.skills.getSpecialization(y);if(!M)continue;if(t.isEncountered(y)){const j=t.characters.some(se=>se.specializations[y]&&se.specializations[y].value>0),H=t.isDiscovered(y),K=H?0:Ss(y,t),te=p(K);f.push({id:y,displayName:H?M.displayName:Je(M.displayName,te,0,a.value),hasLevels:j,isDiscovered:H,keywordStars:K,relationCount:0,relationDetails:[]})}}const C={id:O,displayName:V?P.displayName:Je(P.displayName,U,0,a.value),hasLevels:B,isDiscovered:V,specializations:f,keywordStars:T,progressRatio:0,relationCount:0,relationDetails:[]};if(C.progressRatio=w(C),!V){const y=m(O);C.relationCount=y.count,C.relationDetails=y.details}for(const y of C.specializations)if(!y.isDiscovered){const M=m(y.id);y.relationCount=M.count,y.relationDetails=M.details}g.push(C)}let q=g.filter(O=>!(!n.value&&S(O)||!i.value&&!O.hasLevels&&!O.specializations.some(P=>P.hasLevels)));return r.value&&q.sort((O,P)=>P.progressRatio-O.progressRatio),q});return at(()=>{t&&(o.value=t.uiState.discoveredItemsCount,s.value=t.uiState.encounteredItemsCount,l.value=t.uiState.activeKeywords.size,c.value+=1)}),Ee(()=>t?.uiState.discoveredItemsCount,g=>{g!==void 0&&g!==o.value&&(o.value=g,c.value+=1)}),Ee(()=>t?.uiState.encounteredItemsCount,g=>{g!==void 0&&g!==s.value&&(s.value=g,c.value+=1)}),Ee(()=>t?.uiState.activeKeywords.size,g=>{g!==void 0&&g!==l.value&&(l.value=g,c.value+=1)}),(g,D)=>(I(),z(he,null,[v("div",RE,[v("div",BE,[v("div",LE,[v("label",qE,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[0]||(D[0]=q=>n.value=q)},null,512),[[vi,n.value]]),D[4]||(D[4]=Le(" Discovered "))]),v("label",FE,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[1]||(D[1]=q=>i.value=q)},null,512),[[vi,i.value]]),D[5]||(D[5]=Le(" Not owned "))]),v("label",VE,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[2]||(D[2]=q=>r.value=q)},null,512),[[vi,r.value]]),D[6]||(D[6]=Le(" Sort by progress "))]),v("label",HE,[Ge(v("input",{type:"checkbox","onUpdate:modelValue":D[3]||(D[3]=q=>a.value=q)},null,512),[[vi,a.value]]),D[7]||(D[7]=Le(" Symbols "))])])]),v("div",UE,[(I(!0),z(he,null,Ce(_.value,q=>(I(),z("div",{key:q.id,class:"skill-card"},[v("div",jE,[v("div",WE,[v("div",GE,[q.keywordStars>0?(I(),z("span",{key:0,class:ge(["keyword-badge",`keyword-level-${q.keywordStars}`])},J(q.keywordStars),3)):Z("",!0)]),v("span",KE,J(q.displayName),1),v("div",XE,[q.relationCount>0&&!q.isDiscovered?(I(),z("span",{key:0,class:"relation-badge",onMouseenter:O=>k(O,q.relationDetails),onMouseleave:b},J(q.relationCount),41,YE)):Z("",!0)])])]),q.specializations.length>0?(I(),z("div",ZE,[(I(!0),z(he,null,Ce(q.specializations,O=>(I(),z("div",{key:O.id,class:"specialization"},[v("div",QE,[O.keywordStars>0?(I(),z("span",{key:0,class:ge(["keyword-badge",`keyword-level-${O.keywordStars}`])},J(O.keywordStars),3)):Z("",!0)]),v("span",JE,J(O.displayName),1),v("div",e2,[O.relationCount>0&&!O.isDiscovered?(I(),z("span",{key:0,class:"relation-badge",onMouseenter:P=>k(P,O.relationDetails),onMouseleave:b},J(O.relationCount),41,t2)):Z("",!0)])]))),128))])):Z("",!0)]))),128))])]),u.value?(I(),z("div",{key:0,class:"relation-tooltip",style:He({left:h.value.x+"px",top:h.value.y+"px"})},[(I(!0),z(he,null,Ce(d.value,q=>(I(),z("div",{key:`${q.type}-${q.name}`,class:"tooltip-item"},[q.type==="character"?(I(),z("span",n2,[D[8]||(D[8]=Le(" Mastered by ")),v("span",i2,J(q.name),1),Le(" (Lv "+J(q.level)+") ",1)])):(I(),z("span",r2,[D[9]||(D[9]=Le(" Relevant to: ")),v("span",a2,J(q.name),1)]))]))),128))],4)):Z("",!0)],64))}}),s2=Pe(o2,[["__scopeId","data-v-8c3a4b6a"]]),l2="/mhq/img/ball.webp",c2="/mhq/img/ball%20(1).webp",u2="/mhq/img/ball%20(2).webp",d2="/mhq/img/ball%20(3).webp",h2="/mhq/img/ball%20(4).webp",p2=de({__name:"CrystalBall",setup(e){const t=$e("gameState"),n=Q(()=>t?.uiState.crystalBallWords.length??!1),i=()=>{n.value&&t&&t.toggleCrystalView()};return(r,a)=>(I(),z("div",{class:ge(["crystal-ball-container",{clickable:n.value,glowing:n.value}]),onClick:i},a[0]||(a[0]=[Th('<div class="crystal-ball" data-v-5ff54736><img src="'+l2+'" alt="Crystal Ball Layer 1" class="ball-layer layer-1" data-v-5ff54736><img src="'+c2+'" alt="Crystal Ball Layer 2" class="ball-layer layer-2" data-v-5ff54736><img src="'+u2+'" alt="Crystal Ball Layer 3" class="ball-layer layer-3" data-v-5ff54736><img src="'+d2+'" alt="Crystal Ball Layer 4" class="ball-layer layer-4" data-v-5ff54736><img src="'+h2+'" alt="Crystal Ball Layer 5" class="ball-layer layer-5" data-v-5ff54736></div>',1)]),2))}}),Zm=Pe(p2,[["__scopeId","data-v-5ff54736"]]),m2={class:"discovery-input-section"},g2={class:"input-container"},f2={class:"crystal-ball-mini"},y2={key:0,class:"crystal-count-badge"},v2=de({__name:"DiscoveryInput",setup(e){const t=$e("gameState"),n=re(""),i=re(null),r=re("default"),a=Q(()=>t?.uiState.crystalBallWords?.length??0);let o=0;const s=async()=>{if(!t||!n.value.trim()){await c();return}const d=n.value.trim();o=t.uiState.discoveryAnalysisLog.length;const h={name:"CmdSubmitDiscovery",input:d};gt.push(h),setTimeout(async()=>{if(!t)return;if(t.uiState.discoveryAnalysisLog.length>o){const m=t.uiState.discoveryAnalysisLog[t.uiState.discoveryAnalysisLog.length-1][0];m&&(m.type==="DIRECT_DISCOVERY"||m.type==="ADD_ACTIVE_KEYWORD")?(n.value="",u(),await bt(),i.value?.focus()):await c()}else await c()},100)},l=()=>{(r.value==="error"||r.value==="success")&&(r.value="typing")},c=async()=>{r.value="error",await bt(),i.value?.select(),i.value?.focus(),setTimeout(()=>{r.value==="error"&&(r.value="default")},600)},u=()=>{r.value="success",setTimeout(()=>{r.value==="success"&&(r.value="default")},2100)};return(d,h)=>(I(),z("div",m2,[v("div",g2,[v("div",f2,[ke(Zm),a.value>0?(I(),z("div",y2,J(a.value),1)):Z("",!0)]),v("div",{class:ge(["input-area",{"shake-animation":r.value==="error","flash-green-animation":r.value==="success"}])},[Ge(v("input",{ref_key:"inputElementRef",ref:i,"onUpdate:modelValue":h[0]||(h[0]=p=>n.value=p),onKeydown:Ol(s,["enter"]),onInput:l,type:"text",placeholder:"Type something to discover...",class:ge(["discovery-input",{"input-error-highlight":r.value==="error","input-typing-highlight":r.value==="typing"}]),maxlength:"100"},null,34),[[it,n.value]]),v("button",{onClick:s,class:"discovery-submit-btn"}," Enter ")],2)])]))}}),b2=Pe(v2,[["__scopeId","data-v-eac527a9"]]),w2={key:0,class:"discovery-analysis-log"},_2=["innerHTML"],O2=["onMouseenter"],k2=["innerHTML"],I2=de({__name:"DiscoveryLog",setup(e){const t=$e("gameState"),n=re(0),i=re(!1),r=re(0),a=re(0),o=re("");Ee(()=>t?.uiState?.discoveredItemsCount??0,()=>{n.value+=1},{immediate:!0});const s=Q(()=>(n.value,t&&t.uiState.discoveryAnalysisLog&&t.uiState.discoveryAnalysisLog.length>0)),l=Q(()=>(n.value,!t||!t.uiState.discoveryAnalysisLog?[]:t.uiState.discoveryAnalysisLog.slice(-10))),c=m=>{if(!m||!m.type)return!1;switch(m.type){case"DIRECT_DISCOVERY":return m.isBrainstorm===!0;default:return!1}},u=m=>{if(!m||!m.type)return"";switch(m.type){case"DIRECT_DISCOVERY":if(m.isBrainstorm){const k=m.leadingKeywords||[];return k.length>0?"Keywords that led to this discovery:<br/>"+k.map(b=>`<span class="keyword-highlight">${b}</span>`).join(", "):"This item was discovered through brainstorming from accumulated keywords."}break}return""},d=(m,k)=>{const b=m.target.getBoundingClientRect();r.value=b.left+b.width/2-100,a.value=b.top-60,o.value=u(k),i.value=!0},h=()=>{i.value=!1},p=m=>{if(!m||!m.type)return"No action";switch(m.type){case"DIRECT_DISCOVERY":const k=m.item.originalItem.displayName||m.item.originalItem.name||m.item.id,b=m.item.type;return m.isBrainstorm?`Brainstormed: <span class="discovered-item-name">${k}</span>`:b==="skill_specialization"?`New specialization: <span class="discovered-item-name">${k}</span>`:b==="skill"?`New skill: <span class="discovered-item-name">${k}</span>`:b==="building"?`New building: <span class="discovered-item-name">${k}</span>`:b==="attribute"||b==="attribute_category"?`New attribute: <span class="discovered-item-name">${k}</span>`:b==="resource"?`New resource: <span class="discovered-item-name">${k}</span>`:b==="tab"?`New tab: <span class="discovered-item-name">${k}</span>`:`Discovery: <span class="discovered-item-name">${k}</span>`;case"ADD_ACTIVE_KEYWORD":return`New keyword <span class="keyword-highlight">${m.keyword}</span> relates to <span class="number-highlight">${m.relatedItemIds.length}</span> undiscovered items`;case"ALREADY_DISCOVERED":return`Already discovered: <span class="discovered-item-name">${m.item.originalItem.displayName||m.item.originalItem.name||m.item.id}</span>`;case"KEYWORD_ALREADY_ACTIVE":return`Keyword <span class="keyword-highlight">${m.keyword}</span> is already active`;case"KEYWORD_ALREADY_DISCARDED":return`Keyword <span class="keyword-highlight">${m.keyword}</span> was previously discarded`;case"ADD_DISCARDED_KEYWORD":return`Keyword <span class="keyword-highlight">${m.keyword}</span> exists but all related items are discovered`;case"NO_MATCH":return`No matches found for <span class="error-highlight">${m.input}</span>`;case"INVALID_INPUT":return`Invalid input: ${m.reason}`;default:return`Unknown action: ${JSON.stringify(m)}`}},w=m=>{if(!m||!m.type)return"analysis-error";switch(m.type){case"DIRECT_DISCOVERY":case"ADD_ACTIVE_KEYWORD":return"analysis-success";case"ALREADY_DISCOVERED":case"KEYWORD_ALREADY_ACTIVE":case"KEYWORD_ALREADY_DISCARDED":case"ADD_DISCARDED_KEYWORD":return"analysis-info";case"NO_MATCH":case"INVALID_INPUT":return"analysis-error";default:return"analysis-info"}};return(m,k)=>(I(),z(he,null,[s.value?(I(),z("div",w2,[(I(!0),z(he,null,Ce(l.value,(b,S)=>(I(),z("div",{key:`discovery-${S}`,class:ge(["analysis-entry-group",{"multiple-actions":b.length>1}])},[(I(!0),z(he,null,Ce(b,(_,g)=>(I(),z("div",{key:`discovery-${S}-action-${g}`,class:ge(["analysis-entry",[w(_),{"first-action":g===0,"last-action":g===b.length-1}]])},[v("span",{innerHTML:p(_)},null,8,_2),c(_)?(I(),z("div",{key:0,class:"info-icon-container",onMouseenter:D=>d(D,_),onMouseleave:h},k[0]||(k[0]=[v("span",{class:"info-icon"},"",-1)]),40,O2)):Z("",!0)],2))),128))],2))),128))])):Z("",!0),i.value?(I(),z("div",{key:1,class:"custom-tooltip",style:He({left:r.value+"px",top:a.value+"px"})},[v("div",{class:"tooltip-content",innerHTML:o.value},null,8,k2)],4)):Z("",!0)],64))}}),N2=Pe(I2,[["__scopeId","data-v-b27005f0"]]),T2={key:0,class:"active-keywords-container"},P2={class:"keywords-grid"},x2={class:"keyword-text"},S2={class:"keyword-count"},C2=de({__name:"ActiveKeywords",setup(e){const{gameState:t}=Ui(),n=Q(()=>t.value?Array.from(t.value.uiState.activeKeywords.entries()).sort(([r],[a])=>r.localeCompare(a)):[]);return(i,r)=>n.value.length>0?(I(),z("div",T2,[r[0]||(r[0]=v("h3",{class:"keywords-title"},"Active Keywords",-1)),v("div",P2,[(I(!0),z(he,null,Ce(n.value,([a,o])=>(I(),z("div",{key:a,class:"keyword-entry"},[v("span",x2,J(a),1),v("span",S2,J(o.length),1)]))),128))])])):Z("",!0)}}),E2=Pe(C2,[["__scopeId","data-v-47ae56be"]]),$2={class:"crystal-view-container"},A2={class:"crystal-ball-large"},M2={class:"crystal-words-container"},D2=["onClick","onContextmenu"],z2={key:0,class:"no-words-message"},R2=de({__name:"CrystalView",setup(e){const t=$e("gameState"),n=Q(()=>t?.uiState.crystalBallWords??[]),i=o=>{if(!t)return;const s={name:"CmdSubmitDiscovery",input:o};gt.push(s)},r=o=>{if(!t)return;const s={name:"CmdRemoveCrystalWord",word:o};gt.push(s)},a=()=>{t&&t.closeCrystalView()};return(o,s)=>(I(),z("div",$2,[v("div",{class:"crystal-view-header"},[v("button",{class:"close-button",onClick:a},"")]),v("div",A2,[ke(Zm)]),s[0]||(s[0]=v("div",{class:"crystal-instruction"}," Words accumulated through possession or inspiration. ",-1)),s[1]||(s[1]=v("div",{class:"crystal-instruction"}," Click to try them, right click to dismiss. ",-1)),v("div",M2,[(I(!0),z(he,null,Ce(n.value,l=>(I(),z("div",{key:l,class:"crystal-word",onClick:c=>i(l),onContextmenu:li(c=>r(l),["prevent"])},J(l),41,D2))),128)),n.value.length===0?(I(),z("div",z2," No words available. Need an inspiration. ")):Z("",!0)])]))}}),B2=Pe(R2,[["__scopeId","data-v-d2ff43d7"]]),L2={class:"discover-view-container"},q2={class:"discover-layout"},F2={class:"skill-browser-panel"},V2={key:1,class:"skill-browser-overlay fade-overlay"},H2={class:"crystal-ball-panel"},U2={class:"discovery-input-wrapper"},j2={key:0,class:"inner-cosmos-overlay fade-overlay"},W2=de({__name:"DiscoverView",setup(e){const t=$e("gameState"),n=Q(()=>(t?.uiState.discoveredItemsCount,t?.discoveredItems.has(Ne.DISCOVERY_SKILL_BROWSER)??!1)),i=Q(()=>(t?.uiState.discoveredItemsCount,t?.discoveredItems.has(Ne.DISCOVERY_INNER_COSMOS)??!1)),r=Q(()=>t?.uiState.showCrystalView??!1),a=()=>{const s={name:"CmdDiscover",identifier:Ne.DISCOVERY_SKILL_BROWSER};gt.push(s)},o=()=>{const s={name:"CmdDiscover",identifier:Ne.DISCOVERY_INNER_COSMOS};gt.push(s)};return(s,l)=>(I(),z("div",L2,[v("div",q2,[v("div",F2,[ke(s2),r.value?(I(),fe(B2,{key:0})):Z("",!0),n.value?Z("",!0):(I(),z("div",V2,[v("button",{onClick:a,class:"discovery-button"}," Contemplate skills and specialization ")]))]),v("div",H2,[ke(E2),v("div",U2,[ke(N2),i.value?(I(),fe(b2,{key:0})):Z("",!0)]),i.value?Z("",!0):(I(),z("div",j2,[v("button",{onClick:o,class:"discovery-button"}," Talk to inner cosmos ")]))])])]))}}),G2=Pe(W2,[["__scopeId","data-v-30caa541"]]),K2={key:0,class:"click-counter-overlay"},X2={class:"click-counter-content"},Y2=de({__name:"ClickCounterView",setup(e){const t=$e("gameState"),n=Q(()=>t?.activeMinigame?.type==="ClickCounter"?t.uiState.activeMinigameState:null),i=()=>{t&&t.activeMinigame instanceof ap&&t.activeMinigame.recordClick(t)},r=Q(()=>n.value?`Close (${n.value.clicksToWin-n.value.clickCount} more clicks)`:"Close");return(a,o)=>n.value?(I(),z("div",K2,[v("div",X2,[o[0]||(o[0]=v("h2",null,"Click Counter Minigame",-1)),v("p",null,"You have clicked "+J(n.value.clickCount)+" times.",1),v("p",null,"You need to click "+J(n.value.clicksToWin)+" times to close this.",1),v("button",{onClick:i},J(r.value),1)])])):Z("",!0)}}),Z2=Pe(Y2,[["__scopeId","data-v-607001ba"]]),Q2={class:"choice-option"},J2={class:"card-header"},e$=["src","alt"],t$={key:0,class:"progress-bar-container"},n$={class:"details"},i$={class:"pros"},r$={key:0},a$={key:1},o$={class:"cons"},s$={key:0},l$={key:1},c$={key:0,class:"button-container"},u$=de({__name:"ChoiceOption",props:{id:{},name:{},imageName:{},pros:{},cons:{},description:{},isExploring:{type:Boolean},explorationProgress:{},canBeSelected:{type:Boolean},areProsConsTitlesVisible:{type:Boolean},nameObfuscationPercentage:{}},emits:["selected","mouseenter-choice","mouseleave-choice","explore"],setup(e,{emit:t}){const n=e,i=t,r=re(!1),a=()=>{n.canBeSelected&&i("selected",n.id)},o=()=>{i("explore",n.id)},s=()=>{r.value=!0,i("mouseenter-choice",n.description)},l=()=>{r.value=!1,i("mouseleave-choice")};return(c,u)=>(I(),z("div",{class:ge(["choice-wrapper",{hovered:r.value,"can-select":c.canBeSelected}]),onMouseover:s,onMouseleave:l,onClick:a},[v("div",Q2,[v("div",J2,[v("img",{src:"img/"+c.imageName,alt:c.name,class:"choice-image"},null,8,e$),c.isExploring?(I(),z("div",t$,[v("div",{class:"progress-bar",style:He({width:c.explorationProgress*100+"%"})},null,4)])):Z("",!0),v("h3",null,J(c.name),1)]),v("div",n$,[v("div",i$,[c.areProsConsTitlesVisible?(I(),z("h4",r$,"Pros:")):Z("",!0),c.areProsConsTitlesVisible?(I(),z("ul",a$,[(I(!0),z(he,null,Ce(c.pros,(d,h)=>(I(),z("li",{key:"pro-"+h},J(d),1))),128))])):Z("",!0)]),v("div",o$,[c.areProsConsTitlesVisible?(I(),z("h4",s$,"Cons:")):Z("",!0),c.areProsConsTitlesVisible?(I(),z("ul",l$,[(I(!0),z(he,null,Ce(c.cons,(d,h)=>(I(),z("li",{key:"con-"+h},J(d),1))),128))])):Z("",!0)])])]),ke(Qf,{name:"slide"},{default:ht(()=>[!c.canBeSelected&&!c.isExploring?(I(),z("div",c$,[v("button",{onClick:li(o,["stop"]),class:"explore-button"}," Explore ")])):Z("",!0)]),_:1})],34))}}),d$=Pe(u$,[["__scopeId","data-v-800c3047"]]),h$={class:"stage-one-container"},p$={class:"choices-container"},m$={class:"hovered-description-container"},g$={key:0},f$={key:1},y$=de({__name:"WelcomeChoices",props:{explorableChoices:{}},emits:["choiceMade","startExploration"],setup(e,{emit:t}){const n=e,i=t,r=Q(()=>n.explorableChoices),a=re(null),o=Q(()=>{if(!a.value)return null;const d=r.value.find(h=>h.id===a.value);return d&&d.isDescriptionVisible?d.descriptionObfuscationPercentage>0&&d.description?Je(d.description,d.descriptionObfuscationPercentage):d.description||null:null}),s=d=>{const h=r.value.find(p=>p.id===d);h&&h.canBeSelected&&i("choiceMade",d)},l=d=>{i("startExploration",d)},c=d=>{a.value=d.id},u=()=>{a.value=null};return(d,h)=>(I(),z("div",h$,[h[0]||(h[0]=v("p",{class:"stage-text"},[Le("We've established a telepathic link to a new worldone with "),v("b",null,"magic"),Le(".")],-1)),h[1]||(h[1]=v("p",{class:"stage-text"},"To tap into this power, we need a stable gateway built from both sides.",-1)),h[2]||(h[2]=v("p",{class:"stage-text"},"The plan: possses an isolated guild master who has the necessary infrastructure.",-1)),h[3]||(h[3]=v("p",{class:"stage-text"},"Several candidates exist across different regions. Choose the region.",-1)),v("div",p$,[(I(!0),z(he,null,Ce(r.value,p=>(I(),fe(d$,{key:p.id,id:p.id,name:p.nameObfuscationPercentage>0?ee(Je)(p.name,p.nameObfuscationPercentage):p.name,imageName:p.imageName,atlasName:p.atlasName,pros:p.pros.slice(0,p.revealedProsCount),cons:p.cons.slice(0,p.revealedConsCount),description:p.description,isExploring:p.isExploring,explorationProgress:p.explorationProgress,canBeSelected:p.canBeSelected,areProsConsTitlesVisible:p.areProsConsTitlesVisible,nameObfuscationPercentage:p.nameObfuscationPercentage,onSelected:w=>s(p.id),onExplore:w=>l(p.id),onMouseenterChoice:w=>c(p),onMouseleaveChoice:u},null,8,["id","name","imageName","atlasName","pros","cons","description","isExploring","explorationProgress","canBeSelected","areProsConsTitlesVisible","nameObfuscationPercentage","onSelected","onExplore","onMouseenterChoice"]))),128))]),v("div",m$,[o.value?(I(),z("p",g$,J(o.value),1)):(I(),z("p",f$,""))])]))}}),v$=Pe(y$,[["__scopeId","data-v-f842ccba"]]),b$={class:"connection-view-container"},w$=de({__name:"WelcomeView",setup(e){const t=$e("gameState"),n=Q(()=>t?.activeMinigame?.type==="Welcome"&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null),i=Q(()=>t?.activeMinigame?.type==="Welcome"?t.activeMinigame:null),r=o=>{i.value&&t?i.value.makeChoiceAndPrepareExit(o,t):console.error("WelcomeGame instance or gameState not available for handleChoiceMade")},a=o=>{i.value?.startExploration(o)};return at(()=>{n.value?.lib?.isLoaded,n.value}),(o,s)=>(I(),z("div",b$,[n.value&&n.value.lib&&n.value.explorableChoices?(I(),fe(v$,{key:0,explorableChoices:n.value.explorableChoices,onChoiceMade:r,onStartExploration:a},null,8,["explorableChoices"])):Z("",!0)]))}}),_$=Pe(w$,[["__scopeId","data-v-8d5fcf79"]]),O$={class:"column-title"},k$={class:"word-list-container"},I$={class:"word-list"},N$=["id","onMouseover"],T$={class:"word-item"},P$={class:"word-item-edge"},x$={class:"badge-placeholder"},S$={class:"word-name"},C$={key:0,class:"stars"},E$={key:0,class:"typo-sticker"},$$=de({__name:"IngressWordColumn",props:{title:{},words:{},anyBadgeHovered:{type:Boolean}},emits:["word-hover","word-leave"],setup(e,{emit:t}){const n=t,i=u=>typeof u=="object"?u.definition.id:null,r=u=>typeof u=="string"?u:u.definition.name,a=u=>typeof u=="string"?0:Math.min(u.pointsEarned,4),o=u=>typeof u=="string"?!1:u.wasTypo,s=u=>typeof u=="object"&&u.sourceCharacterIds?u.sourceCharacterIds.length:0,l=(u,d)=>{typeof u=="object"&&u.sourceCharacterIds&&u.sourceCharacterIds.length>0&&n("word-hover",{word:u,event:d})},c=()=>{n("word-leave")};return(u,d)=>(I(),z("div",{class:ge(["ingress-word-column-component",{condensed:u.words.length>25}])},[v("p",O$,J(u.title),1),v("div",k$,[v("ul",I$,[(I(!0),z(he,null,Ce(u.words,(h,p)=>(I(),z("li",{key:p,class:"word-item-wrapper",id:i(h)?`word-li-${i(h)}`:void 0,onMouseover:w=>l(h,w),onMouseleave:d[0]||(d[0]=w=>c())},[v("div",T$,[v("div",P$,[v("div",x$,[s(h)>0?(I(),z("div",{key:0,class:ge(["character-badge",{"animate-pulse-glow":!u.anyBadgeHovered,"static-badge":u.anyBadgeHovered}])},[v("span",null,J(s(h)),1),d[1]||(d[1]=v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},[v("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})],-1))],2)):Z("",!0)])]),v("span",S$,J(r(h)),1),a(h)>0?(I(),z("span",C$,J("".repeat(a(h))),1)):Z("",!0)]),o(h)?(I(),z("div",E$,"TYPO")):Z("",!0)],40,N$))),128))])])],2))}}),A$=Pe($$,[["__scopeId","data-v-eb0d66ce"]]),M$=de({__name:"IngressWordColumns",props:{columns:{},anyBadgeHovered:{type:Boolean}},emits:["word-hover","word-leave"],setup(e){return(t,n)=>(I(),fe(vy,{appear:"",name:"slide-from-right",tag:"div",class:"ingress-word-columns-container"},{default:ht(()=>[(I(!0),z(he,null,Ce(t.columns,i=>(I(),fe(A$,{key:i.id,title:i.title,words:i.words,class:"word-column",onWordHover:n[0]||(n[0]=r=>t.$emit("word-hover",r)),onWordLeave:n[1]||(n[1]=r=>t.$emit("word-leave")),"any-badge-hovered":t.anyBadgeHovered},null,8,["title","words","any-badge-hovered"]))),128))]),_:1}))}}),D$=Pe(M$,[["__scopeId","data-v-b5099c71"]]),z$={class:"card-content"},R$={key:0,class:"unexplored-content"},B$={key:1,class:"name-content"},L$={class:"character-name"},q$={key:2,class:"portrait-content"},F$={key:1,class:"xp-bonus-overlay"},V$={class:"character-name overlay-name"},H$=["disabled"],U$={key:0,class:"cost-stars"},j$=de({__name:"IngressCharacterCard",props:{option:{},xpBonus:{}},emits:["explore"],setup(e,{emit:t}){const n=e,i=t,r=$e("gameState"),a=Q(()=>r?.activeMinigame?.type===mn&&r.uiState.activeMinigameState?r.uiState.activeMinigameState:null),o=Q(()=>n.option.characterName?a.value?.characterRenames&&a.value.characterRenames[n.option.characterId]?a.value.characterRenames[n.option.characterId]:n.option.characterName:"???"),s=Q(()=>{switch(n.option.discoveryState){case"unexplored":return n.option.explorationCosts[0];case"name_revealed":return n.option.explorationCosts[1];default:return 0}}),l=Q(()=>{switch(n.option.discoveryState){case"unexplored":return"Focus attention";case"name_revealed":return"Intensify Focus";default:return""}}),c=Q(()=>n.option.discoveryState!=="unexplored"&&n.option.discoveryState!=="name_revealed"?!0:!a.value||a.value.possessionCharges<s.value),u=Q(()=>{const p=s.value;return p<=0?"":"".repeat(p)}),d=()=>{c.value||i("explore",n.option)},h=()=>{n.option.discoveryState==="portrait_revealed"&&i("explore",n.option)};return(p,w)=>(I(),z("div",{class:ge(["character-card",[`state-${p.option.discoveryState}`,{"is-clickable":p.option.discoveryState==="portrait_revealed"}]]),onClick:h},[v("div",z$,[p.option.discoveryState==="unexplored"?(I(),z("div",R$,w[0]||(w[0]=[v("span",{class:"question-mark"},"?",-1)]))):Z("",!0),p.option.discoveryState==="name_revealed"?(I(),z("div",B$,[v("h3",L$,J(o.value),1)])):Z("",!0),p.option.discoveryState==="portrait_revealed"?(I(),z("div",q$,[p.option.characterImage?(I(),fe(Ca,{key:0,"atlas-name":"heroes","image-name":p.option.characterImage.portrait||p.option.characterImage.full,"display-width":254,"display-height":360},null,8,["image-name"])):Z("",!0),p.xpBonus>0?(I(),z("div",F$,"+"+J(p.xpBonus)+"% XP",1)):Z("",!0),v("h3",V$,J(o.value),1)])):Z("",!0),p.option.discoveryState==="unexplored"||p.option.discoveryState==="name_revealed"?(I(),z("button",{key:3,onClick:li(d,["stop"]),disabled:c.value,class:"explore-button"},[Le(J(l.value)+" ",1),u.value?(I(),z("span",U$,J(u.value),1)):Z("",!0)],8,H$)):Z("",!0)])],2))}}),W$=Pe(j$,[["__scopeId","data-v-319139e2"]]),G$={class:"content-overlay"},K$={class:"stars"},X$={key:0,class:"progress-text-container"},Y$={key:0,class:"possession-ready"},Z$={key:1,class:"possession-progress"},Q$={key:0,class:"hint-tooltip"},J$=de({__name:"PossessionChargesBar",props:{charges:{},possessionProgress:{},totalPossessionCharges:{},upgrades:{},showProgress:{type:Boolean,default:!0}},setup(e){const t=e,n=re(!1),i=re("default"),r=Q(()=>t.charges<=0?"":"".repeat(t.charges).replace(/(.{5})/g,"$1 ").trimEnd()),a=Q(()=>t.possessionProgress.toFixed(3)),o=Q(()=>{let l=t.totalPossessionCharges;return t.upgrades?.breach_possession_speed&&(l*=2),l}),s=Q(()=>`${t.possessionProgress%1*100}%`);return Ee(()=>t.charges,(l,c)=>{if(c!==void 0){if(l>c)i.value="increase";else if(l<c)i.value="decrease";else return;setTimeout(()=>{i.value="default"},1.3*1e3)}}),(l,c)=>(I(),z("div",{class:ge(["possession-charges-bar",{"flash-green-possession":i.value==="increase","flash-dark-possession":i.value==="decrease"}])},[l.showProgress?(I(),z("div",{key:0,class:"progress-bar-fill",style:He({width:s.value})},null,4)):Z("",!0),v("div",G$,[c[4]||(c[4]=v("span",{class:"possession-charges-label"},"Possession Charges: ",-1)),v("span",K$,J(r.value),1),l.showProgress?(I(),z("div",X$,[l.possessionProgress>=100?(I(),z("span",Y$," Ready to Possess ")):(I(),z("span",Z$," Possession progress: "+J(a.value)+"%, rate: "+J(o.value)+"x ",1)),l.possessionProgress<100?(I(),z("div",{key:2,class:"input-hint-container",onMouseenter:c[0]||(c[0]=u=>n.value=!0),onMouseleave:c[1]||(c[1]=u=>n.value=!1)},[c[3]||(c[3]=v("span",{class:"hint-icon"},"?",-1)),n.value?(I(),z("div",Q$,c[2]||(c[2]=[v("ul",null,[v("li",null,"The rate is proportional to the total amount of charges you've earned."),v("li",null,"Spending charges does not affect the rate, but may tickle the sense of greed. This is normal.")],-1)]))):Z("",!0)],32)):Z("",!0)])):Z("",!0)])],2))}}),Qm=Pe(J$,[["__scopeId","data-v-7761e464"]]),eA={class:"inspect-view-panel"},tA={key:1,class:"inspect-content"},nA={class:"char-portrait-panel"},iA={class:"name-container"},rA={class:"char-name"},aA=["disabled"],oA={class:"portrait-container"},sA={key:1,class:"xp-bonus-overlay"},lA={class:"char-details-panel"},cA={class:"bio-container"},uA={class:"bio-text"},dA={class:"actions-container"},hA=["disabled"],pA={key:0,class:"commit-panel"},mA={class:"location-image-container"},gA=["src","alt"],fA={class:"possess-button-container"},yA=["disabled"],vA={class:"highlight-name"},bA={class:"highlight-name"},wA={key:0,class:"possess-button-overlay"},_A={class:"overlay-percentage"},OA={key:2,class:"rename-dialog-backdrop"},kA={class:"rename-dialog"},IA={class:"rename-dialog-actions"},NA=["disabled"],TA=de({__name:"IngressCharacterInspectView",setup(e){const t=$e("gameState"),n=re(""),i=Q(()=>t?.activeMinigame?.type===mn&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null),r=Q(()=>t?.activeMinigame?.type===mn?t.activeMinigame:null),a=Q(()=>!i.value?.inspectingCharacterId||!t?null:t.lib.characters.getCharacter(i.value.inspectingCharacterId)),o=Q(()=>i.value?.inspectingCharacterId&&i.value.characterXpBonuses[i.value.inspectingCharacterId]||0),s=Q(()=>a.value?i.value?.characterRenames&&i.value.characterRenames[a.value.id]?i.value.characterRenames[a.value.id]:a.value.name:""),l=Q(()=>!a.value?.location||!t?null:t.lib.welcomeLocations.getLocation(a.value.location)),c=Q(()=>!a.value?.bio||i.value===null?"":Je(a.value.bio,i.value.bioObfuscation,.4)),u=()=>{r.value?.deobfuscateBio()},d=Q(()=>i.value?i.value.possessionProgress<100||i.value.possessionCharges<10:!0),h=()=>{r.value&&t&&r.value.commitAndPossess(t)},p=()=>{r.value?.closeCharacterInspection()},w=Q(()=>n.value.trim().length>=3&&n.value.trim().length<=12),m=()=>{a.value&&(n.value=s.value,r.value?.openRenameDialog())},k=()=>{r.value?.closeRenameDialog()},b=()=>{w.value&&r.value?.renameCharacter(n.value)},S=Q(()=>{if(!i.value)return"See through";switch(Math.round(i.value.bioObfuscation*5)){case 5:return"Squint";case 3:return"Grasp";case 2:return"Discern";case 1:return"Absorb";default:return"See through"}});return(_,g)=>(I(),z("div",eA,[v("button",{class:"close-button",onClick:p},""),i.value?(I(),fe(Qm,{key:0,charges:i.value.possessionCharges,"possession-progress":i.value.possessionProgress,"total-possession-charges":i.value.totalPossessionCharges,upgrades:i.value.upgrades,"show-progress":!1},null,8,["charges","possession-progress","total-possession-charges","upgrades"])):Z("",!0),a.value?(I(),z("div",tA,[v("div",nA,[v("div",iA,[v("h2",rA,J(s.value),1),v("button",{onClick:m,class:"rename-button",disabled:!i.value||i.value.possessionCharges<1}," ",8,aA)]),v("div",oA,[a.value.fullImage?(I(),fe(Ca,{key:0,"atlas-name":"heroes","image-name":a.value.portraitImage||a.value.fullImage,"display-width":254,"display-height":360},null,8,["image-name"])):Z("",!0),o.value>0?(I(),z("div",sA,"+"+J(o.value)+"% XP",1)):Z("",!0)])]),v("div",lA,[v("div",cA,[v("p",uA,J(c.value),1)]),v("div",dA,[i.value&&i.value.bioObfuscation>0?(I(),z("button",{key:0,onClick:u,disabled:i.value.possessionCharges<1,class:"action-button deobfuscate-button"},J(S.value)+"  ",9,hA)):Z("",!0)])]),l.value?(I(),z("div",pA,[v("div",mA,[v("img",{src:"img/"+l.value.imageName,alt:l.value.name,class:"location-image"},null,8,gA)]),v("div",fA,[v("button",{onClick:h,disabled:d.value,class:"action-button possess-button"},[g[1]||(g[1]=Le(" Commit and possess ")),g[2]||(g[2]=v("br",null,null,-1)),g[3]||(g[3]=Le()),v("span",vA,J(s.value),1),g[4]||(g[4]=Le(" in ")),v("span",bA,J(l.value.name),1),g[5]||(g[5]=v("br",null,null,-1)),g[6]||(g[6]=Le("   "))],8,yA),i.value&&i.value.possessionProgress<100?(I(),z("div",wA,[v("span",_A,J(Math.floor(i.value.possessionProgress))+"%",1)])):Z("",!0)])])):Z("",!0)])):Z("",!0),i.value&&i.value.renamingCharacterId===a.value?.id?(I(),z("div",OA,[v("div",kA,[v("h3",null,"Rename "+J(s.value),1),Ge(v("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=D=>n.value=D),class:"rename-input",placeholder:"Inscribe New Name"},null,512),[[it,n.value]]),v("div",IA,[v("span",{class:ge(["error-message",{"error-visible":!w.value}])},"Names require 3-12 characters.",2),v("button",{onClick:k,class:"dialog-button cancel-button"},"Cancel"),v("button",{onClick:b,class:"dialog-button confirm-button",disabled:!i.value||i.value.possessionCharges<1||!w.value},"Rename ",8,NA)])])])):Z("",!0)]))}}),PA=Pe(TA,[["__scopeId","data-v-ace1fd2e"]]),xA={key:0,class:"upgrade-view-panel"},SA=["disabled"],CA={class:"upgrade-content"},EA={class:"column"},$A=["disabled","onClick"],AA={key:0,class:"purchase-flash"},MA={class:"column"},DA=["disabled","onClick"],zA={key:0},RA={key:1},BA={key:2,class:"purchase-flash"},LA=de({__name:"IngressUpgradeView",setup(e){const t=$e("gameState"),n=Q(()=>t&&t.activeMinigame?.type===mn&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null),i=Q(()=>t&&t.activeMinigame?.type===mn?t.activeMinigame:null),r=re(new Set),a=Q(()=>n.value?n.value.characterOptions.filter(u=>u.discoveryState==="portrait_revealed").length:0),o=[{id:"char_attribute_point",text:"+1 Attribute point",cost:15,stars:"  "},{id:"char_skill_point",text:"+1 Skill point",cost:10,stars:" "},{id:"char_spec_point",text:"+1 Specialization point",cost:5,stars:""},{id:"char_xp_boost",text:"+25% of next level XP",cost:3,stars:""}],s=[{id:"breach_possession_speed",text:"+100% Faster possession rate",cost:5,stars:""},{id:"breach_word_bonus",text:"+1 from future 'useful' words",cost:5,stars:""},{id:"breach_typo_tolerance",text:"+1 typo tolerance",cost:2,stars:""},{id:"breach_word_counter",text:"Display remaining 'useful' words count",cost:1,stars:""}],l=(u,d)=>{i.value&&(i.value.purchaseUpgrade(u,d),r.value.add(u),setTimeout(()=>{r.value.delete(u)},3500))},c=()=>{i.value&&i.value.revealUpgrades()};return(u,d)=>n.value&&a.value>=2?(I(),z("div",xA,[v("div",{class:ge(["upgrades-reveal-container",{hidden:n.value.upgradesRevealed}])},[d[1]||(d[1]=v("h3",null,"Upgrades",-1)),v("button",{onClick:c,class:"explore-button",disabled:n.value.possessionCharges<1},d[0]||(d[0]=[Le(" Connect "),v("span",{class:"cost-stars"},"",-1)]),8,SA)],2),v("div",{class:ge(["upgrade-content-wrapper",{revealed:n.value.upgradesRevealed}])},[v("div",CA,[v("div",EA,[d[2]||(d[2]=v("h3",null,"Upon possession, the host gains:",-1)),(I(),z(he,null,Ce(o,h=>v("button",{key:h.id,class:ge(["upgrade-button",{purchased:n.value.upgrades[h.id]}]),disabled:n.value.upgrades[h.id]||n.value.possessionCharges<h.cost,onClick:p=>l(h.id,h.cost)},[v("span",null,J(h.text),1),v("span",{class:"stars",style:He({visibility:n.value.upgrades[h.id]?"hidden":"visible"})},J(h.stars),5),r.value.has(h.id)?(I(),z("div",AA)):Z("",!0)],10,$A)),64))]),v("div",MA,[d[4]||(d[4]=v("h3",null,"Widen the telepathic breach:",-1)),(I(),z(he,null,Ce(s,h=>v("button",{key:h.id,class:ge(["upgrade-button",{purchased:n.value.upgrades[h.id]}]),disabled:n.value.upgrades[h.id]||n.value.possessionCharges<h.cost,onClick:p=>l(h.id,h.cost)},[h.id==="breach_word_bonus"?(I(),z("span",zA,d[3]||(d[3]=[Le("+1 "),v("span",{class:"star-symbol"},"",-1),Le(" from future useful words")]))):(I(),z("span",RA,J(h.text),1)),v("span",{class:"stars",style:He({visibility:n.value.upgrades[h.id]?"hidden":"visible"})},J(h.stars),5),r.value.has(h.id)?(I(),z("div",BA)):Z("",!0)],10,DA)),64))])])],2)])):Z("",!0)}}),qA=Pe(LA,[["__scopeId","data-v-5deadc97"]]),FA={key:0},VA=de({__name:"IngressCharacterHint",props:{word:{},position:{}},setup(e){const t=e,n=$e("gameState"),i=Q(()=>!!t.word&&!!t.position),r=Q(()=>t.position?{position:"fixed",left:`${t.position.x-15}px`,top:`${t.position.y}px`,transform:"translateX(-100%) translateY(-50%)",pointerEvents:"none"}:{}),a=Q(()=>{if(!t.word?.sourceCharacterIds||!n)return[];const o=n.uiState.activeMinigameState;return t.word.sourceCharacterIds.map(s=>{const l=o?.characterXpBonuses?.[s]||0;let c="Unknown Character";const u=o?.characterOptions.find(d=>d.characterId===s);if(u&&u.characterName)c=u.characterName;else{const d=n.lib.characters.getCharacter(s);d&&(c=d.name)}return{id:s,name:c,totalBonus:l}})});return(o,s)=>i.value?(I(),z("div",{key:0,class:"ingress-character-hint",style:He(r.value)},[s[0]||(s[0]=v("p",null,"This word resonates with the following characters:",-1)),v("ul",null,[(I(!0),z(he,null,Ce(a.value,l=>(I(),z("li",{key:l.id},J(l.name),1))),128))]),o.word?(I(),z("p",FA,"Grants +"+J(o.word.pointsEarned)+"% next level XP upon possessing them.",1)):Z("",!0)],4)):Z("",!0)}}),HA=Pe(VA,[["__scopeId","data-v-9d63aeca"]]),UA={class:"input-and-prompt-area-wrapper"},jA={class:"input-and-prompt-area"},WA={key:0,class:"input-prompt large-prompt"},GA={key:1,class:"input-prompt prompt-with-a-break"},KA={class:"action-area"},XA={class:"input-wrapper"},YA={key:0,class:"hint-tooltip"},ds=0,ZA=4,QA=de({__name:"IngressInputArea",props:{showHint:{type:Boolean},chargesBarRevealed:{type:Boolean},engaged:{type:Boolean},engagementProgress:{}},emits:["submit-word","engage-game","engage-hover","engagement-click","engagement-mousedown","engagement-mouseup","engagement-mouseleave"],setup(e,{expose:t,emit:n}){const i=e,r=n,a=re(""),o=re(null),s=re(null),l=re(null),c=re(!1),u=re(!1),d=re(!1);at(()=>{setTimeout(()=>{u.value=!0},5e3)});const h=Q(()=>{if(i.engagementProgress>ds){const g=(i.engagementProgress-ds)/(100-ds),D=Math.pow(1-g,ZA);return{opacity:Math.max(0,D)}}return{}}),p=re("default"),w=()=>{const g=a.value.trim();if(g){const D=o.value?.getBoundingClientRect();r("submit-word",{word:g,inputRect:D})}else a.value="",p.value="default"},m=()=>{(p.value==="blank-error"||p.value==="scored-points")&&(p.value="typing")},k=()=>{r("engagement-click"),d.value=!0,setTimeout(()=>{d.value=!1},800)},b=()=>{r("engage-hover",null),r("engagement-mouseup")},S=()=>{r("engage-hover",l.value?.getBoundingClientRect()??null),r("engagement-mousedown")},_=()=>{r("engagement-mouseleave")};return t({clearInput:()=>{a.value=""},selectInput:()=>{o.value?.select()},focusInput:()=>{o.value?.focus()},showBlankError:()=>{p.value="blank-error"},showScoredPoints:()=>{p.value="scored-points",setTimeout(()=>{p.value==="scored-points"&&(p.value="default")},500)},resetState:()=>{p.value="default"}}),(g,D)=>(I(),z("div",UA,[v("div",jA,[g.chargesBarRevealed?Z("",!0):(I(),z("p",WA,"Time to initiate possession.")),g.chargesBarRevealed?Z("",!0):(I(),z("p",GA,"This process is mentally strenuous, stock up on coffee or tea.")),v("div",KA,[v("div",{class:ge(["engaged-content",{hidden:!g.engaged}])},[D[5]||(D[5]=v("p",{class:"input-prompt"},[Le("Type in "),v("b",null,"nouns"),Le(" you believe might resonate across the dimensional barrier. The right words will accelerate the possession.")],-1)),v("div",XA,[v("div",{ref_key:"inputAreaRef",ref:s,class:ge(["input-area",{"shake-animation":p.value==="blank-error","flash-green-animation":p.value==="scored-points"}])},[Ge(v("input",{ref_key:"inputElementRef",ref:o,type:"text","onUpdate:modelValue":D[0]||(D[0]=q=>a.value=q),onKeyup:Ol(w,["enter"]),onInput:m,placeholder:"type a magic noun and hit Enter",class:ge({"input-blank-highlight":p.value==="blank-error","input-typing-highlight":p.value==="typing"})},null,34),[[it,a.value]]),v("button",{onClick:w},"Enter")],2),g.showHint?(I(),z("div",{key:0,class:"input-hint-container",onMouseenter:D[1]||(D[1]=q=>c.value=!0),onMouseleave:D[2]||(D[2]=q=>c.value=!1)},[D[4]||(D[4]=v("span",{class:"hint-icon"},"?",-1)),c.value?(I(),z("div",YA,D[3]||(D[3]=[v("ul",null,[v("li",null,"Verbs can not transcend universal boundaries. Only nouns pave the way."),v("li",null,"Use simple, singular forms (i.e. 'farm' instead of 'farmer'). Trivial cases will be autocorrected."),v("li",null,"Nobody can tell you which words to type. Telepathy responds to instinct."),v("li",null,"There is no penalty for errors. Despair is your only undoing.")],-1)]))):Z("",!0)],32)):Z("",!0)])],2),v("button",{ref_key:"engageButtonRef",ref:l,class:ge([{hidden:g.engaged||!u.value,"engage-button--clicked":d.value},"engage-button"]),style:He(h.value),onClick:k,onMousedown:S,onMouseup:b,onMouseleave:_}," Engage now ",38)])])]))}}),JA=Pe(QA,[["__scopeId","data-v-45d5c6d5"]]),eM=de({__name:"StarfieldBackground",props:{attractorPosition:{},isEngaged:{type:Boolean},engagementProgress:{},engagementCompletionTime:{}},emits:["all-stars-gone"],setup(e,{emit:t}){const n=e,i=t,r=re(null);let a;const o=re(null),s=c=>{o.value={x:c.clientX,y:c.clientY}},l=()=>{o.value=null};return at(()=>{const c=r.value;if(!c)return;const u=c.getContext("2d");if(!u)return;window.addEventListener("mousemove",s),window.addEventListener("mouseleave",l);let d=0,h=0;const p=[],w=1e3,m=.05;function k(D,q=!1){const O=(Math.random()-.5)*.015;D.cosAV=Math.cos(O),D.sinAV=Math.sin(O),D.sensitivity=.2+Math.random()*1.3,D.baseRadius=1+Math.random()*5,D.creationTime=Date.now(),D.z=q?d+Math.random()*d:d*.8+Math.random()*d*.4;const P=Math.min(d,h),E=d/2,B=h/2,V=Math.random()*Math.PI*2,T=Math.hypot(E,B)*1.1,U=E+Math.cos(V)*T,f=B+Math.sin(V)*T;D.x=(U-E)*D.z/P,D.y=(f-B)*D.z/P;const C=4+Math.random()*4,y=Math.hypot(D.x,D.y);y>0?(D.vx=-D.x/y*C,D.vy=-D.y/y*C):(D.vx=0,D.vy=0)}function b(){if(c){d=c.width=c.offsetWidth,h=c.height=c.offsetHeight,p.length=0;for(let D=0;D<w;D++){const q={};k(q,!0),p.push(q)}}}function S(){if(!c||!u){a=requestAnimationFrame(S);return}let D;const q=.9,O=.04,P=.4;if(n.isEngaged&&n.engagementCompletionTime){const T=Date.now()-n.engagementCompletionTime,f=Math.min(T/1e4,1);D=O+(q-O)*f}else{const T=n.engagementProgress/100;D=q*Math.pow(O/q,Math.pow(T,P))}u.fillStyle=`rgba(44, 62, 80, ${D})`,u.fillRect(0,0,d,h);const E=d/2,B=h/2,V=Math.min(d,h);if(n.isEngaged){if(p.length===0){cancelAnimationFrame(a);return}for(let T=p.length-1;T>=0;T--){const U=p[T];if(!U.isFlyingOut){const M=U.x*U.cosAV-U.y*U.sinAV-U.x,L=U.x*U.sinAV+U.y*U.cosAV-U.y;U.vx+=M,U.vy+=L;const j=Math.hypot(U.vx,U.vy),H=3;if(j<H){const K=U.x-d/2,te=U.y-h/2,se=Math.hypot(K,te);if(se>0)U.vx=K/se*H,U.vy=te/se*H;else{const ie=Math.random()*Math.PI*2;U.vx=Math.cos(ie)*H,U.vy=Math.sin(ie)*H}}U.isFlyingOut=!0}U.x+=U.vx,U.y+=U.vy,U.z-=m;const f=U.x/U.z*V+E,C=U.y/U.z*V+B,y=100;if(U.z<=0||f<-100||f>d+y||C<-100||C>h+y)p.splice(T,1);else{const M=U.baseRadius/U.z*V*.5,L=Math.min(1,V/U.z*1.5);u.fillStyle=`rgba(226, 232, 240, ${L})`,u.beginPath(),u.arc(f,C,M,0,Math.PI*2),u.fill()}}p.length===0&&i("all-stars-gone")}else{const f=Date.now();for(const C of p){if(C.z-=m,C.z<=0){k(C,!1);continue}const y=1/C.z,M=C.x*y*V+E,L=C.y*y*V+B;let j=0,H=0;if(n.attractorPosition){const ye=n.attractorPosition.x-M,R=n.attractorPosition.y-L,F=ye*ye+R*R;if(F>1){const N=220/F;j+=ye*N,H+=R*N}}else if(o.value){const ye=M-o.value.x,R=L-o.value.y,F=ye*ye+R*R,N=Math.min(d,h)*.1*C.sensitivity;if(F<N*N&&F>1){const x=50/F;j+=ye*x,H+=R*x}}(Math.abs(j)>0||Math.abs(H)>0)&&(C.vx+=j*C.z/V,C.vy+=H*C.z/V);const K=C.x*C.cosAV-C.y*C.sinAV,te=C.x*C.sinAV+C.y*C.cosAV;C.x=K,C.y=te;const se=C.vx*C.cosAV-C.vy*C.sinAV,ie=C.vx*C.sinAV+C.vy*C.cosAV;C.vx=se,C.vy=ie,C.x+=C.vx,C.y+=C.vy,f-C.creationTime>5500-(Math.abs(C.vx)+Math.abs(C.vy))*300&&(C.vx*=.95,C.vy*=.95);const ue=C.x*y*V+E,ve=C.y*y*V+B,Oe=C.baseRadius*y*V*.5,we=Math.hypot(ue-E,ve-B),Se=Math.min(d,h)*.05*C.sensitivity;if(we>Se&&ue>0&&ue<d&&ve>0&&ve<h){const ye=Math.min(1,V*y*1.5);u.fillStyle=`rgba(226, 232, 240, ${ye})`,u.beginPath(),u.arc(ue,ve,Oe,0,Math.PI*2),u.fill()}}}a=requestAnimationFrame(S)}let _=!1;const g=new ResizeObserver(D=>{for(let q of D)q.contentRect.width>0&&q.contentRect.height>0&&(b(),_||(S(),_=!0))});g.observe(c),so(()=>{cancelAnimationFrame(a),window.removeEventListener("mousemove",s),window.removeEventListener("mouseleave",l),c&&g.unobserve(c)})}),(c,u)=>(I(),z("canvas",{ref_key:"canvasEl",ref:r,class:"starfield-background"},null,512))}}),tM=Pe(eM,[["__scopeId","data-v-483aaec6"]]),nM={class:"game-content-wrapper"},iM={class:"main-content-area"},rM={key:1,class:"character-options-container"},aM={class:"inspect-views-panel-container"},oM={class:"word-item"},sM={class:"word-name"},lM={key:0,class:"stars"},cM={key:0,class:"typo-sticker"},uM=de({__name:"IngressView",setup(e){const t=re(!0),n=$e("gameState"),i=re(null),r=re(null),a=re(null),o=re(null),s=re(!1),l=Q(()=>h.value?h.value.usefulWords.length+h.value.offensiveWords.length>=2:!1),c=re(null),u=Q(()=>c.value?{"--start-x":`${c.value.from.x}px`,"--start-y":`${c.value.from.y}px`,"--end-x":`${c.value.to.x}px`,"--end-y":`${c.value.to.y}px`,width:`${c.value.wordItemWidth}px`}:{}),d=()=>{if(c.value){const O=document.getElementById(`word-li-${c.value.wordId}`);O&&(O.style.visibility="visible",O.classList.add("new-word-entry-animation")),c.value=null}},h=Q(()=>n?.activeMinigame?.type===mn&&n.uiState.activeMinigameState?n.uiState.activeMinigameState:null),p=Q(()=>n?.activeMinigame?.type===mn?n.activeMinigame:null),w=Q(()=>{if(!n||!p.value)return 0;const O=n.lib.ingressWords;return p.value.getUsefulWordsCount(O,n)}),m=Q(()=>{const O=[];if(!h.value)return[];if(h.value.usefulWords.length>0||h.value.upgrades.breach_word_counter){let E="Useful";if(h.value.upgrades.breach_word_counter){const B=h.value.usefulWords.length,V=w.value;E=`Useful ${B}/${V}`}O.push({id:"useful",title:E,words:[...h.value.usefulWords].reverse()})}return h.value.offensiveWords.length>0&&O.push({id:"offensive",title:"Offensive",words:[...h.value.offensiveWords].reverse()}),O}),k=async O=>{if(p.value&&n?.lib.ingressWords){const{word:P,inputRect:E}=O,B=p.value.processSubmittedWord(P,n.lib.ingressWords,n);if(i.value?.resetState(),await bt(),B.classification==="blank")i.value?.showBlankError(),i.value?.selectInput();else if(B.classification==="offensive"||B.isNewAddition?i.value?.clearInput():B.classification==="useful"&&!B.isNewAddition&&i.value?.selectInput(),i.value?.focusInput(),B.classification==="useful"&&B.pointsEarned>0&&B.isNewAddition){if(h.value&&h.value.usefulWords.length>0&&E){const V=h.value.usefulWords[h.value.usefulWords.length-1],T=document.getElementById(`word-li-${V.definition.id}`),U=T?.getBoundingClientRect();U&&T&&(T.style.visibility="hidden",c.value={wordId:V.definition.id,from:{x:E.left+E.width/2,y:E.top+E.height/2},to:{x:U.left,y:U.top},wordName:V.definition.name,wordPoints:V.pointsEarned,wordWasTypo:V.wasTypo,wordItemWidth:U.width})}i.value?.showScoredPoints()}else B.classification==="useful"&&B.pointsEarned>0&&B.isNewAddition}},b=O=>{a.value=O.word,o.value={x:O.event.clientX,y:O.event.clientY},s.value||(s.value=!0)},S=()=>{a.value=null,o.value=null},_=O=>{p.value&&n&&(O.discoveryState==="portrait_revealed"?p.value.startCharacterInspection(O.characterId):p.value.exploreCharacter(O.characterId,n))},g=()=>{p.value?.closeCharacterInspection()},D=()=>{p.value?.engage()},q=O=>{O?r.value={x:O.left+O.width/2,y:O.top+O.height/2}:r.value=null};return(O,P)=>(I(),z("div",{class:ge(["ingress-view-container",{"center-content":!h.value?.engaged}])},[t.value?(I(),fe(tM,{key:0,"attractor-position":r.value,"is-engaged":!!h.value?.engaged,"engagement-progress":h.value?.engagementProgress??0,"engagement-completion-time":h.value?.engagementCompletionTime??null,onAllStarsGone:P[0]||(P[0]=()=>{t.value=!1,console.log("[IngressView] Starfield component removed.")})},null,8,["attractor-position","is-engaged","engagement-progress","engagement-completion-time"])):Z("",!0),v("div",nM,[v("div",{class:ge(["game-content-below-bar",{engaged:h.value?.engaged}])},[v("div",iM,[h.value&&h.value.chargesBarRevealed&&h.value.engaged?(I(),fe(Qm,{key:0,charges:h.value.possessionCharges,"possession-progress":h.value.possessionProgress,"total-possession-charges":h.value.totalPossessionCharges,upgrades:h.value.upgrades,"show-progress":!0},null,8,["charges","possession-progress","total-possession-charges","upgrades"])):Z("",!0),h.value&&h.value.characterOptions.length>0&&h.value.engaged?(I(),z("div",rM,[(I(!0),z(he,null,Ce(h.value.characterOptions,E=>(I(),fe(W$,{key:E.characterId,option:E,"xp-bonus":h.value.characterXpBonuses[E.characterId]||0,onExplore:_},null,8,["option","xp-bonus"]))),128))])):Z("",!0),h.value&&p.value?(I(),fe(JA,{key:2,ref_key:"ingressInputAreaRef",ref:i,"show-hint":l.value,"charges-bar-revealed":h.value.chargesBarRevealed,engaged:h.value.engaged,"engagement-progress":h.value.engagementProgress,onSubmitWord:k,onEngageGame:D,onEngageHover:q,onEngagementClick:P[1]||(P[1]=E=>p.value.handleEngagementClick()),onEngagementMousedown:P[2]||(P[2]=E=>p.value.handleEngagementMouseDown()),onEngagementMouseup:P[3]||(P[3]=E=>p.value.stopEngagementHold()),onEngagementMouseleave:P[4]||(P[4]=E=>p.value.stopEngagementHold())},null,8,["show-hint","charges-bar-revealed","engaged","engagement-progress"])):Z("",!0)]),m.value.length>0&&h.value?.engaged?(I(),fe(D$,{columns:m.value,key:m.value.length,onWordHover:b,onWordLeave:S,"any-badge-hovered":s.value},null,8,["columns","any-badge-hovered"])):Z("",!0)],2)]),h.value&&h.value.inspectingCharacterId?(I(),z("div",{key:1,class:"inspect-views-container-backdrop",onClick:li(g,["self"])},[v("div",aM,[ke(PA),ke(qA)])])):Z("",!0),ke(HA,{word:a.value,position:o.value},null,8,["word","position"]),c.value?(I(),z("div",{key:2,class:"word-flyer",style:He(u.value),onAnimationend:d},[v("div",oM,[v("span",sM,J(c.value.wordName),1),c.value.wordPoints>0?(I(),z("span",lM,J("".repeat(Math.min(c.value.wordPoints,4))),1)):Z("",!0)]),c.value.wordWasTypo?(I(),z("div",cM,"TYPO")):Z("",!0)],36)):Z("",!0)],2))}}),dM=Pe(uM,[["__scopeId","data-v-b576f491"]]),hM={class:"example-view-container"},pM=de({__name:"ExampleView",setup(e){const t=$e("gameState"),n=()=>{t&&t.exitMinigame()};return(i,r)=>(I(),z("div",hM,[r[0]||(r[0]=v("h1",null,"Example Minigame",-1)),r[1]||(r[1]=v("p",null,"This is the Example minigame. Build your UI here!",-1)),v("button",{onClick:n},"Exit Minigame")]))}}),mM=Pe(pM,[["__scopeId","data-v-71d85e64"]]),gM={class:"app-container"},fM={class:"sidebar"},yM={class:"main-content"},vM={class:"tabs"},bM=["onClick"],wM={class:"time-controls"},_M={class:"current-timescale"},OM=["onClick"],kM={class:"tab-content"},IM={key:1,class:"minigame-overlay-container"},NM={key:2,class:"minigame-overlay-container"},TM={key:3,class:"minigame-overlay-container"},PM={key:4,class:"minigame-overlay-container"},xM={key:5,class:"dialog-overlay"},SM={class:"dialog-content"},CM=de({__name:"App",setup(e){const t=$e("gameState"),n=re("Castle"),i=Q(()=>t?t.uiState.discoveredItemsCount>0?Ne.ALL_TAB_IDS.filter(w=>t.isDiscovered(w)):[]:[]),r=Q(()=>t?.uiState.discoveredItemsCount??0),a=Q(()=>t?.uiState.activeMinigameType),o=Q(()=>t?.activeMinigame?.hidesMainUI===!0),s=[{label:"Pause",value:0},{label:"0.01x",value:.01},{label:"0.1x",value:.1},{label:"0.3x",value:.3},{label:"1x",value:1},{label:"3x",value:3},{label:"10x",value:10},{label:"100x",value:100}],l=Q(()=>t?t.uiState.currentTimeScale.toFixed(2):"1.00"),c=p=>{if(t){const w={name:"CmdTimeScale",scale:p};gt.push(w)}},u=()=>{if(t){const p={name:"CmdTickOnce"};gt.push(p)}},d=p=>{n.value=p,t&&t.setActiveTab(p)},h=re(!1);return at(()=>{if(!t){console.error("GameState not injected or provided!");return}t&&t.setActiveTab(n.value)}),(p,w)=>(I(),z("div",gM,[o.value?Z("",!0):(I(),z(he,{key:0},[v("div",fM,[ke(pb)]),v("div",yM,[v("div",vM,[(I(!0),z(he,null,Ce(i.value,m=>(I(),z("button",{key:m,onClick:k=>d(m),class:ge({active:n.value===m})},J(m),11,bM))),128)),v("div",wM,[v("span",_M,J(l.value)+"x",1),(I(),z(he,null,Ce(s,m=>v("button",{key:m.label,onClick:k=>c(m.value),class:ge({active:ee(t)&&ee(t).uiState.currentTimeScale===m.value})},J(m.label),11,OM)),64)),v("button",{onClick:w[0]||(w[0]=m=>u()),class:"tick-button"},"Tick")])]),v("div",kM,[n.value==="Castle"?(I(),fe(Nb,{key:`castle-${r.value}`})):Z("",!0),n.value==="Crew"?(I(),fe(A_,{key:`crew-${r.value}`})):Z("",!0),n.value==="Quests"?(I(),fe(z_,{key:`quests-${r.value}`})):Z("",!0),n.value==="Tasks"?(I(),fe(zE,{key:`tasks-${r.value}`})):Z("",!0),n.value==="Discover"?(I(),fe(G2,{key:4})):Z("",!0),n.value==="Debug"&&ee(t)?(I(),fe(wE,{stats:ee(t).uiState.debugStats,key:`debug-${r.value}`},null,8,["stats"])):Z("",!0)])])],64)),a.value==="ClickCounter"?(I(),z("div",IM,[ke(Z2)])):a.value==="Welcome"?(I(),z("div",NM,[ke(_$)])):a.value==="Ingress"?(I(),z("div",TM,[ke(dM)])):a.value==="Example"?(I(),z("div",PM,[ke(mM)])):Z("",!0),h.value&&!o.value?(I(),z("div",xM,[v("div",SM,[w[2]||(w[2]=v("h2",null,"Dialog Title",-1)),w[3]||(w[3]=v("p",null,"This is the dialog content. It appears on top of everything.",-1)),v("button",{onClick:w[1]||(w[1]=m=>h.value=!1)},"Close")])])):Z("",!0)]))}}),EM=Pe(CM,[["__scopeId","data-v-77a34e0e"]]),xt=new Map;xt.set("CmdCheatSkillUp",AM);xt.set("CmdConstructBuilding",MM);xt.set("CmdTimeScale",DM);xt.set("CmdTickOnce",zM);xt.set("CmdFireCharacter",RM);xt.set("CmdSpendAttributePoint",BM);xt.set("CmdSpendSkillPoint",LM);xt.set("CmdSpendSpecPoint",qM);xt.set("CmdSubmitDiscovery",FM);xt.set("CmdRemoveCrystalWord",VM);xt.set("CmdDiscover",HM);function $M(e){for(const t of gt){const n=xt.get(t.name);n?n(e,t):console.error(`No handler registered for command: ${t.name}`)}gt.length=0}function AM(e,t){const n=t,i=e.characters.find(a=>a.characterId===n.characterId);if(!i){console.error(`CmdCheatSkillUp: Character with ID '${n.characterId}' not found.`);return}const r=i.skills[n.skillId];if(!r){console.error(`CmdCheatSkillUp: Skill with ID '${n.skillId}' not found for character '${i.name}' (ID: ${i.characterId}).`);return}oe.setIndependentStat(r,r.value+n.amount,e.connections)}function MM(e,t){const n=t;_r.addBuilding(e,n.buildingId)}function DM(e,t){const n=t;e.timeScale.current===n.scale?e.swapTimeScale():e.setTimeScale(n.scale)}function zM(e,t){e.allowedUpdates++,e.timeScale.current!==0&&(e.timeScale.previous=e.timeScale.current),e.timeScale.current=0}function RM(e,t){const n=t,i=e.characters.findIndex(a=>a.characterId===n.characterId);if(i===-1){console.error(`CmdFireCharacter: Character with ID '${n.characterId}' not found.`);return}const r=e.characters[i];oe.modifyParameterADD(e.totalCharacterUpkeep,-r.upkeep.value,e.connections),e.characters.splice(i,1),xn(async()=>{const{updateCharacterUIData:a}=await Promise.resolve().then(()=>sv);return{updateCharacterUIData:a}},void 0).then(({updateCharacterUIData:a})=>{a(e)}),console.log(`Character '${r.name}' (ID: ${r.characterId}) has been fired.`)}function BM(e,t){const n=t,i=e.characters.find(a=>a.characterId===n.characterId);if(!i){console.error(`CmdSpendAttributePoint: Character with ID '${n.characterId}' not found.`);return}if(i.attributePoints.value<=0){console.error(`CmdSpendAttributePoint: Character '${i.name}' has no attribute points to spend.`);return}let r;for(const a in i.attributes)if(a.includes(n.attributeId)){r=i.attributes[a];break}if(!r){console.error(`CmdSpendAttributePoint: Attribute with ID '${n.attributeId}' not found for character '${i.name}'.`);return}oe.setIndependentStat(r,r.value+1,e.connections),oe.setIndependentStat(i.attributePoints,i.attributePoints.value-1,e.connections)}function LM(e,t){const n=t,i=e.characters.find(a=>a.characterId===n.characterId);if(!i){console.error(`CmdSpendSkillPoint: Character with ID '${n.characterId}' not found.`);return}if(i.skillPoints.value<=0){console.error(`CmdSpendSkillPoint: Character '${i.name}' has no skill points to spend.`);return}const r=i.skills[n.skillId];if(!r){console.error(`CmdSpendSkillPoint: Skill with ID '${n.skillId}' not found for character '${i.name}'.`);return}oe.setIndependentStat(r,r.value+1,e.connections),oe.setIndependentStat(i.skillPoints,i.skillPoints.value-1,e.connections)}function qM(e,t){const n=t,i=e.characters.find(a=>a.characterId===n.characterId);if(!i){console.error(`CmdSpendSpecPoint: Character with ID '${n.characterId}' not found.`);return}if(i.specPoints.value<=0){console.error(`CmdSpendSpecPoint: Character '${i.name}' has no specialization points to spend.`);return}const r=i.specializations[n.specId];if(!r){console.error(`CmdSpendSpecPoint: Specialization with ID '${n.specId}' not found for character '${i.name}'.`);return}oe.setIndependentStat(r,r.value+1,e.connections),oe.setIndependentStat(i.specPoints,i.specPoints.value-1,e.connections)}function FM(e,t){tp(t.input,e)}function VM(e,t){const n=t,i=e.crystalBallWords.indexOf(n.word);i>-1&&e.crystalBallWords.splice(i,1)}function HM(e,t){const n=t;e.discoveredItems.add(n.identifier),e.uiState.discoveredItemsCount=e.discoveredItems.size,console.log(`Discovered UI element: ${n.identifier}`)}class UM{constructor(){}run(t,n,i){const r={key:n,params:i},a={id:`console_event_${n}_${Date.now()}`,effects:[r]};try{pn.processSingleEvent(a,t)}catch(o){console.error(`[DebugConsole] Error processing effect '${n}':`,o)}}}function jM(e){if(window.run){console.warn("[DebugConsole] `run` is already defined on window. Skipping initialization.");return}const t=new UM;window.run=(n,i)=>{const r=e();if(!r){console.error("[DebugConsole] GameState is not available. Ensure it's initialized and the getter function is correct.");return}t.run(r,n,i)}}const WM=e=>{const t=e.activeMinigame?.state,n=e.uiState.activeMinigameState;t&&n&&typeof n=="object"?(n.clickCount=t.clickCount,n.clicksToWin=t.clicksToWin):console.warn("syncClickCounterUI: logicState or UIMinigameState is null or not an object during sync.")},GM=e=>{const t=e.activeMinigame?.state,n=e.uiState.activeMinigameState;t&&n?(t.selectedLocation!==void 0?n.selectedLocation={...t.selectedLocation}:n.selectedLocation=void 0,t.explorableChoices&&Array.isArray(t.explorableChoices)?!n.explorableChoices||n.explorableChoices.length!==t.explorableChoices.length?n.explorableChoices=t.explorableChoices.map(i=>({...i})):t.explorableChoices.forEach((i,r)=>{const a=n.explorableChoices[r];a&&a.id===i.id?(a.explorationProgress=i.explorationProgress,a.isExploring=i.isExploring,a.nameObfuscationPercentage=i.nameObfuscationPercentage,a.isDescriptionVisible=i.isDescriptionVisible,a.descriptionObfuscationPercentage=i.descriptionObfuscationPercentage,a.areProsConsTitlesVisible=i.areProsConsTitlesVisible,a.revealedProsCount=i.revealedProsCount,a.revealedConsCount=i.revealedConsCount,a.canBeSelected=i.canBeSelected):(console.warn("Sync issue: Mismatch at index "+r+" for explorableChoices"),n.explorableChoices[r]={...i})}):n.explorableChoices=[]):console.warn("welcomeUISync: logicState or uiState is null or undefined during sync.")},KM=e=>{const t=e.activeMinigame?.state,n=e.uiState.activeMinigameState;t&&n&&(t.possessionCharges!==n.possessionCharges&&(n.possessionCharges=t.possessionCharges),t.totalPossessionCharges!==n.totalPossessionCharges&&(n.totalPossessionCharges=t.totalPossessionCharges),JSON.stringify(t.characterOptions)!==JSON.stringify(n.characterOptions)&&(n.characterOptions=JSON.parse(JSON.stringify(t.characterOptions))),t.inspectingCharacterId!==n.inspectingCharacterId&&(n.inspectingCharacterId=t.inspectingCharacterId),t.bioObfuscation!==n.bioObfuscation&&(n.bioObfuscation=t.bioObfuscation),t.usefulWords!==n.usefulWords&&(n.usefulWords=[...t.usefulWords]),t.offensiveWords!==n.offensiveWords&&(n.offensiveWords=[...t.offensiveWords]),t.blankWords!==n.blankWords&&(n.blankWords=[...t.blankWords]),t.allSubmittedWords!==n.allSubmittedWords&&(n.allSubmittedWords=[...t.allSubmittedWords]),JSON.stringify(t.upgrades)!==JSON.stringify(n.upgrades)&&(n.upgrades=JSON.parse(JSON.stringify(t.upgrades))),t.upgradesRevealed!==n.upgradesRevealed&&(n.upgradesRevealed=t.upgradesRevealed),t.possessionProgress!==n.possessionProgress&&(n.possessionProgress=t.possessionProgress),JSON.stringify(t.characterXpBonuses)!==JSON.stringify(n.characterXpBonuses)&&(n.characterXpBonuses=JSON.parse(JSON.stringify(t.characterXpBonuses))),t.engaged!==n.engaged&&(n.engaged=t.engaged),t.engagementProgress!==n.engagementProgress&&(n.engagementProgress=t.engagementProgress),t.engagementCompletionTime!==n.engagementCompletionTime&&(n.engagementCompletionTime=t.engagementCompletionTime))},XM=e=>{e.activeMinigame?.state,e.uiState.activeMinigameState},yi=typeof window>"u";class An{static colors={reset:"\x1B[0m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",bold:"\x1B[1m"};static success(t){console.log(yi?`${this.colors.green}${this.colors.reset} ${t}`:` ${t}`)}static failure(t){yi?console.log(`${this.colors.red}${this.colors.reset} ${t}`):console.error(` ${t}`)}static info(t){console.log(yi?`${this.colors.blue}${this.colors.reset} ${t}`:` ${t}`)}static warning(t){yi?console.log(`${this.colors.yellow}${this.colors.reset} ${t}`):console.warn(` ${t}`)}static header(t){console.log(yi?`
${this.colors.bold}${this.colors.blue}${t}${this.colors.reset}`:`
${t}`)}static summary(t){const{totalTests:n,failedTests:i}=t;i>0&&(An.failure(`Failed: ${i}/${n} tests`),t.suiteResults.forEach(r=>{r.failures.length>0&&(An.failure(`
Failures in ${r.suiteName}:`),r.failures.forEach(a=>{An.failure(`  - ${a.testName}: ${a.message}`)}))}))}}class YM{static equals(t,n,i){return t===n?{success:!0}:{success:!1,message:i||`Expected ${n}, but got ${t}`}}static notEquals(t,n,i){return t!==n?{success:!0}:{success:!1,message:i||`Expected ${t} to not equal ${n}`}}static true(t,n){return t===!0?{success:!0}:{success:!1,message:n||`Expected true, but got ${t}`}}static false(t,n){return t===!1?{success:!0}:{success:!1,message:n||`Expected false, but got ${t}`}}static throws(t,n){try{return t(),{success:!1,message:n||"Expected function to throw an error, but it did not"}}catch{return{success:!0}}}static doesNotThrow(t,n){try{return t(),{success:!0}}catch(i){return{success:!1,message:n||`Expected function not to throw, but it threw: ${i}`}}}static arrayEquals(t,n,i){if(t.length!==n.length)return{success:!1,message:i||`Array lengths differ: expected ${n.length}, got ${t.length}`};for(let r=0;r<t.length;r++)if(t[r]!==n[r])return{success:!1,message:i||`Arrays differ at index ${r}: expected ${n[r]}, got ${t[r]}`};return{success:!0}}static approximately(t,n,i=.001,r){const a=Math.abs(t-n);return a<=i?{success:!0}:{success:!1,message:r||`Expected ${t} to be approximately ${n} (tolerance: ${i}), difference was ${a}`}}}async function Jm(e){try{const t=await e.run();return{test:e,result:t}}catch(t){return{test:e,result:{success:!1,message:`Test threw an error: ${t}`,error:t instanceof Error?t:new Error(String(t))}}}}async function eg(e){if(e.setup)try{await e.setup()}catch(a){return An.failure(`Setup failed: ${a}`),{totalTests:e.tests.length,passedTests:0,failedTests:e.tests.length,suiteResults:[{suiteName:e.name,passed:0,failed:e.tests.length,failures:e.tests.map(o=>({testName:o.name,message:`Setup failed: ${a}`}))}]}}const t=[];for(const a of e.tests){const o=await Jm(a);t.push(o),o.result.success||An.failure(`${a.name} - ${o.result.message||"Unknown error"}`)}if(e.teardown)try{await e.teardown()}catch(a){An.warning(`Teardown failed: ${a}`)}const n=t.filter(a=>a.result.success).length,i=t.filter(a=>!a.result.success).length,r=t.filter(a=>!a.result.success).map(a=>({testName:a.test.name,message:a.result.message||"Unknown error"}));return{totalTests:e.tests.length,passedTests:n,failedTests:i,suiteResults:[{suiteName:e.name,passed:n,failed:i,failures:r}]}}async function tc(){const{createDiscoveryTests:e}=await xn(async()=>{const{createDiscoveryTests:i}=await import("./discovery.test-4_zqHZF4.js");return{createDiscoveryTests:i}},[]),t=[e()],n={totalTests:0,passedTests:0,failedTests:0,suiteResults:[]};for(const i of t){const r=await eg(i);n.totalTests+=r.totalTests,n.passedTests+=r.passedTests,n.failedTests+=r.failedTests,n.suiteResults.push(...r.suiteResults)}return n.failedTests>0&&An.summary(n),n}function tg(){tc().then(e=>{e.failedTests>0&&(console.error(` Tests failed: ${e.failedTests}/${e.totalTests}`),e.suiteResults.forEach(t=>{t.failures.length>0&&(console.error(`Failures in ${t.suiteName}:`),t.failures.forEach(n=>{console.error(`  - ${n.testName}: ${n.message}`)}))}))}).catch(e=>{console.error(" Test runner failed:",e)})}const ZM=yi&&(typeof require<"u"&&require.main===module||typeof import.meta<"u"&&import.meta.url===`file://${process.argv[1]}`);ZM&&tc().then(e=>{const t=e.failedTests>0?1:0;process.exit(t)}).catch(e=>{console.error("Test runner crashed:",e),process.exit(1)});const t3=Object.freeze(Object.defineProperty({__proto__:null,TestAssert:YM,runAllTests:tc,runTest:Jm,runTestSuite:eg,runTests:tg},Symbol.toStringTag,{value:"Module"}));function QM(){const e=new fp;if(!e.lib.isLoaded){console.error("Initialization failed: Could not process library definitions."),document.getElementById("app").innerHTML='<h1 style="color: red;">Error processing game data. Please check console.</h1>';return}const t=Cy(EM);t.provide("gameState",e),Wr(rp,WM),Wr(op,GM),Wr(mn,KM),Wr(sp,XM),jM(()=>e),tg(),t.mount("#app");const n=e.lib.events.get("startGame");pn.processSingleEvent(n,e);let i=0,r=0;function a(o){i===0&&(i=o);const s=(o-i)/1e3;i=o;const l=s*e.timeScale.current;r+=l,$M(e),e.allowedUpdates>0?(e.update(e.minDeltaTime),e.allowedUpdates--,r=0):r>=e.minDeltaTime&&(e.update(Math.min(10,r)),r=0),requestAnimationFrame(a)}requestAnimationFrame(a)}QM();export{e3 as G,YM as T,xn as _,JM as s,t3 as t};
