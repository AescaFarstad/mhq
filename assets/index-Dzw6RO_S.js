var ro=Object.defineProperty;var oo=(e,t,i)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var N=(e,t,i)=>oo(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ta(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const Ne={},Zt=[],ft=()=>{},lo=()=>!1,nn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ia=e=>e.startsWith("onUpdate:"),Be=Object.assign,na=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},co=Object.prototype.hasOwnProperty,_e=(e,t)=>co.call(e,t),se=Array.isArray,ei=e=>an(e)==="[object Map]",_s=e=>an(e)==="[object Set]",ce=e=>typeof e=="function",De=e=>typeof e=="string",wt=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",ws=e=>(Ae(e)||ce(e))&&ce(e.then)&&ce(e.catch),Ts=Object.prototype.toString,an=e=>Ts.call(e),uo=e=>an(e).slice(8,-1),Is=e=>an(e)==="[object Object]",aa=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gi=ta(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sn=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},go=/-(\w)/g,Et=sn(e=>e.replace(go,(t,i)=>i?i.toUpperCase():"")),ho=/\B([A-Z])/g,Dt=sn(e=>e.replace(ho,"-$1").toLowerCase()),Ps=sn(e=>e.charAt(0).toUpperCase()+e.slice(1)),yn=sn(e=>e?`on${Ps(e)}`:""),At=(e,t)=>!Object.is(e,t),Fi=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Ns=(e,t,i,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:i})},Rn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},po=e=>{const t=De(e)?Number(e):NaN;return isNaN(t)?e:t};let Na;const rn=()=>Na||(Na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nt(e){if(se(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],a=De(n)?Oo(n):nt(n);if(a)for(const s in a)t[s]=a[s]}return t}else if(De(e)||Ae(e))return e}const mo=/;(?![^(]*\))/g,fo=/:([^]+)/,yo=/\/\*[^]*?\*\//g;function Oo(e){const t={};return e.replace(yo,"").split(mo).forEach(i=>{if(i){const n=i.split(fo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ue(e){let t="";if(De(e))t=e;else if(se(e))for(let i=0;i<e.length;i++){const n=ue(e[i]);n&&(t+=n+" ")}else if(Ae(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const bo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vo=ta(bo);function ks(e){return!!e||e===""}const Cs=e=>!!(e&&e.__v_isRef===!0),U=e=>De(e)?e:e==null?"":se(e)||Ae(e)&&(e.toString===Ts||!ce(e.toString))?Cs(e)?U(e.value):JSON.stringify(e,Ss,2):String(e),Ss=(e,t)=>Cs(t)?Ss(e,t.value):ei(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,a],s)=>(i[On(n,s)+" =>"]=a,i),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>On(i))}:wt(t)?On(t):Ae(t)&&!se(t)&&!Is(t)?String(t):t,On=(e,t="")=>{var i;return wt(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class _o{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Je;try{return Je=this,t()}finally{Je=i}}}on(){Je=this}off(){Je=this.parent}stop(t){if(this._active){this._active=!1;let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(this.effects.length=0,i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function wo(){return Je}let Ce;const bn=new WeakSet;class xs{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bn.has(this)&&(bn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Es(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ka(this),Ms(this);const t=Ce,i=at;Ce=this,at=!0;try{return this.fn()}finally{$s(this),Ce=t,at=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)oa(t);this.deps=this.depsTail=void 0,ka(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ln(this)&&this.run()}get dirty(){return Ln(this)}}let As=0,hi,pi;function Es(e,t=!1){if(e.flags|=8,t){e.next=pi,pi=e;return}e.next=hi,hi=e}function sa(){As++}function ra(){if(--As>0)return;if(pi){let t=pi;for(pi=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;hi;){let t=hi;for(hi=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=i}}if(e)throw e}function Ms(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $s(e){let t,i=e.depsTail,n=i;for(;n;){const a=n.prevDep;n.version===-1?(n===i&&(i=a),oa(n),To(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=i}function Ln(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ds(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ds(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bi))return;e.globalVersion=bi;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ln(e)){e.flags&=-3;return}const i=Ce,n=at;Ce=e,at=!0;try{Ms(e);const a=e.fn(e._value);(t.version===0||At(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ce=i,at=n,$s(e),e.flags&=-3}}function oa(e,t=!1){const{dep:i,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),i.subs===e&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)oa(s,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function To(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let at=!0;const zs=[];function zt(){zs.push(at),at=!1}function Bt(){const e=zs.pop();at=e===void 0?!0:e}function ka(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ce;Ce=void 0;try{t()}finally{Ce=i}}}let bi=0;class Io{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class la{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ce||!at||Ce===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ce)i=this.activeLink=new Io(Ce,this),Ce.deps?(i.prevDep=Ce.depsTail,Ce.depsTail.nextDep=i,Ce.depsTail=i):Ce.deps=Ce.depsTail=i,Bs(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const n=i.nextDep;n.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=n),i.prevDep=Ce.depsTail,i.nextDep=void 0,Ce.depsTail.nextDep=i,Ce.depsTail=i,Ce.deps===i&&(Ce.deps=n)}return i}trigger(t){this.version++,bi++,this.notify(t)}notify(t){sa();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{ra()}}}function Bs(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Bs(n)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Gi=new WeakMap,Ht=Symbol(""),Un=Symbol(""),vi=Symbol("");function Fe(e,t,i){if(at&&Ce){let n=Gi.get(e);n||Gi.set(e,n=new Map);let a=n.get(i);a||(n.set(i,a=new la),a.map=n,a.key=i),a.track()}}function bt(e,t,i,n,a,s){const r=Gi.get(e);if(!r){bi++;return}const o=l=>{l&&l.trigger()};if(sa(),t==="clear")r.forEach(o);else{const l=se(e),d=l&&aa(i);if(l&&i==="length"){const c=Number(n);r.forEach((g,u)=>{(u==="length"||u===vi||!wt(u)&&u>=c)&&o(g)})}else switch((i!==void 0||r.has(void 0))&&o(r.get(i)),d&&o(r.get(vi)),t){case"add":l?d&&o(r.get("length")):(o(r.get(Ht)),ei(e)&&o(r.get(Un)));break;case"delete":l||(o(r.get(Ht)),ei(e)&&o(r.get(Un)));break;case"set":ei(e)&&o(r.get(Ht));break}}ra()}function Po(e,t){const i=Gi.get(e);return i&&i.get(t)}function Yt(e){const t=Oe(e);return t===e?t:(Fe(t,"iterate",vi),it(e)?t:t.map(We))}function on(e){return Fe(e=Oe(e),"iterate",vi),e}const No={__proto__:null,[Symbol.iterator](){return vn(this,Symbol.iterator,We)},concat(...e){return Yt(this).concat(...e.map(t=>se(t)?Yt(t):t))},entries(){return vn(this,"entries",e=>(e[1]=We(e[1]),e))},every(e,t){return yt(this,"every",e,t,void 0,arguments)},filter(e,t){return yt(this,"filter",e,t,i=>i.map(We),arguments)},find(e,t){return yt(this,"find",e,t,We,arguments)},findIndex(e,t){return yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return yt(this,"findLast",e,t,We,arguments)},findLastIndex(e,t){return yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return _n(this,"includes",e)},indexOf(...e){return _n(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return _n(this,"lastIndexOf",e)},map(e,t){return yt(this,"map",e,t,void 0,arguments)},pop(){return ci(this,"pop")},push(...e){return ci(this,"push",e)},reduce(e,...t){return Ca(this,"reduce",e,t)},reduceRight(e,...t){return Ca(this,"reduceRight",e,t)},shift(){return ci(this,"shift")},some(e,t){return yt(this,"some",e,t,void 0,arguments)},splice(...e){return ci(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return ci(this,"unshift",e)},values(){return vn(this,"values",We)}};function vn(e,t,i){const n=on(e),a=n[t]();return n!==e&&!it(e)&&(a._next=a.next,a.next=()=>{const s=a._next();return s.value&&(s.value=i(s.value)),s}),a}const ko=Array.prototype;function yt(e,t,i,n,a,s){const r=on(e),o=r!==e&&!it(e),l=r[t];if(l!==ko[t]){const g=l.apply(e,s);return o?We(g):g}let d=i;r!==e&&(o?d=function(g,u){return i.call(this,We(g),u,e)}:i.length>2&&(d=function(g,u){return i.call(this,g,u,e)}));const c=l.call(r,d,n);return o&&a?a(c):c}function Ca(e,t,i,n){const a=on(e);let s=i;return a!==e&&(it(e)?i.length>3&&(s=function(r,o,l){return i.call(this,r,o,l,e)}):s=function(r,o,l){return i.call(this,r,We(o),l,e)}),a[t](s,...n)}function _n(e,t,i){const n=Oe(e);Fe(n,"iterate",vi);const a=n[t](...i);return(a===-1||a===!1)&&ua(i[0])?(i[0]=Oe(i[0]),n[t](...i)):a}function ci(e,t,i=[]){zt(),sa();const n=Oe(e)[t].apply(e,i);return ra(),Bt(),n}const Co=ta("__proto__,__v_isRef,__isVue"),Rs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wt));function So(e){wt(e)||(e=String(e));const t=Oe(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class Ls{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,n){if(i==="__v_skip")return t.__v_skip;const a=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!a;if(i==="__v_isReadonly")return a;if(i==="__v_isShallow")return s;if(i==="__v_raw")return n===(a?s?Lo:js:s?Ws:Fs).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=se(t);if(!a){let l;if(r&&(l=No[i]))return l;if(i==="hasOwnProperty")return So}const o=Reflect.get(t,i,Ue(t)?t:n);return(wt(i)?Rs.has(i):Co(i))||(a||Fe(t,"get",i),s)?o:Ue(o)?r&&aa(i)?o:o.value:Ae(o)?a?Hs(o):Tt(o):o}}class Us extends Ls{constructor(t=!1){super(!1,t)}set(t,i,n,a){let s=t[i];if(!this._isShallow){const l=Vt(s);if(!it(n)&&!Vt(n)&&(s=Oe(s),n=Oe(n)),!se(t)&&Ue(s)&&!Ue(n))return l?!1:(s.value=n,!0)}const r=se(t)&&aa(i)?Number(i)<t.length:_e(t,i),o=Reflect.set(t,i,n,Ue(t)?t:a);return t===Oe(a)&&(r?At(n,s)&&bt(t,"set",i,n):bt(t,"add",i,n)),o}deleteProperty(t,i){const n=_e(t,i);t[i];const a=Reflect.deleteProperty(t,i);return a&&n&&bt(t,"delete",i,void 0),a}has(t,i){const n=Reflect.has(t,i);return(!wt(i)||!Rs.has(i))&&Fe(t,"has",i),n}ownKeys(t){return Fe(t,"iterate",se(t)?"length":Ht),Reflect.ownKeys(t)}}class xo extends Ls{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const Ao=new Us,Eo=new xo,Mo=new Us(!0);const Fn=e=>e,Ai=e=>Reflect.getPrototypeOf(e);function $o(e,t,i){return function(...n){const a=this.__v_raw,s=Oe(a),r=ei(s),o=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,d=a[e](...n),c=i?Fn:t?Wn:We;return!t&&Fe(s,"iterate",l?Un:Ht),{next(){const{value:g,done:u}=d.next();return u?{value:g,done:u}:{value:o?[c(g[0]),c(g[1])]:c(g),done:u}},[Symbol.iterator](){return this}}}}function Ei(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Do(e,t){const i={get(a){const s=this.__v_raw,r=Oe(s),o=Oe(a);e||(At(a,o)&&Fe(r,"get",a),Fe(r,"get",o));const{has:l}=Ai(r),d=t?Fn:e?Wn:We;if(l.call(r,a))return d(s.get(a));if(l.call(r,o))return d(s.get(o));s!==r&&s.get(a)},get size(){const a=this.__v_raw;return!e&&Fe(Oe(a),"iterate",Ht),Reflect.get(a,"size",a)},has(a){const s=this.__v_raw,r=Oe(s),o=Oe(a);return e||(At(a,o)&&Fe(r,"has",a),Fe(r,"has",o)),a===o?s.has(a):s.has(a)||s.has(o)},forEach(a,s){const r=this,o=r.__v_raw,l=Oe(o),d=t?Fn:e?Wn:We;return!e&&Fe(l,"iterate",Ht),o.forEach((c,g)=>a.call(s,d(c),d(g),r))}};return Be(i,e?{add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear")}:{add(a){!t&&!it(a)&&!Vt(a)&&(a=Oe(a));const s=Oe(this);return Ai(s).has.call(s,a)||(s.add(a),bt(s,"add",a,a)),this},set(a,s){!t&&!it(s)&&!Vt(s)&&(s=Oe(s));const r=Oe(this),{has:o,get:l}=Ai(r);let d=o.call(r,a);d||(a=Oe(a),d=o.call(r,a));const c=l.call(r,a);return r.set(a,s),d?At(s,c)&&bt(r,"set",a,s):bt(r,"add",a,s),this},delete(a){const s=Oe(this),{has:r,get:o}=Ai(s);let l=r.call(s,a);l||(a=Oe(a),l=r.call(s,a)),o&&o.call(s,a);const d=s.delete(a);return l&&bt(s,"delete",a,void 0),d},clear(){const a=Oe(this),s=a.size!==0,r=a.clear();return s&&bt(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{i[a]=$o(a,e,t)}),i}function ca(e,t){const i=Do(e,t);return(n,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(_e(i,a)&&a in n?i:n,a,s)}const zo={get:ca(!1,!1)},Bo={get:ca(!1,!0)},Ro={get:ca(!0,!1)};const Fs=new WeakMap,Ws=new WeakMap,js=new WeakMap,Lo=new WeakMap;function Uo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fo(e){return e.__v_skip||!Object.isExtensible(e)?0:Uo(uo(e))}function Tt(e){return Vt(e)?e:da(e,!1,Ao,zo,Fs)}function qs(e){return da(e,!1,Mo,Bo,Ws)}function Hs(e){return da(e,!0,Eo,Ro,js)}function da(e,t,i,n,a){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=a.get(e);if(s)return s;const r=Fo(e);if(r===0)return e;const o=new Proxy(e,r===2?n:i);return a.set(e,o),o}function ti(e){return Vt(e)?ti(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function ua(e){return e?!!e.__v_raw:!1}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function Wo(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&Ns(e,"__v_skip",!0),e}const We=e=>Ae(e)?Tt(e):e,Wn=e=>Ae(e)?Hs(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function he(e){return Gs(e,!1)}function jo(e){return Gs(e,!0)}function Gs(e,t){return Ue(e)?e:new qo(e,t)}class qo{constructor(t,i){this.dep=new la,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Oe(t),this._value=i?t:We(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,n=this.__v_isShallow||it(t)||Vt(t);t=n?t:Oe(t),At(t,i)&&(this._rawValue=t,this._value=n?t:We(t),this.dep.trigger())}}function de(e){return Ue(e)?e.value:e}const Ho={get:(e,t,i)=>t==="__v_raw"?e:de(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const a=e[t];return Ue(a)&&!Ue(i)?(a.value=i,!0):Reflect.set(e,t,i,n)}};function Vs(e){return ti(e)?e:new Proxy(e,Ho)}function Go(e){const t=se(e)?new Array(e.length):{};for(const i in e)t[i]=Ko(e,i);return t}class Vo{constructor(t,i,n){this._object=t,this._key=i,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Po(Oe(this._object),this._key)}}function Ko(e,t,i){const n=e[t];return Ue(n)?n:new Vo(e,t,i)}class Yo{constructor(t,i,n){this.fn=t,this.setter=i,this._value=void 0,this.dep=new la(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ce!==this)return Es(this,!0),!0}get value(){const t=this.dep.track();return Ds(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Xo(e,t,i=!1){let n,a;return ce(e)?n=e:(n=e.get,a=e.set),new Yo(n,a,i)}const Mi={},Vi=new WeakMap;let Ft;function Qo(e,t=!1,i=Ft){if(i){let n=Vi.get(i);n||Vi.set(i,n=[]),n.push(e)}}function Jo(e,t,i=Ne){const{immediate:n,deep:a,once:s,scheduler:r,augmentJob:o,call:l}=i,d=O=>a?O:it(O)||a===!1||a===0?vt(O,1):vt(O);let c,g,u,h,v=!1,w=!1;if(Ue(e)?(g=()=>e.value,v=it(e)):ti(e)?(g=()=>d(e),v=!0):se(e)?(w=!0,v=e.some(O=>ti(O)||it(O)),g=()=>e.map(O=>{if(Ue(O))return O.value;if(ti(O))return d(O);if(ce(O))return l?l(O,2):O()})):ce(e)?t?g=l?()=>l(e,2):e:g=()=>{if(u){zt();try{u()}finally{Bt()}}const O=Ft;Ft=c;try{return l?l(e,3,[h]):e(h)}finally{Ft=O}}:g=ft,t&&a){const O=g,I=a===!0?1/0:a;g=()=>vt(O(),I)}const k=wo(),C=()=>{c.stop(),k&&k.active&&na(k.effects,c)};if(s&&t){const O=t;t=(...I)=>{O(...I),C()}}let A=w?new Array(e.length).fill(Mi):Mi;const b=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(t){const I=c.run();if(a||v||(w?I.some(($,B)=>At($,A[B])):At(I,A))){u&&u();const $=Ft;Ft=c;try{const B=[I,A===Mi?void 0:w&&A[0]===Mi?[]:A,h];l?l(t,3,B):t(...B),A=I}finally{Ft=$}}}else c.run()};return o&&o(b),c=new xs(g),c.scheduler=r?()=>r(b,!1):b,h=O=>Qo(O,!1,c),u=c.onStop=()=>{const O=Vi.get(c);if(O){if(l)l(O,4);else for(const I of O)I();Vi.delete(c)}},t?n?b(!0):A=c.run():r?r(b.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function vt(e,t=1/0,i){if(t<=0||!Ae(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,Ue(e))vt(e.value,t,i);else if(se(e))for(let n=0;n<e.length;n++)vt(e[n],t,i);else if(_s(e)||ei(e))e.forEach(n=>{vt(n,t,i)});else if(Is(e)){for(const n in e)vt(e[n],t,i);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&vt(e[n],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ki(e,t,i,n){try{return n?e(...n):e()}catch(a){ln(a,t,i)}}function rt(e,t,i,n){if(ce(e)){const a=ki(e,t,i,n);return a&&ws(a)&&a.catch(s=>{ln(s,t,i)}),a}if(se(e)){const a=[];for(let s=0;s<e.length;s++)a.push(rt(e[s],t,i,n));return a}}function ln(e,t,i,n=!0){const a=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ne;if(t){let o=t.parent;const l=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${i}`;for(;o;){const c=o.ec;if(c){for(let g=0;g<c.length;g++)if(c[g](e,l,d)===!1)return}o=o.parent}if(s){zt(),ki(s,null,10,[e,l,d]),Bt();return}}Zo(e,i,a,n,r)}function Zo(e,t,i,n=!0,a=!1){if(a)throw e;console.error(e)}const He=[];let pt=-1;const ii=[];let Ct=null,Xt=0;const Ks=Promise.resolve();let Ki=null;function Ys(e){const t=Ki||Ks;return e?t.then(this?e.bind(this):e):t}function el(e){let t=pt+1,i=He.length;for(;t<i;){const n=t+i>>>1,a=He[n],s=_i(a);s<e||s===e&&a.flags&2?t=n+1:i=n}return t}function ga(e){if(!(e.flags&1)){const t=_i(e),i=He[He.length-1];!i||!(e.flags&2)&&t>=_i(i)?He.push(e):He.splice(el(t),0,e),e.flags|=1,Xs()}}function Xs(){Ki||(Ki=Ks.then(Js))}function tl(e){se(e)?ii.push(...e):Ct&&e.id===-1?Ct.splice(Xt+1,0,e):e.flags&1||(ii.push(e),e.flags|=1),Xs()}function Sa(e,t,i=pt+1){for(;i<He.length;i++){const n=He[i];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(i,1),i--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Qs(e){if(ii.length){const t=[...new Set(ii)].sort((i,n)=>_i(i)-_i(n));if(ii.length=0,Ct){Ct.push(...t);return}for(Ct=t,Xt=0;Xt<Ct.length;Xt++){const i=Ct[Xt];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Ct=null,Xt=0}}const _i=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Js(e){try{for(pt=0;pt<He.length;pt++){const t=He[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ki(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<He.length;pt++){const t=He[pt];t&&(t.flags&=-2)}pt=-1,He.length=0,Qs(),Ki=null,(He.length||ii.length)&&Js()}}let Re=null,Zs=null;function Yi(e){const t=Re;return Re=e,Zs=e&&e.type.__scopeId||null,t}function cn(e,t=Re,i){if(!t||e._n)return e;const n=(...a)=>{n._d&&La(-1);const s=Yi(t);let r;try{r=e(...a)}finally{Yi(s),n._d&&La(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function mi(e,t){if(Re===null)return e;const i=pn(Re),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,r,o,l=Ne]=t[a];s&&(ce(s)&&(s={mounted:s,updated:s}),s.deep&&vt(r),n.push({dir:s,instance:i,value:r,oldValue:void 0,arg:o,modifiers:l}))}return e}function Rt(e,t,i,n){const a=e.dirs,s=t&&t.dirs;for(let r=0;r<a.length;r++){const o=a[r];s&&(o.oldValue=s[r].value);let l=o.dir[n];l&&(zt(),rt(l,i,8,[e.el,o,e,t]),Bt())}}const il=Symbol("_vte"),er=e=>e.__isTeleport,St=Symbol("_leaveCb"),$i=Symbol("_enterCb");function tr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return oi(()=>{e.isMounted=!0}),cr(()=>{e.isUnmounting=!0}),e}const et=[Function,Array],ir={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:et,onEnter:et,onAfterEnter:et,onEnterCancelled:et,onBeforeLeave:et,onLeave:et,onAfterLeave:et,onLeaveCancelled:et,onBeforeAppear:et,onAppear:et,onAfterAppear:et,onAppearCancelled:et},nr=e=>{const t=e.subTree;return t.component?nr(t.component):t},nl={name:"BaseTransition",props:ir,setup(e,{slots:t}){const i=Ar(),n=tr();return()=>{const a=t.default&&ha(t.default(),!0);if(!a||!a.length)return;const s=ar(a),r=Oe(e),{mode:o}=r;if(n.isLeaving)return wn(s);const l=xa(s);if(!l)return wn(s);let d=wi(l,r,n,i,g=>d=g);l.type!==Ge&&Kt(l,d);let c=i.subTree&&xa(i.subTree);if(c&&c.type!==Ge&&!jt(l,c)&&nr(i).type!==Ge){let g=wi(c,r,n,i);if(Kt(c,g),o==="out-in"&&l.type!==Ge)return n.isLeaving=!0,g.afterLeave=()=>{n.isLeaving=!1,i.job.flags&8||i.update(),delete g.afterLeave,c=void 0},wn(s);o==="in-out"&&l.type!==Ge?g.delayLeave=(u,h,v)=>{const w=sr(n,c);w[String(c.key)]=c,u[St]=()=>{h(),u[St]=void 0,delete d.delayedLeave,c=void 0},d.delayedLeave=()=>{v(),delete d.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function ar(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==Ge){t=i;break}}return t}const al=nl;function sr(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function wi(e,t,i,n,a){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:c,onEnterCancelled:g,onBeforeLeave:u,onLeave:h,onAfterLeave:v,onLeaveCancelled:w,onBeforeAppear:k,onAppear:C,onAfterAppear:A,onAppearCancelled:b}=t,O=String(e.key),I=sr(i,e),$=(K,Q)=>{K&&rt(K,n,9,Q)},B=(K,Q)=>{const ee=Q[1];$(K,Q),se(K)?K.every(L=>L.length<=1)&&ee():K.length<=1&&ee()},Z={mode:r,persisted:o,beforeEnter(K){let Q=l;if(!i.isMounted)if(s)Q=k||l;else return;K[St]&&K[St](!0);const ee=I[O];ee&&jt(e,ee)&&ee.el[St]&&ee.el[St](),$(Q,[K])},enter(K){let Q=d,ee=c,L=g;if(!i.isMounted)if(s)Q=C||d,ee=A||c,L=b||g;else return;let q=!1;const H=K[$i]=T=>{q||(q=!0,T?$(L,[K]):$(ee,[K]),Z.delayedLeave&&Z.delayedLeave(),K[$i]=void 0)};Q?B(Q,[K,H]):H()},leave(K,Q){const ee=String(e.key);if(K[$i]&&K[$i](!0),i.isUnmounting)return Q();$(u,[K]);let L=!1;const q=K[St]=H=>{L||(L=!0,Q(),H?$(w,[K]):$(v,[K]),K[St]=void 0,I[ee]===e&&delete I[ee])};I[ee]=e,h?B(h,[K,q]):q()},clone(K){const Q=wi(K,t,i,n,a);return a&&a(Q),Q}};return Z}function wn(e){if(dn(e))return e=Mt(e),e.children=null,e}function xa(e){if(!dn(e))return er(e.type)&&e.children?ar(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&ce(i.default))return i.default()}}function Kt(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Kt(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ha(e,t=!1,i){let n=[],a=0;for(let s=0;s<e.length;s++){let r=e[s];const o=i==null?r.key:String(i)+String(r.key!=null?r.key:s);r.type===re?(r.patchFlag&128&&a++,n=n.concat(ha(r.children,t,o))):(t||r.type!==Ge)&&n.push(o!=null?Mt(r,{key:o}):r)}if(a>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function me(e,t){return ce(e)?Be({name:e.name},t,{setup:e}):e}function rr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Xi(e,t,i,n,a=!1){if(se(e)){e.forEach((v,w)=>Xi(v,t&&(se(t)?t[w]:t),i,n,a));return}if(ni(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Xi(e,t,i,n.component.subTree);return}const s=n.shapeFlag&4?pn(n.component):n.el,r=a?null:s,{i:o,r:l}=e,d=t&&t.r,c=o.refs===Ne?o.refs={}:o.refs,g=o.setupState,u=Oe(g),h=g===Ne?()=>!1:v=>_e(u,v);if(d!=null&&d!==l&&(De(d)?(c[d]=null,h(d)&&(g[d]=null)):Ue(d)&&(d.value=null)),ce(l))ki(l,o,12,[r,c]);else{const v=De(l),w=Ue(l);if(v||w){const k=()=>{if(e.f){const C=v?h(l)?g[l]:c[l]:l.value;a?se(C)&&na(C,s):se(C)?C.includes(s)||C.push(s):v?(c[l]=[s],h(l)&&(g[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else v?(c[l]=r,h(l)&&(g[l]=r)):w&&(l.value=r,e.k&&(c[e.k]=r))};r?(k.id=-1,Qe(k,i)):k()}}}rn().requestIdleCallback;rn().cancelIdleCallback;const ni=e=>!!e.type.__asyncLoader,dn=e=>e.type.__isKeepAlive;function sl(e,t){or(e,"a",t)}function rl(e,t){or(e,"da",t)}function or(e,t,i=je){const n=e.__wdc||(e.__wdc=()=>{let a=i;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(un(t,n,i),i){let a=i.parent;for(;a&&a.parent;)dn(a.parent.vnode)&&ol(n,t,i,a),a=a.parent}}function ol(e,t,i,n){const a=un(t,e,n,!0);pa(()=>{na(n[t],a)},i)}function un(e,t,i=je,n=!1){if(i){const a=i[e]||(i[e]=[]),s=t.__weh||(t.__weh=(...r)=>{zt();const o=Ci(i),l=rt(t,i,e,r);return o(),Bt(),l});return n?a.unshift(s):a.push(s),s}}const It=e=>(t,i=je)=>{(!Pi||e==="sp")&&un(e,(...n)=>t(...n),i)},ll=It("bm"),oi=It("m"),cl=It("bu"),lr=It("u"),cr=It("bum"),pa=It("um"),dl=It("sp"),ul=It("rtg"),gl=It("rtc");function hl(e,t=je){un("ec",e,t)}const pl=Symbol.for("v-ndc");function Pe(e,t,i,n){let a;const s=i,r=se(e);if(r||De(e)){const o=r&&ti(e);let l=!1;o&&(l=!it(e),e=on(e)),a=new Array(e.length);for(let d=0,c=e.length;d<c;d++)a[d]=t(l?We(e[d]):e[d],d,void 0,s)}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,s)}else if(Ae(e))if(e[Symbol.iterator])a=Array.from(e,(o,l)=>t(o,l,void 0,s));else{const o=Object.keys(e);a=new Array(o.length);for(let l=0,d=o.length;l<d;l++){const c=o[l];a[l]=t(e[c],c,l,s)}}else a=[];return a}function ml(e,t,i={},n,a){if(Re.ce||Re.parent&&ni(Re.parent)&&Re.parent.ce)return f(),pe(re,null,[ve("slot",i,n)],64);let s=e[t];s&&s._c&&(s._d=!1),f();const r=s&&dr(s(i)),o=i.key||r&&r.key,l=pe(re,{key:(o&&!wt(o)?o:`_${t}`)+""},r||[],r&&e._===1?64:-2);return s&&s._c&&(s._d=!0),l}function dr(e){return e.some(t=>Ii(t)?!(t.type===Ge||t.type===re&&!dr(t.children)):!0)?e:null}const jn=e=>e?Er(e)?pn(e):jn(e.parent):null,fi=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jn(e.parent),$root:e=>jn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gr(e),$forceUpdate:e=>e.f||(e.f=()=>{ga(e.update)}),$nextTick:e=>e.n||(e.n=Ys.bind(e.proxy)),$watch:e=>Bl.bind(e)}),Tn=(e,t)=>e!==Ne&&!e.__isScriptSetup&&_e(e,t),fl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:n,data:a,props:s,accessCache:r,type:o,appContext:l}=e;let d;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return a[t];case 4:return i[t];case 3:return s[t]}else{if(Tn(n,t))return r[t]=1,n[t];if(a!==Ne&&_e(a,t))return r[t]=2,a[t];if((d=e.propsOptions[0])&&_e(d,t))return r[t]=3,s[t];if(i!==Ne&&_e(i,t))return r[t]=4,i[t];qn&&(r[t]=0)}}const c=fi[t];let g,u;if(c)return t==="$attrs"&&Fe(e.attrs,"get",""),c(e);if((g=o.__cssModules)&&(g=g[t]))return g;if(i!==Ne&&_e(i,t))return r[t]=4,i[t];if(u=l.config.globalProperties,_e(u,t))return u[t]},set({_:e},t,i){const{data:n,setupState:a,ctx:s}=e;return Tn(a,t)?(a[t]=i,!0):n!==Ne&&_e(n,t)?(n[t]=i,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:a,propsOptions:s}},r){let o;return!!i[r]||e!==Ne&&_e(e,r)||Tn(t,r)||(o=s[0])&&_e(o,r)||_e(n,r)||_e(fi,r)||_e(a.config.globalProperties,r)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:_e(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function Aa(e){return se(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let qn=!0;function yl(e){const t=gr(e),i=e.proxy,n=e.ctx;qn=!1,t.beforeCreate&&Ea(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:r,watch:o,provide:l,inject:d,created:c,beforeMount:g,mounted:u,beforeUpdate:h,updated:v,activated:w,deactivated:k,beforeDestroy:C,beforeUnmount:A,destroyed:b,unmounted:O,render:I,renderTracked:$,renderTriggered:B,errorCaptured:Z,serverPrefetch:K,expose:Q,inheritAttrs:ee,components:L,directives:q,filters:H}=t;if(d&&Ol(d,n,null),r)for(const x in r){const M=r[x];ce(M)&&(n[x]=M.bind(i))}if(a){const x=a.call(i,i);Ae(x)&&(e.data=Tt(x))}if(qn=!0,s)for(const x in s){const M=s[x],G=ce(M)?M.bind(i,i):ce(M.get)?M.get.bind(i,i):ft,le=!ce(M)&&ce(M.set)?M.set.bind(i):ft,ge=X({get:G,set:le});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>ge.value,set:be=>ge.value=be})}if(o)for(const x in o)ur(o[x],n,i,x);if(l){const x=ce(l)?l.call(i):l;Reflect.ownKeys(x).forEach(M=>{Il(M,x[M])})}c&&Ea(c,e,"c");function S(x,M){se(M)?M.forEach(G=>x(G.bind(i))):M&&x(M.bind(i))}if(S(ll,g),S(oi,u),S(cl,h),S(lr,v),S(sl,w),S(rl,k),S(hl,Z),S(gl,$),S(ul,B),S(cr,A),S(pa,O),S(dl,K),se(Q))if(Q.length){const x=e.exposed||(e.exposed={});Q.forEach(M=>{Object.defineProperty(x,M,{get:()=>i[M],set:G=>i[M]=G})})}else e.exposed||(e.exposed={});I&&e.render===ft&&(e.render=I),ee!=null&&(e.inheritAttrs=ee),L&&(e.components=L),q&&(e.directives=q),K&&rr(e)}function Ol(e,t,i=ft){se(e)&&(e=Hn(e));for(const n in e){const a=e[n];let s;Ae(a)?"default"in a?s=$e(a.from||n,a.default,!0):s=$e(a.from||n):s=$e(a),Ue(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):t[n]=s}}function Ea(e,t,i){rt(se(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function ur(e,t,i,n){let a=n.includes(".")?Nr(i,n):()=>i[n];if(De(e)){const s=t[e];ce(s)&&Wi(a,s)}else if(ce(e))Wi(a,e.bind(i));else if(Ae(e))if(se(e))e.forEach(s=>ur(s,t,i,n));else{const s=ce(e.handler)?e.handler.bind(i):t[e.handler];ce(s)&&Wi(a,s,e)}}function gr(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:a,optionsCache:s,config:{optionMergeStrategies:r}}=e.appContext,o=s.get(t);let l;return o?l=o:!a.length&&!i&&!n?l=t:(l={},a.length&&a.forEach(d=>Qi(l,d,r,!0)),Qi(l,t,r)),Ae(t)&&s.set(t,l),l}function Qi(e,t,i,n=!1){const{mixins:a,extends:s}=t;s&&Qi(e,s,i,!0),a&&a.forEach(r=>Qi(e,r,i,!0));for(const r in t)if(!(n&&r==="expose")){const o=bl[r]||i&&i[r];e[r]=o?o(e[r],t[r]):t[r]}return e}const bl={data:Ma,props:$a,emits:$a,methods:ui,computed:ui,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:ui,directives:ui,watch:_l,provide:Ma,inject:vl};function Ma(e,t){return t?e?function(){return Be(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function vl(e,t){return ui(Hn(e),Hn(t))}function Hn(e){if(se(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function ui(e,t){return e?Be(Object.create(null),e,t):t}function $a(e,t){return e?se(e)&&se(t)?[...new Set([...e,...t])]:Be(Object.create(null),Aa(e),Aa(t??{})):t}function _l(e,t){if(!e)return t;if(!t)return e;const i=Be(Object.create(null),e);for(const n in t)i[n]=qe(e[n],t[n]);return i}function hr(){return{app:null,config:{isNativeTag:lo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wl=0;function Tl(e,t){return function(n,a=null){ce(n)||(n=Be({},n)),a!=null&&!Ae(a)&&(a=null);const s=hr(),r=new WeakSet,o=[];let l=!1;const d=s.app={_uid:wl++,_component:n,_props:a,_container:null,_context:s,_instance:null,version:ac,get config(){return s.config},set config(c){},use(c,...g){return r.has(c)||(c&&ce(c.install)?(r.add(c),c.install(d,...g)):ce(c)&&(r.add(c),c(d,...g))),d},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),d},component(c,g){return g?(s.components[c]=g,d):s.components[c]},directive(c,g){return g?(s.directives[c]=g,d):s.directives[c]},mount(c,g,u){if(!l){const h=d._ceVNode||ve(n,a);return h.appContext=s,u===!0?u="svg":u===!1&&(u=void 0),e(h,c,u),l=!0,d._container=c,c.__vue_app__=d,pn(h.component)}},onUnmount(c){o.push(c)},unmount(){l&&(rt(o,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(c,g){return s.provides[c]=g,d},runWithContext(c){const g=ai;ai=d;try{return c()}finally{ai=g}}};return d}}let ai=null;function Il(e,t){if(je){let i=je.provides;const n=je.parent&&je.parent.provides;n===i&&(i=je.provides=Object.create(n)),i[e]=t}}function $e(e,t,i=!1){const n=je||Re;if(n||ai){const a=ai?ai._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return i&&ce(t)?t.call(n&&n.proxy):t}}const pr={},mr=()=>Object.create(pr),fr=e=>Object.getPrototypeOf(e)===pr;function Pl(e,t,i,n=!1){const a={},s=mr();e.propsDefaults=Object.create(null),yr(e,t,a,s);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);i?e.props=n?a:qs(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function Nl(e,t,i,n){const{props:a,attrs:s,vnode:{patchFlag:r}}=e,o=Oe(a),[l]=e.propsOptions;let d=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let g=0;g<c.length;g++){let u=c[g];if(gn(e.emitsOptions,u))continue;const h=t[u];if(l)if(_e(s,u))h!==s[u]&&(s[u]=h,d=!0);else{const v=Et(u);a[v]=Gn(l,o,v,h,e,!1)}else h!==s[u]&&(s[u]=h,d=!0)}}}else{yr(e,t,a,s)&&(d=!0);let c;for(const g in o)(!t||!_e(t,g)&&((c=Dt(g))===g||!_e(t,c)))&&(l?i&&(i[g]!==void 0||i[c]!==void 0)&&(a[g]=Gn(l,o,g,void 0,e,!0)):delete a[g]);if(s!==o)for(const g in s)(!t||!_e(t,g))&&(delete s[g],d=!0)}d&&bt(e.attrs,"set","")}function yr(e,t,i,n){const[a,s]=e.propsOptions;let r=!1,o;if(t)for(let l in t){if(gi(l))continue;const d=t[l];let c;a&&_e(a,c=Et(l))?!s||!s.includes(c)?i[c]=d:(o||(o={}))[c]=d:gn(e.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,r=!0)}if(s){const l=Oe(i),d=o||Ne;for(let c=0;c<s.length;c++){const g=s[c];i[g]=Gn(a,l,g,d[g],e,!_e(d,g))}}return r}function Gn(e,t,i,n,a,s){const r=e[i];if(r!=null){const o=_e(r,"default");if(o&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ce(l)){const{propsDefaults:d}=a;if(i in d)n=d[i];else{const c=Ci(a);n=d[i]=l.call(null,t),c()}}else n=l;a.ce&&a.ce._setProp(i,n)}r[0]&&(s&&!o?n=!1:r[1]&&(n===""||n===Dt(i))&&(n=!0))}return n}const kl=new WeakMap;function Or(e,t,i=!1){const n=i?kl:t.propsCache,a=n.get(e);if(a)return a;const s=e.props,r={},o=[];let l=!1;if(!ce(e)){const c=g=>{l=!0;const[u,h]=Or(g,t,!0);Be(r,u),h&&o.push(...h)};!i&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Ae(e)&&n.set(e,Zt),Zt;if(se(s))for(let c=0;c<s.length;c++){const g=Et(s[c]);Da(g)&&(r[g]=Ne)}else if(s)for(const c in s){const g=Et(c);if(Da(g)){const u=s[c],h=r[g]=se(u)||ce(u)?{type:u}:Be({},u),v=h.type;let w=!1,k=!0;if(se(v))for(let C=0;C<v.length;++C){const A=v[C],b=ce(A)&&A.name;if(b==="Boolean"){w=!0;break}else b==="String"&&(k=!1)}else w=ce(v)&&v.name==="Boolean";h[0]=w,h[1]=k,(w||_e(h,"default"))&&o.push(g)}}const d=[r,o];return Ae(e)&&n.set(e,d),d}function Da(e){return e[0]!=="$"&&!gi(e)}const br=e=>e[0]==="_"||e==="$stable",ma=e=>se(e)?e.map(mt):[mt(e)],Cl=(e,t,i)=>{if(t._n)return t;const n=cn((...a)=>ma(t(...a)),i);return n._c=!1,n},vr=(e,t,i)=>{const n=e._ctx;for(const a in e){if(br(a))continue;const s=e[a];if(ce(s))t[a]=Cl(a,s,n);else if(s!=null){const r=ma(s);t[a]=()=>r}}},_r=(e,t)=>{const i=ma(t);e.slots.default=()=>i},wr=(e,t,i)=>{for(const n in t)(i||n!=="_")&&(e[n]=t[n])},Sl=(e,t,i)=>{const n=e.slots=mr();if(e.vnode.shapeFlag&32){const a=t._;a?(wr(n,t,i),i&&Ns(n,"_",a,!0)):vr(t,n)}else t&&_r(e,t)},xl=(e,t,i)=>{const{vnode:n,slots:a}=e;let s=!0,r=Ne;if(n.shapeFlag&32){const o=t._;o?i&&o===1?s=!1:wr(a,t,i):(s=!t.$stable,vr(t,a)),r=t}else t&&(_r(e,t),r={default:1});if(s)for(const o in a)!br(o)&&r[o]==null&&delete a[o]},Qe=ql;function Al(e){return El(e)}function El(e,t){const i=rn();i.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:r,createText:o,createComment:l,setText:d,setElementText:c,parentNode:g,nextSibling:u,setScopeId:h=ft,insertStaticContent:v}=e,w=(m,y,P,D=null,E=null,z=null,V=void 0,j=null,F=!!y.dynamicChildren)=>{if(m===y)return;m&&!jt(m,y)&&(D=Ee(m),be(m,E,z,!0),m=null),y.patchFlag===-2&&(F=!1,y.dynamicChildren=null);const{type:R,ref:ae,shapeFlag:Y}=y;switch(R){case hn:k(m,y,P,D);break;case Ge:C(m,y,P,D);break;case Pn:m==null&&A(y,P,D,V);break;case re:L(m,y,P,D,E,z,V,j,F);break;default:Y&1?I(m,y,P,D,E,z,V,j,F):Y&6?q(m,y,P,D,E,z,V,j,F):(Y&64||Y&128)&&R.process(m,y,P,D,E,z,V,j,F,Ve)}ae!=null&&E&&Xi(ae,m&&m.ref,z,y||m,!y)},k=(m,y,P,D)=>{if(m==null)n(y.el=o(y.children),P,D);else{const E=y.el=m.el;y.children!==m.children&&d(E,y.children)}},C=(m,y,P,D)=>{m==null?n(y.el=l(y.children||""),P,D):y.el=m.el},A=(m,y,P,D)=>{[m.el,m.anchor]=v(m.children,y,P,D,m.el,m.anchor)},b=({el:m,anchor:y},P,D)=>{let E;for(;m&&m!==y;)E=u(m),n(m,P,D),m=E;n(y,P,D)},O=({el:m,anchor:y})=>{let P;for(;m&&m!==y;)P=u(m),a(m),m=P;a(y)},I=(m,y,P,D,E,z,V,j,F)=>{y.type==="svg"?V="svg":y.type==="math"&&(V="mathml"),m==null?$(y,P,D,E,z,V,j,F):K(m,y,E,z,V,j,F)},$=(m,y,P,D,E,z,V,j)=>{let F,R;const{props:ae,shapeFlag:Y,transition:ie,dirs:oe}=m;if(F=m.el=r(m.type,z,ae&&ae.is,ae),Y&8?c(F,m.children):Y&16&&Z(m.children,F,null,D,E,In(m,z),V,j),oe&&Rt(m,null,D,"created"),B(F,m,m.scopeId,V,D),ae){for(const ke in ae)ke!=="value"&&!gi(ke)&&s(F,ke,null,ae[ke],z,D);"value"in ae&&s(F,"value",null,ae.value,z),(R=ae.onVnodeBeforeMount)&&gt(R,D,m)}oe&&Rt(m,null,D,"beforeMount");const ye=Ml(E,ie);ye&&ie.beforeEnter(F),n(F,y,P),((R=ae&&ae.onVnodeMounted)||ye||oe)&&Qe(()=>{R&&gt(R,D,m),ye&&ie.enter(F),oe&&Rt(m,null,D,"mounted")},E)},B=(m,y,P,D,E)=>{if(P&&h(m,P),D)for(let z=0;z<D.length;z++)h(m,D[z]);if(E){let z=E.subTree;if(y===z||Cr(z.type)&&(z.ssContent===y||z.ssFallback===y)){const V=E.vnode;B(m,V,V.scopeId,V.slotScopeIds,E.parent)}}},Z=(m,y,P,D,E,z,V,j,F=0)=>{for(let R=F;R<m.length;R++){const ae=m[R]=j?xt(m[R]):mt(m[R]);w(null,ae,y,P,D,E,z,V,j)}},K=(m,y,P,D,E,z,V)=>{const j=y.el=m.el;let{patchFlag:F,dynamicChildren:R,dirs:ae}=y;F|=m.patchFlag&16;const Y=m.props||Ne,ie=y.props||Ne;let oe;if(P&&Lt(P,!1),(oe=ie.onVnodeBeforeUpdate)&&gt(oe,P,y,m),ae&&Rt(y,m,P,"beforeUpdate"),P&&Lt(P,!0),(Y.innerHTML&&ie.innerHTML==null||Y.textContent&&ie.textContent==null)&&c(j,""),R?Q(m.dynamicChildren,R,j,P,D,In(y,E),z):V||M(m,y,j,null,P,D,In(y,E),z,!1),F>0){if(F&16)ee(j,Y,ie,P,E);else if(F&2&&Y.class!==ie.class&&s(j,"class",null,ie.class,E),F&4&&s(j,"style",Y.style,ie.style,E),F&8){const ye=y.dynamicProps;for(let ke=0;ke<ye.length;ke++){const we=ye[ke],Ye=Y[we],Ke=ie[we];(Ke!==Ye||we==="value")&&s(j,we,Ye,Ke,E,P)}}F&1&&m.children!==y.children&&c(j,y.children)}else!V&&R==null&&ee(j,Y,ie,P,E);((oe=ie.onVnodeUpdated)||ae)&&Qe(()=>{oe&&gt(oe,P,y,m),ae&&Rt(y,m,P,"updated")},D)},Q=(m,y,P,D,E,z,V)=>{for(let j=0;j<y.length;j++){const F=m[j],R=y[j],ae=F.el&&(F.type===re||!jt(F,R)||F.shapeFlag&70)?g(F.el):P;w(F,R,ae,null,D,E,z,V,!0)}},ee=(m,y,P,D,E)=>{if(y!==P){if(y!==Ne)for(const z in y)!gi(z)&&!(z in P)&&s(m,z,y[z],null,E,D);for(const z in P){if(gi(z))continue;const V=P[z],j=y[z];V!==j&&z!=="value"&&s(m,z,j,V,E,D)}"value"in P&&s(m,"value",y.value,P.value,E)}},L=(m,y,P,D,E,z,V,j,F)=>{const R=y.el=m?m.el:o(""),ae=y.anchor=m?m.anchor:o("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:oe}=y;oe&&(j=j?j.concat(oe):oe),m==null?(n(R,P,D),n(ae,P,D),Z(y.children||[],P,ae,E,z,V,j,F)):Y>0&&Y&64&&ie&&m.dynamicChildren?(Q(m.dynamicChildren,ie,P,E,z,V,j),(y.key!=null||E&&y===E.subTree)&&Tr(m,y,!0)):M(m,y,P,ae,E,z,V,j,F)},q=(m,y,P,D,E,z,V,j,F)=>{y.slotScopeIds=j,m==null?y.shapeFlag&512?E.ctx.activate(y,P,D,V,F):H(y,P,D,E,z,V,F):T(m,y,F)},H=(m,y,P,D,E,z,V)=>{const j=m.component=Ql(m,D,E);if(dn(m)&&(j.ctx.renderer=Ve),Jl(j,!1,V),j.asyncDep){if(E&&E.registerDep(j,S,V),!m.el){const F=j.subTree=ve(Ge);C(null,F,y,P)}}else S(j,m,y,P,E,z,V)},T=(m,y,P)=>{const D=y.component=m.component;if(Wl(m,y,P))if(D.asyncDep&&!D.asyncResolved){x(D,y,P);return}else D.next=y,D.update();else y.el=m.el,D.vnode=y},S=(m,y,P,D,E,z,V)=>{const j=()=>{if(m.isMounted){let{next:Y,bu:ie,u:oe,parent:ye,vnode:ke}=m;{const dt=Ir(m);if(dt){Y&&(Y.el=ke.el,x(m,Y,V)),dt.asyncDep.then(()=>{m.isUnmounted||j()});return}}let we=Y,Ye;Lt(m,!1),Y?(Y.el=ke.el,x(m,Y,V)):Y=ke,ie&&Fi(ie),(Ye=Y.props&&Y.props.onVnodeBeforeUpdate)&&gt(Ye,ye,Y,ke),Lt(m,!0);const Ke=Ba(m),ct=m.subTree;m.subTree=Ke,w(ct,Ke,g(ct.el),Ee(ct),m,E,z),Y.el=Ke.el,we===null&&jl(m,Ke.el),oe&&Qe(oe,E),(Ye=Y.props&&Y.props.onVnodeUpdated)&&Qe(()=>gt(Ye,ye,Y,ke),E)}else{let Y;const{el:ie,props:oe}=y,{bm:ye,m:ke,parent:we,root:Ye,type:Ke}=m,ct=ni(y);Lt(m,!1),ye&&Fi(ye),!ct&&(Y=oe&&oe.onVnodeBeforeMount)&&gt(Y,we,y),Lt(m,!0);{Ye.ce&&Ye.ce._injectChildStyle(Ke);const dt=m.subTree=Ba(m);w(null,dt,P,D,m,E,z),y.el=dt.el}if(ke&&Qe(ke,E),!ct&&(Y=oe&&oe.onVnodeMounted)){const dt=y;Qe(()=>gt(Y,we,dt),E)}(y.shapeFlag&256||we&&ni(we.vnode)&&we.vnode.shapeFlag&256)&&m.a&&Qe(m.a,E),m.isMounted=!0,y=P=D=null}};m.scope.on();const F=m.effect=new xs(j);m.scope.off();const R=m.update=F.run.bind(F),ae=m.job=F.runIfDirty.bind(F);ae.i=m,ae.id=m.uid,F.scheduler=()=>ga(ae),Lt(m,!0),R()},x=(m,y,P)=>{y.component=m;const D=m.vnode.props;m.vnode=y,m.next=null,Nl(m,y.props,D,P),xl(m,y.children,P),zt(),Sa(m),Bt()},M=(m,y,P,D,E,z,V,j,F=!1)=>{const R=m&&m.children,ae=m?m.shapeFlag:0,Y=y.children,{patchFlag:ie,shapeFlag:oe}=y;if(ie>0){if(ie&128){le(R,Y,P,D,E,z,V,j,F);return}else if(ie&256){G(R,Y,P,D,E,z,V,j,F);return}}oe&8?(ae&16&&Te(R,E,z),Y!==R&&c(P,Y)):ae&16?oe&16?le(R,Y,P,D,E,z,V,j,F):Te(R,E,z,!0):(ae&8&&c(P,""),oe&16&&Z(Y,P,D,E,z,V,j,F))},G=(m,y,P,D,E,z,V,j,F)=>{m=m||Zt,y=y||Zt;const R=m.length,ae=y.length,Y=Math.min(R,ae);let ie;for(ie=0;ie<Y;ie++){const oe=y[ie]=F?xt(y[ie]):mt(y[ie]);w(m[ie],oe,P,null,E,z,V,j,F)}R>ae?Te(m,E,z,!0,!1,Y):Z(y,P,D,E,z,V,j,F,Y)},le=(m,y,P,D,E,z,V,j,F)=>{let R=0;const ae=y.length;let Y=m.length-1,ie=ae-1;for(;R<=Y&&R<=ie;){const oe=m[R],ye=y[R]=F?xt(y[R]):mt(y[R]);if(jt(oe,ye))w(oe,ye,P,null,E,z,V,j,F);else break;R++}for(;R<=Y&&R<=ie;){const oe=m[Y],ye=y[ie]=F?xt(y[ie]):mt(y[ie]);if(jt(oe,ye))w(oe,ye,P,null,E,z,V,j,F);else break;Y--,ie--}if(R>Y){if(R<=ie){const oe=ie+1,ye=oe<ae?y[oe].el:D;for(;R<=ie;)w(null,y[R]=F?xt(y[R]):mt(y[R]),P,ye,E,z,V,j,F),R++}}else if(R>ie)for(;R<=Y;)be(m[R],E,z,!0),R++;else{const oe=R,ye=R,ke=new Map;for(R=ye;R<=ie;R++){const Xe=y[R]=F?xt(y[R]):mt(y[R]);Xe.key!=null&&ke.set(Xe.key,R)}let we,Ye=0;const Ke=ie-ye+1;let ct=!1,dt=0;const li=new Array(Ke);for(R=0;R<Ke;R++)li[R]=0;for(R=oe;R<=Y;R++){const Xe=m[R];if(Ye>=Ke){be(Xe,E,z,!0);continue}let ut;if(Xe.key!=null)ut=ke.get(Xe.key);else for(we=ye;we<=ie;we++)if(li[we-ye]===0&&jt(Xe,y[we])){ut=we;break}ut===void 0?be(Xe,E,z,!0):(li[ut-ye]=R+1,ut>=dt?dt=ut:ct=!0,w(Xe,y[ut],P,null,E,z,V,j,F),Ye++)}const Ia=ct?$l(li):Zt;for(we=Ia.length-1,R=Ke-1;R>=0;R--){const Xe=ye+R,ut=y[Xe],Pa=Xe+1<ae?y[Xe+1].el:D;li[R]===0?w(null,ut,P,Pa,E,z,V,j,F):ct&&(we<0||R!==Ia[we]?ge(ut,P,Pa,2):we--)}}},ge=(m,y,P,D,E=null)=>{const{el:z,type:V,transition:j,children:F,shapeFlag:R}=m;if(R&6){ge(m.component.subTree,y,P,D);return}if(R&128){m.suspense.move(y,P,D);return}if(R&64){V.move(m,y,P,Ve);return}if(V===re){n(z,y,P);for(let Y=0;Y<F.length;Y++)ge(F[Y],y,P,D);n(m.anchor,y,P);return}if(V===Pn){b(m,y,P);return}if(D!==2&&R&1&&j)if(D===0)j.beforeEnter(z),n(z,y,P),Qe(()=>j.enter(z),E);else{const{leave:Y,delayLeave:ie,afterLeave:oe}=j,ye=()=>n(z,y,P),ke=()=>{Y(z,()=>{ye(),oe&&oe()})};ie?ie(z,ye,ke):ke()}else n(z,y,P)},be=(m,y,P,D=!1,E=!1)=>{const{type:z,props:V,ref:j,children:F,dynamicChildren:R,shapeFlag:ae,patchFlag:Y,dirs:ie,cacheIndex:oe}=m;if(Y===-2&&(E=!1),j!=null&&Xi(j,null,P,m,!0),oe!=null&&(y.renderCache[oe]=void 0),ae&256){y.ctx.deactivate(m);return}const ye=ae&1&&ie,ke=!ni(m);let we;if(ke&&(we=V&&V.onVnodeBeforeUnmount)&&gt(we,y,m),ae&6)te(m.component,P,D);else{if(ae&128){m.suspense.unmount(P,D);return}ye&&Rt(m,null,y,"beforeUnmount"),ae&64?m.type.remove(m,y,P,Ve,D):R&&!R.hasOnce&&(z!==re||Y>0&&Y&64)?Te(R,y,P,!1,!0):(z===re&&Y&384||!E&&ae&16)&&Te(F,y,P),D&&xe(m)}(ke&&(we=V&&V.onVnodeUnmounted)||ye)&&Qe(()=>{we&&gt(we,y,m),ye&&Rt(m,null,y,"unmounted")},P)},xe=m=>{const{type:y,el:P,anchor:D,transition:E}=m;if(y===re){ne(P,D);return}if(y===Pn){O(m);return}const z=()=>{a(P),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(m.shapeFlag&1&&E&&!E.persisted){const{leave:V,delayLeave:j}=E,F=()=>V(P,z);j?j(m.el,z,F):F()}else z()},ne=(m,y)=>{let P;for(;m!==y;)P=u(m),a(m),m=P;a(y)},te=(m,y,P)=>{const{bum:D,scope:E,job:z,subTree:V,um:j,m:F,a:R}=m;za(F),za(R),D&&Fi(D),E.stop(),z&&(z.flags|=8,be(V,m,y,P)),j&&Qe(j,y),Qe(()=>{m.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},Te=(m,y,P,D=!1,E=!1,z=0)=>{for(let V=z;V<m.length;V++)be(m[V],y,P,D,E)},Ee=m=>{if(m.shapeFlag&6)return Ee(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=u(m.anchor||m.el),P=y&&y[il];return P?u(P):y};let ze=!1;const ot=(m,y,P)=>{m==null?y._vnode&&be(y._vnode,null,null,!0):w(y._vnode||null,m,y,null,null,null,P),y._vnode=m,ze||(ze=!0,Sa(),Qs(),ze=!1)},Ve={p:w,um:be,m:ge,r:xe,mt:H,mc:Z,pc:M,pbc:Q,n:Ee,o:e};return{render:ot,hydrate:void 0,createApp:Tl(ot)}}function In({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Lt({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ml(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tr(e,t,i=!1){const n=e.children,a=t.children;if(se(n)&&se(a))for(let s=0;s<n.length;s++){const r=n[s];let o=a[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[s]=xt(a[s]),o.el=r.el),!i&&o.patchFlag!==-2&&Tr(r,o)),o.type===hn&&(o.el=r.el)}}function $l(e){const t=e.slice(),i=[0];let n,a,s,r,o;const l=e.length;for(n=0;n<l;n++){const d=e[n];if(d!==0){if(a=i[i.length-1],e[a]<d){t[n]=a,i.push(n);continue}for(s=0,r=i.length-1;s<r;)o=s+r>>1,e[i[o]]<d?s=o+1:r=o;d<e[i[s]]&&(s>0&&(t[n]=i[s-1]),i[s]=n)}}for(s=i.length,r=i[s-1];s-- >0;)i[s]=r,r=t[r];return i}function Ir(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ir(t)}function za(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Dl=Symbol.for("v-scx"),zl=()=>$e(Dl);function Pr(e,t){return fa(e,null,t)}function Wi(e,t,i){return fa(e,t,i)}function fa(e,t,i=Ne){const{immediate:n,deep:a,flush:s,once:r}=i,o=Be({},i),l=t&&n||!t&&s!=="post";let d;if(Pi){if(s==="sync"){const h=zl();d=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=ft,h.resume=ft,h.pause=ft,h}}const c=je;o.call=(h,v,w)=>rt(h,c,v,w);let g=!1;s==="post"?o.scheduler=h=>{Qe(h,c&&c.suspense)}:s!=="sync"&&(g=!0,o.scheduler=(h,v)=>{v?h():ga(h)}),o.augmentJob=h=>{t&&(h.flags|=4),g&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const u=Jo(e,t,o);return Pi&&(d?d.push(u):l&&u()),u}function Bl(e,t,i){const n=this.proxy,a=De(e)?e.includes(".")?Nr(n,e):()=>n[e]:e.bind(n,n);let s;ce(t)?s=t:(s=t.handler,i=t);const r=Ci(this),o=fa(a,s.bind(n),i);return r(),o}function Nr(e,t){const i=t.split(".");return()=>{let n=e;for(let a=0;a<i.length&&n;a++)n=n[i[a]];return n}}const Rl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${Dt(t)}Modifiers`];function Ll(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||Ne;let a=i;const s=t.startsWith("update:"),r=s&&Rl(n,t.slice(7));r&&(r.trim&&(a=i.map(c=>De(c)?c.trim():c)),r.number&&(a=i.map(Rn)));let o,l=n[o=yn(t)]||n[o=yn(Et(t))];!l&&s&&(l=n[o=yn(Dt(t))]),l&&rt(l,e,6,a);const d=n[o+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,rt(d,e,6,a)}}function kr(e,t,i=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const s=e.emits;let r={},o=!1;if(!ce(e)){const l=d=>{const c=kr(d,t,!0);c&&(o=!0,Be(r,c))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(Ae(e)&&n.set(e,null),null):(se(s)?s.forEach(l=>r[l]=null):Be(r,s),Ae(e)&&n.set(e,r),r)}function gn(e,t){return!e||!nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Dt(t))||_e(e,t))}function Ba(e){const{type:t,vnode:i,proxy:n,withProxy:a,propsOptions:[s],slots:r,attrs:o,emit:l,render:d,renderCache:c,props:g,data:u,setupState:h,ctx:v,inheritAttrs:w}=e,k=Yi(e);let C,A;try{if(i.shapeFlag&4){const O=a||n,I=O;C=mt(d.call(I,O,c,g,h,u,v)),A=o}else{const O=t;C=mt(O.length>1?O(g,{attrs:o,slots:r,emit:l}):O(g,null)),A=t.props?o:Ul(o)}}catch(O){yi.length=0,ln(O,e,1),C=ve(Ge)}let b=C;if(A&&w!==!1){const O=Object.keys(A),{shapeFlag:I}=b;O.length&&I&7&&(s&&O.some(ia)&&(A=Fl(A,s)),b=Mt(b,A,!1,!0))}return i.dirs&&(b=Mt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(i.dirs):i.dirs),i.transition&&Kt(b,i.transition),C=b,Yi(k),C}const Ul=e=>{let t;for(const i in e)(i==="class"||i==="style"||nn(i))&&((t||(t={}))[i]=e[i]);return t},Fl=(e,t)=>{const i={};for(const n in e)(!ia(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function Wl(e,t,i){const{props:n,children:a,component:s}=e,{props:r,children:o,patchFlag:l}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?Ra(n,r,d):!!r;if(l&8){const c=t.dynamicProps;for(let g=0;g<c.length;g++){const u=c[g];if(r[u]!==n[u]&&!gn(d,u))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===r?!1:n?r?Ra(n,r,d):!0:!!r;return!1}function Ra(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const s=n[a];if(t[s]!==e[s]&&!gn(i,s))return!0}return!1}function jl({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=i,t=t.parent;else break}}const Cr=e=>e.__isSuspense;function ql(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):tl(e)}const re=Symbol.for("v-fgt"),hn=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),Pn=Symbol.for("v-stc"),yi=[];let Ze=null;function f(e=!1){yi.push(Ze=e?null:[])}function Hl(){yi.pop(),Ze=yi[yi.length-1]||null}let Ti=1;function La(e,t=!1){Ti+=e,e<0&&Ze&&t&&(Ze.hasOnce=!0)}function Sr(e){return e.dynamicChildren=Ti>0?Ze||Zt:null,Hl(),Ti>0&&Ze&&Ze.push(e),e}function _(e,t,i,n,a,s){return Sr(p(e,t,i,n,a,s,!0))}function pe(e,t,i,n,a){return Sr(ve(e,t,i,n,a,!0))}function Ii(e){return e?e.__v_isVNode===!0:!1}function jt(e,t){return e.type===t.type&&e.key===t.key}const xr=({key:e})=>e??null,ji=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||Ue(e)||ce(e)?{i:Re,r:e,k:t,f:!!i}:e:null);function p(e,t=null,i=null,n=0,a=null,s=e===re?0:1,r=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xr(t),ref:t&&ji(t),scopeId:Zs,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Re};return o?(ya(l,i),s&128&&e.normalize(l)):i&&(l.shapeFlag|=De(i)?8:16),Ti>0&&!r&&Ze&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ze.push(l),l}const ve=Gl;function Gl(e,t=null,i=null,n=0,a=null,s=!1){if((!e||e===pl)&&(e=Ge),Ii(e)){const o=Mt(e,t,!0);return i&&ya(o,i),Ti>0&&!s&&Ze&&(o.shapeFlag&6?Ze[Ze.indexOf(e)]=o:Ze.push(o)),o.patchFlag=-2,o}if(ic(e)&&(e=e.__vccOpts),t){t=Vl(t);let{class:o,style:l}=t;o&&!De(o)&&(t.class=ue(o)),Ae(l)&&(ua(l)&&!se(l)&&(l=Be({},l)),t.style=nt(l))}const r=De(e)?1:Cr(e)?128:er(e)?64:Ae(e)?4:ce(e)?2:0;return p(e,t,i,n,a,r,s,!0)}function Vl(e){return e?ua(e)||fr(e)?Be({},e):e:null}function Mt(e,t,i=!1,n=!1){const{props:a,ref:s,patchFlag:r,children:o,transition:l}=e,d=t?Kl(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&xr(d),ref:t&&t.ref?i&&s?se(s)?s.concat(ji(t)):[s,ji(t)]:ji(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mt(e.ssContent),ssFallback:e.ssFallback&&Mt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Kt(c,l.clone(c)),c}function Le(e=" ",t=0){return ve(hn,null,e,t)}function W(e="",t=!1){return t?(f(),pe(Ge,null,e)):ve(Ge,null,e)}function mt(e){return e==null||typeof e=="boolean"?ve(Ge):se(e)?ve(re,null,e.slice()):Ii(e)?xt(e):ve(hn,null,String(e))}function xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mt(e)}function ya(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(se(t))i=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),ya(e,a()),a._c&&(a._d=!0));return}else{i=32;const a=t._;!a&&!fr(t)?t._ctx=Re:a===3&&Re&&(Re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:Re},i=32):(t=String(t),n&64?(i=16,t=[Le(t)]):i=8);e.children=t,e.shapeFlag|=i}function Kl(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=ue([t.class,n.class]));else if(a==="style")t.style=nt([t.style,n.style]);else if(nn(a)){const s=t[a],r=n[a];r&&s!==r&&!(se(s)&&s.includes(r))&&(t[a]=s?[].concat(s,r):r)}else a!==""&&(t[a]=n[a])}return t}function gt(e,t,i,n=null){rt(e,t,7,[i,n])}const Yl=hr();let Xl=0;function Ql(e,t,i){const n=e.type,a=(t?t.appContext:e.appContext)||Yl,s={uid:Xl++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _o(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Or(n,a),emitsOptions:kr(n,a),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:n.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Ll.bind(null,s),e.ce&&e.ce(s),s}let je=null;const Ar=()=>je||Re;let Ji,Vn;{const e=rn(),t=(i,n)=>{let a;return(a=e[i])||(a=e[i]=[]),a.push(n),s=>{a.length>1?a.forEach(r=>r(s)):a[0](s)}};Ji=t("__VUE_INSTANCE_SETTERS__",i=>je=i),Vn=t("__VUE_SSR_SETTERS__",i=>Pi=i)}const Ci=e=>{const t=je;return Ji(e),e.scope.on(),()=>{e.scope.off(),Ji(t)}},Ua=()=>{je&&je.scope.off(),Ji(null)};function Er(e){return e.vnode.shapeFlag&4}let Pi=!1;function Jl(e,t=!1,i=!1){t&&Vn(t);const{props:n,children:a}=e.vnode,s=Er(e);Pl(e,n,s,t),Sl(e,a,i);const r=s?Zl(e,t):void 0;return t&&Vn(!1),r}function Zl(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fl);const{setup:n}=i;if(n){zt();const a=e.setupContext=n.length>1?tc(e):null,s=Ci(e),r=ki(n,e,0,[e.props,a]),o=ws(r);if(Bt(),s(),(o||e.sp)&&!ni(e)&&rr(e),o){if(r.then(Ua,Ua),t)return r.then(l=>{Fa(e,l)}).catch(l=>{ln(l,e,0)});e.asyncDep=r}else Fa(e,r)}else Mr(e)}function Fa(e,t,i){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=Vs(t)),Mr(e)}function Mr(e,t,i){const n=e.type;e.render||(e.render=n.render||ft);{const a=Ci(e);zt();try{yl(e)}finally{Bt(),a()}}}const ec={get(e,t){return Fe(e,"get",""),e[t]}};function tc(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,ec),slots:e.slots,emit:e.emit,expose:t}}function pn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Vs(Wo(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in fi)return fi[i](e)},has(t,i){return i in t||i in fi}})):e.proxy}function ic(e){return ce(e)&&"__vccOpts"in e}const X=(e,t)=>Xo(e,t,Pi);function nc(e,t,i){const n=arguments.length;return n===2?Ae(t)&&!se(t)?Ii(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&Ii(i)&&(i=[i]),ve(e,t,i))}const ac="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kn;const Wa=typeof window<"u"&&window.trustedTypes;if(Wa)try{Kn=Wa.createPolicy("vue",{createHTML:e=>e})}catch{}const $r=Kn?e=>Kn.createHTML(e):e=>e,sc="http://www.w3.org/2000/svg",rc="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,ja=Ot&&Ot.createElement("template"),oc={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const a=t==="svg"?Ot.createElementNS(sc,e):t==="mathml"?Ot.createElementNS(rc,e):i?Ot.createElement(e,{is:i}):Ot.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,a,s){const r=i?i.previousSibling:t.lastChild;if(a&&(a===s||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),i),!(a===s||!(a=a.nextSibling)););else{ja.innerHTML=$r(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=ja.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,i)}return[r?r.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Pt="transition",di="animation",si=Symbol("_vtc"),Dr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zr=Be({},ir,Dr),lc=e=>(e.displayName="Transition",e.props=zr,e),cc=lc((e,{slots:t})=>nc(al,Br(e),t)),Ut=(e,t=[])=>{se(e)?e.forEach(i=>i(...t)):e&&e(...t)},qa=e=>e?se(e)?e.some(t=>t.length>1):e.length>1:!1;function Br(e){const t={};for(const L in e)L in Dr||(t[L]=e[L]);if(e.css===!1)return t;const{name:i="v",type:n,duration:a,enterFromClass:s=`${i}-enter-from`,enterActiveClass:r=`${i}-enter-active`,enterToClass:o=`${i}-enter-to`,appearFromClass:l=s,appearActiveClass:d=r,appearToClass:c=o,leaveFromClass:g=`${i}-leave-from`,leaveActiveClass:u=`${i}-leave-active`,leaveToClass:h=`${i}-leave-to`}=e,v=dc(a),w=v&&v[0],k=v&&v[1],{onBeforeEnter:C,onEnter:A,onEnterCancelled:b,onLeave:O,onLeaveCancelled:I,onBeforeAppear:$=C,onAppear:B=A,onAppearCancelled:Z=b}=t,K=(L,q,H,T)=>{L._enterCancelled=T,Nt(L,q?c:o),Nt(L,q?d:r),H&&H()},Q=(L,q)=>{L._isLeaving=!1,Nt(L,g),Nt(L,h),Nt(L,u),q&&q()},ee=L=>(q,H)=>{const T=L?B:A,S=()=>K(q,L,H);Ut(T,[q,S]),Ha(()=>{Nt(q,L?l:s),ht(q,L?c:o),qa(T)||Ga(q,n,w,S)})};return Be(t,{onBeforeEnter(L){Ut(C,[L]),ht(L,s),ht(L,r)},onBeforeAppear(L){Ut($,[L]),ht(L,l),ht(L,d)},onEnter:ee(!1),onAppear:ee(!0),onLeave(L,q){L._isLeaving=!0;const H=()=>Q(L,q);ht(L,g),L._enterCancelled?(ht(L,u),Yn()):(Yn(),ht(L,u)),Ha(()=>{L._isLeaving&&(Nt(L,g),ht(L,h),qa(O)||Ga(L,n,k,H))}),Ut(O,[L,H])},onEnterCancelled(L){K(L,!1,void 0,!0),Ut(b,[L])},onAppearCancelled(L){K(L,!0,void 0,!0),Ut(Z,[L])},onLeaveCancelled(L){Q(L),Ut(I,[L])}})}function dc(e){if(e==null)return null;if(Ae(e))return[Nn(e.enter),Nn(e.leave)];{const t=Nn(e);return[t,t]}}function Nn(e){return po(e)}function ht(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[si]||(e[si]=new Set)).add(t)}function Nt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const i=e[si];i&&(i.delete(t),i.size||(e[si]=void 0))}function Ha(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let uc=0;function Ga(e,t,i,n){const a=e._endId=++uc,s=()=>{a===e._endId&&n()};if(i!=null)return setTimeout(s,i);const{type:r,timeout:o,propCount:l}=Rr(e,t);if(!r)return n();const d=r+"end";let c=0;const g=()=>{e.removeEventListener(d,u),s()},u=h=>{h.target===e&&++c>=l&&g()};setTimeout(()=>{c<l&&g()},o+1),e.addEventListener(d,u)}function Rr(e,t){const i=window.getComputedStyle(e),n=v=>(i[v]||"").split(", "),a=n(`${Pt}Delay`),s=n(`${Pt}Duration`),r=Va(a,s),o=n(`${di}Delay`),l=n(`${di}Duration`),d=Va(o,l);let c=null,g=0,u=0;t===Pt?r>0&&(c=Pt,g=r,u=s.length):t===di?d>0&&(c=di,g=d,u=l.length):(g=Math.max(r,d),c=g>0?r>d?Pt:di:null,u=c?c===Pt?s.length:l.length:0);const h=c===Pt&&/\b(transform|all)(,|$)/.test(n(`${Pt}Property`).toString());return{type:c,timeout:g,propCount:u,hasTransform:h}}function Va(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,n)=>Ka(i)+Ka(e[n])))}function Ka(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Yn(){return document.body.offsetHeight}function gc(e,t,i){const n=e[si];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Ya=Symbol("_vod"),hc=Symbol("_vsh"),pc=Symbol(""),mc=/(^|;)\s*display\s*:/;function fc(e,t,i){const n=e.style,a=De(i);let s=!1;if(i&&!a){if(t)if(De(t))for(const r of t.split(";")){const o=r.slice(0,r.indexOf(":")).trim();i[o]==null&&qi(n,o,"")}else for(const r in t)i[r]==null&&qi(n,r,"");for(const r in i)r==="display"&&(s=!0),qi(n,r,i[r])}else if(a){if(t!==i){const r=n[pc];r&&(i+=";"+r),n.cssText=i,s=mc.test(i)}}else t&&e.removeAttribute("style");Ya in e&&(e[Ya]=s?n.display:"",e[hc]&&(n.display="none"))}const Xa=/\s*!important$/;function qi(e,t,i){if(se(i))i.forEach(n=>qi(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=yc(e,t);Xa.test(i)?e.setProperty(Dt(n),i.replace(Xa,""),"important"):e[n]=i}}const Qa=["Webkit","Moz","ms"],kn={};function yc(e,t){const i=kn[t];if(i)return i;let n=Et(t);if(n!=="filter"&&n in e)return kn[t]=n;n=Ps(n);for(let a=0;a<Qa.length;a++){const s=Qa[a]+n;if(s in e)return kn[t]=s}return t}const Ja="http://www.w3.org/1999/xlink";function Za(e,t,i,n,a,s=vo(t)){n&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(Ja,t.slice(6,t.length)):e.setAttributeNS(Ja,t,i):i==null||s&&!ks(i)?e.removeAttribute(t):e.setAttribute(t,s?"":wt(i)?String(i):i)}function es(e,t,i,n,a){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?$r(i):i);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(o!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let r=!1;if(i===""||i==null){const o=typeof e[t];o==="boolean"?i=ks(i):i==null&&o==="string"?(i="",r=!0):o==="number"&&(i=0,r=!0)}try{e[t]=i}catch{}r&&e.removeAttribute(a||t)}function Qt(e,t,i,n){e.addEventListener(t,i,n)}function Oc(e,t,i,n){e.removeEventListener(t,i,n)}const ts=Symbol("_vei");function bc(e,t,i,n,a=null){const s=e[ts]||(e[ts]={}),r=s[t];if(n&&r)r.value=n;else{const[o,l]=vc(t);if(n){const d=s[t]=Tc(n,a);Qt(e,o,d,l)}else r&&(Oc(e,o,r,l),s[t]=void 0)}}const is=/(?:Once|Passive|Capture)$/;function vc(e){let t;if(is.test(e)){t={};let n;for(;n=e.match(is);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let Cn=0;const _c=Promise.resolve(),wc=()=>Cn||(_c.then(()=>Cn=0),Cn=Date.now());function Tc(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;rt(Ic(n,i.value),t,5,[n])};return i.value=e,i.attached=wc(),i}function Ic(e,t){if(se(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Pc=(e,t,i,n,a,s)=>{const r=a==="svg";t==="class"?gc(e,n,r):t==="style"?fc(e,i,n):nn(t)?ia(t)||bc(e,t,i,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nc(e,t,n,r))?(es(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Za(e,t,n,r,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!De(n))?es(e,Et(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Za(e,t,n,r))};function Nc(e,t,i,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ns(t)&&ce(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ns(t)&&De(i)?!1:t in e}const Lr=new WeakMap,Ur=new WeakMap,Zi=Symbol("_moveCb"),as=Symbol("_enterCb"),kc=e=>(delete e.props.mode,e),Cc=kc({name:"TransitionGroup",props:Be({},zr,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Ar(),n=tr();let a,s;return lr(()=>{if(!a.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Mc(a[0].el,i.vnode.el,r))return;a.forEach(xc),a.forEach(Ac);const o=a.filter(Ec);Yn(),o.forEach(l=>{const d=l.el,c=d.style;ht(d,r),c.transform=c.webkitTransform=c.transitionDuration="";const g=d[Zi]=u=>{u&&u.target!==d||(!u||/transform$/.test(u.propertyName))&&(d.removeEventListener("transitionend",g),d[Zi]=null,Nt(d,r))};d.addEventListener("transitionend",g)})}),()=>{const r=Oe(e),o=Br(r);let l=r.tag||re;if(a=[],s)for(let d=0;d<s.length;d++){const c=s[d];c.el&&c.el instanceof Element&&(a.push(c),Kt(c,wi(c,o,n,i)),Lr.set(c,c.el.getBoundingClientRect()))}s=t.default?ha(t.default()):[];for(let d=0;d<s.length;d++){const c=s[d];c.key!=null&&Kt(c,wi(c,o,n,i))}return ve(l,null,s)}}}),Sc=Cc;function xc(e){const t=e.el;t[Zi]&&t[Zi](),t[as]&&t[as]()}function Ac(e){Ur.set(e,e.el.getBoundingClientRect())}function Ec(e){const t=Lr.get(e),i=Ur.get(e),n=t.left-i.left,a=t.top-i.top;if(n||a){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${a}px)`,s.transitionDuration="0s",e}}function Mc(e,t,i){const n=e.cloneNode(),a=e[si];a&&a.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),i.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(n);const{hasTransform:r}=Rr(n);return s.removeChild(n),r}const ss=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?i=>Fi(t,i):t};function $c(e){e.target.composing=!0}function rs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Sn=Symbol("_assign"),Oi={created(e,{modifiers:{lazy:t,trim:i,number:n}},a){e[Sn]=ss(a);const s=n||a.props&&a.props.type==="number";Qt(e,t?"change":"input",r=>{if(r.target.composing)return;let o=e.value;i&&(o=o.trim()),s&&(o=Rn(o)),e[Sn](o)}),i&&Qt(e,"change",()=>{e.value=e.value.trim()}),t||(Qt(e,"compositionstart",$c),Qt(e,"compositionend",rs),Qt(e,"change",rs))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:n,trim:a,number:s}},r){if(e[Sn]=ss(r),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?Rn(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===i||a&&e.value.trim()===l)||(e.value=l))}},Dc=["ctrl","shift","alt","meta"],zc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dc.some(i=>e[`${i}Key`]&&!t.includes(i))},Oa=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=(a,...s)=>{for(let r=0;r<t.length;r++){const o=zc[t[r]];if(o&&o(a,t))return}return e(a,...s)})},Bc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fr=(e,t)=>{const i=e._withKeys||(e._withKeys={}),n=t.join(".");return i[n]||(i[n]=a=>{if(!("key"in a))return;const s=Dt(a.key);if(t.some(r=>r===s||Bc[r]===s))return e(a)})},Rc=Be({patchProp:Pc},oc);let os;function Lc(){return os||(os=Al(Rc))}const Uc=(...e)=>{const t=Lc().createApp(...e),{mount:i}=t;return t.mount=n=>{const a=Wc(n);if(!a)return;const s=t._component;!ce(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=i(a,!1,Fc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t};function Fc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Wc(e){return De(e)?document.querySelector(e):e}class jc{constructor(){N(this,"connectablesByName",new Map);N(this,"establishedConnections",new Map)}}class qc{constructor(t,i,n){N(this,"target");N(this,"type");N(this,"inputName");if(this.target=t,this.type=i,i===6&&!n)throw new Error("inputName is required for NAMED_INPUT connection type.");this.inputName=n}}var Ie=(e=>(e[e.ADD=1]="ADD",e[e.SUB=2]="SUB",e[e.MULTY=3]="MULTY",e[e.DIV=4]="DIV",e[e.FORMULA=5]="FORMULA",e[e.NAMED_INPUT=6]="NAMED_INPUT",e))(Ie||{});class Hi{constructor(t){N(this,"name");N(this,"add",0);N(this,"multi",[]);N(this,"divSources",[]);N(this,"multiCache",1);N(this,"value",0);this.name=t}}class Wr{constructor(t,i=0){N(this,"name");N(this,"value",0);N(this,"independent",!0);this.name=t,this.value=i}}class jr{constructor(t,i){N(this,"name");N(this,"value",0);N(this,"argument",0);N(this,"formula");this.name=t,this.formula=i,this.value=this.formula(this.argument)}}class xn{constructor(t,i,n){N(this,"name");N(this,"value",0);N(this,"inputs",{});N(this,"formula");this.name=t,this.formula=i,n&&(this.inputs={...n}),this.value=this.formula(this.inputs)}}class Hc{constructor(){N(this,"characters",new Map);N(this,"isLoaded",!1)}loadCharacters(t,i){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n],s={id:n,name:a.name,gender:a.gender,initialLevel:a.initialLevel,baseUpkeep:a.baseUpkeep,bio:a.bio||"",fullImage:a.fullImage,location:a.location,portraitImage:a.portraitImage,initialAttributes:a.initialAttributes,initialSkills:a.initialSkills||{},triggerOnCreated:a.triggerOnCreated,keywords:a.keywords};this.characters.has(n)&&console.warn(`CharacterLib: Duplicate character ID "${n}" found. Overwriting with data from ${i||"current source"}.`),this.characters.set(n,s)}this.isLoaded=!0}getCharacter(t){return this.characters.get(t)}values(){return this.characters.values()}}const Gc={physique:{displayName:"Physique",description:"Concerns the capabilities of the body.",attributes:{strength:{displayName:"Strength",description:"Physical power, lifting capacity, and melee impact."},agility:{displayName:"Agility",description:"Speed, reaction time, coordination, and fine motor skills."},constitution:{displayName:"Constitution",description:"Health; resilience to damage, illness or toxins."},senses:{displayName:"Senses",description:"Awareness; effectiveness of sight, hearing, smell and touch."}}},spirit:{displayName:"Spirit",description:"Relates to magical aptitude.",attributes:{attunement:{displayName:"Attunement",description:"Connect with and draw upon various magical sources."},channeling:{displayName:"Channeling",description:"The raw amount of magical energy that can be harnessed and directed."},weaving:{displayName:"Weaving",description:"Precision and finesse in shaping magical energies."},resilience:{displayName:"Resilience",description:"Fortitude against magical influence and stress."}}},mind:{displayName:"Mind",description:"Encompasses intellectual and cognitive faculties.",attributes:{knowledge:{displayName:"Knowledge",description:"Accumulated learning, facts, and general erudition."},wisdom:{displayName:"Wisdom",description:"Sound judgment, foresight, and intuition."},ingenuity:{displayName:"Ingenuity",description:"Creativity, problem-solving, and logical reasoning."},willpower:{displayName:"Willpower",description:"Ability to maintain attention, multitask, and persevere through challenges."}}},social:{displayName:"Social",description:"Concerns social interactions.",attributes:{composure:{displayName:"Composure",description:"Conceal true feelings, and maintain a facade."},charisma:{displayName:"Charisma",description:"Innate personal magnetism and influence."},empathy:{displayName:"Empathy",description:"Understand and share the feelings or perspectives of others."},authority:{displayName:"Authority",description:"Inspire, direct, organize, and gain authority within groups."}}}};class Vc{constructor(){N(this,"attributes",{});this.loadAttributes()}loadAttributes(){this.attributes=Gc}getAttributeDefinitions(){return this.attributes}getAttributeDefinition(t,i){var n;return(n=this.attributes[t])==null?void 0:n.attributes[i]}getCategoryDefinition(t){return this.attributes[t]}}const ls={melee_combat:{displayName:"Melee Combat",description:"Fighting hand-to-hand with weapons",attribute:"physique",governedBy:["strength","agility"],assistedBy:["constitution","senses"],specializations:{one_handed_blades:{displayName:"One-Handed Blades",description:"Swords, Daggers, Scimitars"},one_handed_impact:{displayName:"One-Handed Impact",description:"Maces, Hammers, Axes"},two_handed_weapons:{displayName:"Two-Handed Weapons",description:"Greatswords, Greataxes, Mauls"},polearms:{displayName:"Polearms",description:"Spears, Halberds, Glaives"},flails_and_chains:{displayName:"Flails & Chains",description:"Weapons requiring specific momentum control"}}},ranged_combat:{displayName:"Ranged Combat",description:"Fighting from a distance with projectile weapons",attribute:"physique",governedBy:["agility","senses"],assistedBy:["strength","constitution"],specializations:{archery:{displayName:"Archery",description:"Longbows, Shortbows"},crossbows:{displayName:"Crossbows",description:"Light, Heavy, Repeating"},throwing_weapons:{displayName:"Throwing Weapons",description:"Daggers, Axes, Javelins, Slings"},siege_weaponry:{displayName:"Siege Weaponry",description:"Ballistae, Catapults (basic aiming/firing)"}}},unarmed_combat:{displayName:"Unarmed Combat",description:"Fighting without weapons",attribute:"physique",governedBy:["strength","agility"],assistedBy:["constitution","senses"],specializations:{striking:{displayName:"Striking",description:"Punches, Kicks, Elbows, Knees"},grappling:{displayName:"Grappling",description:"Holds, Throws, Joint Locks, Pins"},improvised_weaponry:{displayName:"Improvised Weaponry",description:"Using chairs, bottles, tools effectively in a fight"}}},defense:{displayName:"Defense",description:"Actively avoiding or mitigating harm",attribute:"physique",governedBy:["agility","senses"],assistedBy:["constitution","strength"],specializations:{dodging:{displayName:"Dodging",description:"Evading attacks through movement and positioning"},parrying:{displayName:"Parrying",description:"Deflecting blows with a weapon or item"},shields:{displayName:"Shields",description:"Effectively blocking, bashing, and covering with shields"},armor:{displayName:"Armor",description:"Effectively wearing and maneuvering in protective gear"}}},athletics:{displayName:"Athletics",description:"General physical movement and capability",attribute:"physique",governedBy:["agility","strength"],assistedBy:["constitution"],specializations:{running:{displayName:"Running",description:"Speed and short-burst endurance"},climbing:{displayName:"Climbing",description:"Scaling walls, cliffs, trees; rappelling techniques, effective use of grappling hooks"},swimming:{displayName:"Swimming",description:"Effective movement through water, diving, breath control, navigating currents"},jumping:{displayName:"Jumping",description:"Leaping gaps or over obstacles"}}},acrobatics:{displayName:"Acrobatics",description:"Feats of balance, coordination, and flexibility",attribute:"physique",governedBy:["agility"],assistedBy:["senses","constitution"],specializations:{balance:{displayName:"Balance",description:"Walking tightropes, navigating narrow ledges"},tumbling:{displayName:"Tumbling",description:"Rolling, controlled falls, diving through obstacles"},escapology:{displayName:"Escapology",description:"Slipping bonds, contorting through small spaces"},parkour:{displayName:"Parkour",description:"Swift city traversal, rooftop navigation"}}},hardiness:{displayName:"Hardiness",description:"Physical resilience and endurance",attribute:"physique",governedBy:["constitution","resilience"],assistedBy:["willpower"],specializations:{pain_tolerance:{displayName:"Pain Tolerance",description:"Resisting effects of wounds, torture, or strain"},stamina:{displayName:"Stamina",description:"Resisting fatigue from prolonged exertion (marching, labor)"},acclimatization:{displayName:"Acclimatization",description:"Thrive in heat, cold and harsh weather"},immunity:{displayName:"Immunity",description:"Natural fortitude against toxins and sickness"}}},stealth:{displayName:"Stealth",description:"Moving and hiding without being detected",attribute:"physique",governedBy:["agility","senses"],assistedBy:["willpower","composure"],specializations:{sneaking:{displayName:"Sneaking",description:"Moving silently across various surfaces"},hiding:{displayName:"Hiding",description:"Utilizing shadows, cover, and stillness effectively"},camouflage:{displayName:"Camouflage",description:"Blending into specific environments (urban, forest, snow)"}}},legerdemain:{displayName:"Legerdemain",description:"Manual dexterity for subtle manipulation",attribute:"physique",governedBy:["agility","senses"],assistedBy:["ingenuity","composure"],specializations:{sleight_of_hand:{displayName:"Sleight of Hand",description:"Pickpocketing, planting items, palming objects, cheating"},lockpicking:{displayName:"Lockpicking",description:"Bypassing mechanical locks and simple mechanisms"},trap_handling:{displayName:"Trap Handling",description:"Identifying, disarming, and setting simple physical traps"}}},perception:{displayName:"Perception",description:"Using senses to gather information",attribute:"physique",governedBy:["senses"],assistedBy:["wisdom","willpower"],specializations:{eagle_eye:{displayName:"Eagle Eye",description:"Spotting details at distance, noticing slight movements"},bat_ear:{displayName:"Bat's Ear",description:"Detecting faint sounds, eavesdropping, identifying sounds"},wolf_nose:{displayName:"Wolf's Nose",description:"Identifying scents, tracking by smell"},serpent_skin:{displayName:"Serpent's Skin",description:"Reading surfaces through touch, detecting temperature changes and vibrations"},synesthesia:{displayName:"Synesthesia",description:"Experiencing blended senses, revealing truths through unconventional sensory input"}}},riding:{displayName:"Riding",description:"Skillfully controlling mounts for travel and combat maneuvering",attribute:"physique",governedBy:["agility","empathy"],assistedBy:["strength","constitution","authority"],specializations:{equine_mounts:{displayName:"Equine Mounts",description:"Mastery of riding horses, zebras, unicorns, and similar quadrupeds"},avian_mounts:{displayName:"Avian Mounts",description:"Handling the complexities of flight and control aboard griffins, rocs, phoenixes"},exotic_mounts:{displayName:"Exotic Mounts",description:"Adapting riding techniques for wolves, lizards, boars, manticores, or even dragons"},mounted_combat:{displayName:"Mounted Combat",description:"Fighting effectively while mounted"}}},labor:{displayName:"Labor",description:"Performing strenuous physical work",attribute:"physique",governedBy:["strength","constitution"],assistedBy:["willpower"],specializations:{mining:{displayName:"Mining",description:"Extracting ore and stone"},woodcutting:{displayName:"Woodcutting",description:"Felling trees and processing wood"},farming:{displayName:"Farming",description:"Ploughing, planting, harvesting crops"},construction:{displayName:"Construction",description:"Heavy lifting, digging foundations, basic building tasks"},hauling:{displayName:"Hauling",description:"Moving heavy loads over distances"}}},artisanry:{displayName:"Artisanry",description:"Creating practical goods and structures",attribute:"physique",governedBy:["agility","strength"],assistedBy:["knowledge","ingenuity"],specializations:{smithing:{displayName:"Smithing",description:"Working metal: forging, tempering, repair"},woodworking:{displayName:"Woodworking",description:"Carpentry, carving, fletching, bowyery"},leatherworking:{displayName:"Leatherworking",description:"Preparing hides, crafting leather goods"},tailoring:{displayName:"Tailoring",description:"Creating clothing, banners, sails"},masonry:{displayName:"Masonry",description:"Working with stone for building or sculpting"}}},life_magic:{displayName:"Life Magic",description:"Harnessing positive energy to heal, protect, and bless",attribute:"spirit",governedBy:["attunement","weaving"],assistedBy:["empathy","resilience","channeling"],specializations:{restoration:{displayName:"Restoration",description:"Healing wounds, curing diseases and poisons"},protection:{displayName:"Protection",description:"Creating wards and shields against harm"},blessings:{displayName:"Blessings",description:"Imbuing allies with strength, speed, or fortitude"},spirit_bonding:{displayName:"Spirit Bonding",description:"Establishing and maintaining the empathetic link with a dedicated magical familiar creature"},anti_undead:{displayName:"Anti-Undead",description:"Channeling energy harmful to undead creatures"}}},nature_magic:{displayName:"Nature Magic",description:"Drawing power from the natural world",attribute:"spirit",governedBy:["attunement","weaving","channeling"],assistedBy:["wisdom","empathy","authority"],specializations:{verdant_call:{displayName:"Verdant Call",description:"Influencing plant growth, entangling foes"},beast_tongue:{displayName:"Beast Tongue",description:"Summoning, communicating with, or calming beasts"},sky_dance:{displayName:"Sky dance",description:"Foreseeing weather and guiding wind, fog, and rain"},terramancy:{displayName:"Terramancy",description:"Shaping earth and stone for shelter or obstacles, leveraging ley lines"},bloom:{displayName:"Bloom",description:"Fostering natural revitalization, enhancing vigor"}}},chaos_magic:{displayName:"Chaos Magic",description:"Tapping into entropic forces, destruction, and fire",attribute:"spirit",governedBy:["attunement","channeling"],assistedBy:["resilience","willpower"],specializations:{unraveling:{displayName:"Unraveling",description:"Unleashing bolts of raw energy, causing decay or explosions"},twisting_fate:{displayName:"Twisting Fate",description:"Influencing chance, causing misfires or critical successes"},infernal_summoning:{displayName:"Infernal Summoning",description:"Calling forth imps, demons, or other chaotic beings"}}},death_magic:{displayName:"Death Magic",description:"Mastery over negative energy, undeath, and decay",attribute:"spirit",governedBy:["attunement","channeling","authority"],assistedBy:["willpower","knowledge"],specializations:{necromancy:{displayName:"Necromancy",description:"Animating corpses and skeletons, controlling undead"},afflictions:{displayName:"Afflictions",description:"Spreading disease and decay, that wither body and spirit"},spectral_mastery:{displayName:"Spectral Mastery",description:"Communicating with, binding, or banishing ghosts and spirits"},shadowmancy:{displayName:"Shadowmancy",description:"Conjuring darkness, inciting terror, siphoning light"}}},order_magic:{displayName:"Order Magic",description:"Utilizing structured patterns for enhancement, illusion, and control",attribute:"spirit",governedBy:["willpower","weaving"],assistedBy:["resilience","channeling"],specializations:{augmentation:{displayName:"Augmentation",description:"Improving attributes or granting temporary abilities"},illusions:{displayName:"Illusions",description:"Creating phantasms, disguising appearances, masking sounds"},mentalism:{displayName:"Mentalism",description:"Telepathy, suggestion, controlling minds"},spatial_warping:{displayName:"Spatial Warping",description:"Teleportation, creating dimensional pockets, astral projections"},abjuration:{displayName:"Abjuration",description:"Dispelling magic, creating barriers against magic"}}},elemental_magic:{displayName:"Elemental Magic",description:"Direct command over Air, Earth, Fire, and Water",attribute:"spirit",governedBy:["attunement","channeling"],assistedBy:["resilience","knowledge"],specializations:{aeromancy:{displayName:"Aeromancy",description:"Controlling winds, conjuring lightning, flight"},geomancy:{displayName:"Geomancy",description:"Shaping earth and stone, causing tremors, earth armor"},hydromancy:{displayName:"Hydromancy",description:"Manipulating water and ice, creating fog"},pyromancy:{displayName:"Pyromancy",description:"Raw fire control, distinct from Chaos's destructive focus"},harmony:{displayName:"Harmony",description:"Balancing and combining elementals into a unified whole"},elemental_summoning:{displayName:"Elemental Summoning",description:"Calling forth Air, Earth, Fire, or Water elementals"}}},magical_lore:{displayName:"Magical Lore",description:"Theoretical knowledge of magical principles and history",attribute:"spirit",governedBy:["knowledge"],assistedBy:["attunement","resilience"],specializations:{arcane_sight:{displayName:"Arcane Sight",description:"Recognizing spells being cast or their lingering effects"},arcane_principles:{displayName:"Arcane Principles",description:"Understanding fundamental laws and interactions of magic"},arcane_history:{displayName:"Arcane History",description:"Knowledge of traditions, artifacts, historical wizards"},magical_item_analysis:{displayName:"Magical Item Analysis",description:"Discerning properties and function of enchanted objects"},monster_lore:{displayName:"Monster Lore",description:"Knowledge of magical beasts, elementals, undead, abominations etc"},cosmology:{displayName:"Cosmology",description:"Understanding other dimensions and planes, interdimensional travel"},runes:{displayName:"Runes",description:"Deciphering magical scripts, symbols, and glyphs"}}},divination:{displayName:"Divination",description:"Perceiving things beyond the normal senses",attribute:"spirit",governedBy:["attunement","weaving"],assistedBy:["wisdom","resilience","channeling"],specializations:{precognition:{displayName:"Precognition",description:"Receiving glimpses of potential futures"},retrocognition:{displayName:"Retrocognition",description:"Sensing the history of an object through touch"},clairvoyance:{displayName:"Clairvoyance",description:"Perceiving events or sounds remotely"},psychometry:{displayName:"Psychometry",description:"Perceiving the magical or emotional state of beings/places"}}},alchemy:{displayName:"Alchemy",description:"Transmuting substances and brewing potent concoctions",attribute:"spirit",governedBy:["ingenuity","knowledge"],assistedBy:["attunement","weaving","agility","senses"],specializations:{potions:{displayName:"Potions",description:"Creating consumables with magical or curative effects"},toxicology:{displayName:"Toxicology",description:"Crafting poisons, acids, and their antidotes"},mutagenesis:{displayName:"Mutagenesis",description:"Creating elixirs that induce physical changes (risky)"},incendiaries:{displayName:"Incendiaries",description:"Crafting bombs, fire concoctions, corrosive substances"},transmutation:{displayName:"Transmutation",description:"Altering the nature of a substance"}}},enchanting:{displayName:"Enchanting",description:"Infusing existing objects or scrolls with magical power",attribute:"spirit",governedBy:["weaving","channeling"],assistedBy:["resilience","agility"],specializations:{armament_enchanting:{displayName:"Armament Enchanting",description:"Adding magical properties to gear"},imbuing:{displayName:"Imbuing",description:"Creating magical trinkets (rings, amulets) with effects"},scribing:{displayName:"Scribing",description:"Transferring spell energy into readable scrolls"},implement_crafting:{displayName:"Implement Crafting",description:"Creating wands, staves, or orbs to channel magic"},binding:{displayName:"Binding",description:"The magical step of animating constructs"}}},spellcraft:{displayName:"Spellcraft",description:"Analyzing, modifying, and designing spell formulae and magical effects",attribute:"mind",governedBy:["ingenuity","knowledge"],assistedBy:["weaving","willpower"],specializations:{spell_shaping:{displayName:"Spell Shaping",description:"Modifying the spell's parameters, area of effect, delivery method, and targeting specifications"},synergistic_casting:{displayName:"Synergistic Casting",description:"Exploiting interactions between different magical effects"},counter_spelling:{displayName:"Counter-Spelling",description:"Techniques to disrupt, negate, or redirect identified incoming spells"},spell_analysis:{displayName:"Spell Analysis",description:"Deconstructing observed spells into their function, triggers, components, and potential weaknesses"}}},lore:{displayName:"Lore",description:"General knowledge and academic understanding",attribute:"mind",governedBy:["knowledge"],assistedBy:["wisdom"],specializations:{history:{displayName:"History",description:"Knowledge of past events, dynasties, wars, fallen empires"},customs:{displayName:"Customs",description:"Traditions, laws, social structures"},geography:{displayName:"Geography",description:"Regions, terrain, landmarks, settlements; map making/reading"},mythology:{displayName:"Mythology",description:"Understanding deities, religious practices, myths, legends"},bestiary:{displayName:"Bestiary",description:"Knowledge of animals - their habitats, habits, and weaknesses"},agriculture:{displayName:"Agriculture",description:"Identifying plants, farming techniques, crop cycles"},philosophy:{displayName:"Philosophy",description:"Schools of thought, logical arguments, academic procedures"},critique:{displayName:"Critique",description:"Understanding artistic styles, history, and significance"}}},memory:{displayName:"Memory",description:"The ability to accurately retain, recall, and organize information.",attribute:"mind",governedBy:["knowledge","willpower"],assistedBy:["ingenuity","senses"],specializations:{eidetic_ecall:{displayName:"Eidetic Recall",description:"Accurate recall of visual details and imagery previously observed."},auditory_memory:{displayName:"Auditory Memory",description:"Accurate recall of sounds, voices, conversations, and musical patterns."},sequential_memory:{displayName:"Sequential Memory",description:"Remembering sequences of events, instructions, and procedures in the correct order"},associative_memory:{displayName:"Associative Memory",description:"Linking related pieces of information, facts, or memories, even if disparate"},mental_mapping:{displayName:"Mental Mapping",description:"Creating and recalling detailed spatial layouts"}}},meditation:{displayName:"Meditation",description:"Practices for achieving mental clarity, focus, self-control, and heightened awareness",attribute:"mind",governedBy:["willpower","resilience"],assistedBy:["constitution","attunement"],specializations:{introspection:{displayName:"Introspection",description:"Self-awareness; understanding one's own biases, emotional states, and thought processes"},mana_conservation:{displayName:"Mana Conservation",description:"Mental techniques and breathing exercises to reduce the expenditure of magical energy."},occlumency:{displayName:"Occlumency",description:"Active mental defenses against telepathic intrusion or emotional manipulation"},oneiromancy:{displayName:"Oneiromancy",description:"Achieving lucidity within dreams, influencing dream content, and navigating shared dreamscapes"},emotional_regulation:{displayName:"Emotional Regulation",description:"Processing feelings while maintaining behavioral control"}}},investigation:{displayName:"Investigation",description:"Gathering clues and uncovering secrets",attribute:"mind",governedBy:["ingenuity"],assistedBy:["wisdom","willpower","authority"],specializations:{forensics:{displayName:"Forensics",description:"Scene examination, Careful collection, Interpreting evidence"},interviewing:{displayName:"Interviewing",description:"Extracting information via questioning and observation"},archive_delving:{displayName:"Archive Delving",description:"Sifting through archives, libraries, records"},information_brokering:{displayName:"Information Brokering",description:"Cultivating informant networks, understanding information flow"},counter_forgery:{displayName:"Counter-forgery",description:"Identifying counterfeit documents, coins, or artifacts"}}},analysis_and_logic:{displayName:"Analysis & Logic",description:"Reasoning and problem-solving",attribute:"mind",governedBy:["ingenuity","wisdom"],assistedBy:["willpower"],specializations:{deductive_reasoning:{displayName:"Deductive Reasoning",description:"Drawing specific conclusions from general principles"},inductive_reasoning:{displayName:"Inductive Reasoning",description:"Forming general theories from specific observations"},pattern_recognition:{displayName:"Pattern Recognition",description:"Identifying recurring sequences, codes, behaviors"},puzzle_solving:{displayName:"Puzzle Solving",description:"Overcoming logical traps, riddles, complex mechanisms"},cryptography:{displayName:"Cryptography",description:"Deciphering codes, ciphers, hidden messages"}}},strategy_and_tactics:{displayName:"Strategy & Tactics",description:"Planning and directing coordinated efforts",attribute:"mind",governedBy:["wisdom","ingenuity"],assistedBy:["willpower","authority"],specializations:{battlefield_tactics:{displayName:"Battlefield Tactics",description:"Maneuvering forces, exploiting terrain, countering moves"},logistics:{displayName:"Logistics",description:"Managing supply lines, resource allocation, movement"},siegecraft:{displayName:"Siegecraft",description:"Planning assault or defense of fortified positions"},management:{displayName:"Management",description:"Structuring groups, delegating tasks, ensuring efficiency"},risk_assessment:{displayName:"Risk Assessment",description:"Evaluating dangers and benefits of courses of action"}}},medicine:{displayName:"Medicine",description:"Non-magical healing and biological knowledge",attribute:"mind",governedBy:["knowledge","ingenuity"],assistedBy:["wisdom","agility"],specializations:{first_aid:{displayName:"First Aid",description:"Immediate treatment of wounds, stabilization"},hygiene:{displayName:"Hygiene",description:"Fend off rot, decay and earthly ailments"},surgery:{displayName:"Surgery",description:"Performing invasive procedures to repair damage"},diagnostics:{displayName:"Diagnostics",description:"Identifying illnesses, poisons, deficiencies"},pharmacology:{displayName:"Pharmacology",description:"Understanding medicinal herbs, minerals, compounds"},physiology:{displayName:"Physiology",description:"Knowledge of how bodies function"}}},artistry:{displayName:"Artistry",description:"Creating works of aesthetic value through fine manual skill and creative vision",attribute:"mind",governedBy:["agility","senses"],assistedBy:["ingenuity","composure"],specializations:{lapidary_arts:{displayName:"Lapidary Arts",description:"Creating fine jewelry, cutting and setting gemstones"},calligraphy:{displayName:"Calligraphy",description:"Producing aesthetically pleasing lettering for documents, scrolls, or inscriptions"},painting:{displayName:"Painting",description:"Creating visual art on surfaces using pigments; mastering composition and color theory"},sculpture:{displayName:"Sculpture",description:"Creating three-dimensional art by shaping materials like stone, wood, clay, or metal"}}},engineering:{displayName:"Engineering",description:"Design and construction of complex systems",attribute:"mind",governedBy:["ingenuity","knowledge"],assistedBy:["wisdom"],specializations:{architecture:{displayName:"Architecture",description:"Designing buildings and structures for stability"},clockwork:{displayName:"Clockwork",description:"Creating gears, clockwork, complex traps"},civil_engineering:{displayName:"Civil Engineering",description:"Designing bridges, roads, irrigation"},hydraulics:{displayName:"Hydraulics",description:"Using water to power mechanisms, designing waterways"}}},pedagogy:{displayName:"Pedagogy",description:"Teaching and imparting knowledge effectively",attribute:"mind",governedBy:["knowledge","empathy"],assistedBy:["charisma"],specializations:{training:{displayName:"Training",description:"Teaching practical abilities"},tutoring:{displayName:"Tutoring",description:"Explaining complex theories, history, lore"},mentorship:{displayName:"Mentorship",description:"Guiding long-term development of an individual"},curriculum_design:{displayName:"Curriculum Design",description:"Structuring lessons or training programs"}}},linguistics:{displayName:"Linguistics",description:"Understanding and using languages",attribute:"mind",governedBy:["knowledge","ingenuity"],assistedBy:["Willpower"],specializations:{polyglot:{displayName:"Polyglot",description:"Proficiency in multiple languages"},translation:{displayName:"Translation",description:"Accurately converting spoken or written language"},ancient_languages:{displayName:"Ancient Languages",description:"Focus on dead or rare tongues"},grammar:{displayName:"Grammar",description:"Understanding principles of language"},dialects:{displayName:"Dialects",description:"Understanding regional variations, slang, common speech"}}},navigation:{displayName:"Navigation",description:"Finding one's way and planning routes",attribute:"mind",governedBy:["wisdom","senses"],assistedBy:["knowledge"],specializations:{cartography:{displayName:"Cartography",description:"Interpreting and creating maps and charts"},star_guiding:{displayName:"Star Guiding",description:"Using stars, sun, and moon for direction"},pathfinding:{displayName:"Pathfinding",description:"Using terrain, wind, animal behavior to find the way"},route_planning:{displayName:"Route Planning",description:"Calculating travel times, identifying hazards, calculating provisions"}}},obfuscation:{displayName:"Obfuscation",description:"Actively concealing information, actions, or identities",attribute:"mind",governedBy:["composure","empathy"],assistedBy:["ingenuity"],specializations:{forgery:{displayName:"Forgery",description:"Creating convincing fake documents, items, or signatures"},misdirection:{displayName:"Misdirection",description:"Diverting attention from the truth or key actions"},scene_scrubbing:{displayName:"Scene Scrubbing",description:"Removing traces of presence or activity from a location"},cover_stories:{displayName:"Cover Stories",description:"Constructing believable accounts of whereabouts"}}},provisions:{displayName:"Provisions",description:"Preparing and managing food and drink",attribute:"mind",governedBy:["knowledge","senses"],assistedBy:["empathy"],specializations:{butchery:{displayName:"Butchery",description:"Dressing carcasses and preparing cuts of meat"},dairying:{displayName:"Dairying",description:"Producing cheese, butter, yogurt, and other dairy products"},cooking:{displayName:"Cooking",description:"Preparing well-rounded meals for sustenance and morale"},baking_pastry:{displayName:"Baking & Pastry",description:"Preparing breads, pies, pastries, and other baked goods"},fermentation_distillation:{displayName:"Fermentation & Distillation",description:"Creating beers, wines, meads, and stronger spirits"},preservation:{displayName:"Preservation",description:"Salting, smoking, pickling, drying foods for storage"},refined_palate:{displayName:"Refined Palate",description:"Identifying ingredients, judging the quality of food and drink"}}},survival:{displayName:"Survival",description:"Enduring and navigating natural environments",attribute:"mind",governedBy:["wisdom","constitution"],assistedBy:["knowledge","senses"],specializations:{shelter_craft:{displayName:"Shelter Craft",description:"Building temporary protection from the elements"},fire_starting:{displayName:"Fire Starting",description:"Creating fire reliably in various conditions"},foraging:{displayName:"Foraging",description:"Finding edible plants/fungi"},hunting:{displayName:"Hunting",description:"Tracking and catching game"},water_procurement:{displayName:"Water Procurement",description:"Finding and purifying drinkable water"},hazard_recognition:{displayName:"Hazard Recognition",description:"Identifying dangerous plants, animals, terrain, weather signs"}}},persuasion:{displayName:"Persuasion",description:"Influencing through reason, charm, or appeal",attribute:"social",governedBy:["charisma","empathy"],assistedBy:["wisdom"],specializations:{bargaining:{displayName:"Bargaining",description:"Haggling over prices, terms, or favors"},oratory:{displayName:"Oratory",description:"Public speaking designed to sway crowds or individuals"},witty_repartee:{displayName:"Witty Repartee",description:"Using quick wit and charm to gain temporary advantage"},formal_debate:{displayName:"Formal Debate",description:"Engaging in structured arguments"},seduction:{displayName:"Seduction",description:"Using charm, allure, and understanding of desire to influence someone romantically or gain favor"},conflict_resolution:{displayName:"Conflict Resolution",description:"Mediating disputes between parties, facilitating negotiation"}}},deception:{displayName:"Deception",description:"Misleading others and maintaining falsehoods",attribute:"social",governedBy:["composure","ingenuity"],assistedBy:["charisma","empathy"],specializations:{bluffing:{displayName:"Bluffing",description:"Presenting a false front of strength, knowledge, or intent"},lying:{displayName:"Lying",description:"Crafting believable falsehoods"},disguise:{displayName:"Disguise",description:"Altering appearance effectively to mislead or impersonate"},impersonation:{displayName:"Impersonation",description:"Mimicking speech, mannerisms, and behavior"}}},intimidation:{displayName:"Intimidation",description:"Influencing through fear, presence, or threats",attribute:"social",governedBy:["charisma","composure"],assistedBy:["strength","willpower"],specializations:{coercion:{displayName:"Coercion",description:"Using threats of harm or consequence"},presence:{displayName:"Presence",description:"Projecting an aura of danger or authority"},interrogation:{displayName:"Interrogation",description:"Extracting information or compliance through pain"},extortion_blackmail:{displayName:"Extortion & Blackmail",description:"Leveraging secrets, threats, or vulnerabilities to coerce compliance or payment"}}},leadership:{displayName:"Leadership",description:"Inspiring, directing, and organizing groups",attribute:"social",governedBy:["authority","charisma"],assistedBy:["willpower","wisdom"],specializations:{motivation:{displayName:"Motivation",description:"Rallying allies, boosting morale, giving rousing speeches"},command:{displayName:"Command",description:"Giving clear orders in stressful situations"},delegation:{displayName:"Delegation",description:"Assigning tasks effectively based on ability"},team_building:{displayName:"Team Building",description:"Fostering cooperation and loyalty within a group"},discipline:{displayName:"Discipline",description:"Enforcing rules and order"},recruitment:{displayName:"Recruitment",description:"Identifying suitable candidates, and persuading individuals to join a group or cause"}}},insight:{displayName:"Insight",description:"Understanding people and social dynamics",attribute:"social",governedBy:["empathy","wisdom"],assistedBy:["senses","composure"],specializations:{reading_emotions:{displayName:"Reading Emotions",description:"Discerning true feelings beneath a facade"},detecting_lies:{displayName:"Detecting Lies",description:"Identifying deception through verbal/non-verbal cues"},motive_analysis:{displayName:"Motive Analysis",description:"Understanding WHY someone acts the way they do"},social_prediction:{displayName:"Social Prediction",description:"Anticipating reactions in social encounters"},profiling:{displayName:"Profiling",description:"Building a mental picture of someone based on observation"},group_dynamics:{displayName:"Group Dynamics",description:"Understanding group behavior, informal hierarchies, mob mentality and team cohesion"}}},etiquette:{displayName:"Etiquette",description:"Navigating formal social structures",attribute:"social",governedBy:["knowledge","composure"],assistedBy:["authority"],specializations:{noble_courts:{displayName:"Noble Courts",description:"Navigating high society, formal occasions, precedence"},mages_guild_protocols:{displayName:"Mages Guild Protocols",description:"Hierarchies, debate forms, arcane greetings"},workshop_lingo:{displayName:"Workshop Lingo",description:"Technical jargon, project proposals, innovation respect"},merchant_guild_practices:{displayName:"Merchant Guild Practices",description:"Negotiation styles, contract norms, trade routes"},guard_regime:{displayName:"Guard Regime",description:"Legal procedures, reporting structures, addressing officials"},underworld_codes:{displayName:"Underworld Codes",description:"Thieves' cant, gang signs, territory respect"},temple_rites_observances:{displayName:"Temple Rites & Observances",description:"Addressing clergy, sacred space conduct, ritual participation"}}},performance:{displayName:"Performance",description:"Engaging or influencing through artistic expression",attribute:"social",governedBy:["charisma","agility"],assistedBy:["composure","empathy"],specializations:{acting:{displayName:"Acting",description:"Assuming roles, portraying emotions convincingly"},musical_instruments:{displayName:"Musical Instruments",description:"Proficiency with a variety of instruments"},singing:{displayName:"Singing",description:"Vocal performance"},storytelling:{displayName:"Storytelling",description:"Captivating an audience with narratives"},dancing:{displayName:"Dancing",description:"Expressive or ritualistic movement"},comedy:{displayName:"Comedy",description:"Using wit, timing, and delivery to entertain and amuse an audience"}}},streetwise:{displayName:"Streetwise",description:"Navigating informal and underground social networks",attribute:"social",governedBy:["empathy","wisdom"],assistedBy:["composure","charisma"],specializations:{gathering_rumors:{displayName:"Gathering Rumors",description:"Tapping into the local gossip network"},underworld_navigation:{displayName:"Underworld Navigation",description:"Knowing contacts, safe houses, black markets"},urban_survival:{displayName:"Urban Survival",description:"Finding necessities, avoiding trouble in rough areas"},gang_affiliations:{displayName:"Gang Affiliations",description:"Understanding local power structures among criminals"},gambling:{displayName:"Gambling",description:"Playing games of chance, reading opponents"}}},commerce_and_trade:{displayName:"Commerce & Trade",description:"Managing economic interactions",attribute:"social",governedBy:["ingenuity","wisdom"],assistedBy:["composure","authority"],specializations:{bartering:{displayName:"Bartering",description:"Exchanging goods/services without currency"},appraisal:{displayName:"Appraisal",description:"Accurately judging the value of items"},salesmanship:{displayName:"Salesmanship",description:"Effectively presenting goods or services, closing deals"},bookkeeping:{displayName:"Bookkeeping",description:"Managing ledgers, tracking income and expenses, handling loans and currency exchange"},customs_tariffs:{displayName:"Customs & Tariffs",description:"Navigating legal trade barriers, taxes, and regulations"},smuggling_routes:{displayName:"Smuggling Routes",description:"Knowledge of illicit trade paths and methods"},financial_acumen:{displayName:"Financial Acumen",description:"Predicting supply and demand, price fluctuations, economic opportunities and threats"}}},hospitality:{displayName:"Hospitality",description:"Providing comfort, service, and managing social events",attribute:"social",governedBy:["empathy","charisma"],assistedBy:["composure","knowledge"],specializations:{patron_care:{displayName:"Patron Care",description:"Making visitors feel welcome, anticipating needs"},amenities_and_luxuries:{displayName:"Amenities & Luxuries",description:"Knowledge of fine food, wine, bedding to please guests"},event_orchestration:{displayName:"Event Orchestration",description:"Organizing feasts, gatherings, ceremonies"},staff_direction:{displayName:"Staff Direction",description:"Organizing workers efficiently for maximum guest satisfaction"},cleaning:{displayName:"Cleaning",description:"Keeping things tidy and fresh"}}},statecraft:{displayName:"Statecraft",description:"Manipulating political systems, managing institutions, and wielding influence on a grand scale",attribute:"social",governedBy:["authority","wisdom"],assistedBy:["knowledge","composure","charisma"],specializations:{bureaucracy:{displayName:"Bureaucracy",description:"Navigating red tape, understanding legal frameworks, exploiting loopholes"},diplomacy:{displayName:"Diplomacy",description:"High-stakes negotiation between factions, treaty formulation"},intrigue:{displayName:"Intrigue",description:"Spreading influence subtly, manipulating factions against each other, political maneuvering"},reputation_management:{displayName:"Reputation Management",description:"Building and protecting the public image of an individual or organization"},faction_alliances:{displayName:"Faction Alliances",description:"Building and maintaining relationships between different power groups"},propaganda:{displayName:"Propaganda",description:"Actively shaping public sentiment, managing information flow, and cultivating narratives"}}},beast_mastery:{displayName:"Beast Mastery",description:"Controlling, caring for, and utilizing various creatures",attribute:"social",governedBy:["empathy","authority"],assistedBy:["strength","knowledge"],specializations:{animal_companionship:{displayName:"Animal Companionship",description:"Developing a bond with a specific animal partner; training communication, and cooperation"},wild_taming:{displayName:"Wild Taming",description:"Domesticate, calm, or gain the trust of a wild creature"},teamster:{displayName:"Teamster",description:"Managing draft animals pulling carts, wagons, or carriages; harnessing; load balancing"},breeding:{displayName:"Breeding",description:"Selecting stock, tracking lineages, refining breeds for desired traits"},animal_husbandry:{displayName:"Animal Husbandry",description:"Raising, feeding, housing, ensuring the health of captive animals; harvesting their products"}}}};function Kc(e){const t=new Map,i=e.split(/\r?\n/);let n=null,a=[];for(const s of i){const r=s.trim();if(r==="")n&&a.length>0&&t.set(n,a),n=null,a=[];else if(n===null)n=r;else{const o=r.split(/\s+/).filter(l=>l.length>0);o.length>0&&a.push(o)}}return n&&a.length>0&&t.set(n,a),t}const Yc=" ",Xc=" ",Qc=" ",Jc=`Animal Companionship
mindmeld familiar mental link imprint
bond communicate train command protect guard assist scout fetch heel
attack search retrieve carry hunt scout devote mate connect
rapport lifelong loyal faithful friend companion companionship pet partner mutual relationship symbiosis union soulmate

Wild Taming
mesmerize muzzle leash
approach contact lure bait trap capture net bridle
tame calm soothe appease pacify charm coax befriend domesticate break subdue collar
will trust instinct nature wild feral dangerous unpredictable cautious patience

Teamster
drover harness reins whip cart axle carriage yoke hitch rig brace 
pull tow haul transport convoy caravan
team group teamwork coordination guide steer drive manage commands goad
wagon cargo payload burden weight load route pace maneuver secure supply

Breeding
select hybrid manticore chimera bloodline pedigree pure mutation
breed pair mate sire dam stud mare offspring progeny foal calf pup generation
genealogy ancestry heritage lineage mixed stock cull genetics gene trait characteristics quality desirable superior eugenics crossbreed strain species taxonomy fusion inherit dominant recessive flaws incubate gestate fertile seed specimen

Animal Husbandry
groom graze fodder pasture paddock shelter ranch pen coop stable corral harvest egg milk product
raise feed forage hutch enclosure kennel aviary
veterinarian care health domesticate captive stock brand tag clip
flock herd pest muck water shear molt shed hatch wean

Beast Mastery
cerberus gorgon basilisk wyvern hydra phoenix nightmare harpy behemoth roc troll ogre
wolf fox bear boar lion tiger stag elk ram hawk toad lizard serpent spider
beckon summon communicate command control manage handle train dominate subjugate
care rapport aid utility pet instinct primal nature creature beast menagerie zoo zoology ecosystem


Bureaucracy
edict charter ordinance statute petition writ seal stamp wax parchment ledger clerk scribe magistrate decree
rules law order
process system structure procedure
legal standard protocol dictate guideline code
amendment article
document form permit license registry
file archive record notary bureaucrat
office desk tribunal commission jurisdiction
hierarchy authority mandate oversight
inspect compliance audit tax tariff fine sanction quota
regulate administrate manage organize control
classify navigate exploit loophole obstruct delay impede reject expedite approve deny authorize

Diplomacy
parley council treaty pact truce envoy ambassador legate emissary ally alliance fealty vassal suzerain faction
talk negotiate mediate arbitrate
communicate persuade convince bargain trade exchange
represent interest message gift summit meeting state visit protocol formal polite neutral mutual goodwill rapport tension
concession proposal condition compromise settlement accord agreement resolution peace ceasefire armistice war aggression
bridge diplomat consul dignitary attache delegation embassy convoy immunity seal intervene protectorate

Intrigue
secret whisper rumor plot scheme undermine subvert treason sabotage forge blackmail extort coerce bribe betray spy shadow favor subterfuge clandestine underhand
maneuver manipulate destabilize
evidence frame gather misinformation dossier kompromat corrupt influence
deceive misdirect mislead whistleblower mole defector agent informant puppet proxy
network cell debt leverage asset cipher cryptography code decoy backroom agenda subtle hidden covert

Reputation Management
renown glory honor legacy accolade herald patron infamy slander defamation smear rumor
image perception narrative story message spin whitewash shape control protect defend restore influence public opinion sentiment approval
fame prestige endorse brand goodwill scandal crisis damage

Faction Alliances
ally alliance pact league concordat faction marriage treaty loyalty oath promise
coalition union federation consortium bloc satellite partnership favor debt leverage support aid assist bolster cooperate partner negotiate broker mediate unite

Propaganda
dogma doctrine rhetoric scapegoat demonize worship incite
message narrative story slogan revisionism patriotism influence sway persuade convince control mold shape belief opinion sentiment public bias spin instill cultivate promote disseminate spread amplify suppress censor filter distort repeat brainwash fake frame dehumanize pacify
symbol poster pamphlet speech rally

Statecraft
realm empire decree edict sovereign succession regency rebellion council golden dark
govern rule lead manage control command power influence
policy strategy foresight plan build develop reform
state city nation system structure institution society order stability politics law civic welfare public populace resource infrastructure tax levy
curfew duty hegemony legitimacy mandate prerogative crisis uprising insurrection revolution purge draft court

Patron Care
dignitary envoy noble retinue entourage escort chaperon
welcome greet comfort anticipate empathize listen satisfy personalize assist guide
resolve problem concern feel ease safety security trust
VIP guest visitor patron
impression support service help aid tend indulge treat
privilege leisure priority suite tact
massage relaxation

Amenities & Luxuries
opulence bespoke sweetmeat ambrosia nectar cordial decoction tapestry finery chalice flagon goblet scullery
luxury quality elegance flair pamper pleasure treat indulge rarity plush
food wine drink beverage refreshment sustenance spice fruit delicacy pastry confection liqueur infusion
bedding linen bath soak
scent aroma perfume balm oil
music art masterpiece artistry craftsmanship decor ornament trinket
furnish drapery chandelier presentation
silk velvet gold silver crystal gem rare exotic vintage
decanter carafe porcelain
pavilion gazebo conservatory garden fountain pool terrace balcony veranda porch alcove canopy

Event Orchestration
feast conclave tournament joust ball coronation ritual procession funeral
event party gathering ceremony gala summit meeting banquet inauguration wedding auction
plan organize schedule coordinate manage logistic contingency
theme decor invite guest seat protocol etiquette
announce host entertain cater toast
crisis timing budget
venue space stage
agenda itinerary chart order program timetable traffic entry exit hiatus
list book procure celebrate debut crowd

Staff Direction
gremlin imp golem automaton falconer footman page minstrel bard troubadour jester chambermaid
valet steward porter cook cleaner guard attendant butler maid gardener chef messenger courier
staff team crew servant entertainer acrobat dancer
direct lead manage assign schedule brief instruct coordinate delegate oversee supervise mentor deploy optimize
train motivate discipline evaluate feedback morale performance appraisal drill
hire fire report standard quality efficiency
task shift roster uniform upkeep expertise service

Hospitality
tavern chamber hearth repose abbey monastery haven sanctuary retreat refuge asylum
comfort welcome generosity warmth courtesy goodwill
inn quarter suite room home lodging board fare silverware allocation
host manage provide accommodate entertainment provision impress
social event etiquette protocol presentation demeanor conduct grace
guest service reputation satisfaction experience
atmosphere relation relationship
respite tranquil recuperate recover rejuvenate

Bartering
wares merchant peddler hawker barter haggle exchange swap
trade deal transaction market goods item service stall fair
offer propose counteroffer bid bargain negotiate agree settle concede yield undercut
value compare balance parity equity worth reciprocity handshake cheating tit-for-tat deadlock middleman

Appraisal
loupe scales touchstone acid calipers
artifact relic gem jewel ore
examine inspect judge assess evaluate estimate authenticate verify weigh measure test compare analyze scrutinize discern
expert connoisseur numismatist gemologist appraiser
certificate provenance carat karat hallmark grade condition quality fine pure mint flaw damage wear bias precision accuracy worth fair assay oxidate corrosion era period vintage collect lineage resonant property pawnshop auction document artwork antique metal coin

Salesmanship
sell pitch bargain close hawker peddler huckster barker hook impulse geasa
persuade convince present demonstrate showcase highlight promote advertise endorse refer recommend upsell
negotiate discount offer promotion guarantee warranty objection rebuttal competition value trust settle concede yield
customer client order agreement contract commission revenue profit goods service product wares shop store showroom counter
salesman salesperson merchant vendor agent road salesman prospect lead charm entice attract engage assure satisfy rapport reject skepticism feature smooth sample bundle quota

Bookkeeping
ledger abacus quill scroll strongbox oathmark tally sum scribe bursar  backroom
record track log enter calculate tabulate balance reconcile audit manage organize file document verify count issue collect exchange lend borrow
profit loss surplus deficit revenue income expense credit debit asset liability equity interest rate cost amortize overhead compound yield stock bond cash flow budget report statement
bookkeeper accountant clerk treasurer cashier teller
error mistake fraud embezzlement theft discrepancy insolvency meticulous order math mathematics finance economic wealth figure data office bank inventory register debt solvency liquidity journal

Customs & Tariffs
tariff excise embargo quota levy toll stamp seal confiscate border gray-market import export
inspect examine declare tax assess regulate permit license authorize clear seize enforce document verify classify weigh measure ledger manifest
gate barrier checkpoint port harbor dock cargo ship bill origin paperwork dispute delay waiver bribe percent fee fine penalty control protectionism collector inspector official clerk

Smuggling Routes
cove underworld borderland bribe tunnel sewer cave stash cache contraband night
smuggle sneak bypass avoid conceal hide deceive transport move navigate route map scout detour passage hideout hollow compartment disguise
network connection clandestine covert surreptitious underhanded illicit forbidden black-market shadow hush quiet dark signal
runner lookout rogue fixer fence agent mule payoff grease risk danger cunning stealth ambush trap patrol guard rival escape evasion capture arrest confiscate betrayal

Financial Acumen
magnate boom bust supply demand predict speculate opportunity risk rumor chart trend
analyze forecast invest divest anticipate calculate evaluate monitor research interpret assess model project manage exploit graph ledger report data news insight strategy threat understand wealth advantage mitigate portfolio pattern capital asset commodity future exchange market price fluctuate return inflate deflate leverage margin profit gain loss uncertainty economic dynamic gamble venture policy cycle trade floor broker tycoon arbitrage dividend bull bear

Commerce Trade
mercury sulfur crystal gem ore wood mithril dragonscale moonstone obsidian
caravan wagon lane route bazaar emporium guild hub warehouse silo
silk spice feather pelt fur hide gold pearl quartz wine caviar league charter marque
trade commerce exchange buy sell profit wealth capital revenue growth prosper influence chain inventory resource demand cost price deficit surplus flow goods wares stock store market supply deal
barter haggle bargain auction auction house merchant vendor business enterprise venture cartel monopoly oligopoly sanction blockade logistics tariff tax port harbor dock ship`;function Zc(){const e=new Map,t=[Yc,Xc,Qc,Jc];for(const i of t)if(i&&i.trim().length>0){const n=Kc(i);for(const[a,s]of n.entries())e.has(a)&&console.warn(`Duplicate display name found in keyword files: "${a}". Overwriting previous entry.`),e.set(a,s)}return e}const ed=Zc(),td=ed;function id(e,t){for(const i in e){const n=e[i],a=t.get(n.displayName);a&&(n.keywords=a)}return e}function nd(e){const t=new Map;for(const n in e){const a=e[n];if(a.keywords)for(const s of a.keywords)for(const r of s){const o=r.toLowerCase();t.has(o)||t.set(o,[]);const l=t.get(o);l&&!l.includes(a.id)&&l.push(a.id)}}const i=new Map;for(const[n,a]of t.entries())i.set(n,a.join(","));return i}class ad{constructor(t){N(this,"_skills");N(this,"attributeLib");N(this,"_keywordLookup");N(this,"id","skills");N(this,"name","Skills Library");N(this,"description","Manages all skill data and provides access methods");this.attributeLib=t,this._skills={};for(const i in ls){const n=ls[i],a=i,s={type:"skill",id:a,displayName:n.displayName,description:n.description,attribute:n.attribute,governedBy:n.governedBy,assistedBy:n.assistedBy,keywords:n.keywords,specializations:[]};if(this._skills[a]=s,n.specializations)for(const r in n.specializations){const o=n.specializations[r],l=r,d={type:"specialization",id:l,parentId:a,displayName:o.displayName,description:o.description,keywords:o.keywords};this._skills[l]=d,s.specializations.push(l)}}this._skills=id(this._skills,td),this._keywordLookup=nd(this._skills)}get items(){return this._skills}get keywordLookup(){return this._keywordLookup}getSkill(t){const i=this._skills[t];if(i&&i.type==="skill")return i}getSpecialization(t){const i=this._skills[t];if(i&&i.type==="specialization")return i}getAllSkillItems(){return this._skills}getAllSkills(){const t={};return Object.values(this._skills).forEach(i=>{i.type==="skill"&&(t[i.id]=i)}),t}getSkillsByAttribute(t){const i={};return Object.values(this._skills).forEach(n=>{n.type==="skill"&&n.attribute===t&&(i[n.id]=n)}),i}getSkillCategories(){const t=[],i=this.attributeLib.getAttributeDefinitions();return Object.entries(i).forEach(([n,a])=>{const s=this.getSkillsByAttribute(n),r=Object.values(s).map(o=>{const l=o.specializations.map(d=>{const c=this.getSpecialization(d);return{id:c?c.id:d,displayName:c?c.displayName:"Unknown Spec",description:c?c.description:"",level:0,proficiency:0}});return{id:o.id,displayName:o.displayName,description:o.description,attribute:o.attribute,governedBy:o.governedBy,assistedBy:o.assistedBy,specializations:l,level:0,proficiency:0}});r.length>0&&t.push({attribute:n,displayName:a.displayName,skills:r})}),t}}class sd{constructor(){N(this,"tasks",new Map);N(this,"isLoaded",!1)}verifyTask(t,i,n,a){const s=[],r=d=>{s.push(`[${t}] ${d}`)},o=d=>{const c=n.getSkill(d);if(c)return{id:d,isSpecialization:!1,originalDefinition:c};const g=n.getSpecialization(d);if(g)return{id:d,isSpecialization:!0,parentSkillId:g.parentId,originalDefinition:g}},l=(d,c)=>{const g=new Set;if(d.skills&&d.skills.length>0)for(const u of d.skills)o(u)?g.add(u):r(`${u} not found (${c}).`);if(d.intermediates)for(const u of d.intermediates){const h=u.match(/{_OPTION\d+}/g);if(h)for(const v of h){const w=v.substring(1,v.length-1);d[w]||r(`'${v}' in '${u}', but is missing (${c}).`)}}};if(i.names&&i.names.byBuilding)for(const d in i.names.byBuilding)a.getBuilding(d)||r(`${d} in 'names.byBuilding' not found`),i.names.byBuilding[d].forEach(c=>l(c,`${d}`));return s}loadTasks(t){this.tasks.clear();for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const n=t[i],a={id:i,...n};this.tasks.set(i,a)}this.isLoaded=!0}verifyAllTasks(t,i){let n=0,a=0;const s=new Map;if(!this.isLoaded)return console.warn("TaskLib: Attempted to verify tasks before loading. Please call loadTasks first."),{verifiedCount:n,errorCount:a,errorDetails:s};t||console.warn("TaskLib: SkillLib instance not provided. Skill verification will be skipped or incomplete."),i||console.warn("TaskLib: BuildingLib instance not provided. Building verification will be skipped or incomplete.");for(const[r,o]of this.tasks){const l=this.verifyTask(r,o,t,i);l.length===0?n++:(a++,s.set(r,l),console.warn(`Validation errors for task '${r}':
- ${l.join(`
- `)}`))}return a>0&&console.warn("TaskLib: Details for tasks with errors:",s),{verifiedCount:n,errorCount:a,errorDetails:s}}getTask(t){return this.tasks.get(t)}values(){return this.tasks.values()}}const rd=/{[a-zA-Z0-9_]+}/g;function cs(e,t,i){if(!e||i<0)return e;const n=e.match(rd);if(n&&n.length>0){const a=n[0],s=a.substring(1,a.length-1),r=t[s];if(r&&Array.isArray(r)&&i<r.length){const o=r[i];return e.replace(a,o)}else return e}return e}class od{constructor(){N(this,"buildings",new Map);N(this,"isLoaded",!1)}loadBuildings(t){this.buildings.clear();for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const n=t[i],a={id:i,...n};this.buildings.set(i,a)}this.isLoaded=!0}getBuilding(t){return this.buildings.get(t)}values(){return this.buildings.values()}}const Di={useful:{major:["channel","commune","conduit","ego","empathy","essence","fusion","insight","intellect","intent","medium","mental","merge","presence","psyche","psychic","rapport","resonance","sentience","sigil","spiritual","sway","sync","telepathy","trance","union","fractionation","hypnosys","id","sanity","madness","abyss","being","vessel","breach","host","meld","mantra","dominance","leash","subjugation","subject"],minor:["access","adept","alchemy","anchor","arcane","archon","astral","aura","aware","beacon","bond","brain","bridge","call","calm","cipher","concept","contact","control","core","current","deep","desire","dominion","door","draw","dream","echo","energy","ether","ethereal","fetish","flow","flux","focus","force","frequency","gateway","glyph","grasp","grimoire","guide","harmony","head","hear","heart","hold","idea","image","inner","join","key","link","listen","lure","mana","memory","mind","mystic","name","nexus","notion","occult","oracle","path","peace","plane","portal","pull","purpose","quiet","reason","relay","rune","scope","secret","seer","self","sense","shaman","share","shift","signal","silence","soul","source","spark","spirit","strength","symbol","talisman","thought","tome","touch","trust","truth","vector","veil","vision","voice","wave","weave","whisper","will","break","intrusion","consciousness","logic","rule","grip","fog","chain","rope","thread","string","wire","cable","route","lock","seal","mark","split","tear","rip","leech","snare","cage","invasion","assault","puppet","thrall","minion","blend","combine","chant","boundary","limit","phantom","specter","wraith","shade","zombie","lich","limbo"],trivial:["aid","air","altar","amulet","ancient","archive","artifact","balance","blood","bless","book","cauldron","cell","chamber","chaos","charm","chart","choice","circle","cleric","code","connection","cosmos","crystal","crypt","curse","dark","data","death","destiny","dimension","divine","druid","earth","element","elemental","elixir","fabric","faith","fate","find","fire","flame","forgot","gem","gift","gleam","glow","goal","guild","hall","hallow","haven","help","hermit","hidden","home","hope","house","ice","idol","info","jewel","journey","knowledge","lab","language","ley","library","life","light","lone","lore","lost","mage","magic","map","master","means","moon","nature","need","new","oath","old","orb","order","plasma","potent","potion","power","priest","primal","pure","quest","radiant","reality","realm","refuge","relic","rift","ritual","room","sacred","sage","sanctum","scholar","scroll","shadow","shelter","shine","sky","sorcerer","sound","space","speak","spell","staff","star","stone","storm","study","sun","test","text","time","token","tower","trial","true","vault","vigor","vital","void","vow","wand","water","way","wisdom","wizard","illusion","word","world","necromancy","sorcery","witchcraft","voodoo","familiar","feel","mist","discord","entropy","container","node","well","sign","root","crack","parasite","trap","attack","possession","slave","morph","transform","evolve","message","meaning","lie","mystery","riddle","puzzle","question","answer","dusk","present","future","place","point","edge","infinity","eternity","ghost","triangle","pentagram","hexagram","cross","ankh","eye","mirror","smoke","incense","sacrifice","pact","bane","boon","character"],cheat:["aesca"]},offensive:["fuck","shit","cunt","dick","asshole","bastard","bitch"]};function zi(e,t=0){return e*1664525+1013904223+t&4294967295}function ld(e){return(e&2147483647)/2147483647}function cd(e){if(!e||e.length===0)return-1;const t=e.reduce((n,a)=>n+a,0);if(t<=0)return Math.floor(Math.random()*e.length);let i=Math.random()*t;for(let n=0;n<e.length;n++){if(i<e[n])return n;i-=e[n]}return e.length-1}const ds=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function Se(e,t=1,i=0){if(!e)return"";if(t===0)return e;const n=e.length;if(n===0)return"";if(n===1)return t>.5?"":e;let a="";const s=e.charCodeAt(0)||1,r=e.charCodeAt(n-1)||1;let o=s*31+r*17+n*7&4294967295,l=s*41+r*23+n*11&4294967295;for(let d=0;d<n;d++){const c=e[d];if(c===" "){a+=" ",o=zi(o),l=zi(l);continue}o=zi(o,d*37);const g=ld(o),u=e.charCodeAt(d)||1;l=zi(l,u);let h;if(d===0)h="";else if(d===n-1)h="?";else{const w=(l&2147483647)%ds.length;h=ds[w]}let v;if(i>0&&n>1){const k=1-d/(n-1),C=(1-i)*g+i*k;v=t>C}else v=t>g;a+=v?h:c}return a}function qr(e){const t=e.trim();if(!t)return[];const i=t.indexOf(" "),n=i===-1?t:t.substring(0,i),a=new Set;a.add(n);const s=r=>{r&&r.length>0&&r.length<n.length&&a.add(r)};if(n.length>2&&n.endsWith("es")?s(n.slice(0,-2)):n.length>1&&n.endsWith("s")&&s(n.slice(0,-1)),n.length>3&&n.endsWith("ing")){const r=n.slice(0,-3);s(r);const o=r+"e";r.length>0&&o.length<n.length&&s(o)}if(n.length>4&&n.endsWith("ment")&&s(n.slice(0,-4)),n.length>4&&n.endsWith("ness")&&s(n.slice(0,-4)),n.length>2&&n.endsWith("ly")&&s(n.slice(0,-2)),n.length>2&&n.endsWith("er")&&s(n.slice(0,-2)),n.length>3&&n.endsWith("est")&&s(n.slice(0,-3)),n.length>2&&n.endsWith("ed")){const r=n.slice(0,-2);s(r);const o=r+"e";r.length>0&&o.length<n.length&&s(o)}if(n.length>3&&n.endsWith("ion")){const r=n.slice(0,-3);s(r);const o=r+"e";r.length>0&&o.length<n.length&&s(o)}return n.length>2&&n.endsWith("al")&&s(n.slice(0,-2)),n.length>3&&n.endsWith("ize")&&s(n.slice(0,-3)),n.length>3&&n.endsWith("ise")&&s(n.slice(0,-3)),Array.from(a)}function dd(e,t){const i=e.length,n=t.length;if(Math.abs(i-n)>1)return!1;if(i===n){let d=0;for(let c=0;c<i;c++)if(e[c]!==t[c]&&d++,d>1)return!1;return!0}const a=i<n?e:t,s=i<n?t:e;let r=0,o=0,l=!1;for(;r<a.length&&o<s.length;)if(a[r]!==s[o]){if(l)return!1;l=!0,o++}else r++,o++;return!0}class mn{constructor(){N(this,"words",new Map);N(this,"_usefulWordsCount",0);this.loadWords()}loadWords(){const t={trivial:1,minor:2,major:3,cheat:100};if(Di.useful)for(const[i,n]of Object.entries(Di.useful)){const a=t[i]||1;n.forEach(s=>{const r={id:s.toLowerCase(),name:s,type:"useful",points:a};this.words.set(s.toLowerCase(),r)})}Di.offensive&&Di.offensive.forEach(i=>{const n={id:i.toLowerCase(),name:i,type:"offensive",points:0};this.words.set(i.toLowerCase(),n)}),this._usefulWordsCount=[...this.words.values()].filter(i=>i.type==="useful").length}getWord(t){return this.words.get(t.toLowerCase())}getWordByName(t){return mn.findWordInMap(t,this.words)}static findWordInMap(t,i){const n=t.toLowerCase(),a=qr(n);for(const s of a){const r=i.get(s);if(r)return r}}getAllWords(){return this.words.values()}getUsefulWordsCount(){return this._usefulWordsCount}}const An={turfablie:{name:"Turfablie",description:"Highland artificer town with established merchant routes. Peaceful and picturesque.",imageName:"turfablie.jpg",pros:["Strong, stable telepathic signal","Minimal resistance to merger","Thriving markets"],cons:["Guild masters are not as skilled"]},aeiga_reika:{name:"Aeiga-Reika",description:"Industrial port city. Home to a large golem foundry. Salty and smoggy.",imageName:"aeiga_reika.jpg",pros:["Skilled guild masters","Wealthy port commerce"],cons:["Weak signal and intermittent telepathic interference during possession"]},sequoiter:{name:"Sequoiter",description:"Last outpost before the boreal wilderness. Currently experiencing rapid growth.",imageName:"sequoiter.jpg",pros:["Relatively skilled guild masters","Better-maintained guild infrastructure"],cons:["Weak telepathic signal","Targets have strong mental defenses"]}};class Hr{constructor(){N(this,"locations",new Map);this.loadLocations()}loadLocations(){for(const t in An)if(Object.prototype.hasOwnProperty.call(An,t)){const n={...An[t],id:t};this.locations.set(t,n)}}getLocation(t){return this.locations.get(t)}getAllLocations(){return Array.from(this.locations.values())}}var st=(e=>(e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e))(st||{});class fn{constructor(t){N(this,"uid");N(this,"name");N(this,"type");N(this,"root");N(this,"parent");this.name=t,this.type=this.constructor.name}getHierarchicalPath(){return this.parent?`${this.parent.getHierarchicalPath()}.${this.name}`:this.name}init(t){}exit(){}handleEvent(t,i,n){}update(t,i){}}class ba extends fn{constructor(i,n){super(i);N(this,"children");N(this,"currentIndex",-1);this.children=n}wireTree(i,n){this.root=i,this.parent=n,this.uid=this.getHierarchicalPath();for(const a of this.children)a instanceof ba?a.wireTree(i,this):(a.root=i,a.parent=this,a.uid=a.getHierarchicalPath())}init(i){var n;(n=this.root.invoker)!=null&&n.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started.`),this.currentIndex=-1,this.advance(i)}exit(){this.currentIndex>=0&&this.currentIndex<this.children.length&&this.children[this.currentIndex].exit()}report(i,n){var a,s;i===st.SUCCESS?this.advance(n)&&((a=this.parent)==null||a.report(st.SUCCESS,n)):(s=this.parent)==null||s.report(st.FAILURE,n)}advance(i){return this.currentIndex>-1&&this.children[this.currentIndex].exit(),this.currentIndex++,this.currentIndex<this.children.length?(this.children[this.currentIndex].init(i),!1):!0}}class us extends ba{constructor(i,n){super(i,n);N(this,"invoker");N(this,"blackboard",{});this.wireTree(this,void 0)}report(i,n){var a,s,r,o;if(i===st.FAILURE){(a=this.invoker)!=null&&a.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} (ROOT) reported ${i}.`),this.exit(),(s=this.invoker)==null||s.reportTreeComplete(this);return}this.advance(n)&&((r=this.invoker)!=null&&r.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} (ROOT) reported SUCCESS.`),this.exit(),(o=this.invoker)==null||o.reportTreeComplete(this))}advance(i){return this.currentIndex>-1&&this.children[this.currentIndex].exit(),this.currentIndex++,this.currentIndex<this.children.length?(this.children[this.currentIndex].init(i),!1):!0}}class Bi extends fn{constructor(i,n){super(i);N(this,"lambda");this.lambda=n}init(i){var n,a,s;(n=this.root.invoker)!=null&&n.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started.`);try{this.lambda(this,i),(a=this.parent)==null||a.report(st.SUCCESS,i)}catch(r){console.error(`[BehTree] Error in ${this.getHierarchicalPath()}:`,r),(s=this.parent)==null||s.report(st.FAILURE,i)}}}class En extends fn{constructor(i,n,a){super(i);N(this,"eventId");N(this,"predicate");this.eventId=n,this.predicate=a}init(i){var n;this.root.invoker?(this.root.invoker.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} started, awaiting event '${this.eventId}'.`),this.root.invoker.addEventListener(this.eventId,this)):(console.error(`[BehTree] ${this.getHierarchicalPath()} cannot listen for event without an invoker.`),(n=this.parent)==null||n.report(st.FAILURE,i))}exit(){var i;(i=this.root.invoker)==null||i.removeEventListener(this)}handleEvent(i,n,a){var s,r;i.id===this.eventId&&(!this.predicate||this.predicate(i,a))&&((s=this.root.invoker)!=null&&s.logVerbose&&console.log(`[BehTree] ${this.getHierarchicalPath()} caught event '${this.eventId}' and predicate passed.`),(r=this.parent)==null||r.report(st.SUCCESS,n))}}var J;(e=>{function t(b,O){const I=new Hi(b);return console.assert(!O.connectablesByName.has(b),`Stat already exists: ${b}`),O.connectablesByName.set(b,I),I}e.createParameter=t;function i(b,O,I){const $=new Wr(b,O);return console.assert(!I.connectablesByName.has(b),`Stat already exists: ${b}`),I.connectablesByName.set(b,$),$}e.createStat=i;function n(b,O,I){const $=new jr(b,O);return console.assert(!I.connectablesByName.has(b),`Stat already exists: ${b}`),I.connectablesByName.set(b,$),$}e.createFormulaStat=n;function a(b,O,I,$){const B=new xn(b,O,$);return console.assert(!I.connectablesByName.has(b),`Stat already exists: ${b}`),I.connectablesByName.set(b,B),B}e.createFormulaParameter=a;function s(b,O,I,$,B){const Z=$.connectablesByName.get(b),K=$.connectablesByName.get(O);if(!Z){console.error(`Connection source doesn't exist: ${b}`);return}if(!K){console.error(`Connection target doesn't exist: ${O}`);return}if(K.independent){console.error(`Cannot connect to an IndependentStat: ${O}`);return}if(I===Ie.NAMED_INPUT&&!B){console.error(`inputName is required for NAMED_INPUT connection type when calling connectStr for ${O}.`);return}$.establishedConnections.has(b)||$.establishedConnections.set(b,[]);const Q=new qc(O,I,B);if($.establishedConnections.get(b).push(Q),I===Ie.MULTY){if(!(K instanceof Hi)){console.error(`MULTY connection target ${O} is not a Parameter.`);return}K.multi.push(b),g(K,$)}else if(I===Ie.NAMED_INPUT){if(!(K instanceof xn)){console.error(`NAMED_INPUT connection target ${O} is not a FormulaParameter.`);return}if(!B){console.error(`inputName is crucial for NAMED_INPUT connection to ${O} but was not provided.`);return}K.inputs[B]=Z.value,v(K,$);return}else if(I===Ie.DIV){if(!(K instanceof Hi)){console.error(`DIV connection target ${O} is not a Parameter.`);return}K.divSources.push(b),g(K,$)}k(Q,0,Z.value,$)}e.connectStr=s;function r(b,O,I,$,B){if(console.assert(!O.independent,`Cannot connect to an IndependentStat: ${O.name}`),I===Ie.NAMED_INPUT){if(!(O instanceof xn)){console.error(`Target for NAMED_INPUT connection must be a FormulaParameter. Target: ${O.name}`);return}if(!B){console.error(`inputName is required for NAMED_INPUT connection type to ${O.name}.`);return}}s(b.name,O.name,I,$,B)}e.connectStat=r;function o(b,O,I){if(b.value===O)return;const $=b.value;b.value=O,w(b,$,O,I)}function l(b,O,I){o(b,b.value+O,I)}e.modifyStat=l;function d(b,O,I){o(b,O,I)}e.setIndependentStat=d;function c(b,O,I){O!==0&&(b.add+=O,u(b,I))}e.modifyParameterADD=c;function g(b,O){b.multiCache=1,b.multi.forEach(I=>{const $=O.connectablesByName.get(I);$&&(b.multiCache*=$.value)}),b.divSources.forEach(I=>{const $=O.connectablesByName.get(I);if($){const B=$.value===0?1:$.value;b.multiCache/=B}})}function u(b,O){const I=b.add*b.multiCache;o(b,I,O)}function h(b,O){const I=b.formula(b.argument);o(b,I,O)}function v(b,O){const I=b.formula(b.inputs);o(b,I,O)}function w(b,O,I,$){const B=$.establishedConnections.get(b.name);if(B)for(const Z of B)k(Z,O,I,$)}function k(b,O,I,$){const B=$.connectablesByName.get(b.target);if(!B||B.independent)return;const Z=B;switch(b.type){case Ie.ADD:Z.add+=I-O,u(Z,$);break;case Ie.SUB:Z.add-=I-O,u(Z,$);break;case Ie.MULTY:g(Z,$),u(Z,$);break;case Ie.DIV:g(Z,$),u(Z,$);break;case Ie.FORMULA:Z.argument=I,h(Z,$);break;case Ie.NAMED_INPUT:Z.inputs[b.inputName]=I,v(Z,$);break}}function C(b,O){return O.connectablesByName.get(b)}e.getStat=C;function A(b,O){const I=O.connectablesByName.get(b);if(!I)throw new Error(`Stat not found: ${b}`);return I}e.getStatAsserted=A})(J||(J={}));const Mn="res_",gs="chr_",ud="bld_";class gd{constructor(t,i,n,a){N(this,"name");N(this,"current");N(this,"income");N(this,"max");this.name=t;const s=`${Mn}${t}_current`,r=`${Mn}${t}_income`,o=`${Mn}${t}_max`;this.current=J.createStat(s,i,a),this.income=J.createParameter(r,a),this.max=J.createParameter(o,a),J.modifyParameterADD(this.max,n,a)}update(t,i){const n=this.income.value,a=this.max.value,s=this.current.value;if(n===0)return;let r=n*t,o=s+r;o>a&&(o=a),o<0&&(o=0),Math.abs(o-s)>1e-6&&J.setIndependentStat(this.current,o,i)}}function Xn(e,t,i,n,a){if(e.has(t))return console.warn(`Resource "${t}" already exists.`),e.get(t);const s=new gd(t,i,n,a);return e.set(t,s),s}function va(e,t){return e.get(t)}function hd(e,t,i){e.forEach(n=>{n.update(t,i)})}var tt=(e=>(e.Maintenance="Maintenance",e.Opportunity="Opportunity",e.Endeavour="Endeavour",e.Quest="Quest",e))(tt||{}),Me=(e=>(e.Available="Available",e.Queued="Queued",e.Processing="Processing",e.Paused="Paused",e.Complete="Complete",e))(Me||{});const Qn=new Map;function Ri(e,t){Qn.has(e)&&console.warn(`[MinigameUISync] Overwriting UI sync function for type: ${e}`),Qn.set(e,t)}function pd(e){const t=e.resources,i=new Set(Object.keys(e.uiState.resources));t.forEach((n,a)=>{if(!e.uiState.resources[a])e.uiState.resources[a]={current:n.current.value,max:n.max.value,income:n.income.value};else{const s=e.uiState.resources[a];s.current=n.current.value,s.max=n.max.value,s.income=n.income.value}i.delete(a)}),i.forEach(n=>{delete e.uiState.resources[n]})}function Gr(e){const t=new Set(Object.keys(e.uiState.debugStats));e.connections.connectablesByName.forEach((i,n)=>{let a;i instanceof Hi?a={add:i.add,multiCache:i.multiCache}:i instanceof jr?a={argument:i.argument}:i instanceof Wr&&(a=void 0);const s={value:i.value};a&&(s.params=a);const r=e.uiState.debugStats[n];if(!r)e.uiState.debugStats[n]=s;else{r.value!==s.value&&(r.value=s.value);const o=r.params?JSON.stringify(r.params):"null",l=s.params?JSON.stringify(s.params):"null";o!==l&&(s.params?r.params={...s.params}:delete r.params)}t.delete(n)}),t.forEach(i=>{delete e.uiState.debugStats[i]})}function Vr(e){var n,a,s;e.uiState.characters.length=0;const t=e.lib.getAttributeLib().getAttributeDefinitions();if(!t){console.error("Cannot update character UI data: Attribute definitions not loaded.");return}const i=e.lib.getSkillLib().getAllSkills();if(!i){console.error("Cannot update character UI data: Skill definitions not loaded or empty.");return}for(const r of e.characters){const o=e.lib.characters.getCharacter(r.characterId),l=`chr_${o.id}__`,d=[];for(const g in t){const u=t[g],h=`${l}${g}`,v=((n=r.attributes[h])==null?void 0:n.value)??0,w=[];for(const k in u.attributes){const C=u.attributes[k],A=`${l}${k}`,b=((a=r.attributes[A])==null?void 0:a.value)??0;w.push({key:k,displayName:C.displayName,description:C.description,value:b})}d.push({key:g,displayName:u.displayName,description:u.description,value:v,attributes:w})}const c=[];for(const g in r.skills){const u=i[g];if(u){const h=[];for(const v of u.specializations){const w=e.lib.getSkillLib().getSpecialization(v);if(w){const k=((s=r.specializations[v])==null?void 0:s.value)??0,C=$t.getProficiency(r,v,e);k>0&&h.push({id:v,displayName:w.displayName,description:w.description,level:k,proficiency:C})}else console.warn(`UIStateManager: Specialization definition not found for ID: ${v} (parent skill: ${g})`)}c.push({id:g,displayName:u.displayName,description:u.description,attribute:u.attribute,governedBy:u.governedBy,assistedBy:u.assistedBy,level:r.skills[g].value,specializations:h,proficiency:$t.getProficiency(r,g,e)})}}e.uiState.characters.push({id:r.characterId,name:r.name,level:r.level.value,upkeep:r.upkeep.value,bio:o.bio||"",attributes:d,skills:c})}e.uiState.characters.length>0&&e.uiState.selectedCharacterId===null&&(e.uiState.selectedCharacterId=e.uiState.characters[0].id)}function md(e){const t=new Set(e.uiState.constructedBuildingIds),i=new Set(e.buildings.map(n=>n.buildingId));i.forEach(n=>{t.has(n)||e.uiState.constructedBuildingIds.add(n)}),t.forEach(n=>{i.has(n)||e.uiState.constructedBuildingIds.delete(n)})}function fd(e){const t=[...e.availableTasks,...e.queuedTasks,...e.processingTasks,...e.completedTasks],i=(c,g)=>{var h,v;const u=new Map;for(const w of c)u.set(w.uid,w);c.length=0;for(const w of g){const k=u.get(w.uid);let C="";if(k){if(k.stepIdx===w.stepIdx)C=k.currentStepResolvedText;else if(w.stepCount>0&&w.stepIdx>=0&&w.stepIntermediateIdx>=0&&((h=w.resolvedDefinitionDetails)!=null&&h.intermediates)&&w.stepIntermediateIdx<w.resolvedDefinitionDetails.intermediates.length){const b=w.resolvedDefinitionDetails.intermediates[w.stepIntermediateIdx];C=cs(b,w.resolvedDefinitionDetails,w.stepOptionIdx)}const A={...k,...w,currentStepResolvedText:C};c.push(A)}else{const A={...w};if(A.stepCount>0&&A.stepIdx>=0&&A.stepIntermediateIdx>=0&&((v=A.resolvedDefinitionDetails)!=null&&v.intermediates)&&A.stepIntermediateIdx<A.resolvedDefinitionDetails.intermediates.length){const b=A.resolvedDefinitionDetails.intermediates[A.stepIntermediateIdx];C=cs(b,A.resolvedDefinitionDetails,A.stepOptionIdx)}A.currentStepResolvedText=C,c.push(A)}}},n=[],a=[],s=[],r=[],o=[],l=[],d=[];for(const c of t)if(c.status===Me.Complete)n.push(c);else if(c.status===Me.Processing)a.push(c);else if(c.status===Me.Queued)s.push(c);else if(c.status===Me.Available)switch(c.type){case tt.Maintenance:r.push(c);break;case tt.Opportunity:o.push(c);break;case tt.Endeavour:l.push(c);break;case tt.Quest:d.push(c);break}i(e.uiState.uiCompletedTasks,n),i(e.uiState.uiActiveTasks,a),i(e.uiState.uiQueuedTasks,s),i(e.uiState.uiMaintenanceTasks,r),i(e.uiState.uiOpportunityTasks,o),i(e.uiState.uiEndeavourTasks,l),i(e.uiState.uiQuestTasks,d)}function yd(e){e.uiState.currentTimeScale!==e.timeScale.current&&(e.uiState.currentTimeScale=e.timeScale.current)}function Od(e){e.uiState.uiWorkSpeed!==e.workSpeed.value&&(e.uiState.uiWorkSpeed=e.workSpeed.value),e.uiState.uiClutterRatio!==e.clutterRatio.value&&(e.uiState.uiClutterRatio=e.clutterRatio.value)}function bd(e){if(e.activeMinigame&&e.uiState.activeMinigameState){const t=Qn.get(e.activeMinigame.type);t&&t(e)}else!e.activeMinigame&&e.uiState.activeMinigameState!==null&&(e.uiState.activeMinigameState=null)}function hs(e){if(bd(e),e.activeMinigame&&e.activeMinigame.hidesMainUI)return;pd(e),yd(e),Od(e);const t=e.uiState.activeTabName;t==="Crew"?Vr(e):t==="Debug"?Gr(e):t==="Castle"?md(e):t==="Tasks"&&fd(e)}var $t;(e=>{function t(o,l){var v,w;const d=o.lib.characters.getCharacter(l);if(!d){console.warn(`Character.addCharacter: Character definition not found for ID: ${l}`);return}if(o.characters.find(k=>k.characterId===l))return console.warn(`Character.addCharacter: Character with ID ${l} already exists.`),o.characters.find(k=>k.characterId===l);const c=o.lib.attributes.getAttributeDefinitions(),g=o.lib.skills.getAllSkills(),u=`${gs}${d.id}__`,h={characterId:d.id,name:d.name,level:J.createStat(`${u}level`,d.initialLevel,o.connections),xp:J.createStat(`${u}xp`,0,o.connections),nextLevelXp:J.createStat(`${u}nextLevelXp`,1e3,o.connections),baseUpkeep:J.createStat(`${u}base_upkeep`,d.baseUpkeep,o.connections),upkeep:J.createParameter(`${u}upkeep`,o.connections),attributes:{},attributePoints:J.createStat(`${u}attributePoints`,0,o.connections),skills:{},universalSkillPoints:J.createStat(`${u}universalSkillPoints`,0,o.connections),specializations:{},universalSpecializationPoints:J.createStat(`${u}universalSpecializationPoints`,0,o.connections),proficiencies:{},avgGovAttrStatsCache:new Map};J.connectStat(h.baseUpkeep,h.upkeep,Ie.ADD,o.connections),J.connectStat(h.level,h.upkeep,Ie.MULTY,o.connections);for(const k in c)if(Object.prototype.hasOwnProperty.call(c,k)){const C=c[k],A=`${u}${k}`,b=((v=d.initialAttributes)==null?void 0:v[k])??0;if(h.attributes[A]=J.createStat(A,b,o.connections),C.attributes){for(const O in C.attributes)if(Object.prototype.hasOwnProperty.call(C.attributes,O)){const I=`${u}${O}`,$=((w=d.initialAttributes)==null?void 0:w[O])??0;h.attributes[I]=J.createStat(I,$,o.connections)}}}if(d.initialSkills){for(const k in d.initialSkills)if(Object.prototype.hasOwnProperty.call(d.initialSkills,k)&&g[k]){const C=d.initialSkills[k],A=g[k];i(h,k,C,A,u,o.connections)}}if(o.characters.push(h),J.connectStat(h.upkeep,o.totalCharacterUpkeep,Ie.ADD,o.connections),d.triggerOnCreated)try{o.processEventsForCharacter(d.triggerOnCreated,h,d)}catch(k){console.error(`Character.addCharacter: ${h.name} - Error processing triggerOnCreated events:`,k)}return Vr(o),h}e.addCharacter=t;function i(o,l,d,c,g,u){if(n(o,l,d.level,c,g,u),d.specializations&&c.specializations){for(const h of c.specializations)if(Object.prototype.hasOwnProperty.call(d.specializations,h)){const v=d.specializations[h];a(o,h,v,c,g,u)}}}e.addInitialSkillWithSpecializations=i;function n(o,l,d,c,g,u){const h=`${g}skill_${l}`;let v=o.skills[l];v?J.setIndependentStat(v,d,u):(v=J.createStat(h,d,u),o.skills[l]=v);let w=o.avgGovAttrStatsCache.get(l);if(!w){const A=b=>{const O=Object.values(b);return O.length===0?0:O.reduce(($,B)=>$+(B||0),0)/O.length};if(w=J.createFormulaParameter(`${g}avg_gov_attr_${l}`,A,u,{}),c.governedBy&&c.governedBy.length>0)for(const b of c.governedBy){let O;for(const I in o.attributes)if(I.endsWith(`__${b}`)){O=o.attributes[I];break}O?J.connectStat(O,w,Ie.NAMED_INPUT,u,b):console.warn(`Governing attribute ${b} not found on character ${o.characterId} for skill ${l}. It will not contribute to proficiency calculation if its value is 0.`)}o.avgGovAttrStatsCache.set(l,w)}const k=`${g}prof_${l}`;let C=o.proficiencies[l];if(C||(C=J.createParameter(k,u),o.proficiencies[l]=C),C.add!==1){const A=C.add;J.modifyParameterADD(C,1-A,u)}J.connectStat(v,C,Ie.ADD,u),J.connectStat(w,C,Ie.MULTY,u)}e.upsertSkillAndProficiency=n;function a(o,l,d,c,g,u){const h=`${g}spec_${l}`;let v=o.specializations[l];v?J.setIndependentStat(v,d,u):(v=J.createStat(h,d,u),o.specializations[l]=v);const w=c.id,k=o.proficiencies[w];if(!k){console.warn(`upsertSpecializationAndProficiency: Parent skill proficiency stat for ${w} not found on character ${o.characterId} when upserting spec ${l}. Spec proficiency will be incorrect.`);return}const C=`${g}prof_${l}`;let A=o.proficiencies[l];if(A||(A=J.createParameter(C,u),o.proficiencies[l]=A),A.add!==1){const b=A.add;J.modifyParameterADD(A,1-b,u)}J.connectStat(v,A,Ie.ADD,u),J.connectStat(k,A,Ie.MULTY,u)}e.upsertSpecializationAndProficiency=a;function s(o,l,d,c,g){const u=`${gs}${o.characterId}__`;if(n(o,l,c,d,u,g),d.specializations)for(const h of d.specializations)a(o,h,c,d,u,g)}e.setOrUpdateSkillAndAllSpecializations=s;function r(o,l,d){const c=o.proficiencies[l];if(c)return Math.sqrt(c.value);const g=d.lib.skills,u=g.getAllSkillItems()[l];if(u&&u.type==="specialization"){const v=u;if(v.parentId)return r(o,v.parentId,d)}let h;if(u&&u.type==="skill")h=u;else if(u&&u.type==="specialization"){const v=g.getSkill(u.parentId);v&&(h=v)}if(h&&h.governedBy&&h.governedBy.length>0){let v=0,w=0;for(const k of h.governedBy){let C;for(const A in o.attributes)if(A.endsWith(`__${k}`)){C=o.attributes[A];break}C&&(v+=C.value,w++)}if(w>0){const k=v/w;return Math.sqrt(k)}}return console.warn(`Proficiency for ${l} not found, and no governing attributes defined or found for fallback calculation. Returning 0.`),0}e.getProficiency=r})($t||($t={}));var Ni;(e=>{function t(i,n){const a=i.lib.buildings.getBuilding(n);if(!a){console.warn(`Building.addBuilding: Building definition not found for ID: ${n}`);return}const s=`${ud}${a.id}__`,r={buildingId:a.id,clutterGeneration:J.createStat(`${s}clutter_generation`,a.clutterPerSecond,i.connections)};return i.buildings.push(r),J.connectStat(r.clutterGeneration,i.totalBuildingsClutter,Ie.ADD,i.connections),r}e.addBuilding=t})(Ni||(Ni={}));const Kr="ClickCounter",vd=5;class Yr{constructor(t,i){N(this,"id");N(this,"type",Kr);N(this,"state");N(this,"hidesMainUI",!1);this.id=t,this.state=Tt({clickCount:0,clicksToWin:i||vd})}update(t,i){}destroy(t){}recordClick(t){this.state.clickCount++,this.state.clickCount>=this.state.clicksToWin&&t.exitMinigame()}}class _d{constructor(){N(this,"locations",new Hr);N(this,"isLoaded",!1);this.loadAllDefinitions()}loadAllDefinitions(){if(!this.isLoaded)try{this.isLoaded=!0}catch(t){console.error("Failed to process WelcomeLib definitions:",t),this.isLoaded=!1}}}const Xr="Welcome",wd=.07,$n=.4,Dn=.5,Td=.9,ps=1;class Id{constructor(t){N(this,"id");N(this,"type",Xr);N(this,"state");N(this,"hidesMainUI",!1);this.id=t;const i=new _d;this.state=qs({lib:i,explorableChoices:[],selectedLocation:void 0,lastSelectedLocationId:void 0}),this.initializeExplorableChoices()}initializeExplorableChoices(){const t=this.state.lib.locations.getAllLocations();this.state.explorableChoices=t.map(i=>{var r,o;const n=((r=i.pros)==null?void 0:r.length)||0,a=((o=i.cons)==null?void 0:o.length)||0,s=3+n+a+1+1;return Tt({...i,id:i.id,name:i.name,imageName:i.imageName,atlasName:"locations",pros:i.pros,cons:i.cons,description:i.description,explorationProgress:0,isExploring:!1,totalExplorationSteps:s,currentExplorationStep:0,nameObfuscationPercentage:1,isDescriptionVisible:!1,descriptionObfuscationPercentage:1,areProsConsTitlesVisible:!1,revealedProsCount:0,revealedConsCount:0,canBeSelected:!1})})}startExploration(t){this.state.explorableChoices.forEach(i=>{i.isExploring=i.id===t})}stopExploration(t){const i=this.state.explorableChoices.find(n=>n.id===t);i&&(i.isExploring=!1)}stopAllExplorations(){this.state.explorableChoices.forEach(t=>{t.isExploring=!1})}makeChoiceAndPrepareExit(t,i){const n=this.state.lib.locations.getLocation(t);if(n){const a={locationId:n.id};wa(i,a),this.state.lastSelectedLocationId=n.id,i.exitMinigame()}else console.error("WelcomeGame: Could not find location definition for id:",t)}update(t,i){this.state.explorableChoices.forEach(n=>{var a,s,r,o;if(n.isExploring&&n.explorationProgress<1){n.explorationProgress=Math.min(1,n.explorationProgress+wd*i);const l=Dn+.05,d=.05,c=l-d;if(n.explorationProgress>=d)if(n.explorationProgress>=l)n.nameObfuscationPercentage=0;else{const v=n.explorationProgress-d;n.nameObfuscationPercentage=Math.max(0,1-v/c)}n.explorationProgress>=$n&&(n.isDescriptionVisible=!0),n.explorationProgress>=Dn&&(n.areProsConsTitlesVisible=!0);const g=Dn,u=Td,h=(((a=n.pros)==null?void 0:a.length)||0)+(((s=n.cons)==null?void 0:s.length)||0);if(h>0){const w=(u-g)/h;let k=0;for(let C=0;C<(((r=n.pros)==null?void 0:r.length)||0);C++)n.explorationProgress>=g+(k+1)*w&&(C+1>n.revealedProsCount&&(n.revealedProsCount=C+1),k++);for(let C=0;C<(((o=n.cons)==null?void 0:o.length)||0);C++)n.explorationProgress>=g+(k+1)*w&&(C+1>n.revealedConsCount&&(n.revealedConsCount=C+1),k++)}if(n.explorationProgress>=$n&&n.isDescriptionVisible){const v=$n,w=ps,k=w-v;if(n.explorationProgress>=w)n.descriptionObfuscationPercentage=0;else{const C=n.explorationProgress-v;n.descriptionObfuscationPercentage=Math.max(0,1-C/k)}}n.explorationProgress>=ps&&(n.canBeSelected=!0,n.isExploring=!1)}})}destroy(t){this.stopAllExplorations()}}const _t="Ingress";function Pd(e){const t=new Map,i=Array.from(e.lib.characters.values()).filter(n=>n.location===e.locationId);for(const n of i){const a=[...n.keywords||[],n.name];for(const s of a){const r=s.toLowerCase();t.has(r)||t.set(r,[]),t.get(r).push(n.id)}}return t}function Nd(e,t){const i=new Map;for(const s of e.getAllWords())i.set(s.id,s);const n=new Map(i),a=Array.from(t.lib.characters.values()).filter(s=>s.location===t.locationId);for(const s of a){const r=[...s.keywords||[],s.name];for(const o of r){const l=o.toLowerCase();i.has(l)||n.set(l,{id:l,name:o,type:"useful",points:1})}}return n}function kd(e){let t=0;for(const i of e.values())i.type==="useful"&&t++;return t}const Cd=4,Sd=6,ms=2,fs=[1,2,3],xd=.005;class Ad{constructor(t){N(this,"id");N(this,"type",_t);N(this,"state");N(this,"hidesMainUI",!1);N(this,"unlockedCharacterCount",0);N(this,"combinedWords",null);N(this,"characterKeywords",null);N(this,"isEngagementHeld",!1);this.id=t,this.state=Tt({usefulWords:[],offensiveWords:[],blankWords:[],possessionCharges:0,totalPossessionCharges:0,chargesBarRevealed:!1,characterOptions:[],inspectingCharacterId:null,renamingCharacterId:null,characterRenames:{},characterXpBonuses:{},bioObfuscation:1,upgrades:{char_attribute_point:!1,char_skill_point:!1,char_spec_point:!1,char_xp_boost:!1,breach_word_bonus:!1,breach_typo_tolerance:!1,breach_word_counter:!1,breach_possession_speed:!1},upgradesRevealed:!1,possessionProgress:0,engaged:!1,engagementProgress:0,engagementCompletionTime:null})}processSubmittedWord(t,i,n){(!this.combinedWords||!this.characterKeywords)&&this.initializeWordLists(i,n);const a=this.combinedWords,s=this.characterKeywords,r=t.trim().toLowerCase();if(!r)return{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:!1};const o=h=>this.state.usefulWords.some(v=>v.definition.id===h.id);let l=mn.findWordInMap(r,a),d=!1,c;const g=qr(r);for(const h of g)if(c=s.get(h),c)break;if(l&&l.type==="useful"&&o(l)&&(l=void 0),!l&&this.state.upgrades.breach_typo_tolerance){for(const h of a.values())if(h.type==="useful"&&dd(r,h.name)&&!o(h)){l=h,d=!0;break}}if(!l){let h=!1;return this.state.blankWords.includes(r)||(this.state.blankWords.push(r),h=!0),{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:h}}if(l.type==="offensive"){let h=!1;const v=l.name.toLowerCase();return this.state.offensiveWords.includes(v)||(this.state.offensiveWords.push(v),h=!0),{classification:"offensive",pointsEarned:0,submittedWord:t.trim(),isNewAddition:h}}if(l.type==="useful"){let h=l.points;this.state.upgrades.breach_word_bonus&&(h+=1);let v=0;h===1?v=.3:h===2?v=.4:h===3?v=.5:h>=4&&(v=.6),v>0&&(this.state.possessionProgress=Math.min(100,this.state.possessionProgress+v));const w={definition:l,pointsEarned:h,wasTypo:d,sourceCharacterIds:c};if(this.state.usefulWords.push(w),this.state.possessionCharges+=h,this.state.totalPossessionCharges+=h,c)for(const k of c){this.state.characterXpBonuses[k]||(this.state.characterXpBonuses[k]=0),this.state.characterXpBonuses[k]+=h;let C=this.state.characterOptions.find(A=>A.characterId===k);if(C){if(C.discoveryState==="unexplored"){C.discoveryState="name_revealed";const A=n.lib.characters.getCharacter(k);A&&(C.characterName=A.name)}}else{const A=n.lib.characters.getCharacter(k);if(A){const b={characterId:A.id,characterName:A.name,discoveryState:"name_revealed",explorationCosts:fs};this.state.characterOptions.push(b)}}}return{classification:"useful",pointsEarned:h,submittedWord:t.trim(),isNewAddition:!0,sourceCharacterIds:c}}let u=!1;return this.state.blankWords.includes(r)||(this.state.blankWords.push(r),u=!0),{classification:"blank",pointsEarned:0,submittedWord:t.trim(),isNewAddition:u}}update(t,i){if(this.updateCharacterUnlocks(t),this.isEngagementHeld&&(this.state.engagementProgress=Math.min(100,this.state.engagementProgress+15*i),this.state.engagementProgress>=100&&this.engage()),!this.state.chargesBarRevealed&&this.state.possessionCharges>=Cd&&(this.state.chargesBarRevealed=!0),this.state.possessionProgress<100){let n=1;this.state.upgrades.breach_possession_speed&&(n=2);const a=this.state.totalPossessionCharges*i*xd*n;this.state.possessionProgress=Math.min(100,this.state.possessionProgress+a)}}destroy(t){}engage(){this.state.engaged=!0,this.state.engagementCompletionTime=Date.now(),this.isEngagementHeld=!1}handleEngagementClick(){this.state.engaged||(this.state.engagementProgress=Math.min(100,this.state.engagementProgress+4),this.state.engagementProgress>=100&&this.engage())}handleEngagementMouseDown(){this.state.engaged||(this.isEngagementHeld=!0)}stopEngagementHold(){this.isEngagementHeld=!1}revealUpgrades(){!this.state.upgradesRevealed&&this.state.possessionCharges>=1&&(this.state.possessionCharges-=1,this.state.upgradesRevealed=!0)}purchaseUpgrade(t,i){if(this.state.upgrades[t]){console.warn(`Upgrade ${t} already purchased.`);return}this.state.possessionCharges>=i?(this.state.possessionCharges-=i,this.state.upgrades[t]=!0):console.warn(`Not enough possession charges to purchase upgrade ${t}.`)}startCharacterInspection(t){this.state.inspectingCharacterId=t,this.state.bioObfuscation=1}closeCharacterInspection(){this.state.inspectingCharacterId=null}openRenameDialog(){this.state.inspectingCharacterId&&(this.state.renamingCharacterId=this.state.inspectingCharacterId)}closeRenameDialog(){this.state.renamingCharacterId=null}renameCharacter(t){this.state.possessionCharges>=1&&this.state.renamingCharacterId&&t.trim()&&(this.state.possessionCharges-=1,this.state.characterRenames[this.state.renamingCharacterId]=t.trim(),this.closeRenameDialog())}deobfuscateBio(){if(this.state.possessionCharges>=1&&this.state.bioObfuscation>0){this.state.possessionCharges-=1;const t=Math.round(this.state.bioObfuscation*5);let i=1;this.state.bioObfuscation===1&&(i=2);const n=Math.max(0,t-i);this.state.bioObfuscation=n/5}}commitAndPossess(t){const i=this.state.inspectingCharacterId;if(this.state.possessionProgress<100||!i){console.warn("Cannot possess yet. Progress must be 100% and a character must be selected.");return}if(this.state.possessionCharges<10){console.warn("Not enough possession charges to commit and possess.");return}const n=this.state.characterOptions.find(o=>o.characterId===i);if(!n||n.discoveryState!=="portrait_revealed"){console.warn("Selected character is not fully investigated.");return}this.state.possessionCharges-=10;const a=this.state.characterXpBonuses[i]||0,s=this.state.upgrades.char_xp_boost?25:0,r={characterId:i,characterName:this.state.characterRenames[i],xpBonus:a+s,attributePoints:this.state.upgrades.char_attribute_point?1:0,skillPoints:this.state.upgrades.char_skill_point?1:0,specPoints:this.state.upgrades.char_spec_point?1:0};_a(t,r),t.exitMinigame()}exploreCharacter(t,i){const n=this.state.characterOptions.find(s=>s.characterId===t);if(!n){console.warn(`exploreCharacter called with invalid characterId: ${t}`);return}const a=this.getExplorationCost(n);if(a===void 0){console.warn("Character already fully explored.");return}if(this.state.possessionCharges>=a)switch(this.state.possessionCharges-=a,n.discoveryState){case"unexplored":n.discoveryState="name_revealed";const s=i.lib.characters.getCharacter(t);s&&(n.characterName=s.name);break;case"name_revealed":n.discoveryState="portrait_revealed";const r=i.lib.characters.getCharacter(t);r&&(n.characterImage={full:r.fullImage,portrait:r.portraitImage});break}else console.log("Not enough possession charges to explore.")}updateCharacterUnlocks(t){const i=this.state.totalPossessionCharges;let n=Sd,a=0;if(i>=n)for(a++;i>=n+ms;)a++,n+=ms;if(a>this.unlockedCharacterCount){const s=a-this.unlockedCharacterCount,r=Array.from(t.lib.characters.values()).filter(o=>o.location===t.locationId&&!this.state.characterOptions.some(l=>l.characterId===o.id));for(let o=0;o<s&&o<r.length;o++){const d={characterId:r[o].id,discoveryState:"unexplored",explorationCosts:fs};this.state.characterOptions.push(d)}this.unlockedCharacterCount=a}}getExplorationCost(t){switch(t.discoveryState){case"unexplored":return t.explorationCosts[0];case"name_revealed":return t.explorationCosts[1];default:return}}initializeWordLists(t,i){this.combinedWords=Nd(t,i),this.characterKeywords=Pd(i)}getUsefulWordsCount(t,i){return this.combinedWords||this.initializeWordLists(t,i),this.combinedWords?kd(this.combinedWords):0}}const en="Example";class Ed{constructor(t){N(this,"id");N(this,"type",en);N(this,"state");N(this,"hidesMainUI",!1);this.id=t,this.state=Tt({})}update(t,i){}destroy(t){}}const zn=[];let Bn=!1;var Gt;(e=>{function t(a,s,r){var o,l;if(zn.push({eventDef:a,context:r}),!Bn){Bn=!0;try{for(;zn.length>0;){const{eventDef:d,context:c}=zn.shift();(o=s.invoker)!=null&&o.logVerbose&&console.log(`[EventProcessor] Processing event: ${d.id}`),console.log("process Event ",d.id),i(d.effects,s,c),(l=s.invoker)==null||l.handleEvent(d,s,c)}}finally{Bn=!1}}}e.processSingleEvent=t;function i(a,s,r){a&&a.forEach(o=>n(o,s,r))}function n(a,s,r){try{switch(a.key){case"giveResource":Md(s,a.params);break;case"giveMaxResource":$d(s,a.params);break;case"addResourceIncome":Dd(s,a.params);break;case"discover":zd(s,a.params);break;case"discoverAllBuildings":Bd(s);break;case"discoverAllSkills":Rd(s);break;case"discoverAllResources":Ld(s);break;case"discoverAll":Ud(s);break;case"startDialog":break;case"addCharacterByName":Fd(s,a.params);break;case"giveAllSkillsAndSpecsEffect":Qr(s,r);break;case"giveSkillsAndSpecs":Wd(s,a.params,r);break;case"construct":jd(s,a.params);break;case"startMinigame":Jn(s,a.params);break;case"startBehTree":qd(s,a.params);break;case"ApplyIngressResults":_a(s,a.params);break;case"applyWelcomeResults":wa(s,a.params);break;default:console.warn(`Unknown effect key: ${a.key}`)}}catch(o){console.error(`Error executing effect ${a.key} with params:`,a.params,o)}}})(Gt||(Gt={}));function Md(e,t){const i=va(e.resources,t.resource);i?J.modifyStat(i.current,t.amount,e.connections):console.warn(`Effect 'giveResource': Resource "${t.resource}" not found.`)}function $d(e,t){let i=va(e.resources,t.resource);i||(i=Xn(e.resources,t.resource,0,0,e.connections));const n=i.max.add,a=t.amount-n;J.modifyParameterADD(i.max,a,e.connections)}function Dd(e,t){const i=va(e.resources,t.resource);i?J.modifyParameterADD(i.income,t.amount,e.connections):console.warn(`Effect 'addResourceIncome': Resource "${t.resource}" not found.`)}function zd(e,t){e.markAsDiscovered(t.key)}function Bd(e){for(const t of e.lib.buildings.values())e.markAsDiscovered(t.id)}function Rd(e){const t=e.lib.skills.getAllSkillItems();for(const n in t){e.markAsDiscovered(n);const a=t[n];a.type==="skill"&&(e.markAsDiscovered(a.attribute),a.specializations.forEach(s=>e.markAsDiscovered(s)))}const i=e.lib.attributes.getAttributeDefinitions();for(const n in i)e.markAsDiscovered(n)}function Ld(e){for(const t of e.resources.keys())e.markAsDiscovered(t)}function Ud(e){for(const n of e.lib.buildings.values())e.markAsDiscovered(n.id);const t=e.lib.skills.getAllSkillItems();for(const n in t){e.markAsDiscovered(n);const a=t[n];a.type==="skill"&&(e.markAsDiscovered(a.attribute),a.specializations.forEach(s=>e.markAsDiscovered(s)))}const i=e.lib.attributes.getAttributeDefinitions();for(const n in i)e.markAsDiscovered(n);for(const n of e.resources.keys())e.markAsDiscovered(n);no.forEach(n=>e.markAsDiscovered(n))}function Fd(e,t){const i=e.lib.characters.getCharacter(t.characterId);i?$t.addCharacter(e,i.id):console.warn(`Effect 'addCharacterByName': Character definition "${t.characterId}" not found in Lib.`)}function Qr(e,t){if(!t||!("characterId"in t)||!("skills"in t)||!("specializations"in t)){console.warn("[giveAllSkillsAndSpecsEffect]: Invalid character context provided (must be a Character object):"),console.log(t);return}const i=t,n=e.lib.skills.getAllSkills();if(Object.keys(n).length===0){console.warn(`[giveAllSkillsAndSpecsEffect] For ${i.name}: No skill definitions found in state.lib.skills.getAllSkills(). Cannot give skills.`);return}const a=e.connections;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const r=n[s];$t.setOrUpdateSkillAndAllSpecializations(i,s,r,1,a)}}function Wd(e,t,i){if(!e.characters||e.characters.length===0){console.warn("[giveSkillsAndSpecs]: No characters found in state. Cannot give skills.");return}const n=e.characters[0];Qr(e,n)}function jd(e,t){t.building?Ni.addBuilding(e,t.building):console.warn("Effect 'construct': Missing 'building' parameter.")}function Jn(e,t){var n;if(e.activeMinigame){console.warn(`Effect 'startMinigame': Minigame '${e.activeMinigame.type}' already active. Cannot start '${t.name}'.`);return}let i;if(t.name==="ClickCounter"){const a=(n=t.minigameParams)==null?void 0:n.clicksToWin;i=new Yr(`event-${t.name}-${Date.now()}`,a)}else if(t.name==="Welcome")i=new Id(`event-${t.name}-${Date.now()}`);else if(t.name==="Ingress")i=new Ad(`event-${t.name}-${Date.now()}`);else if(t.name==="Example")i=new Ed(`event-${t.name}-${Date.now()}`);else{console.warn(`Effect 'startMinigame': Unknown minigame name '${t.name}'.`);return}if(i){e.startMinigame(i),console.log(`Event 'startMinigame': Started minigame '${t.name}'.`);const a={id:"minigameStarted",params:{minigameType:i.type},effects:[]};Gt.processSingleEvent(a,e)}}function qd(e,t){const i=e.lib.behTrees.getTree(t.treeName);if(i){const n=i();e.invoker.addTree(n,e)}else console.warn(`Effect 'startBehTree': Tree definition "${t.treeName}" not found.`)}function _a(e,t){console.log("Applying ingress results:",t);let i=e.characters.find(n=>n.characterId===t.characterId);i||(i=$t.addCharacter(e,t.characterId)),i?(t.characterName&&(i.name=t.characterName),J.modifyStat(i.xp,t.xpBonus*i.nextLevelXp.value*.01,e.connections),J.modifyStat(i.attributePoints,t.attributePoints,e.connections),J.modifyStat(i.universalSkillPoints,t.skillPoints,e.connections),J.modifyStat(i.universalSpecializationPoints,t.specPoints,e.connections),console.log(`Applied Ingress results to character: ${i.name}`)):console.warn(`Effect 'ApplyIngressResults': Could not find or add character with ID "${t.characterId}".`)}function wa(e,t){console.log("Applying welcome results:",t),t.locationId?e.locationId=t.locationId:console.warn("Effect 'applyWelcomeResults': Missing 'locationId' parameter.")}class ys extends fn{constructor({durationMin:i,durationMax:n,name:a="Wait"}){super(a);N(this,"_durationMin");N(this,"_durationMax");N(this,"_timer",0);if(i<0)throw new Error(`WaitNode: durationMin must be non-negative, but was ${i}`);if(n!==void 0&&n<i)throw new Error(`WaitNode: durationMax (${n}) must be greater than or equal to durationMin (${i})`);this._durationMin=i,this._durationMax=n}init(i){var n,a;if(this._durationMax!==void 0&&this._durationMax>this._durationMin?this._timer=Math.random()*(this._durationMax-this._durationMin)+this._durationMin:this._timer=this._durationMin,this._timer<=0){(n=this.parent)==null||n.report(st.SUCCESS,i);return}(a=this.root.invoker)==null||a.addUpdateListener(this)}update(i,n){var a;this._timer-=i,this._timer<=0&&((a=this.parent)==null||a.report(st.SUCCESS,n))}exit(){var i;(i=this.root.invoker)==null||i.removeUpdateListener(this),this._timer=0}}const Hd={introSequence:()=>new us("introSequence",[new Bi("startWelcome",(e,t)=>{Jn(t,{name:"Welcome"})}),new En("awaitWelcomeComplete","minigameComplete",e=>{var t;return((t=e.params)==null?void 0:t.minigameType)==="Welcome"}),new Bi("startIngress",(e,t)=>{Jn(t,{name:"Ingress"})}),new En("awaitIngressComplete","minigameComplete",e=>{var t;return((t=e.params)==null?void 0:t.minigameType)==="Ingress"})]),cheatIntro:()=>new us("cheatIntro",[new En("awaitWelcomeStart","minigameStarted",e=>{var t;return((t=e.params)==null?void 0:t.minigameType)==="Welcome"}),new ys({durationMin:.1}),new Bi("cheatWelcome",(e,t)=>{wa(t,{locationId:"aeiga_reika"}),t.exitMinigame()}),new ys({durationMin:.1}),new Bi("cheatIngress",(e,t)=>{_a(t,{characterId:"ingress_aeiga_reika_chaos_artificer",characterName:void 0,xpBonus:25,attributePoints:1,skillPoints:1,specPoints:1}),t.exitMinigame()})])};class Gd{constructor(){N(this,"trees");this.trees=Hd,this.trees?console.log(`BehTreeLib loaded ${Object.keys(this.trees).length} tree definitions.`):(console.error("BehTreeLib: Tree definitions not found."),this.trees={})}getTree(t){return this.trees[t]}}const Vd={startGame:{effects:[{key:"giveMaxResource",params:{resource:"gold",amount:1e3}},{key:"giveResource",params:{resource:"gold",amount:50}},{key:"giveMaxResource",params:{resource:"mana",amount:100}},{key:"discover",params:{key:"gold"}},{key:"discover",params:{key:"resources"}},{key:"discover",params:{key:"buildings"}},{key:"addResourceIncome",params:{resource:"gold",amount:10,source:"Council Funding"}},{key:"addResourceIncome",params:{resource:"mana",amount:1,source:"Innate"}},{key:"addCharacterByName",params:{characterId:"ingress_aeiga_reika_secret_seer"}},{key:"addCharacterByName",params:{characterId:"ingress_sequoiter_sky_pathfinder"}},{key:"discover",params:{key:"gold"}},{key:"discover",params:{key:"Castle"}},{key:"discover",params:{key:"Crew"}},{key:"discover",params:{key:"Debug"}},{key:"construct",params:{building:"meditation_chamber"}},{key:"startBehTree",params:{treeName:"introSequence"}},{key:"discoverAll",params:{}},{key:"giveSkillsAndSpecs",params:{}}]},giveAllSkillsAndSpecs:{effects:[{key:"giveAllSkillsAndSpecsEffect",params:{}}]},giveFirstCharAllSkills:{effects:[{key:"giveSkillsAndSpecs",params:{}}]}},Kd={},Yd={ingress_turfablie_scholarly_investigator:{name:"Theronin",gender:"male",fullImage:"ingress_char (16)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Master diviner Theronin is permanently temporally confused. He speaks of ancient mages as if they'll arrive tomorrow, and greets visitors as old friends, wishes them to be born soon. However knowledgeable he is, it takes, perhaps, a dedicated researcher to extract useful knowledge from a conversation with him.",keywords:["book","scroll","archive","lore","history","prophecy","vision","memory","echo","time","past","future","oracle","seer","sage","dream","fate","thread","mirror","clock","day","year","age","era","cycle","loop","paradox","riddle","truth","date","order","sequence","pattern","code","sign","omen","portent","glimpse","moment","instant","eternity","confusion","tangle","knot","maze","puzzle","answer","question","secret","key","door","path","way","guide","map","chart","calendar","diary","record","note","glyph","rune","symbol","mark","trace","clue","hint","wisdom","knowledge","mind","thought","plan","scheme","plot","story","tale","legend","myth","fact","fiction","research"],initialAttributes:{physique:2,strength:2,agility:1,constitution:2,senses:4,spirit:2,attunement:3,channeling:2,weaving:2,resilience:2,mind:2,knowledge:4,wisdom:3,ingenuity:3,willpower:4,social:2,composure:3,charisma:2,empathy:2,authority:2},initialSkills:{divination:{level:3,specializations:{retrocognition:2,psychometry:1}},magical_lore:{level:4,specializations:{arcane_history:2,runes:2}},investigation:{level:3,specializations:{archive_delving:2,counter_forgery:1}},analysis_logic:{level:2,specializations:{deductive_reasoning:2}},memory:{level:2,specializations:{eidetic_recall:1}},artistry:{level:1,specializations:{calligraphy:1}}}},ingress_turfablie_silver_tongue:{name:"Elariette",gender:"female",fullImage:"ingress_char",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Forging smiles rather than documents, Elariette conspired her way to 'temporary custodianship' of the failing Mages Guild, relying on Merchant Plaza's elite to build the web of proxy signatures. They took the guild's treasure, and it is little consolation that her authority is no longer borrowed.",keywords:["ledger","seal","charm","scroll","paper","book","ink","ring","room","deal","note","mark","code","key","name","token","vow","link","word","script","vault","sigil","grace","smile","tongue","voice","whisper","promise","contract","signature","quill","parchment","wax","ribbon","coin","debt","credit","receipt","invoice","letter","mirror","mask","veil","shadow","echo","glamour","facade","lip","tooth","eye","face","cheek","tear","laugh","jest","wit","pact","oath","bond","pledge","accord","treaty","terms","clause","deed","title","certificate","license","permit","favor","secret","rumor","gossip","truth","lie","tale","story","web","thread","knot","pearl","jewel","gold","silver","copper","purse","pouch","box","chest","coffer","treasury","vault","safe","lock","latch","hinge","door","window","curtain","drape","silk","velvet","satin","lace","perfume","scent","powder","rouge","paint","brush","glass","crystal","prism","candle","flame","smoke","ash","ember","glow","shine","gleam","shimmer","sparkle","glitter","beam","ray","halo","aura"],initialAttributes:{physique:2,strength:1,agility:2,constitution:2,senses:2,spirit:2,attunement:2,channeling:2,weaving:3,resilience:2,mind:2,knowledge:3,wisdom:3,ingenuity:2,willpower:3,social:2,composure:3,charisma:4,empathy:4,authority:3},initialSkills:{order_magic:{level:2,specializations:{illusions:1,mentalism:1}},magical_lore:{level:1,specializations:{arcane_history:1}},deception:{level:1,specializations:{bluffing:1,lying:1,impersonation:1}},persuasion:{level:4,specializations:{bargaining:2,oratory:2}},etiquette:{level:3,specializations:{merchant_guild_practices:2,mages_guild_protocols:1}},lore:{level:1,specializations:{customs:1}},navigation:{level:1,specializations:{cartography:1}}}},ingress_turfablie_arcane_engineer:{name:"Kolodin",gender:"male",fullImage:"ingress_char (17)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Kolodin, a former Artificer's Quarter tinkerer obsessed with merging magic and mechanics, was last seen passionately explaining a complex arcane conduit diagram to a departing council that never returned. He simply continued his work in the echoing halls, the de facto 'master' by virtue of being the only one still trying to make the old machinery whir.",keywords:["gear","steam","spark","cog","metal","gauge","circuit","glass","wire","map","glow","flame","oil","tool","light","pipe","coil","bolt","plan","clock","node","draft","arc","ring","flux"],initialAttributes:{physique:2,strength:2,agility:3,constitution:2,senses:2,spirit:2,attunement:3,channeling:2,weaving:3,resilience:2,mind:2,knowledge:4,wisdom:2,ingenuity:4,willpower:3,social:2,composure:2,charisma:1,empathy:2,authority:2},initialSkills:{magical_lore:{level:3,specializations:{arcane_principles:2,magical_item_analysis:2}},enchanting:{level:3,specializations:{implement_crafting:2,armament_enchanting:2}},engineering:{level:4,specializations:{clockwork:3}},artisanry:{level:1,specializations:{smithing:1}},spellcraft:{level:1,specializations:{}},performance:{level:1,specializations:{storytelling:1}}}},ingress_turfablie_wilderness_savant:{name:"Borie",gender:"female",fullImage:"ingress_char (7)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Borie, who once guided folk through wild mountain paths and understood the language of herbs, sought refuge in the crumbling Mages Guild during a particularly harsh season. The few remaining mages, unnerved by her untamed magic and quiet communion with the overgrowth, eventually drifted off, leaving her the sole keeper of its wild-growing heart.",keywords:["root","vine","moss","herb","leaf","wild","bark","staff","mud","seed","bud","path","branch","glade","shade","dew","fern","thorn","grove","soil","fog","flora","sap","pulse","wood"],initialAttributes:{physique:2,strength:3,agility:3,constitution:4,senses:4,spirit:2,attunement:3,channeling:3,weaving:2,resilience:2,mind:2,knowledge:2,wisdom:3,ingenuity:2,willpower:2,social:2,composure:1,charisma:2,empathy:3,authority:2},initialSkills:{nature_magic:{level:3,specializations:{verdant_call:2,beast_tongue:1,bloom:1}},alchemy:{level:3,specializations:{potions:2,toxicology:1}},survival:{level:4,specializations:{foraging:2,shelter_craft:1,water_procurement:1}},navigation:{level:2,specializations:{pathfinding:2}},lore:{level:1,specializations:{agriculture:1}},artisanry:{level:1,specializations:{woodworking:1}}}},ingress_turfablie_shadow_operative:{name:"Salezo",gender:"male",fullImage:"ingress_char (15)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Salezo, familiar with Turfblie's Undergalleries and the art of quiet entry, had been using the increasingly abandoned Mages Guild as a discreet haven. When its last official occupant vanished without a trace, Salezo found his unofficial residency had, by default, become an empty lordship.",keywords:["cloak","shadow","coin","key","lock","smoke","step","trap","ring","blade","mark","whisper","vault","grip","mask","dark","echo","gold","move","chain","watch","glint","path","flare","creed"],initialAttributes:{physique:2,strength:2,agility:4,constitution:3,senses:4,spirit:2,attunement:1,channeling:2,weaving:3,resilience:2,mind:2,knowledge:2,wisdom:2,ingenuity:3,willpower:3,social:2,composure:3,charisma:2,empathy:2,authority:2},initialSkills:{death_magic:{level:2,specializations:{shadowmancy:2}},order_magic:{level:1,specializations:{illusions:1}},stealth:{level:4,specializations:{sneaking:2,hiding:2}},legerdemain:{level:4,specializations:{lockpicking:2,sleight_of_hand:1,trap_handling:1}},perception:{level:2,specializations:{eagle_eye:1,bats_ear:1}},streetwise:{level:1,specializations:{gambling:1}}}},ingress_turfablie_stalwart_guardian:{name:"Astrid",gender:"female",fullImage:"ingress_char (14)",location:"turfablie",initialLevel:1,baseUpkeep:0,bio:"Formerly of the Highland Guard, Astrid was assigned to protect the Mages Guild eons ago, a duty she upheld even as its influence waned and its members departed one by one. Her unwavering vigil in the face of its decay left her the last soul within its walls, a sentinel guarding nothing but memories and dust.",keywords:["guard","sword","shield","oath","steel","honor","coin","watch","post","armor","badge","grit","duty","vigil","scar","rank","gold","line","edge","wall","grasp","blade","sigil","grace","rule"],initialAttributes:{physique:2,strength:4,agility:3,constitution:4,senses:3,spirit:2,attunement:2,channeling:2,weaving:2,resilience:3,mind:2,knowledge:2,wisdom:2,ingenuity:1,willpower:4,social:2,composure:2,charisma:2,empathy:2,authority:3},initialSkills:{life_magic:{level:3,specializations:{protection:2,restoration:1}},order_magic:{level:1,specializations:{abjuration:1}},defense:{level:4,specializations:{shields:2,armor:1,parrying:1}},melee_combat:{level:3,specializations:{one_handed_blades:2}},hardiness:{level:2,specializations:{pain_tolerance:1,stamina:1}},medicine:{level:1,specializations:{first_aid:2}},artisanry:{level:1,specializations:{leatherworking:1}}}}},Xd={ingress_aeiga_reika_secret_seer:{name:"Seraphina",gender:"female",fullImage:"ingress_char (10)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Seraphina once brokered secrets for Aeiga-Reika's powerfula key player in the false sulfur conspiracy. But a sensitive soul can only shake hands with murderers for so long. The coins, a thousand times touched, burned through her with the pain they witnessed. These days her Crystalline Parlor is closed. She reads the future still, but tells no one.",keywords:["crystal","sphere","orb","vision","future","prophecy","sight","seer","oracle","divination","psychometry","touch","memory","secret","whisper","truth","revelation","parlor","broker","information","conspiracy","sulfur","coin","burn","pain","essence","soul","sensitive","hand","palm","eye","veil","mirror","fate","fortune","read","glimpse","echo","imprint","residue","aura","gift","talent","knowledge","mystery","shadow","past","tomorrow","dream","trance","ritual","candle","incense","cards","tea","leaves","signs","omens","portent","scrying","gaze","third","hidden","unseen","beyond","within"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:4,spirit:2,attunement:3,channeling:2,weaving:3,resilience:2,mind:2,knowledge:3,wisdom:3,ingenuity:3,willpower:2,social:2,composure:4,charisma:2,empathy:3,leadership:1},initialSkills:{divination:{level:3,specializations:{psychometry:3}},investigation:{level:3,specializations:{archive_delving:2,information_brokering:2}},stealth:{level:3,specializations:{hiding:2,sneaking:2}},perception:{level:2,specializations:{eagle_eye:1}},insight:{level:2,specializations:{detecting_lies:1}},etiquette:{level:1,specializations:{noble_courts:1}},legerdemain:{level:1,specializations:{lockpicking:1}}}},ingress_aeiga_reika_nature_healer:{name:"Gulder",gender:"male",fullImage:"ingress_char (11)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"When the Coroner Pine escaped the guild's laboratory, only Gulder dared to approach. Rather than eradicate the plant, he protects it from the waves of Silica-Maw larvae the city council has been sending in ever since. Gulder magic accelerates their lifecycle and the majority turns into butterflies just before reaching the target.",keywords:["water","bucket","splash","leaf","green","bloom","root","herb","soil","moss","growth","plant","seed","life","stream","fountain","flow","wave","dew","branch","flora","pulse","drop","light","path","vine","sprout","petal","stem","bud","flower","grass","tree","fern","algae","lichen","fungus","mushroom","spore","pollen","nectar","sap","bark","thorn","berry","fruit","nut","garden","grove","meadow","spring","pool","pond","rain","mist","fog","spray","cure","balm","tonic","potion","salve","tea","brew","extract","essence","oil","nature","verdant","foliage","canopy","undergrowth","thicket","hedge","ivy","weed","irrigation","oasis","puddle","droplet","moisture","humidity","compost","mulch","fertilizer","larvae","butterfly","coroner","pine"],initialAttributes:{physique:2,strength:2,agility:2,constitution:3,senses:3,spirit:2,attunement:5,channeling:2,weaving:3,resilience:3,mind:2,knowledge:4,wisdom:3,ingenuity:2,willpower:2,social:2,composure:3,charisma:1,empathy:3,leadership:1},initialSkills:{nature_magic:{level:3,specializations:{verdant_call:3,bloom:2}},medicine:{level:3,specializations:{pharmacology:2,first_aid:1}},hardiness:{level:2,specializations:{acclimatization:2}},lore:{level:2,specializations:{agriculture:2,bestiary:1}},elemental_magic:{level:1,specializations:{hydromancy:1}},performance:{level:1,specializations:{singing:1}},magical_lore:{level:1,specializations:{arcane_principles:1}}}},ingress_aeiga_reika_chaos_artificer:{name:"Lyra",gender:"female",fullImage:"ingress_char (12)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Lyra was a promising, if volatile, apprentice in the Titan Assembly Hall, until her 'unauthorized experiments' became too disruptive. Finding the old guild hall was a stroke of luck, a private workshop far from prying eyes and stifling rules. She's been happily dismantling and 'improving' things in solitude.",keywords:["spark","gear","glow","tool","flame","metal","goggles","smoke","glint","bolt","wire","steam","coil","glass","blast","wrench","orb","fuse","pulse","fire","craft","brass","lamp","flare","core"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:3,spirit:2,attunement:3,channeling:4,weaving:4,resilience:1,mind:2,knowledge:3,wisdom:1,ingenuity:4,willpower:3,social:2,composure:1,charisma:2,empathy:2,leadership:1},initialSkills:{chaos_magic:{level:3,specializations:{twisting_fate:3}},engineering:{level:3,specializations:{clockwork:3}},magical_lore:{level:2,specializations:{magical_item_analysis:2}},legerdemain:{level:2,specializations:{sleight_of_hand:1,trap_handling:2}},stealth:{level:1,specializations:{sneaking:1}},artisanry:{level:1,specializations:{sculpture:1}},alchemy:{level:2,specializations:{incendiaries:2}}}},ingress_aeiga_reika_geomancer_engineer:{name:"Vane",gender:"male",fullImage:"ingress_char (13)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Vane once navigated Aeiga-Reika's hazardous steam tunnels, keeping the city's metal heart beating. When a tremor revealed the forgotten Mages Guild, its sturdy, defensible structure seemed a far better claim than his squalid bunk in the Soot Warrens. He's been alone, tinkering ever since.",keywords:["steam","gear","pipe","spark","metal","heat","flame","gauge","tool","grit","glow","wrench","bolt","lamp","oil","ring","wire","smoke","coal","mask","glint","fire","shaft","core","flux"],initialAttributes:{physique:3,strength:3,agility:3,constitution:4,senses:3,spirit:2,attunement:3,channeling:1,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:2,ingenuity:4,willpower:3,social:2,composure:1,charisma:1,empathy:1,leadership:2},initialSkills:{elemental_magic:{level:2,specializations:{geomancy:2}},engineering:{level:3,specializations:{hydraulics:2,clockwork:1}},labor:{level:2,specializations:{construction:2,hauling:1}},survival:{level:3,specializations:{urban_survival:2,hazard_recognition:2}},stealth:{level:1,specializations:{sneaking:1}},ranged_combat:{level:1,specializations:{throwing_weapons:1}},perception:{level:2,specializations:{serpent_s_skin:1}}}},ingress_aeiga_reika_grim_fighter:{name:"Marcaedro",gender:"male",fullImage:"ingress_char (9)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Marcaedro 'Grim' survived Aeiga-Reika's illegal golem fighting pits through shadow magic and brutal combat skills, known for dismantling constructs with hammer and fist. When a destroyed warehouse revealed a forgotten guild hall behind it, he claimed the defensible structure as his base. His fearsome reputation in the underworld ensures no one challenges his squatter's claim.",keywords:["fist","rage","shock","blood","spark","scar","grit","fury","iron","lash","wrath","fire","gloom","dark","shadow","vault","chain","core","burst","curse","mark","pain","clash","pulse","glare","squat","golem","pit"],initialAttributes:{physique:2,strength:4,agility:3,constitution:4,senses:2,spirit:2,attunement:2,channeling:3,weaving:1,resilience:4,mind:2,knowledge:1,wisdom:2,ingenuity:1,willpower:4,social:2,composure:3,charisma:1,empathy:1,leadership:3},initialSkills:{death_magic:{level:2,specializations:{shadowmancy:2}},melee_combat:{level:3,specializations:{one_handed_impact:3}},unarmed_combat:{level:3,specializations:{striking:2,grappling:1}},defense:{level:2,specializations:{dodging:2}},intimidation:{level:2,specializations:{presence:1,coercion:1}},streetwise:{level:1,specializations:{underworld_navigation:1}},provisions:{level:1,specializations:{butchery:1}}}},ingress_aeiga_reika_life_artisan:{name:"Meadowlight",gender:"female",fullImage:"ingress_char (8)",location:"aeiga_reika",initialLevel:1,baseUpkeep:0,bio:"Meadowlight came to Aeiga-Reika believing even industrial waste could bloom, her transmutation magic turning soot into prismatic crystals and rust into copper flowers. The crumbling guild hall became her canvas for strange beauty. She works alone, slowly transforming decay into art that both disturbs and enchants.",keywords:["bloom","crystal","rust","soot","flower","dust","glow","light","stone","petal","metal","aura","spark","charm","copper","grace","pulse","veil","shard","stem","flare","change","path","moss","hue"],initialAttributes:{physique:2,strength:1,agility:4,constitution:2,senses:2,spirit:2,attunement:4,channeling:2,weaving:4,resilience:2,mind:2,knowledge:2,wisdom:3,ingenuity:3,willpower:2,social:2,composure:2,charisma:4,empathy:3,leadership:2},initialSkills:{life_magic:{level:3,specializations:{blessings:3}},artisanry:{level:3,specializations:{woodworking:2,tailoring:2}},enchanting:{level:2,specializations:{imbuing:2}},persuasion:{level:2,specializations:{oratory:1,conflict_resolution:1}},commerce_trade:{level:1,specializations:{appraisal:1}},riding:{level:1,specializations:{equine_mounts:1}},performance:{level:2,specializations:{storytelling:1}}}}},Qd={ingress_sequoiter_mentalist_orator:{name:"Apenherz",gender:"male",fullImage:"ingress_char (4)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Apenherz's minor mental nudges convinced another guild to swap premises sight-unseen. They discovered too late their 'prestigious merchant quarter tower' was actually a condemned grain silo. His gift for making people see what they wanted to see had finally netted him a legitimate guild chartereven if some walls were falling apart.",keywords:["charm","trick","mind","spell","word","cloak","gold","voice","deal","mask","luck","wit","smile","illusion","coin","rune","tongue","sway","glamour","vow","smoke","echo","flare","whim","urge","charter","silver"],initialAttributes:{physique:2,strength:2,agility:3,constitution:2,senses:2,spirit:2,attunement:2,channeling:2,weaving:4,resilience:2,mind:2,knowledge:2,wisdom:2,ingenuity:3,willpower:2,social:2,composure:4,charisma:4,empathy:3,leadership:2},initialSkills:{order_magic:{level:3,specializations:{mentalism:4,illusions:1}},persuasion:{level:4,specializations:{oratory:4,bargaining:2}},deception:{level:2,specializations:{bluffing:3}},streetwise:{level:2,specializations:{gathering_rumors:2}},melee_combat:{level:1,specializations:{one_handed_blades:1}}}},ingress_sequoiter_life_pharmacist:{name:"Siliana",gender:"female",fullImage:"ingress_char (3)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Siliana started out as an expedition medic. The northland taught her potent remedies, but the cost of learning came due in blood and memories best left frozen. Now she is the sole ray of light in the otherwise dark abandoned guild hall, turning this ruin into a makeshift sanctuary.",keywords:["life","herb","light","blood","snow","ice","wound","heal","cure","balm","salve","elixir","potion","vial","flask","root","leaf","bloom","flower","aura","grace","faith","hope","prayer","spirit","pulse","breath","medic","doctor","nurse","remedy","medicine","tincture","mix","brew","frost","winter","north","memory","trauma","loss","grief","death","sanctuary","refuge","haven","shelter","glow","warmth","miracle","blessing","touch","care","bandage","stitch","plant","bottle","formula"],initialAttributes:{physique:2,strength:1,agility:2,constitution:3,senses:3,spirit:2,attunement:4,channeling:3,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:4,ingenuity:2,willpower:2,social:2,composure:2,charisma:2,empathy:4,leadership:1},initialSkills:{life_magic:{level:4,specializations:{restoration:4,blessings:2}},medicine:{level:3,specializations:{pharmacology:4,first_aid:2}},survival:{level:2,specializations:{foraging:3}},provisions:{level:1,specializations:{cooking:1}},defense:{level:1,specializations:{dodging:1}}}},ingress_sequoiter_spectral_investigator:{name:"Andraticus",gender:"male",fullImage:"ingress_char (5)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Andraticus was once a city archivist, his quiet obsession with Sequoiter's countless missing persons leading him to the forbidden arts of death magic. He established his 'guild' in a forgotten records hall as a grim sanctuary for communing with the lost, a pursuit that naturally discouraged any living company.",keywords:["ghost","soul","death","spirit","bone","shade","crypt","mist","void","curse","grave","dust","decay","lantern","cloak","skull","dark","spell","ash","whisper","rift","tomb","rot","echo","chill"],initialAttributes:{physique:2,strength:1,agility:2,constitution:1,senses:3,spirit:2,attunement:4,channeling:3,weaving:3,resilience:3,mind:2,knowledge:4,wisdom:3,ingenuity:2,willpower:4,social:2,composure:3,charisma:1,empathy:2,leadership:1},initialSkills:{death_magic:{level:3,specializations:{spectral_mastery:4}},investigation:{level:4,specializations:{archive_delving:4,forensics:2}},magical_lore:{level:2,specializations:{arcane_history:3}},lore:{level:2,specializations:{history:2}},meditation:{level:1,specializations:{introspection:1}}}},ingress_sequoiter_sky_pathfinder:{name:"Sayriga",gender:"female",fullImage:"ingress_char (2)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"Sayriga grew up navigating the treacherous northern wilderness, as her natural affinity for the sky and weather patterns manifested. She claimed an abandoned ruin as her 'guild' headquarters to offer her unique guiding services. Although not strictly a mages guild today, the premises have all necessary facilities, albeit in a state of disrepair.",keywords:["wind","sky","storm","snow","cloud","air","bird","frost","mist","ice","light","wing","gust","path","peak","glow","guide","flare","drift","ray","north","aura","spark","staff","call","weather"],initialAttributes:{physique:2,strength:2,agility:4,constitution:3,senses:4,spirit:2,attunement:3,channeling:2,weaving:2,resilience:3,mind:2,knowledge:1,wisdom:3,ingenuity:2,willpower:3,social:2,composure:3,charisma:2,empathy:2,leadership:2},initialSkills:{nature_magic:{level:3,specializations:{sky_dance:4}},navigation:{level:4,specializations:{pathfinding:4,star_guiding:2}},survival:{level:2,specializations:{shelter_craft:2,foraging:2}},perception:{level:2,specializations:{eagle_eye:2}},etiquette:{level:1,specializations:{mages_guild_protocols:1}}}},ingress_sequoiter_rune_enchanter:{name:"Astartia",gender:"female",fullImage:"ingress_char (1)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"A dedicated scholar consumed by the study of ancient runes, Astartia used her enchanting skills to craft scrolls to fund her research into Sequoiter's frozen history. One of her findings was the ruins of an old mages guild, which she promptly claimed as her base of operations. Initially far from the city, the recent rapid expansion now fully encompasses it.",keywords:["rune","scroll","ink","spell","book","glyph","charm","dust","paper","mind","frost","word","echo","map","lore","mark","light","sigil","code","focus","page","seal","ice","quill","vault"],initialAttributes:{physique:2,strength:1,agility:2,constitution:2,senses:3,spirit:2,attunement:3,channeling:3,weaving:4,resilience:3,mind:2,knowledge:4,wisdom:4,ingenuity:3,willpower:4,social:2,composure:2,charisma:1,empathy:1,leadership:1},initialSkills:{enchanting:{level:3,specializations:{scribing:4,imbuing:1}},magical_lore:{level:4,specializations:{runes:4,arcane_principles:2}},linguistics:{level:2,specializations:{ancient_languages:3}},alchemy:{level:1,specializations:{potions:2}},memory:{level:1,specializations:{eidetic_recall:1}}}},ingress_sequoiter_clockwork_geomancer:{name:"Borin",gender:"male",fullImage:"ingress_char (6)",location:"sequoiter",initialLevel:1,baseUpkeep:0,bio:"A master smith and tinkerer by trade, Borin found his knack for geomancy unexpectedly useful in reinforcing his workshop against Sequoiter's harsh elements. After a rival's 'accidental' magical mishap cleared out the competition and any apprentices, his sturdy workshop became the last 'guild' on the far bank of Frosteritz River standing by sheer resilience.",keywords:["stone","forge","metal","fire","hammer","anvil","rock","ice","armor","gem","smoke","steam","heat","earth","steel","gear","flame","coal","spark","wall","shield","grit","iron","dust","ore"],initialAttributes:{physique:3,strength:4,agility:2,constitution:4,senses:2,spirit:2,attunement:2,channeling:3,weaving:2,resilience:3,mind:2,knowledge:3,wisdom:2,ingenuity:4,willpower:3,social:2,composure:2,charisma:1,empathy:1,leadership:2},initialSkills:{elemental_magic:{level:3,specializations:{geomancy:4}},engineering:{level:4,specializations:{clockwork:4,hydraulics:2}},artisanry:{level:2,specializations:{smithing:3}},labor:{level:2,specializations:{construction:2}},provisions:{level:1,specializations:{baking_and_pastry:1}}}}},Jd={declutter:{effortMin:100,effortMax:2e3,reward:{clutterPerEffort:-.01},names:{byBuilding:{library:[{name:"Reshelve arcane tomes",skills:["magical_lore","athletics","memory"],intermediates:["Reaching for high-placed books using an enchanted stepladder","Finding the correct section using the celestial library index","Checking the tome's astral resonance for proper placement","Sorting by the Old Tongue's alphabetical order","Carefully clearing magically charged dust from covers","Recalling the exact forgotten shelf for {_OPTION1}","Disarming a minor {_OPTION2} ward on a restricted section book"],_OPTION1:["'Chronicles of the Unseen University'","'Planar Cartography: A Beginner's Folly'","'Golemetry Vol. IV: Advanced Servitude'","'Minor Hexes and Their Hilarious Consequences'","'The Art of Pyromantic Baking'"],_OPTION2:["stasis-lock","gravity-shift","alarm-shriek","temporary blindness","finger-trap"]},{name:"Sort misplaced scrolls",skills:["runes","legerdemain","memory"],intermediates:["Gathering scrolls from beneath dusty busts and forgotten lecterns","Identifying scroll scripts by their magical aura and ink type","Deciphering faded or intentionally obscured runic markers","Cross-referencing scroll serial numbers with the Master Scroll Registry","Handling brittle, ancient parchment with magically enhanced dexterity","Remembering the preferred containment cylinder for {_OPTION1} scrolls","Carefully unrolling a scroll that faintly hums with {_OPTION2} energy"],_OPTION1:["'Titan-Forged Prophecy'","elemental summoning","'Celestial Navigation Chart'","'Shadow Weaving Primer'","illusory script practice"],_OPTION2:["temporal distortion","arcane feedback","whispering secrets","protective glyphs","phantom script"]},{name:"Dust ancient grimoires",skills:["labor","magical_lore","hardiness"],intermediates:["Donning a filtration mask enchanted against arcane motes","Gently brushing centuries of magically-infused dust from leather bindings","Carefully turning brittle, age-yellowed pages whispering forgotten words","Recognizing the unique binding sigil of a grimoire from {_OPTION1}","Resisting the soporific enchantments woven into the dust of a {_OPTION2}-authored tome","Ensuring the structural integrity of delicate magical diagrams during cleaning"],_OPTION1:["The Alahan School of Illusion","The Bracada Academy of Sorcery","The Nighon Necromantic Institute","The Deyjan Heretical Archives","The Erathian Celestial College"],_OPTION2:["Archmage Eldrin the Sleepy","The Sandman's Apprentice","Professor Somnus","Lady Lethe of the Library","The Whisperwind Scribe"]},{name:"Organize research notes",skills:["magical_lore","memory","analysis_and_logic"],intermediates:["Sifting through stacks of hastily scribbled arcane theories and experimental results","Recalling the context of cryptic annotations and half-finished diagrams","Applying logical frameworks to categorize disparate magical concepts","Identifying subtle connections between a failed potion recipe and a successful warding spell","Cross-referencing findings with established principles of {_OPTION1}","Debating the ethical implications of a recently rediscovered {_OPTION2} ritual fragment"],_OPTION1:["sympathetic magic","aetheric dynamics","runic grammatology","planar resonance","golem consciousness studies"],_OPTION2:["soul transference","mana siphoning","familiar augmentation","temporal stutter","forbidden knowledge retrieval"]},{name:"Archive forgotten lore",skills:["magical_lore","history","memory","archive_delving"],intermediates:["Navigating the shifting corridors of the sub-archives using a dowsing rod","Recalling historical events to date unlabelled manuscripts","Sifting through millennia of tax records, royal decrees, and wizard duels","Identifying texts penned during the tumultuous {_OPTION1} era","Carefully handling artifacts that whisper tales of {_OPTION2} civilizations","Connecting fragmented prophecies to recent celestial alignments"],_OPTION1:["The Age of Silence","The War of the Elements","The Titan Uprising","The Founding of the Magic Guilds","The Great Spell Plague"],_OPTION2:["Ancient Kreegan","Lost Elven Kingdoms","Primordial Genie Empires","Forgotten Human Tribes","The Precursors"]},{name:"Clear reading nooks",skills:["labor","hospitality"],intermediates:["Gathering abandoned teacups, half-eaten mana biscuits, and discarded quills","Plumping enchanted cushions that gently massage the sitter","Adjusting everburning candles for optimal reading luminosity","Dispelling lingering {_OPTION1} auras from previous occupants","Restocking complimentary {_OPTION2} parchment and self-inking quills"],_OPTION1:["concentration","minor frustration","intellectual excitement","sleepiness","arcane static"],_OPTION2:["sound-dampening","thought-focusing","anti-distraction","page-turning","comfort-enhancing"]},{name:"Mend damaged bindings",skills:["leatherworking","scribing"],intermediates:["Selecting the appropriate grade of cured {_OPTION1} hide for repairs","Carefully stitching torn spines with silver thread and griffin sinew","Applying restorative alchemical solutions to brittle cover boards","Retooling faded gold leaf on intricate cover sigils","Replacing worn clasps made of {_OPTION2}","Meticulously matching the original scribe's calligraphic style for title restoration"],_OPTION1:["Basilisk","Dragon Whelp","Gorgon","Manticore","Cockatrice"],_OPTION2:["Moonstone","obsidian","enchanted brass","Dwarven Steel","Petrified Shadowwood"]},{name:"Catalog new acquisitions",skills:["magical_lore","memory","bookkeeping","appraisal"],intermediates:["Examining newly arrived tomes, scrolls, and minor magical curios","Appraising the arcane significance and potential dangers of each item","Assigning a unique chronomantic identification sigil","Entering acquisition details into the Grand Library Ledger of Holdings","Recalling similar items from the {_OPTION1} collection to avoid duplicates","Noting any unusual {_OPTION2} enchantments or curses on an item before shelving"],_OPTION1:["Solmyr's Personal Stash","The Astral Repository","Xeron's Banned Books","Archibald's Oddities","The Von Kessel Collection"],_OPTION2:["knowledge-stealing","truth-compelling","memory-enhancing","curiosity-piquing","warded against specific lineages"]},{name:"Silence whispering pages",skills:["order_magic","magical_lore","meditation"],intermediates:["Meditating to attune to the library's ambient thought-forms and echoes","Identifying the specific tomes resonating with disruptive psychic energy","Channeling calming Order magic to dampen errant magical vocalizations","Applying temporary silencing sigils to particularly chatty grimoires","Distinguishing between benign {_OPTION1} echoes and potentially sanity-eroding {_OPTION2} murmurs","Negotiating a quietude pact with a minor book elemental"],_OPTION1:["scholarly debates","recitations of ancient poetry","forgotten spell incantations","historical anecdotes","philosophical musings"],_OPTION2:["madness-inducing riddles","fear-mongering prophecies","soul-trapping verses","secret-revealing gossip","sanity-draining paradoxes"]},{name:"Banish errant bookmites",skills:["nature_magic","alchemy","monster_lore"],intermediates:["Identifying the specific species of bookmite: the common Page-Nibbler or the rarer Glyph-Eater","Brewing a non-damaging alchemical repellent using silverfish scales and moonpetal extract","Applying gentle Nature Magic to encourage the mites to vacate the premises peacefully","Consulting 'Monstrous Vermin and How to Annoy Them' for weaknesses of the {_OPTION1} variant","Setting miniature, magically baited traps using crystallized {_OPTION2}","Ensuring no valuable spell components are mistaken for mite food"],_OPTION1:["ink-sucking","parchment-devouring","binding-burrowing","rune-corrupting","story-stealing"],_OPTION2:["mana dust","powdered griffin feather","essence of boredom","dried nightshade berries","sweetened papyrus shreds"]},{name:"Decipher cryptic marginalia",skills:["magical_lore","cryptography","linguistics"],intermediates:["Examining faint, spidery scribbles in the margins of ancient texts","Applying advanced runic analysis to unknown symbols and glyphs","Using cryptographic techniques to break complex substitution ciphers","Consulting linguistic archives for archaic dialects and dead magical languages","Uncovering a hidden commentary from {_OPTION1}, a famously eccentric archmage","Realizing the marginalia forms a fragmented map to a hidden {_OPTION2}"],_OPTION1:["Archmage Horatio the Obfuscator","Loremaster Elara Meadowlight","The Mad Prophet of the Peaks","Grand Vizier Al'Zahid","Scribe Thoth-Amon"],_OPTION2:["spell component cache","forgotten laboratory","secret passage","powerful artifact","lost incantation"]},{name:"Restore faded ink on scrolls",skills:["scribing","alchemy","calligraphy"],intermediates:["Concocting an alchemical ink-revivifying solution using squid ink and powdered moonstone","Carefully applying the solution with a fine griffin-feather brush to faded script","Matching the original calligraphic style, whether {_OPTION1} or {_OPTION2}","Using artistic skill to meticulously recreate missing portions of intricate diagrams","Testing the solution on a sample of similarly aged, non-magical parchment","Ensuring the restored ink is magically inert and won't unexpectedly trigger latent spells"],_OPTION1:["Elegant Elven Script","Blocky Dwarven Runes","Flowing Celestial Glyphs","Angular Draconic Sigils","Archaic Human Cursive"],_OPTION2:["Ornate Kreegan Glyphs","Delicate Fairy Script","Practical Gnomish Print","Mysterious Titan Symbols","Common Trade Tongue"]},{name:"Update celestial charts",skills:["divination","cartography","magical_lore"],intermediates:["Consulting the Grand Orrery of Bracada, noting planetary alignments","Using divination spells like 'Star Gaze' to observe distant astral bodies and phenomena","Mapping newly identified comets, nebulae, and rogue planetoids","Cross-referencing observations with ancient prophecies tied to celestial events like {_OPTION1}","Noting the erratic trajectory of the wandering star known as {_OPTION2}","Calculating the magical influence of the newly charted 'Serpent's Coil' nebula"],_OPTION1:["'The Convergence of Moons'","'The Comet of Shifting Fates'","'The Dragon Star's Return'","'The Weeping Constellation'","'The Titan's Slumber'"],_OPTION2:["The Harbinger","The Guide","The Wanderer's Hope","The Doom Spark","The Eye of the Void"]},{name:"Cross-reference prophetic texts",skills:["divination","magical_lore","memory","pattern_recognition"],intermediates:["Gathering scrolls, tablets, and dream journals from various seers and oracles","Recalling key phrases and symbolic imagery from hundreds of disparate prophecies","Identifying recurring themes, such as 'the fall of the {_OPTION1}' or 'the rise of the {_OPTION2}'","Using divinatory tools like scrying bowls and tarot decks to clarify ambiguous verses","Finding alarming correlations between the prophecies of the Blind Seers of Deyja and recent elemental disturbances","Debating the multiple possible interpretations of the 'Twin-Tailed Comet' prophecy"],_OPTION1:["Ivory Towers","Golden Age","Silent Kings","Old Gods","Ancient Order"],_OPTION2:["Shadowed Hero","Fifth Element","forgotten magic","New Pantheon","Crimson Banner"]},{name:"Verify artifact authenticity",skills:["magical_item_analysis","counter_forgery","history"],intermediates:["Examining an artifact for anachronistic tool marks or material composition","Casting 'Analyze Dweomer' to scrutinize its magical signature, age, and aura","Checking for inconsistencies with historical records of similar {_OPTION1} artifacts","Detecting subtle signs of magical illusion or mundane forgery, like artificially aged patina","Comparing its craftsmanship to known works of the legendary Artificer {_OPTION2}","Uncovering evidence that it's a clever replica enchanted with a 'false history' glamour"],_OPTION1:["Titan-Era","Elven Old Kingdom","Dwarven Deep-Forge","Ancient Necropolis","Celestial Vault"],_OPTION2:["Galen the Golemancer","Lyra Starsinger","Borin Stonebeard","Archlich Mortis","Seraphina the Bright"]}],dining_hall:[{name:"Clear feasting tables",skills:["labor","hospitality","athletics"],intermediates:["Lifting heavy silver platters laden with leftover roasted griffin","Efficiently stacking enchanted, self-warming plates and goblets","Maintaining a polite smile while dodging hurried apprentices with armfuls of tankards","Nimbly navigating around spilled potions and dropped spell components","Carefully handling delicate {_OPTION1} crystal glassware, rumored to shatter at harsh words","Ensuring no enchanted {_OPTION2} cutlery is accidentally discarded with the bone pile"],_OPTION1:["Elven Star-Crystal","Dwarven Geode-Cut","Naga Sea-Glass","Celestial Ice","Gnomish Self-Polishing"],_OPTION2:["poison-detecting forks","flavor-enhancing spoons","never-dulling knives","temperature-regulating ladles","self-sorting sporks"]},{name:"Scrub away spilled potions",skills:["labor","alchemy","hardiness"],intermediates:["Identifying the nature of the spilled potion by its color, viscosity, and lingering magical scent","Applying an alchemical neutralizer paste to prevent floorboard corrosion or unexpected transmutations","Vigorously scrubbing stubborn, magically adhesive stains left by a Potion of {_OPTION1}","Enduring the noxious fumes from a bubbling puddle of a failed {_OPTION2} experiment","Carefully cleaning up shimmering residue from a spilled Elixir of Vigor that makes the cleaning rags twitch"],_OPTION1:["giant strength","invisibility","stickiness","giggling fits","minor polymorph"],_OPTION2:["universal solvent","'Love Potion #8.5'","youth restoration draught","instant darkness powder","anti-gravity brew"]},{name:"Polish tarnished goblets",skills:["labor","artisanry"],intermediates:["Selecting the correct alchemical polish for mithril, silver, or gold-plated goblets","Gently buffing away tarnish accumulated from magical residues and potent dwarven ales","Applying minor smithing techniques to smooth out dents from overly enthusiastic toasts","Admiring the restored gleam on a finely crafted {_OPTION1} ceremonial chalice","Carefully handling a set of goblets rumored to have been used by {_OPTION2} and still faintly humming"],_OPTION1:["Titanium-Alloyed","Adamantine-Inlaid","Orichalcum-Chased","Moon Silver","Dragonscale Embossed"],_OPTION2:["King Roland Ironfist","Queen Catherine Gryphonheart","Archmage Tarnum","Sandro the Necromancer","Lord Haart"]},{name:"Restock pantry supplies",skills:["labor","provisions","bookkeeping","logistics"],intermediates:["Checking pantry inventory levels against the enchanted 'Never-Empty Larder' ledger","Hauling heavy crates of sun-dried Hydra jerky and barrels of Dwarven ale","Organizing supplies using the 'First In, First Out, Unless Magically Preserved' system","Updating stock quantities in the Guild's meticulous provisioning scrolls","Noticing a critical shortage of {_OPTION1}, essential for the Archmage's favorite tea","Arranging for an expedited shipment of {_OPTION2} from the halfling trading caravans"],_OPTION1:["dragon peppers","Moon Sugar crystals","phoenix ash flakes","shadow truffles","star anise pods"],_OPTION2:["griffin eggs","spiced wyvern sausages","'Beholder Eye Caviar'","mandrake root","Sunstone Flour"]},{name:"Sweep up crumbs and ectoplasm",skills:["spectral_mastery"],intermediates:["Sweeping stone floors with a broom made of enchanted basilisk whiskers","Carefully collecting residual ectoplasmic slime from recent ghostly visitations or failed summoning attempts","Applying minor binding charms to contain wisps of sentient dust motes","Disposing of crumbs from the notoriously messy {_OPTION1} pastries","Neutralizing a patch of particularly stubborn, shimmering {_OPTION2} residue that giggles when disturbed"],_OPTION1:["Goblin Rock Cakes","Orcish Meat Pies","Halfling Honey Buns","Wizard's Mana Muffins","Elf-Leaf Crackers"],_OPTION2:["poltergeist goo","failed illusion slime","elemental seepage","astral jelly","emotional residue"]},{name:"Wash mountains of dishes",skills:["labor","stamina","provisions"],intermediates:["Scrubbing endlessly at food-caked plates, cauldron-sized pots, and tankards sticky with potent brews","Enduring the monotonous rhythm, occasionally broken by a dish attempting to float away","Ensuring all kitchenware is hygienically cleansed with magically heated water","Carefully washing the Head Sorceress's personal {_OPTION1} scrying bowl used as a soup tureen","Discovering a runic inscription at the bottom of a {_OPTION2} platter that translates to 'Wash Me Properly Or Suffer Mild Indigestion'"],_OPTION1:["obsidian","jadeite","Silvered Moonstone","enchanted clay","self-cleaning"],_OPTION2:["Dwarven Feasting","Elven Ceremonial","Orcish War-Table","Gnomish Trick","Titan-Sized"]},{name:"Organize cutlery and plates",skills:["labor","provisions","memory","hospitality"],intermediates:["Sorting the myriad types of forks, knives, spoons, and sporks","Stacking plates by material: ceramic, pewter, silver, and the occasionally vibrating obsidian","Recalling the designated, magically warded drawers and cabinets for each item set","Ensuring easy access for the often-flustered kitchen servitors and apprentices","Polishing the ceremonial {_OPTION1} cutlery set, reserved for visiting dignitaries","Placing the {_OPTION2} plates, known for their delicate enchantments, into their silk-lined, stasis-field storage box"],_OPTION1:["Dragonbone-Handled","Mithril-Filigreed","Star Metal","Elven Ancestral Silver","Titan-Forged Gold"],_OPTION2:["scrying","self-repairing","warded against poison","history-recording","mood-enhancing"]},{name:"Dispose of leftover rations",skills:["labor","provisions"],intermediates:["Sorting edible scraps from truly inedible magical byproducts and failed experiments","Transporting organic waste to the magically accelerated compost heap guarded by a grumpy earth elemental","Applying minor preservation spells to salvageable foodstuffs for the less discerning guild members","Feeding leftover roasted {_OPTION1} bones to the kennel master's hell hounds","Using spoiled {_OPTION2} potions to fertilize the carnivorous plant garden"],_OPTION1:["Minotaur","Cockatrice","Wyvern","Gargoyle","Basilisk"],_OPTION2:["growth","healing","fertility","herbalism","mana regeneration"]},{name:"Ventilate lingering food odors",skills:["aeromancy","engineering"],intermediates:["Manually cranking open the magically sealed ventilation shafts in the high ceiling","Casting 'Gust of Wind' and 'Air Bubble' spells to create specific air currents towards exhaust ports","Checking and cleaning the elemental-bound air filtration runes that trap grease and magical fumes","Dispelling the particularly potent and lingering aroma of last night's {_OPTION1} stew","Adjusting the arcane-powered directional fans to counteract the smell of burnt {_OPTION2} from a kitchen mishap"],_OPTION1:["'Kreegan Hell-Pepper Surprise'","'Dwarven Garlic Kraken Surprise'","'Ogre Onion and Bog Fungus Surprise'","'Goblin Mystery Meat Goulash'","'Naga Spicy Eel Surprise'"],_OPTION2:["'Potion of Invisibility'","'Pixie Pie'","scorched dragonfruit tarts","experimental mana cookies","alchemical cheese"]},{name:"Reset table settings",skills:["hospitality","etiquette","memory"],intermediates:["Spreading freshly laundered tablecloths imbued with anti-stain enchantments","Arranging cutlery according to the complex Tower Dining Etiquette, Section IV, Subsection B","Recalling the preferred seating arrangements and dietary restrictions for senior mages and their familiars","Folding napkins into impressive {_OPTION1} shapes that occasionally animate","Ensuring each place setting has a chilled goblet of magically purified {_OPTION2} water, sometimes flavored with illusionary fruit"],_OPTION1:["Origami Dragons","Folded Phoenixes","Miniature Golems","Wizard Hat Creases","Abstract Runic Symbols"],_OPTION2:["spring","mountain glacier melt","rain harvested from storm clouds","elemental-infused","blessed fountain"]},{name:"Brew restorative teas",skills:["pharmacology","alchemy","life_magic","nature_magic"],intermediates:["Selecting specific herbs like Sunpetal, Moonleaf, and powdered Griffin Claw for their magical properties","Grinding ingredients with an enchanted silver mortar and pestle that hums softly","Infusing the brew with gentle Life Magic to enhance its healing and calming effects","Consulting ancient pharmacological scrolls for precise brewing times and temperatures","Brewing a large batch of {_OPTION1} tea, known for enhancing mental acuity before exams","Preparing a special {_OPTION2} infusion for the Head Librarian, who suffers from chronic paper-induced stress"],_OPTION1:["'Mind-Focus Mint'","'Sage's Serenity Brew'","'Scholar's Spark Leaf'","'Memory Moss Medley'","'Clarity Comfrey Concoction'"],_OPTION2:["'Sunpetal Salve Tea'","'Moonpetal Panacea Brew'","'Lifebloom Essence Infusion'","'Spiritmender Tincture Tea'","'Vitality Vine Elixir'"]},{name:"Prepare enchanted appetizers",skills:["refined_palate","cooking","enchanting"],intermediates:["Selecting exotic and magically reactive ingredients like shimmercap mushrooms and sun-ripened mana berries","Imbuing foodstuffs with minor beneficial enchantments such as 'Enhanced Flavor' or 'Temporary Wit'","Balancing complex flavors to satisfy the discerning palates of archmages and visiting efreeti","Artistically arranging appetizers on platters that may levitate or display minor illusions","Creating shimmering {_OPTION1} canaps that change color based on the diner's mood","Garnishing the {_OPTION2} puffs with edible glitter that whispers compliments to the eater"],_OPTION1:["levitating cheese cubes","color-changing fruit skewers","truth-serum olives","luck-infusing mini-quiches","comprehend languages crackers"],_OPTION2:["Mana-Infused Gougres","Dragonfruit and Feta Bites","Phoenix Egg Tartlets","Glowshroom Pt","Crystalized Honey Dewdrops"]},{name:"Chill beverages with ice magic",skills:["hydromancy","hospitality"],intermediates:["Focusing hydromantic energy to precisely lower the temperature of various beverages","Shaping conjured ice into decorative forms like miniature ice elementals or frozen runes for drink pitchers","Ensuring beverages are chilled to perfection without accidentally flash-freezing the entire punch bowl","Chilling the visiting Dwarven Thane's notoriously strong {_OPTION1} ale to his exact specifications","Creating elaborate ice sculptures of {_OPTION2} to adorn the dessert table, which sometimes melt into tiny water weirds"],_OPTION1:["'Firebrandy Ale'","'Cave Bear Stout'","'Mithril Mead'","'Magma Rock Lager'","'Deep Iron Porter'"],_OPTION2:["Ice Griffins","Frozen Phoenixes","Crystalline Golems","Glacial Serpents","Frosty Fairies"]},{name:"Ensure proper dining etiquette",skills:["leadership","insight","mages_guild_protocols"],intermediates:["Subtly observing diners for breaches in the Tower's extensive Code of Conduct","Discreetly correcting misbehaving apprentices attempting to levitate peas into each other's mouths","Intervening with tact when arcane debates at the table threaten to escalate into actual spell-slinging","Recalling the specific dining customs and forbidden topics for visiting {_OPTION1} ambassadors","Quietly reminding a junior mage that practicing {_OPTION2} spells on the table settings is frowned upon, especially if it animates the cutlery"],_OPTION1:["Elven Loremaster from Eeofol","Dwarven Runelord from Stonehelm","Naga Sorceress from the Shifting Isles","Efreeti Sultan from the Plane of Fire","Titan Emissary from the Cloud Cities"],_OPTION2:["transmutation","minor illusion","pyromancy","telekinesis","chronomancy"]},{name:"Cleanse haunted serving platters",skills:["life_magic","abjuration","spectral_mastery"],intermediates:["Identifying the nature of the spectral entities clinging to platters  usually disgruntled former kitchen staff or food critics","Applying gentle Death Magic persuasions to encourage lingering spirits to move on to the Great Buffet Beyond","Using Life Magic to purify residual negative energy and phantom food stains","Casting minor Abjuration wards, like 'Banish Bored Ghost', to prevent re-haunting","Attempting to communicate with a stubborn spirit of a former {_OPTION1} chef who insists his recipes are still being butchered","Carefully scrubbing away a particularly tenacious {_OPTION2} residue that moans dramatically when touched with soap"],_OPTION1:["halfling pastry","orcish barbecue","gnomish experimental","elven vegetarian","dwarven ale-brewing"],_OPTION2:["ectoplasmic grease","soul-stain souffl","spectral gravy remnants","phantom food particles","weeping shadow sauce"]}],workshop:[{name:"Sort crafting components",skills:["artisanry","legerdemain","memory","magical_item_analysis"],intermediates:["Sifting through a pile of {_OPTION0} cogs","Separating shimmering {_OPTION1} scales from dull iron ingots","Remembering the precise storage rune for {_OPTION2} crystals","Checking component integrity using a {_OPTION3} monocle","Placing volatile {_OPTION4} essences into stasis jars","Wondering if this {_OPTION5} piece is for a golem or a siege weapon"],_OPTION0:["brass","clockwork","mithril","obsidian"],_OPTION1:["dragon","griffin","basilisk","wyvern"],_OPTION2:["mana","fire","ice","shadow"],_OPTION3:["magnifying","analytical","divination","truth-seeing"],_OPTION4:["elemental","chaotic","astral","necrotic"],_OPTION5:["curved","spiked","glowing","humming"]},{name:"Clear jammed workbenches",skills:["clockwork","smithing"],intermediates:["Wrestling with a stuck {_OPTION0} lever","Dislodging a bent {_OPTION1} gear","Applying {_OPTION2} lubricant to grinding mechanisms","Carefully extracting a half-finished {_OPTION3} automaton arm","Hammering a warped {_OPTION4} metal plate back into shape","Muttering about apprentices leaving {_OPTION5} projects unfinished"],_OPTION0:["hydraulic","ratcheting","counter-weighted","arcane-powered"],_OPTION1:["chrono-","perpetual motion","steam-driven","harmonic"],_OPTION2:["troll fat","refined quicksilver","ectoplasmic slime","dragon's tear oil"],_OPTION3:["guardian","scout","artisan","battle"],_OPTION4:["titanium","adamantine","steel","bronze"],_OPTION5:["self-winding","ever-glowing","sound-dampening","anti-gravity"]},{name:"Sharpen and store tools",skills:["smithing","woodworking","labor"],intermediates:["Grinding a {_OPTION0} chisel on a whetstone","Applying {_OPTION1} oil to prevent rust on saw blades","Hanging hammers and mallets on the {_OPTION2} rack","Testing the edge of a newly sharpened {_OPTION3} plane","Organizing fine carving tools by {_OPTION4} type","Ensuring all {_OPTION5} implements are properly sheathed"],_OPTION0:["woodworking","stone-carving","ice-sculpting","bone-crafting"],_OPTION1:["dwarven honing","elfin preserving","goblin anti-rust","orcish sharpening"],_OPTION2:["magnetic","pegboard","shadow-bound","levitating"],_OPTION3:["dragonbone","obsidian","meteorite steel","enchanted steel"],_OPTION4:["gnomish precision","human utility","ogre strength","pixie finesse"],_OPTION5:["bladed","pointed","magically imbued","self-repairing"]},{name:"Dispose of failed inventions",skills:["labor","engineering","risk_assessment","alchemy"],intermediates:["Carefully dismantling a sputtering {_OPTION0} device","Assessing the instability of a cracked {_OPTION1} orb","Neutralizing residual magic from a failed {_OPTION2} amulet","Hauling away the wreckage of an exploded {_OPTION3} clockwork servant","Consulting the 'Manual of Catastrophic Failures' for proper disposal of {_OPTION4} residue","Trying not to inhale the fumes from a melted {_OPTION5} prototype"],_OPTION0:["self-stirring cauldron","automated shoe-tyer","portable black hole generator","universal translator"],_OPTION1:["scrying","weather control","gravity-defying","soul-trapping"],_OPTION2:["invisibility","flight","fire-breathing","teleportation"],_OPTION3:["tea-serving","book-fetching","guard","dueling"],_OPTION4:["alchemical","chronomatic","dimensional","ethereal"],_OPTION5:["self-folding map","everlasting gobstopper","portable bridge construct","dream recorder"]},{name:"Organize blueprints and schematics",skills:["artisanry","engineering","memory","cartography"],intermediates:["Unrolling a dusty schematic for a {_OPTION0} golem","Comparing different versions of the {_OPTION1} siege engine plans","Filing away diagrams of intricate {_OPTION2} clockwork mechanisms","Trying to decipher faded annotations on a {_OPTION3} blueprint","Cross-referencing material requirements for a {_OPTION4} construct","Pinning the master plan for the new {_OPTION5} observatory wing"],_OPTION0:["stone","iron","obsidian","diamond"],_OPTION1:["ballista","catapult","trebuchet","battering ram"],_OPTION2:["time-keeping","navigational","defensive","automated"],_OPTION3:["ancient Titan","experimental gnomish","captured enemy","forgotten Archmage's"],_OPTION4:["scrying eye","mechanical bird","walking tower","arcane cannon"],_OPTION5:["astral","elemental","chronomancy","divination"]},{name:"Sweep metal shavings and wood chips",skills:["labor","artisanry","cleaning"],intermediates:["Gathering glittering {_OPTION0} filings with a stiff broom","Collecting piles of fragrant {_OPTION1} shavings","Avoiding a sentient pile of {_OPTION2} dust bunnies","Emptying the collection bin into the {_OPTION3} recycler","Finding a lost {_OPTION4} gear amidst the debris","Wishing for a cleaning {_OPTION5} construct to do this"],_OPTION0:["mithril","adamantine","copper","silver"],_OPTION1:["oak","pine","ironwood","petrified wood"],_OPTION2:["arcane","chiming","chittering","glowing"],_OPTION3:["elemental","magical","steam-powered","transmutation"],_OPTION4:["clockwork","tiny","rune-etched","iridescent"],_OPTION5:["sweeping","dust-devouring","self-polishing","all-purpose"]},{name:"Recycle scrap materials",skills:["transmutation","smithing"],intermediates:["Melting down bent {_OPTION0} ingots in the forge","Using transmutation spells to purify mixed {_OPTION1} metals","Sorting usable {_OPTION2} gears from broken ones","Breaking down damaged {_OPTION3} constructs for parts","Rebinding {_OPTION4} elemental essences from discarded items","Hoping the recycling rune doesn't turn everything into {_OPTION5}"],_OPTION0:["iron","steel","bronze","gold"],_OPTION1:["arcane","common","precious","volatile"],_OPTION2:["brass","iron","clockwork","miniature"],_OPTION3:["guardian","worker","scout","experimental"],_OPTION4:["fire","water","air","earth"],_OPTION5:["lead","cheese","sentient sludge","butterflies"]},{name:"Restock common reagents",skills:["artisanry","alchemy","bookkeeping","magical_lore"],intermediates:["Checking inventory levels of {_OPTION0} dust","Ordering a new shipment of {_OPTION1} crystals","Refilling jars of powdered {_OPTION2} horn","Ensuring there's enough quicksilver for {_OPTION3} enchantments","Updating the ledger for {_OPTION4} oil purchases","Polishing the {_OPTION5} containers for the reagents"],_OPTION0:["pixie","dragon scale","mummy","star"],_OPTION1:["mana","focusing","amplification","warding"],_OPTION2:["unicorn","dragon","minotaur","demon"],_OPTION3:["weapon","armor","tool","golem"],_OPTION4:["snake","elemental","blessed","cursed"],_OPTION5:["glass","ceramic","silver","ebony"]},{name:"Ventilate smithy smoke",skills:["labor","aeromancy","engineering","pyromancy"],intermediates:["Opening the large {_OPTION0} chimney flue","Casting a minor {_OPTION1} whirlwind to clear the air","Checking the directional {_OPTION2} fans for blockages","Adjusting the {_OPTION3} bellows to control airflow to the forge","Making sure the smoke doesn't annoy the {_OPTION4} gargoyles","Clearing soot from the {_OPTION5} ventilation grates"],_OPTION0:["stone","copper","iron","magically enhanced"],_OPTION1:["zephyr","gust","cyclone","breeze"],_OPTION2:["extraction","circulation","purification","cooling"],_OPTION3:["great forge","smelting","tempering","enchanting"],_OPTION4:["rooftop","sentinel","grumpy old","newly awakened"],_OPTION5:["ceiling","wall-mounted","floor-level","rune-inscribed"]},{name:"Secure volatile contraptions",skills:["clockwork","trap_handling","risk_assessment"],intermediates:["Reinforcing the casing of a humming {_OPTION0} device","Applying dampening runes to a vibrating {_OPTION1} core","Setting up a stasis field around an unstable {_OPTION2} prototype","Checking the fail-safes on a potentially explosive {_OPTION3} engine","Carefully moving a {_OPTION4} ticking construct to the reinforced vault","Placing 'Do Not Touch Unless You Enjoy {_OPTION5}' signs"],_OPTION0:["reality-warping","time-bending","soul-powered","chaos-fueled"],_OPTION1:["arcane","elemental","void","clockwork"],_OPTION2:["teleporter","miniature sun","anti-magic field generator","weather machine"],_OPTION3:["infernal","astral","steam-powered doom","perpetual motion"],_OPTION4:["menacingly","erratically","ominously","rhythmically"],_OPTION5:["explosions","implosions","paradoxes","being turned inside out"]},{name:"Calibrate arcane measuring devices",skills:["enchanting","magical_item_analysis","arcane_principles","engineering"],intermediates:["Adjusting the lenses of an {_OPTION0} aetheric scanner","Tuning the resonant frequency of a {_OPTION1} mana-meter","Cross-referencing readings with a {_OPTION2} master chronometer","Recalibrating the ley-line {_OPTION3} detector against the Astral Convergence","Fine-tuning the sensitivity of the {_OPTION4} psychometric calipers","Ensuring the {_OPTION5} null-field generator is perfectly balanced"],_OPTION0:["portable","benchtop","long-range","multi-dimensional"],_OPTION1:["crystal","mercurial","harmonic","bio-luminescent"],_OPTION2:["atomic","celestial","sand-based","water-clock"],_OPTION3:["triangulation","harmonic","divinatory","geodetic"],_OPTION4:["aura-sensitive","artifact-analyzing","soul-weighing","thought-measuring"],_OPTION5:["anti-magic","anti-gravity","anti-entropy","anti-noise"]},{name:"Test newly crafted wands",skills:["implement_crafting","spellcraft","magical_item_analysis"],intermediates:["Channeling a {_OPTION0} spark through a rowan wand","Checking the focus of a crystal-tipped {_OPTION1} scepter","Measuring the {_OPTION2} output of an ebony staff","Ensuring a bone wand doesn't {_OPTION3} unexpectedly","Comparing the new wand's performance to the 'Standard {_OPTION4} Bolt' test","Feeling the {_OPTION5} hum of a well-made implement"],_OPTION0:["minor healing","cantrip-level fire","illusory","detect magic"],_OPTION1:["fireball","ice shard","lightning bolt","magic missile"],_OPTION2:["mana efficiency","spell power","range","casting speed"],_OPTION3:["backfire","summon imps","change color","sing opera"],_OPTION4:["Apprentice's","Adept's","Master's","Archmage's"],_OPTION5:["gentle","powerful","barely perceptible","resonating"]},{name:"Temper enchanted blades",skills:["smithing","armament_enchanting","pyromancy"],intermediates:["Heating a {_OPTION0} longsword in the dragon's breath forge","Quenching the glowing blade in {_OPTION1} oil","Listening for the characteristic {_OPTION2} ring of perfectly tempered metal","Infusing the steel with {_OPTION3} enchantments during the cooling process","Checking the blade's edge for {_OPTION4} sharpness and durability","Admiring the faint {_OPTION5} runes now glowing on the blade"],_OPTION0:["mithril","adamantine","obsidian","star-metal"],_OPTION1:["phoenix tear","griffin blood","blessed water","quicksilver"],_OPTION2:["celestial","infernal","harmonic","ethereal"],_OPTION3:["flaming","frost","vampiric","holy"],_OPTION4:["supernatural","razor","unearthly","adamantine-like"],_OPTION5:["protective","destructive","enhancing","binding"]},{name:"Repair damaged siege engine parts",skills:["siege_weaponry","smithing","engineering","woodworking"],intermediates:["Welding a cracked {_OPTION0} support beam for a catapult","Replacing frayed {_OPTION1} torsion ropes on a ballista","Reinforcing the {_OPTION2} arm of a trebuchet","Patching holes in the {_OPTION3} ammunition hopper","Checking the alignment of the {_OPTION4} targeting mechanism","Applying {_OPTION5} grease to the siege engine's moving parts"],_OPTION0:["ironwood","steel","bronze","stone"],_OPTION1:["dragon sinew","giant hair","ironwood fiber","enchanted silk"],_OPTION2:["throwing","counterweight","launching","main"],_OPTION3:["stone","flaming pitch","plague victim body","rune-inscribed"],_OPTION4:["arcane","optical","mechanical","magical"],_OPTION5:["troll","ogre","golem","dwarven"]},{name:"Assemble golem components",skills:["binding","smithing","magical_lore","clockwork"],intermediates:["Attaching a {_OPTION0} arm to a stone torso","Wiring the {_OPTION1} core into an iron golem's chest cavity","Etching binding runes onto a {_OPTION2} head","Calibrating the {_OPTION3} leg actuators for a brass golem","Consulting ancient texts for the correct {_OPTION4} activation sequence","Hoping this golem doesn't develop {_OPTION5} sentience and rebel"],_OPTION0:["massive stone","articulated metal","clockwork","crystal"],_OPTION1:["elemental","arcane","soulstone","clockwork heart"],_OPTION2:["diamond","obsidian","clay","bone"],_OPTION3:["hydraulic","steam-powered","magically driven","clockwork"],_OPTION4:["elemental","arcane","divine","forbidden"],_OPTION5:["unexpected","problematic","philosophical","artistic"]}],alchemists_lab:[{name:"Scrub alchemical stains",skills:["labor","alchemy","stamina"],intermediates:["Applying {_OPTION0} solvent to a bubbling purple stain","Scraping hardened {_OPTION1} residue from the stone floor","Wearing protective {_OPTION2} gloves against corrosive spills","Neutralizing an iridescent shimmer left by a {_OPTION3} potion","Trying not to identify the stain from the 'Forbidden {_OPTION4} Experiments' chapter","Wondering if this stain will eventually eat through the {_OPTION5}"],_OPTION0:["universal","dragon's breath","pixie tear","concentrated"],_OPTION1:["mercurial","sulfurous","phosphorescent","crystallized"],_OPTION2:["wyvern hide","golem-plated","enchanted silk","transmuted rubber"],_OPTION3:["invisibility","transmutation","polymorph","luck"],_OPTION4:["Flesh-warping","Soul-binding","Reality-bending","Time-altering"],_OPTION5:["workbench","floor","cauldron","alchemist"]},{name:"Dispose of volatile concoctions",skills:["incendiaries","risk_assessment","labor"],intermediates:["Carefully carrying a {_OPTION0} smoking beaker to the disposal unit","Diluting a highly reactive {_OPTION1} mixture with inert sand","Pouring a fizzing {_OPTION2} liquid into a lead-lined container","Consulting the 'Volatile Waste Protocol' for handling {_OPTION3} fluids","Making sure the {_OPTION4} neutralizing agent is on hand","Hoping the disposal chute doesn't lead directly to the {_OPTION5} breeding grounds"],_OPTION0:["gently","rapidly","ominously","colorfully"],_OPTION1:["self-igniting","rapidly expanding","reality-distorting","soul-devouring"],_OPTION2:["acidic","explosive","mutagenic","necrotic"],_OPTION3:["unstable","glowing","whispering","phase-shifting"],_OPTION4:["universal","anti-magic","elemental dampening","bio-hazard"],_OPTION5:["Ooze","Slime","Imp","Gremlin"]},{name:"Organize potion vials by potency",skills:["potions","memory","magical_item_analysis"],intermediates:["Reading the faint {_OPTION0} aura of a minor healing potion","Comparing the viscosity of a {_OPTION1} strength elixir to a greater one","Arranging {_OPTION2} mana potions from weakest to 'might explode' strength","Checking labels for {_OPTION3} symbols indicating potency levels","Remembering that the {_OPTION4} potion goes on the 'Extremely Dangerous' shelf","Sniffing a vial of {_OPTION5} and immediately regretting it"],_OPTION0:["healing","protective","enhancing","damaging"],_OPTION1:["giant's","ogre's","troll's","dragon's"],_OPTION2:["blue","sparkling","effervescent","glowing"],_OPTION3:["alchemical","runic","astrological","color-coded"],_OPTION4:["Polymorph Self (Unstable)","Instant Death (Probably)","Wish (Definitely Not)","Love Potion No. 9"],_OPTION5:["Berserker Rage","Sleeping Draught of the Unwaking","Potion of Blinding Speed","Elixir of Questionable Sanity"]},{name:"Clean beakers and retorts",skills:["labor","alchemy","hospitality"],intermediates:["Using a {_OPTION0} brush to scrub residue from a tall beaker","Rinsing a spherical {_OPTION1} retort with purified water","Polishing a crystal {_OPTION2} flask until it shines","Ensuring no cross-contamination between {_OPTION3} experiments","Sterilizing equipment in an {_OPTION4} autoclave","Wondering if the Head Alchemist will notice the {_OPTION5} retort being used for tea"],_OPTION0:["bristle","enchanted","self-cleaning","acid-resistant"],_OPTION1:["distillation","reflux","alembic","Cucurbit"],_OPTION2:["Erlenmeyer","volumetric","Florence","graduated"],_OPTION3:["transmutation","healing","poison","explosive"],_OPTION4:["magical","steam-powered","sonic","UV light"],_OPTION5:["rare perfectly balanced","slightly chipped","borrowed","surprisingly clean"]},{name:"Restock common ingredients",skills:["alchemy","bookkeeping","foraging","pharmacology"],intermediates:["Counting jars of dried {_OPTION0} root","Refilling bins of powdered {_OPTION1} claw","Noting the low supply of {_OPTION2} petals","Checking the freshness of preserved {_OPTION3} eyes","Updating the inventory for {_OPTION4} dew","Making sure the {_OPTION5} spores are kept in a sealed container"],_OPTION0:["mandrake","belladonna","ginseng","nightshade"],_OPTION1:["griffin","manticore","basilisk","harpy"],_OPTION2:["moonflower","sunpetal","dreamfoil","bloodrose"],_OPTION3:["newt","spider","beholder","kraken"],_OPTION4:["morning","shadow","celestial","phoenix"],_OPTION5:["glowing mushroom","puffball","shrieker","ascomoid"]},{name:"Label unidentified substances",skills:["toxicology","magical_item_analysis","runes"],intermediates:["Cautiously sniffing a flask containing a {_OPTION0} purple liquid","Using a 'Detect Poison' spell on a bubbling {_OPTION1} green goo","Applying a temporary {_OPTION2} rune for 'Potentially Explosive'","Consulting the 'Compendium of {_OPTION3} Oddities' for a match","Trying to decipher a faded label that might say '{_OPTION4}' or '{_OPTION5}'","Marking one vial 'Definitely Not {_OPTION6}'"],_OPTION0:["glowing","viscous","fuming","pulsating"],_OPTION1:["translucent","opaque","sparkling","slimy"],_OPTION2:["warning","containment","identification","neutralizing"],_OPTION3:["Alchemical","Unknown","Forgotten","Dangerous"],_OPTION4:["Dragon's Blood","Elixir of Life","Potion of Youth","Universal Solvent"],_OPTION5:["Dragon's Snot","Elixir of Lice","Potion of Youts","Universal Insolvency"],_OPTION6:["Drinkable","Safe","Edible","Good For You"]},{name:"Ventilate noxious fumes",skills:["labor","aeromancy","alchemy","engineering"],intermediates:["Opening the {_OPTION0} fume hood vents","Casting a {_OPTION1} spell to direct fumes outside","Checking the {_OPTION2} exhaust fan for blockages","Ensuring the filtration system is trapping {_OPTION3} particles","Hoping the fumes don't attract any unwanted {_OPTION4} creatures","Placing a 'Warning: {_OPTION5} Zone' sign near the source"],_OPTION0:["alchemical","reinforced","self-sealing","magically-assisted"],_OPTION1:["Gust of Wind","Localized Cyclone","Air Bubble","Create Draft"],_OPTION2:["chimney-mounted","arcane-powered","bellows-driven","elemental"],_OPTION3:["toxic","corrosive","mutagenic","hallucinogenic"],_OPTION4:["rust monsters","fume drakes","air elementals","curious imps"],_OPTION5:["Toxic Fume","Biohazard","Reality Distortion","Spontaneous Combustion"]},{name:"Neutralize spilled reagents",skills:["toxicology","risk_assessment","life_magic"],intermediates:["Sprinkling {_OPTION0} neutralizing powder on a fizzing puddle","Pouring {_OPTION1} containment solution around a spreading stain","Using a 'Detoxify' cantrip on a patch of {_OPTION2} slime","Carefully absorbing a spill of {_OPTION3} acid with enchanted sand","Checking the 'Emergency Spill Guide' for {_OPTION4} protocol","Hoping the neutralized substance doesn't become sentient {_OPTION5}"],_OPTION0:["silver","absorbent","inert","reactive"],_OPTION1:["anti-corrosive","thickening","solidifying","vapor-suppressing"],_OPTION2:["mutagenic","necrotic","corrosive","caustic"],_OPTION3:["Dragon's Bile","Black Lotus Extract","Basilisk Venom","Manticore Spittle"],_OPTION4:["Code Purple","Level 3 Contaminant","Unknown Volatile","Class Omega"],_OPTION5:["and hungry","and philosophical","and start a cult","and demand worker's rights"]},{name:"Catalog experimental residue",skills:["alchemy","magical_lore","memory","investigation"],intermediates:["Scraping a sample of shimmering {_OPTION0} dust into a vial","Labeling a jar of hardened {_OPTION1} crystals 'Experiment 734B - Failure'","Noting the peculiar {_OPTION2} scent of a leftover viscous liquid","Cross-referencing the residue with records of {_OPTION3} ingredients used","Trying to remember if this residue is from the {_OPTION4} or the {_OPTION5} experiment","Adding a note: 'Residue exhibits minor {_OPTION6} properties. Observe.'"],_OPTION0:["rainbow","obsidian","moon","star"],_OPTION1:["salt-like","sugar-like","glass-like","metallic"],_OPTION2:["sweet","acrid","ozone-like","otherworldly"],_OPTION3:["phoenix feather","manticore spine","unicorn horn","troll blood"],_OPTION4:["Polymorph Potion","Invisibility Draught","Transmutation Elixir","Love Philter"],_OPTION5:["Exploding Mana Crystal","Self-Replicating Slime","Philosopher's Stone Attempt 12","Imitation Gold"],_OPTION6:["anti-gravity","luminescent","sentient","corrosive"]},{name:"Polish the grand alembic",skills:["labor","artisanry","alchemy"],intermediates:["Applying {_OPTION0} polish to the copper still head","Buffing the {_OPTION1} glass cucurbit to a shine","Ensuring the {_OPTION2} condenser coils are free of tarnish","Checking the integrity of the {_OPTION3} seals and joints","Admiring the reflection in the newly polished {_OPTION4} surface","Hoping not to awaken the dormant {_OPTION5} spirit bound to it"],_OPTION0:["dwarven metal","elfin glass","gnomish all-purpose","alchemist's secret"],_OPTION1:["reinforced","crystal","obsidian","magically treated"],_OPTION2:["silver","mithril","arcane","serpentine"],_OPTION3:["hermetic","alchemical","rune-inscribed","pressure-tight"],_OPTION4:["gleaming","mirror-like","flawless","ancient"],_OPTION5:["mercury","sulfur","salt","distillation"]},{name:"Grind rare minerals for elixirs",skills:["alchemy","labor","mining","geomancy"],intermediates:["Using a {_OPTION0} mortar and pestle on a chunk of {_OPTION1}","Carefully crushing {_OPTION2} crystals to a fine powder","Sifting powdered {_OPTION3} to ensure uniform consistency","Wearing a mask to avoid inhaling {_OPTION4} dust","Feeling the faint {_OPTION5} energy emanating from the ground minerals","Hoping this batch of {_OPTION6} powder is potent enough"],_OPTION0:["stone","iron","diamond-tipped","enchanted"],_OPTION1:["Sunstone","Moonstone","Bloodgem","Star Opal"],_OPTION2:["quartz","adamantite","mithril","soul"],_OPTION3:["Dragon's Tooth","Philosopher's Shard","Comet Fragment","Geode Heart"],_OPTION4:["silicate","magical","potentially toxic","glittering"],_OPTION5:["geomantic","elemental","arcane","life"],_OPTION6:["Elixir of Fortitude","Potion of Insight","Draught of Invulnerability","Philter of Luck"]},{name:"Cultivate glowing fungi for mutagens",skills:["alchemy","nature_magic","farming","mutagenesis"],intermediates:["Watering the {_OPTION0} mushroom patch with enriched mana-water","Adjusting the {_OPTION1} light lamps over the lumina-caps","Harvesting mature {_OPTION2} nightshrouds for their mutagenic spores","Pruning the less vibrant stalks of {_OPTION3} glowstalks","Singing a soft {_OPTION4} growth chant to encourage the fungi","Carefully collecting the iridescent slime from the {_OPTION5} creepers"],_OPTION0:["shadow","cave","crystal-infused","ectoplasmic"],_OPTION1:["UV","bio-luminescent","moon","nether"],_OPTION2:["pulsating","shimmering","whispering","phase-shifting"],_OPTION3:["azure","crimson","emerald","violet"],_OPTION4:["druidic","alchemical","elemental","myconid"],_OPTION5:["shadow","mutating","soul-eating","mind-altering"]},{name:"Distill potent spirits for transmutation",skills:["alchemy","fermentation_distillation","transmutation"],intermediates:["Monitoring the temperature of the fermenting {_OPTION0} mash","Collecting the first drops of {_OPTION1} from the alembic's spout","Tasting a tiny diluted sample for {_OPTION2} purity and survival","Filtering the distilled spirit through {_OPTION3} charcoal","Bottling the 'Spiritus Mundi Attempt {_OPTION4}'","Labeling the batch: 'For {_OPTION5} use ONLY not for {_OPTION6} consumption!'"],_OPTION0:["unicorn tear-infused grape","mandrake root","dragon fruit","stardust-sprinkled grain"],_OPTION1:["Aqua Vitae","Prima Materia Condensate","Azoth","Philosopher's Dew"],_OPTION2:["alchemical","magical","transmutative","volatile"],_OPTION3:["dragonbone","willow","purified","enchanted"],_OPTION4:["27","99","342","1001"],_OPTION5:["transmutation","ritual","fueling golems","cleaning stubborn stains"],_OPTION6:["party","medicinal","dwarven drinking contest","goblin"]},{name:"Contain an escaped homunculus",skills:["alchemy","beast_mastery","trap_handling","monster_lore"],intermediates:["Tracking tiny {_OPTION0} footprints across the lab floor","Setting a {_OPTION1} trap baited with a drop of {_OPTION2}","Listening for the characteristic {_OPTION3} squeak of the rogue creation","Cornering the homunculus behind a stack of {_OPTION4} textbooks","Gently coaxing it into a {_OPTION5} containment jar","Muttering about the 'Troublesome {_OPTION6} Manual' being too vague"],_OPTION0:["glowing","sticky","acid-etched","rapidly fading"],_OPTION1:["humane","sticky net","miniature cage","sleeping gas"],_OPTION2:["its favorite nutrient solution","Philosopher's Stone dust","a tiny piece of cheese","condensed moonlight"],_OPTION3:["high-pitched","chittering","philosophical","insulting"],_OPTION4:["Forbidden Alchemy","Advanced Transmutation","Golem Construction","Monster Anatomy"],_OPTION5:["bell","reinforced","padded","rune-scribed"],_OPTION6:["Homunculi","Minor Constructs","Lab Assistants","Artificial Life"]},{name:"Analyze failed potion batches",skills:["potions","toxicology","deductive_reasoning"],intermediates:["Examining a {_OPTION0} potion that turned an unfortunate shade of {_OPTION1}","Using a 'Detect Magic' spell to identify {_OPTION2} energies in the mixture","Comparing the ingredients list with the {_OPTION3} result","Theorizing that the {_OPTION4} was added at the wrong lunar phase","Deducing the failure was due to contaminated {_OPTION5}","Making a note: 'Do not substitute {_OPTION6} for dragon's tear ever again'"],_OPTION0:["healing","invisibility","strength","love"],_OPTION1:["murky brown","unsettling green","violent pink","non-Euclidean chartreuse"],_OPTION2:["residual","chaotic","unexpected necromantic","wild magic"],_OPTION3:["solidified","explosive","sentient","reality-warping"],_OPTION4:["moonpetal","sunstone powder","nightshade berry","unicorn hair"],_OPTION5:["griffin feather","mandrake root","quicksilver","goblin spit"],_OPTION6:["ogre slobber","pond scum","glitter","pixie dust"]}],dormitories:[{name:"Tidy apprentice quarters",skills:["labor","hospitality","management"],intermediates:["Gathering discarded {_OPTION0} scrolls","Straightening tapestries depicting {_OPTION1}","Organizing half-finished potions by {_OPTION2}","Making beds with freshly laundered {_OPTION3} sheets","Creating a chore rota using {_OPTION4} principles","Dealing with a stubborn {_OPTION5} stain on the floorboards"],_OPTION0:["spell","research","failed experiment","cryptic poetry"],_OPTION1:["heroic mages","mythical beasts","celestial alignments","scenes from 'The Mages' Lament'"],_OPTION2:["color","volatility","aromatic profile","school of magic"],_OPTION3:["moon-cotton","spider-silk","enchanted linen","thermo-regulated"],_OPTION4:["elemental harmony","astrological synchronicity","meritocratic","random chance"],_OPTION5:["ectoplasmic","alchemical","wine","unknown magical residue"]},{name:"Collect lost familiars and spellbooks",skills:["beast_tongue","spirit_bonding","magical_lore","perception"],intermediates:["Following faint {_OPTION0} trails through the corridors","Coaxing a nervous {_OPTION1} from behind a bookshelf","Identifying a spellbook by its unique {_OPTION2} aura","Whispering calming words to a skittish {_OPTION3}","Checking the Lost and Found for a particularly noisy {_OPTION4} grimoire","Using a gentle {_OPTION5} charm to retrieve a book from a gargoyle's perch"],_OPTION0:["paw print","magical shimmer","dropped feather","ectoplasmic slime"],_OPTION1:["pixie","homunculus","miniature golem","disoriented gremlin"],_OPTION2:["elemental resonance","arcane signature","protective warding","deceptive illusion"],_OPTION3:["bookwyrm","shadow pup","will-o'-the-wisp","escaped imp"],_OPTION4:["cursed","animated","singing","prophetic"],_OPTION5:["telekinesis","minor levitation","subtle animation","friendly poltergeist persuasion"]},{name:"Air out stuffy chambers",skills:["labor","aeromancy","hospitality"],intermediates:["Unsealing magically warded windows","Conjuring a {_OPTION0} breeze using basic aeromancy","Dispelling lingering {_OPTION1} fumes from last night's experiments","Placing fresh {_OPTION2} sachets in strategic locations","Using a {_OPTION3} fan to create cross-ventilation","Checking air purity with a {_OPTION4} crystal sensor"],_OPTION0:["spring-scented","mountain-fresh","cleansing zephyr","cyclonic (but gentle)"],_OPTION1:["alchemical reagent","failed potion","burnt incense","stale magical energy"],_OPTION2:["lavender and moonpetal","wind-blossom","anti-mildew charm","purifying salt"],_OPTION3:["large feather","elemental-powered","enchanted paper","hand-cranked bellows"],_OPTION4:["simple attunement","complex diagnostic","golem-held","self-reporting"]},{name:"Organize personal wards and trinkets",skills:["magical_lore","magical_item_analysis","order_magic","enchanting"],intermediates:["Identifying the primary enchantment on each {_OPTION0} amulet","Sorting trinkets by their {_OPTION1} alignment or school","Carefully untangling intertwined {_OPTION2} protection charms","Reinforcing fading {_OPTION3} fields on personal wards","Placing items in specially prepared {_OPTION4} containers to prevent interference","Labeling each ward with its activation {_OPTION5} and deactivation phrase"],_OPTION0:["good luck","elemental resistance","mental focus","anti-theft"],_OPTION1:["astral","elemental","chronomantic","source of power"],_OPTION2:["memory","dream","warding","anti-scrying"],_OPTION3:["minor abjuration","apprentice-level shielding","self-repairing","deflection"],_OPTION4:["lead-lined boxes","velvet-cushioned trays","rune-etched pouches","miniature faraday cages"],_OPTION5:["command word","somatic gesture","mental trigger","specific condition"]},{name:"Sweep under bunks for rogue imps",skills:["labor","chaos_magic","monster_lore"],intermediates:["Brandishing a specially {_OPTION0} broom","Luring imps out with a piece of shiny {_OPTION1}","Reciting a minor {_OPTION2} verse to encourage their departure","Checking for tiny {_OPTION3} handprints on bedposts","Setting up a temporary {_OPTION4} containment field","Carefully escorting a captured imp to the {_OPTION5} chute"],_OPTION0:["silver-bristled","blessed wood","imp-repelling","chaos-infused (ironically)"],_OPTION1:["fool's gold","crystal shard","enchanted button","sugared plum"],_OPTION2:["banishment","pacification","mild irritation","dimensional nudge"],_OPTION3:["sooty","sticky","glowing green","mischievous"],_OPTION4:["sugar-circle","chaos-dampening","glitter-based","sound-wave"],_OPTION5:["imp relocation","elemental plane of mischief","specialized imp daycare","lower levels"]},{name:"Change bed linens",skills:["labor","hospitality","tailoring"],intermediates:["Stripping old {_OPTION0} sheets with surprising vigor","Checking for {_OPTION1} stains or spell scorches","Folding fresh linens with {_OPTION2} precision taught by house elves","Applying a light {_OPTION3} charm for sweet dreams","Plumping pillows filled with {_OPTION4} down","Tucking in corners using a surprisingly complex {_OPTION5} knot"],_OPTION0:["student-grade cotton","enchanted silk","self-cleaning (but failing)","surprisingly coarse"],_OPTION1:["potion","ink","ectoplasmic","midnight snack related"],_OPTION2:["obsessive","military-grade","magical","almost artistic"],_OPTION3:["lavender-scented sleep","nightmare-warding","memory-enhancing","gentle warmth"],_OPTION4:["griffin","phoenix (ethically sourced)","cloud","enchanted hypoallergenic"],_OPTION5:["warding","comfort-maximizing","anti-wrinkle","housekeeper's secret"]},{name:"Empty runic waste bins",skills:["labor","runes","magical_lore","alchemy"],intermediates:["Donning protective {_OPTION0} gauntlets","Identifying potentially unstable {_OPTION1} remnants before disposal","Neutralizing reactive {_OPTION2} dust with a counter-agent spray","Transporting waste to the {_OPTION3} dissolution chamber","Sorting salvageable {_OPTION4} chips for reconstitution","Cleaning the bins with an {_OPTION5} slime"],_OPTION0:["dragonhide","mithril-weave","lead-lined","alchemically treated rubber"],_OPTION1:["cracked rune-stone","half-etched scroll","broken warding circle fragment","alchemical residue"],_OPTION2:["magical feedback","elemental instability","lingering spell energy","chaotic particulate"],_OPTION3:["arcane nullification","alchemical recycling","elemental vortex","sub-dimensional"],_OPTION4:["obsidian","quartz","bone","meteorite iron"],_OPTION5:["residue-eating","self-neutralizing","anti-magic","blessed cleansing"]},{name:"Dust wardrobes and desks",skills:["labor","cleaning"],intermediates:["Wielding a {_OPTION0} duster like a master duelist","Carefully moving delicate {_OPTION1} scrying tools","Reaching high shelves with a {_OPTION2} telescoping rod","Wiping down surfaces with a cloth infused with {_OPTION3}","Finding a forgotten {_OPTION4} beneath a stack of textbooks","Enjoying the subtle gleam of a freshly dusted {_OPTION5} inlay"],_OPTION0:["phoenix feather","enchanted lambswool","self-agitating","static-charged goblin hair"],_OPTION1:["crystal ball","rune-carved bones","astrolabe parts","sentient paperweights"],_OPTION2:["levitation charm","trained monkey","step-ladder of dubious stability","extendable grabber"],_OPTION3:["lemon oil and sunshine","anti-static solution","minor purification magic","essence of cleanliness"],_OPTION4:["quill","petrified sandwich","love note from a nymph","misplaced minor artifact"],_OPTION5:["mother-of-pearl","silver","ebony wood","glowing runic"]},{name:"Mend torn apprentice robes",skills:["tailoring","enchanting","artisanry"],intermediates:["Selecting the right color of {_OPTION0} thread from the guild's supply","Carefully stitching a tear near the {_OPTION1} house emblem","Reinforcing the seam with a minor {_OPTION2} enchantment for durability","Patching a hole with fabric from a {_OPTION3} bolt of cloth","Checking the robe for other areas of {_OPTION4} from dueling practice","Pressing the mended area with a {_OPTION5} heated smoothing stone"],_OPTION0:["spider-silk","moon-thread","elementally-infused flax","color-shifting chameleon"],_OPTION1:["Gryphon","Sphinx","Titan","Dragon"],_OPTION2:["self-repairing","stain-resistance","enhanced comfort","minor spell deflection"],_OPTION3:["donated masterwork","salvaged battle-robe","enchanted practice","rarely used ceremonial"],_OPTION4:["spell burns","reagent splashes","familiar claws","general academic wear"],_OPTION5:["magically","self-","rune-etched","geothermal"]},{name:"Declutter bedside altars",skills:["labor","meditation","mythology"],intermediates:["Gently removing wilted {_OPTION0} offerings to various minor deities","Polishing tarnished {_OPTION1} symbols with a consecrated cloth","Realigning {_OPTION2} crystals for optimal energy flow","Dusting miniature statues of {_OPTION3} and spiritual guides","Replacing burnt-out {_OPTION4} candles with freshly anointed ones","Whispering a quiet blessing for the apprentice's {_OPTION5}"],_OPTION0:["moonpetal flower","spirit- herb","mana-infused fruit","hand-written prayer scroll"],_OPTION1:["silver ankh","bronze dragon claw","carved bone fetish","crystal star"],_OPTION2:["focusing","warding","dream-enhancing","meditation-aiding"],_OPTION3:["Asisha","the Great Librarian","ancestral heroes","patron elementals"],_OPTION4:["focus","meditation","scented offering","eternity flame (temporarily extinguished)"],_OPTION5:["clarity","protection","inspiration","peaceful sleep"]},{name:"Resolve roommate disputes magically",skills:["mentalism","conflict_resolution","order_magic","insight"],intermediates:["Casting an {_OPTION0} aura of calm over the arguing apprentices","Using minor {_OPTION1} to understand each student's core grievance","Suggesting a {_OPTION2} binding agreement for shared resources","Mediating a discussion about {_OPTION3} schedules or noisy familiars","Employing a subtle truth-seeking {_OPTION4} if deceptions are suspected","Guiding them to a mutually agreeable {_OPTION5} written in vanishing ink"],_OPTION0:["soothing blue","empathy-inducing golden","logical silver","pacifying green"],_OPTION1:["telepathy","empathy projection","aura reading","psychometric resonance"],_OPTION2:["magically enforced","spiritually sealed","rune-marked","mutually beneficial verbal"],_OPTION3:["potion brewing","late-night scrying","ritual component storage","conflicting study"],_OPTION4:["charm","spell","mental probe","honesty-compelling incense"],_OPTION5:["compromise","understanding","temporary truce","magical contract"]},{name:"Reinforce silencing charms on rooms",skills:["order_magic","enchanting","arcane_principles","abjuration"],intermediates:["Inspecting the integrity of existing {_OPTION0} glyphs on doorframes","Carefully re-inscribing faded {_OPTION1} runes for sound absorption","Channeling {_OPTION2} energy into the charm's matrix","Testing the silence with a controlled {_OPTION3} shout or musical note","Adjusting the {_OPTION4} frequency dampening for optimal quiet","Applying a {_OPTION5} layer of abjuration to prolong the charm's effect"],_OPTION0:["sonic dampening","privacy enhancing","anti-eavesdropping","reverberation nullifying"],_OPTION1:["containment","absorption","deflection","nullification"],_OPTION2:["stabilizing order","focused arcane","pure abjuration","environmental"],_OPTION3:["magical","amplified","specific frequency","apprentice-generated"],_OPTION4:["acoustic","magical resonance","vibrational","perceptual distortion"],_OPTION5:["protective","reinforcing","self-renewing","interference-blocking"]},{name:"Cleanse nightmare residue",skills:["death_magic","life_magic","oneiromancy","psychometry"],intermediates:["Identifying the nature of the {_OPTION0} clinging to the bedposts","Using a {_OPTION1} focus to absorb the negative oneiric energy","Channeling {_OPTION2} light to dispel lingering shadows and fear echoes","Hanging newly woven dreamcatchers threaded with {_OPTION3} fibers","Burning purifying {_OPTION4} incense known to ward off night terrors","Reciting a {_OPTION5} cantrip to seal the room against further intrusion"],_OPTION0:["psychic slime","fear pheromone","shadow essence","dream-parasite spoor"],_OPTION1:["black tourmaline wand","blessed silver mirror","spirit-bound salt crystal","life-infused rowan wood"],_OPTION2:["pure life-force","positive emotional","astral cleansing","sanctified"],_OPTION3:["moonbeam-soaked silk","griffin feather","powdered unicorn horn","blessed willow"],_OPTION4:["sage and lavender","frankincense and myrrh","dreamwood chips","powdered silverbell"],_OPTION5:["gentle oneiric","powerful abjuration","ancient guardian","lullaby-like"]},{name:"Set up dream study circles",skills:["oneiromancy","meditation","magical_lore","spatial_warping"],intermediates:["Marking the perimeter of the circle with {_OPTION0} powder","Arranging enchanted {_OPTION1} cushions for comfort and focus","Placing a central {_OPTION2} artifact to anchor the shared dreamscape","Tuning the ambient {_OPTION3} energies to facilitate lucid dreaming","Applying minor {_OPTION4} distortions to the room's perceived space","Brewing a pot of {_OPTION5} tea to enhance dream recall and vividness"],_OPTION0:["moonstone dust","silver sand","crushed dream ber","chalk infused with soporific herbs"],_OPTION1:["meditation","self-warming","spirit-soothing","posture-correcting"],_OPTION2:["glowing oneiric crystal","basin of scrying water","tapestry of the dreamlands","synchronized metronomes"],_OPTION3:["psychic resonance","lunar vibrations","subtle hypnotic","theta-wave inducing"],_OPTION4:["spatial","temporal","perceptual","reality-thinning"],_OPTION5:["mugwort and blue lotus","valerian and chamomile","calea zacatechichi","memory-enhancing elixir of 'Morpheus' Kiss'"]},{name:"Polish crystal balls for scrying homework",skills:["magical_item_analysis","labor","clairvoyance"],intermediates:["Using a specially prepared {_OPTION0} cloth to avoid scratches","Applying a cleaning solution of {_OPTION1} and thrice-distilled water","Gently removing psychic {_OPTION2} imprints from previous scrying sessions","Buffing the surface to a {_OPTION3} sheen, enhancing clarity","Inspecting for minute {_OPTION4} flaws that could distort visions","Charging the ball with a minor {_OPTION5} attunement spell for the next user"],_OPTION0:["silk blessed by an oracle","dragon-breath treated chamois","velvet infused with cleansing herbs","ectoplasm-absorbing microfiber"],_OPTION1:["moonflower petal essence","powdered mother-of-pearl","dew collected under a full moon","alchemically purified spirit of wine"],_OPTION2:["emotional residue","lingering visual echoes","astral fingerprints","stray divinatory feedback"],_OPTION3:["flawless mirror","cloudless sky","perfectly still water","scry-enhancing"],_OPTION4:["internal fractures","surface etches","magical occlusions","energy dead-spots"],_OPTION5:["clarity-boosting","vision-focusing","interference-dampening","user-specific resonance"]}],training_grounds:[{name:"Collect stray spellbolts and arrows",skills:["labor","perception","ranged_combat","athletics"],intermediates:["Scanning the training field for embedded {_OPTION0} projectiles","Carefully extracting a still-sizzling {_OPTION1} spellbolt from a target dummy","Sorting reusable arrows by fletching {_OPTION2} and arrowhead type","Nimbly dodging a delayed-action {_OPTION3} practice spell","Checking recovered ammunition for lingering {_OPTION4} enchantments","Returning salvaged projectiles to the appropriate {_OPTION5} bins"],_OPTION0:["magical","mundane","elemental","trick"],_OPTION1:["ice shard","lightning","chaos energy","acidic"],_OPTION2:["color-coding","material composition","enchantment signature","owner's mark"],_OPTION3:["ricocheting","wandering","exploding (harmlessly)","illusory"],_OPTION4:["piercing","tracking","returning","blinding flash"],_OPTION5:["armory recycling","elemental spell component","fletcher's workshop","deactivation chamber"]},{name:"Repair battle scarred dummies",skills:["labor","artisanry","woodworking"],intermediates:["Replacing splintered {_OPTION0} limbs with newly carved ones","Patching holes in {_OPTION1} torsos using sturdy materials","Hammering out dents in {_OPTION2} armor plates affixed to advanced dummies","Restuffing humanoid dummies with fresh {_OPTION3} and enchanted straw","Applying a new coat of {_OPTION4} paint to clearly mark target zones","Testing the dummy's resilience with a series of {_OPTION5} strikes"],_OPTION0:["oak","ironwood","magically animated straw","clockwork practice"],_OPTION1:["thick leather","reinforced canvas","metal-banded wood","self-healing fabric (partially)"],_OPTION2:["steel","iron","bronze practice","enchanted alloy"],_OPTION3:["resilient sawdust","blessed straw","padding spells","shock-absorbing moss"],_OPTION4:["high-visibility","damage-indicating","elemental-resistant","illusionary 'skin'"],_OPTION5:["controlled magical","blunt weapon","piercing","calibrated force"]},{name:"Clear the obstacle course debris",skills:["labor","athletics","construction","stamina"],intermediates:["Hauling away broken sections of the {_OPTION0} wall","Shoveling loose {_OPTION1} and rubble from the climbing pits","Resetting dislodged {_OPTION2} swinging ropes and balance beams","Checking the structural integrity of the remaining {_OPTION3} platforms","Navigating the damaged course while performing {_OPTION4} clearing actions","Using a minor {_OPTION5} spell to levitate heavier pieces of debris"],_OPTION0:["wooden palisade","stone climbing","magically conjured ice","rope bridge"],_OPTION1:["shattered rock","splintered wood","ectoplasmic residue","expended magical charges"],_OPTION2:["enchanted climbing","unstable","fire-scorched","water-slicked"],_OPTION3:["elevated","moving","illusory","trap-laden"],_OPTION4:["agile","strength-based","careful","rapid"],_OPTION5:["telekinesis","earth-moving","strength-enhancing","localized gust"]},{name:"Rake the sparring pit sand",skills:["labor","stamina","athletics"],intermediates:["Using a wide, heavy-duty {_OPTION0} rake","Evening out deep {_OPTION1} and footprints in the sand","Removing stray {_OPTION2} fragments and discarded bandages","Creating a perfectly smooth surface for optimal {_OPTION3} and safety","Working up a considerable sweat under the {_OPTION4} training yard sun","Admiring the pristine condition of the freshly groomed {_OPTION5} arena"],_OPTION0:["iron","enchanted wooden","self-guiding","dwarven-forged"],_OPTION1:["impact craters from spells","weapon gouges","dive rolls","summoned creature"],_OPTION2:["broken weapon","lost teeth","expended rune stones","small, mischievous sprites"],_OPTION3:["footing","spellcasting","dueling maneuvers","ritual practice"],_OPTION4:["magically amplified","ever-present twilight","filtered","unrelenting desert-like"],_OPTION5:["dueling","sparring","elemental practice","grand melee"]},{name:"Store practice wands and weapons",skills:["labor","melee_combat","enchanting","logistics"],intermediates:["Checking wands for any residual {_OPTION0} charges before racking them","Wiping down {_OPTION1} sword hilts and staff grips","Organizing items on designated {_OPTION2} racks by type and power level","Ensuring safety catches are engaged on {_OPTION3} practice crossbows","Applying a light {_OPTION4} oil to prevent rust on metal components","Updating the armory's {_OPTION5} inventory scrolls"],_OPTION0:["unstable magical","wild elemental","lingering necromantic","unexpectedly potent"],_OPTION1:["sweat-slicked","slightly singed","residue-covered","sticky potion-coated"],_OPTION2:["wand","blade","staff","shield and armor"],_OPTION3:["blunted bolt","training mechanism","non-lethal enchantment","apprentice-grade magical"],_OPTION4:["preservation","enchantment-stabilizing","anti-corrosion","self-polishing alchemical"],_OPTION5:["digital (magical slate)","parchment","rune-carved","living wood"]},{name:"Mend torn padded armor",skills:["leatherworking","tailoring","armor","artisanry"],intermediates:["Selecting heavy-duty {_OPTION0} thread or sinew","Stitching up rips in the {_OPTION1} gambeson padding","Replacing worn-out {_OPTION2} buckles and straps","Reinforcing weak points with patches of {_OPTION3} or enchanted fabric","Checking the fit and articulation on a {_OPTION4} training dummy","Applying a {_OPTION5} conditioner to keep the leather supple"],_OPTION0:["dragon gut","iron-spun flax","shadoweave silk","phoenix feather core"],_OPTION1:["multi-layered linen","cured beast hide","spell-resistant canvas","impact-absorbing gel"],_OPTION2:["bronze","hardened leather","self-adjusting magical","quick-release"],_OPTION3:["boiled leather","small steel plates","dragon scale fragments","rune-inscribed linen"],_OPTION4:["articulated wooden","standard human-sized","golem","slightly damaged"],_OPTION5:["waterproofing","flexibility-enhancing alchemical","durability-boosting magical","scent-masking herbal"]},{name:"Resurface scorch marks from fireballs",skills:["labor","geomancy","pyromancy","masonry"],intermediates:["Scraping away blackened and charred {_OPTION0} from walls and floors","Applying a {_OPTION1} paste to neutralize lingering heat and magic","Using minor geomancy to smooth over melted {_OPTION2} surfaces","Patching damaged areas with fresh {_OPTION3} or magically grown stone","Applying a new layer of fire-resistant {_OPTION4} coating","Quietly muttering about the {_OPTION5} of some apprentices"],_OPTION0:["stone","wood","target material","unfortunate tapestries"],_OPTION1:["soot-absorbing alchemical","heat-dispersing magical","magic-dampening clay","cooling elemental"],_OPTION2:["flagstone","brickwork","enchanted target","practice dummy stands"],_OPTION3:["mortar","stone dust and resin","conjured earth","rapid-growth crystal"],_OPTION4:["alchemical glaze","elemental warding","rune-etched sealant","salamander scale powder"],_OPTION5:["reckless abandon","enthusiasm over control","sheer destructive power","aiming skills"]},{name:"Sweep up broken target shards",skills:["labor","cleaning"],intermediates:["Using a stiff-bristled {_OPTION0} broom designed for heavy debris","Carefully collecting sharp {_OPTION1} fragments from shattered targets","Avoiding stepping on nearly invisible splinters of {_OPTION2} crystal targets","Depositing shards into a specially reinforced {_OPTION3} disposal unit","Checking for shards embedded in nearby {_OPTION4} or training equipment","Wondering what kind of {_OPTION5} was used to cause such fragmentation"],_OPTION0:["ironwood","magically enhanced","self-levitating dustpan holding","golem-operated"],_OPTION1:["ceramic","hardened wood","compressed sand","petrified bone"],_OPTION2:["enchanted ice","pure quartz","force-field remnant","glass"],_OPTION3:["lead-lined","thick dragonhide","magically shielded","recycling elemental forge"],_OPTION4:["protective barriers","viewing stands","other dummies","the ceiling somehow"],_OPTION5:["destructive spell","high-impact projectile","sonic vibration","critical magical failure"]},{name:"Polish training shields",skills:["labor","defense","smithing","armor"],intermediates:["Wiping away layers of grime, sweat, and {_OPTION0} marks","Using a fine grade {_OPTION1} polish on steel and iron shields","Buffing wooden shields with {_OPTION2} oil to a protective sheen","Checking and tightening loose {_OPTION3} straps and handles","Admiring the restored gleam on a shield's {_OPTION4} boss or emblem","Applying a minor {_OPTION5} enchantment to enhance durability or deflection"],_OPTION0:["scuff","impact dent","spell scorch","practice weapon residue"],_OPTION1:["abrasive powder","alchemical shining","rust-removing","self-buffing magical"],_OPTION2:["linseed and beeswax","tung oil infused with ironwood sap","enchanted hardening","strengthening resin"],_OPTION3:["leather arm","reinforced carrying","buckler grip","magically adjusting"],_OPTION4:["central metal","house sigil","warding rune","reflective surface"],_OPTION5:["hardening","impact-absorbing","arrow-deflecting aura","minor self-repair"]},{name:"Re-chalk combat circles",skills:["labor","magical_lore","runes","artistry"],intermediates:["Sweeping away the faded remnants of old {_OPTION0} lines","Consulting ancient diagrams for the precise placement of {_OPTION1} symbols","Using a {_OPTION2} guide to ensure perfectly straight lines and arcs","Carefully drawing complex {_OPTION3} runes at key focal points of the circle","Ensuring the entire circle is geometrically {_OPTION4} and magically sound","Applying a {_OPTION5} fixative spray to make the chalk last longer"],_OPTION0:["ritual chalk","magically charged dust","faintly glowing","scuffed and broken"],_OPTION1:["containment","warding","power amplification","elemental attunement"],_OPTION2:["long enchanted ruler","taut string and plumb-bob","laser-like magical beam","trained chalk-drawing mite"],_OPTION3:["binding","channeling","protective","dimensional anchoring"],_OPTION4:["symmetrical","aligned with ley lines","energetically balanced","spiritually sealed"],_OPTION5:["magical resin","weather-resistant alchemical","long-lasting enchantment","glow-enhancing phosphorescent"]},{name:"Reset magical ward traps",skills:["order_magic","trap_handling","magical_lore","abjuration"],intermediates:["Carefully disarming the triggered {_OPTION0} ward to prevent accidental discharge","Inspecting the {_OPTION1} components for any signs of damage or depletion","Realigning the {_OPTION2} focus crystals or runic conduits","Recharging the ward with a fresh infusion of {_OPTION3} energy","Cautiously testing the reset trap using a {_OPTION4} probe or summoned creature","Adjusting the {_OPTION5} trigger sensitivity to approved guild standards"],_OPTION0:["elemental burst","stasis field","alarm summoning","minor banishment"],_OPTION1:["rune-stone matrix","power crystal capacitor","arcane sigil sequence","trigger mechanism sensors"],_OPTION2:["energy flow","targeting array","detection grid","amplification lens"],_OPTION3:["ambient magical","stored spell","elemental essence","pure order"],_OPTION4:["long wooden","magically animated","disposable summoned","remote-controlled mechanical"],_OPTION5:["magical signature recognition","physical pressure plate","proximity sensor range","specific vocal command"]},{name:"Maintain elemental summoning circles",skills:["elemental_summoning","magical_lore","runes","geomancy"],intermediates:["Clearing away residual {_OPTION0} energy and physical manifestations","Re-etching or repainting faded {_OPTION1} of binding and protection","Reinforcing the circle's boundary with ritually prepared {_OPTION2} materials","Checking for any breaches or weaknesses in the {_OPTION3} containment field","Placing fresh, appropriate offerings to appease specific {_OPTION4} entities","Recalibrating the circle's {_OPTION5} resonance for safer summoning"],_OPTION0:["lingering elemental","chaotic feedback","ectoplasmic","dimensional stress"],_OPTION1:["powerful runes","complex sigils","ancient glyphs","celestial alignments"],_OPTION2:["consecrated salt for earth elementals","purified water for water spirits","iron filings for fire sprites","magnetized sand for air sylphs"],_OPTION3:["magical energy","physical barrier","dimensional anchor","psychic ward"],_OPTION4:["salamanders","undines","gnomes","djinn"],_OPTION5:["harmonic frequency","elemental attunement","dimensional stability","power regulation"]},{name:"Sharpen ceremonial blades",skills:["smithing","one_handed_blades"],intermediates:["Selecting the correct grit of {_OPTION0} whetstone for the blade's alloy","Carefully drawing the blade across the stone maintaining a precise {_OPTION1}","Testing the edge for {_OPTION2} sharpness suitable for ritual, not combat","Polishing the blade to a mirror shine with a {_OPTION3} cloth","Anointing the blade with consecrated {_OPTION4} oil as per tradition","Inspecting the intricate {_OPTION5} etched into the blade for wear"],_OPTION0:["water-cooled","diamond-dust infused","spirit-bound sharpening","volcanic glass"],_OPTION1:["angle of incidence","consistent pressure","rhythmic motion","arcane alignment"],_OPTION2:["symbolic","aura-cutting","energy-channeling","perfectly keen"],_OPTION3:["blessed silk","fine chamois leather","enchanted velvet","cloth of star-stuff"],_OPTION4:["moon-blessed olive","ritualistically pure","elementally charged","dragon's blood (synthetic)"],_OPTION5:["ancient power runes","celestial script","protective glyphs","lineage symbols"]},{name:"Restring broken longbows",skills:["archery","woodworking","artisanry"],intermediates:["Thoroughly inspecting the bow stave for any {_OPTION0} cracks or weaknesses","Selecting a new bowstring made of high-quality {_OPTION1} material","Using a bow stringer tool to carefully flex the {_OPTION2} limbs","Securely setting the new string into the {_OPTION3} nocks at each end","Checking the bow's {_OPTION4} height and ensuring proper tillering","Applying a coat of protective {_OPTION5} wax to the new string"],_OPTION0:["stress-induced","impact-related","magical energy surge","hidden wood-grain"],_OPTION1:["dragon sinew","elf-spun moonflax","enchanted spider silk","phoenix feather core"],_OPTION2:["yew wood","ash heartwood","composite horn and wood","magically reinforced living wood"],_OPTION3:["carved horn","reinforced wood","mithril-tipped","self-adjusting magical"],_OPTION4:["brace","draw weight consistency","limb balance","string alignment"],_OPTION5:["beeswax and pine resin","dragon's tear","elemental-infused","friction-reducing alchemical"]},{name:"Re-balance throwing axes",skills:["throwing_weapons","smithing","legerdemain","artisanry"],intermediates:["Checking the {_OPTION0} for any warping or damage affecting flight","Subtly adjusting the weight distribution of the {_OPTION1} axe head","Testing the axe's spin and trajectory with a series of practice {_OPTION2}","Carefully reshaping the {_OPTION3} edge for optimal aerodynamics and impact","Tightening or replacing the {_OPTION4} haft binding for a secure grip","Adding or removing a small {_OPTION5} counterweight in the pommel if necessary"],_OPTION0:["wooden haft integrity","axe head alignment","overall structural balance","magical flight enchantments"],_OPTION1:["forged steel","razor-sharp iron","enchanted adamantine","double-bitted throwing"],_OPTION2:["throws at varying distances","rotation counts","target penetration tests","aerial maneuvers"],_OPTION3:["leading cutting","bearded lower","aerodynamic trailing","spell-channeling"],_OPTION4:["braided leather","sinew-wrapped wire","magically infused cord","rune-carved grip"],_OPTION5:["lead plug","brass stud","dense ironwood insert","enchanted gemstone"]}],scrying_chamber:[{name:"Polish scrying orbs and mirrors",skills:["labor","divination","magical_item_analysis","artisanry"],intermediates:["Selecting a {_OPTION0} polishing cloth","Applying a dab of {_OPTION1} solution to the orb's surface","Buffing out smudges from the {_OPTION2}","Whispering a {_OPTION3} clarification chant over the mirror","Checking for {_OPTION4} residue under a magelight","Carefully returning the {_OPTION5} orb to its velvet cushion"],_OPTION0:["silk","chamois","ectoplasmic","moon-woven"],_OPTION1:["crystal sheen","purified dew","sphinx saliva","powdered moonstone"],_OPTION2:["previous vision's imprint","fingerprints of a nervous apprentice","accumulated astral dust","lingering emotional echoes"],_OPTION3:["gentle","focusing","minor","repeated"],_OPTION4:["ethereal","psychic","unwanted spectral","faint magical"],_OPTION5:["primary","lesser-used","obsidian","newly acquired"]},{name:"Cleanse divination pools of visions",skills:["divination","hydromancy","abjuration","psychometry"],intermediates:["Donning {_OPTION0} protective gloves","Pouring a vial of {_OPTION1} into the murky water","Stirring the pool with a {_OPTION2} rod","Chanting an {_OPTION3} to dispel lingering images","Skimming {_OPTION4} remnants from the surface","Feeling the water for any remaining {_OPTION5} disturbances"],_OPTION0:["thick rubber","enchanted silk","dragonhide","lead-lined"],_OPTION1:["purifying salts","solution of silvered water","essence of clarity","void-touched liquid"],_OPTION2:["silver","obsidian","coral","crystal"],_OPTION3:["abjuration","cleansing verse","banishment incantation","nullification psalm"],_OPTION4:["spectral","fading visionary","ectoplasmic","dream-like"],_OPTION5:["psychic","emotional","temporal","spatial"]},{name:"Realign focusing crystals",skills:["divination","lapidary_arts","magical_item_analysis","geomancy"],intermediates:["Consulting the {_OPTION0} alignment chart","Gently nudging the {_OPTION1} crystal with a gloved finger","Checking the beam's trajectory against the {_OPTION2} marker","Making micro-adjustments using a {_OPTION3} tool","Humming a {_OPTION4} attunement frequency","Locking the crystal into its new {_OPTION5} position"],_OPTION0:["celestial","geomantic","master","daily"],_OPTION1:["primary focusing","secondary amplification","quartz","amethyst"],_OPTION2:["rune-etched","celestially-aligned","floor-inscribed","spirit-lamp"],_OPTION3:["silver tweezer","mithril spanner","enchanted stylus","sonic screwdriver"],_OPTION4:["resonant","harmonic","stabilizing","clarifying"],_OPTION5:["precise","optimal","designated","harmonically sound"]},{name:"Dust ritual circles and sigils",skills:["labor","magical_lore","runes","meditation"],intermediates:["Selecting a brush made of {_OPTION0} bristles","Carefully sweeping dust away from the {_OPTION1} sigil","Avoiding disturbing the {_OPTION2} chalk lines","Reciting a {_OPTION3} mantra to maintain focus","Disposing of the {_OPTION4} dust in a warded container","Checking the integrity of the {_OPTION5} rune"],_OPTION0:["griffin feather","manticore hair","enchanted goat","shadow-woven"],_OPTION1:["warding","summoning","protection","enhancement"],_OPTION2:["consecrated","salt","powdered silver","moon-dust"],_OPTION3:["cleansing","protective","focusing","grounding"],_OPTION4:["ritually charged","mundane","spiritually inert","potentially hazardous"],_OPTION5:["central power","binding","directional","elemental"]},{name:"Organize astrological charts",skills:["divination","navigation","memory","cartography"],intermediates:["Gathering scattered {_OPTION0} charts from the table","Sorting them by {_OPTION1} or constellation","Cross-referencing with the {_OPTION2} ephemeris","Rolling up the {_OPTION3} parchments carefully","Placing them into their designated {_OPTION4} tubes","Updating the {_OPTION5} index of stellar movements"],_OPTION0:["star","planetary","cometary","lunar phase"],_OPTION1:["celestial house","zodiac sign","date of observation","planetary alignment"],_OPTION2:["Grand Celestial","pocket","ancient stone","oracle's"],_OPTION3:["oversized","vellum","papyrus","recently inked"],_OPTION4:["labeled","mahogany","obsidian","lead-lined"],_OPTION5:["master","current","prophetic","historical"]},{name:"Sweep away psychic residue",skills:["labor","meditation","psychometry"],intermediates:["Centering oneself with a {_OPTION0} breathing technique","Donning a {_OPTION1} amulet for protection","Using a {_OPTION2} broom to gather unseen energies","Focusing on dispelling {_OPTION3} emotional imprints","Directing the residue towards a {_OPTION4} containment crystal","Sealing the crystal with a {_OPTION5} ward"],_OPTION0:["deep","calming","rhythmic","Tower-taught"],_OPTION1:["mind-shielding","thought-nullifying","emotion-dampening","spirit-warding"],_OPTION2:["silver-birch","enchanted","spirit-bound","rune-carved"],_OPTION3:["fearful","joyful","sorrowful","conflicting"],_OPTION4:["smoky quartz","obsidian shard","lead-lined","soul-gem"],_OPTION5:["binding","containment","temporary","permanent"]},{name:"Replace spent incense and candles",skills:["labor","alchemy","magical_lore"],intermediates:["Collecting burnt-out {_OPTION0} candle stubs","Emptying {_OPTION1} ash from the censers","Selecting new {_OPTION2} incense sticks from the apothecary","Placing fresh {_OPTION3} candles in their holders","Choosing a scent appropriate for upcoming {_OPTION4} divinations","Disposing of old materials in the {_OPTION5} ritual fire"],_OPTION0:["beeswax","tallow","astral-infused","prophetic dream"],_OPTION1:["sacred","ritual","common","enchanted"],_OPTION2:["dragon's blood","sandalwood","frankincense","moonpetal"],_OPTION3:["unscented white","colored elemental","rune-scribed","herb-infused"],_OPTION4:["scrying","astral projection","spirit communion","chronomancy"],_OPTION5:["sacred","cleansing","alchemical","ever-burning"]},{name:"Attune divinatory instruments",skills:["divination","enchanting","musical_instruments","implement_crafting"],intermediates:["Picking up the {_OPTION0} pendulum","Humming a resonant frequency to align its {_OPTION1}","Gently striking the {_OPTION2} singing bowl","Adjusting the tension on the strings of the {_OPTION3} astral harp","Verifying the calibration with a known {_OPTION4} magical signature","Polishing the {_OPTION5} with a soft, enchanted cloth"],_OPTION0:["crystal","brass","silver","bone"],_OPTION1:["spiritual anchor","etheric connection","vibrational matrix","energy flow"],_OPTION2:["Tibetan","quartz","celestial bronze","mithril"],_OPTION3:["ethereal","moon-strung","wind-chiming","spirit-calling"],_OPTION4:["ley line","artifact's aura","master's energy","celestial event's"],_OPTION5:["instrument's surface","focusing lens","resonating chamber","control knobs"]},{name:"Silence distracting astral echoes",skills:["order_magic","meditation","spectral_mastery","spatial_warping"],intermediates:["Identifying the source of the {_OPTION0} echo","Drawing a {_OPTION1} silencing rune on the air","Focusing {_OPTION2} magic to dampen the vibrations","Erecting a temporary {_OPTION3} barrier","Guiding the echo into a prepared {_OPTION4} null-space","Reinforcing the chamber's {_OPTION5} wards"],_OPTION0:["faint whispering","distant screaming","clanging metal","unsettling melodic"],_OPTION1:["Hush","Stillness","Void","Tranquility"],_OPTION2:["Order","mental","abjurative","dimensional"],_OPTION3:["sonic","ethereal","psychic","temporal"],_OPTION4:["pocket dimension","soul gem","warded box","lead-lined urn"],_OPTION5:["acoustic","psychic","dimensional","spiritual"]},{name:"Clear energetic blockages",skills:["life_magic","terramancy","meditation","psychometry"],intermediates:["Sensing the flow of {_OPTION0} energy in the room","Identifying a point of {_OPTION1} stagnation","Channeling {_OPTION2} magic to dissolve the blockage","Using a {_OPTION3} crystal to draw out negative energies","Visualizing the energy pathways becoming {_OPTION4}","Grounding excess energy into the {_OPTION5} earth"],_OPTION0:["ambient magical","ley line","spiritual","elemental"],_OPTION1:["spiritual","emotional","magical","elemental"],_OPTION2:["Life","cleansing","restorative","pure"],_OPTION3:["quartz","selenite","tourmaline","amber"],_OPTION4:["clear and flowing","bright and vibrant","unobstructed","harmonized"],_OPTION5:["Tower's foundation","nearby ley line","sacrificial altar","consecrated"]},{name:"Chart ley line convergences",skills:["divination","terramancy","geomancy","cartography"],intermediates:["Setting up the {_OPTION0} dowsing rods","Tracing the path of a {_OPTION1} ley line across the map","Marking a point of {_OPTION2} convergence with a pin","Calculating the {_OPTION3} intensity of the nexus","Noting any temporal or dimensional {_OPTION4} fluctuations","Adding the new data to the {_OPTION5} survey"],_OPTION0:["enchanted copper","hazelwood","silver-tipped","crystal-handled"],_OPTION1:["major dragon","minor elemental","newly discovered","shifting lunar"],_OPTION2:["powerful","subtle","triple","unstable"],_OPTION3:["geomantic","thaumaturgic","spiritual","elemental"],_OPTION4:["distortions","anomalies","resonances","instabilities"],_OPTION5:["regional ley line","Tower's energy","continental geomantic","master"]},{name:"Calibrate chronomantic resonators",skills:["divination","order_magic","clockwork"],intermediates:["Checking the {_OPTION0} gears of the resonator","Adjusting the {_OPTION1} frequency with a tuning fork","Observing the temporal distortions on a {_OPTION2} indicator","Fine-tuning the {_OPTION3} flow regulators","Synchronizing with the {_OPTION4} master clock","Locking the settings with a pulse of {_OPTION5} magic"],_OPTION0:["brass","crystal","obsidian","temporal"],_OPTION1:["temporal","harmonic","sub-etheric","chroniton"],_OPTION2:["flickering candle","sandglass","chronometer","test subject's perception of time"],_OPTION3:["chroniton","mana","aetheric","temporal energy"],_OPTION4:["Tower's","celestial","atomic","magical"],_OPTION5:["Order","stabilizing","binding","precise"]},{name:"Interpret omens from burnt offerings",skills:["divination","pyromancy","mythology","precognition"],intermediates:["Sifting through the {_OPTION0} ashes in the brazier","Examining the patterns formed by the {_OPTION1} smoke stains","Looking for {_OPTION2} shapes in the remaining cinders","Consulting the {_OPTION3} tome of pyromantic symbols","Feeling for {_OPTION4} echoes of the future","Scribing the {_OPTION5} interpretation onto a scroll"],_OPTION0:["sacrificial herb","blessed wood","animal bone","written plea"],_OPTION1:["soot","charred residue","grease","vapor"],_OPTION2:["prophetic","warning","animalistic","runic"],_OPTION3:["ancient","forbidden","master's personal","Guild-standard"],_OPTION4:["faint","strong","disturbing","hopeful"],_OPTION5:["cryptic","direct","multi-layered","urgent"]},{name:"Record prophetic dream sequences",skills:["oneiromancy","divination","scribing","memory"],intermediates:["Awakening from a {_OPTION0} dream trance","Quickly grabbing a {_OPTION1} quill and parchment","Sketching the key {_OPTION2} symbols before they fade","Writing down the narrative of the {_OPTION3} vision","Cross-referencing with the {_OPTION4} dream lexicon","Filing the record in the {_OPTION5} archive"],_OPTION0:["vivid","fragmented","recurring","lucid"],_OPTION1:["never-blot","eagle feather","somnus-infused","memory-enhancing"],_OPTION2:["oneiric","allegorical","color","emotional"],_OPTION3:["nightmarish","beatific","confusing","clear"],_OPTION4:["Grand","Tower's","forbidden","personal"],_OPTION5:["Oneiric","Prophecy","Seer's","restricted"]},{name:"Cleanse chamber of lingering scrying entities",skills:["abjuration","spectral_mastery","elemental_summoning"],intermediates:["Detecting the presence of a {_OPTION0} entity","Drawing a circle of {_OPTION1} salt around the affected area","Chanting a {_OPTION2} banishment incantation","Using a {_OPTION3} consecrated object to repel the entity","Opening a temporary portal to the {_OPTION4} plane","Sealing the chamber with {_OPTION5} wards"],_OPTION0:["curious astral","minor elemental","lost spiritual","residual thought-form"],_OPTION1:["blessed","black","iron-infused","rune-scribed"],_OPTION2:["powerful","minor","specific","general"],_OPTION3:["holy symbol","silver mirror","bell","athame"],_OPTION4:["entity's native","elemental","astral","Void"],_OPTION5:["protective","reinforced","anti-spectral","long-lasting"]}],herb_garden:[{name:"Weed the mandrake patch",skills:["labor","nature_magic","foraging","monster_lore"],intermediates:["Putting on {_OPTION0} earmuffs","Carefully pulling out a {_OPTION1} strangler vine","Avoiding the mandrakes' {_OPTION2} shrieks","Applying a {_OPTION3} herbal salve to minor scratches","Tossing the weeds onto the {_OPTION4} compost pile","Checking the mandrakes for signs of {_OPTION5} stress"],_OPTION0:["thick","sound-dampening","enchanted","wax-filled"],_OPTION1:["thorny","constricting","parasitic","mundane but stubborn"],_OPTION2:["deafening","hypnotic","infant-like","soul-chilling"],_OPTION3:["soothing","healing","anti-toxin","regenerative"],_OPTION4:["alchemical","specially designated","cursed","regular garden"],_OPTION5:["wilting","discoloration","unusual silence","aggressive root growth"]},{name:"Prune overgrown moonpetal bushes",skills:["labor","nature_magic","farming","artisanry"],intermediates:["Selecting a pair of {_OPTION0} pruning shears","Waiting for the {_OPTION1} moon to be in the correct phase","Trimming away excess {_OPTION2} foliage","Shaping the bush into a more {_OPTION3} form","Collecting the {_OPTION4} cuttings for potion ingredients","Applying a {_OPTION5} sealant to the cuts"],_OPTION0:["silver","obsidian-edged","self-sharpening","enchanted"],_OPTION1:["full","crescent","new","harvest"],_OPTION2:["luminous","shadowy","thorny","non-blooming"],_OPTION3:["manageable","aesthetically pleasing","magically conducive","compact"],_OPTION4:["glowing","potent","young","silver-dusted"],_OPTION5:["tree-sap","alchemical","protective magical","moon-blessed"]},{name:"Turn the alchemical compost heap",skills:["labor","alchemy","farming","stamina"],intermediates:["Donning a {_OPTION0} breathing mask against the fumes","Grabbing a {_OPTION1} pitchfork","Heaving a pile of {_OPTION2} decomposing matter","Mixing in a fresh batch of {_OPTION3} catalyst","Checking the heap's internal {_OPTION4} temperature","Feeling the {_OPTION5} surge of magical energy from the compost"],_OPTION0:["sturdy leather","filter-enchanted","herb-stuffed","simple cloth"],_OPTION1:["rune-etched","titanium","strangely warm","standard iron"],_OPTION2:["bubbling","glowing","strangely scented","fuming"],_OPTION3:["powdered dragon scale","phoenix ash","ground unicorn horn","yeast of quickening"],_OPTION4:["magical","elemental","alchemical","biological"],_OPTION5:["subtle","powerful","life-giving","transformative"]},{name:"Organize enchanted gardening tools",skills:["labor","nature_magic","enchanting","implement_crafting"],intermediates:["Gathering all the {_OPTION0} tools from the shed","Wiping down the {_OPTION1} self-watering can","Checking the enchantments on the {_OPTION2} ever-sharp hoe","Hanging the tools on their designated {_OPTION3} hooks","Recharging a {_OPTION4} lumina-stone on the trowel","Labeling a new {_OPTION5} dibber with its properties"],_OPTION0:["scattered","muddy","slightly sparking","humming"],_OPTION1:["copper","silver","clay","crystal"],_OPTION2:["mithril","adamantine","obsidian","bronze"],_OPTION3:["rune-marked","magnetized","specially crafted","color-coded"],_OPTION4:["fading","dimly glowing","newly acquired","erratically pulsing"],_OPTION5:["growth-enhancing","soil-aerating","pest-repelling","seed-finding"]},{name:"Harvest ripe nightbloom petals",skills:["labor","foraging","alchemy","perception"],intermediates:["Waiting for true {_OPTION0} to fall","Using a pair of {_OPTION1} tweezers to gently pluck petals","Avoiding the plant's {_OPTION2} soporific pollen","Collecting petals that shimmer with a {_OPTION3} light","Placing them into a {_OPTION4} silk-lined basket","Noticing the {_OPTION5} shift in the air as the petals are picked"],_OPTION0:["darkness","midnight","moonless night","magical twilight"],_OPTION1:["silver","ivory","obsidian","non-reactive"],_OPTION2:["potent","subtle","dream-inducing","paralytic"],_OPTION3:["faint blue","phosphorescent green","deep violet","star-like"],_OPTION4:["dark","shadow-woven","lead-lined","preserving"],_OPTION5:["faint sighing","temperature","aromatic","magical energy"]},{name:"Clear dead and wilting foliage",skills:["labor","farming","nature_magic"],intermediates:["Identifying plants with {_OPTION0} leaves","Snipping off {_OPTION1} branches with shears","Raking up piles of {_OPTION2} detritus","Checking for signs of {_OPTION3} blight or magical decay","Applying a {_OPTION4} restorative balm to affected stems","Carrying the refuse to the {_OPTION5} disposal pit"],_OPTION0:["brown and crispy","yellowed","blackened","strangely drained"],_OPTION1:["dead","diseased","parasite-ridden","energy-sapped"],_OPTION2:["dry","mulchy","slightly glowing","unnaturally cold"],_OPTION3:["fungal","insectoid","elemental","necrotic"],_OPTION4:["Nature Magic infused","alchemical","life-giving","purifying"],_OPTION5:["consecrated","alchemical","ever-burning","far-garden"]},{name:"Enrich soil with dragon dung",skills:["labor","farming","beast_mastery","alchemy"],intermediates:["Wearing {_OPTION0} reinforced gloves and apron","Scooping {_OPTION1} dragon dung from the warded barrel","Carefully mixing it into the {_OPTION2} soil","Avoiding any still-smoldering {_OPTION3} embers","Feeling the {_OPTION4} warmth spread through the earth","Planting a {_OPTION5} fire-resistant herb in the treated patch"],_OPTION0:["thick dragonhide","asbestos-lined","elemental-warded","mithril-chain"],_OPTION1:["fresh, steaming","aged, crumbly","metallic-sheened","jewel-encrusted"],_OPTION2:["depleted","sandy","clay-heavy","magically inert"],_OPTION3:["magical","fiery","undigested gem","glowing"],_OPTION4:["intense","pleasant","life-giving","potentially volatile"],_OPTION5:["salamander parsley","ash-willow sapling","magma rose","cinderbloom seed"]},{name:"Label magical herb beds",skills:["labor","nature_magic","runes","magical_lore"],intermediates:["Carving {_OPTION0} runes onto small stone tablets","Identifying a bed of unlabeled {_OPTION1} Whisperwind flowers","Consulting the {_OPTION2} Grand Herbarium for correct nomenclature","Cross-referencing with its {_OPTION3} magical properties","Placing the {_OPTION4} label firmly in the soil","Applying a {_OPTION5} weather-proofing charm to the label"],_OPTION0:["protective","identification","growth-enhancing","elemental affinity"],_OPTION1:["pulsing","color-shifting","singing","shyly hiding"],_OPTION2:["Tower's","Archmage's personal","ancient Elven","forbidden"],_OPTION3:["healing","poisonous","illusionary","transmutative"],_OPTION4:["newly carved","re-inked","enchanted","glowing"],_OPTION5:["minor","permanent","rain-repelling","sun-reflecting"]},{name:"Water thirsty shadowferns",skills:["labor","nature_magic","hydromancy","bloom"],intermediates:["Filling a {_OPTION0} watering can with moon-kissed water","Approaching the patch of {_OPTION1} ferns","Gently pouring water at the {_OPTION2} base of each plant","Whispering a {_OPTION3} growth incantation","Watching the ferns' shadows {_OPTION4} in response","Checking the soil for appropriate {_OPTION5} moisture levels"],_OPTION0:["darkwood","obsidian","silver","enchanted clay"],_OPTION1:["drooping","ethereal","vibrant purple","deep black"],_OPTION2:["dark, mossy","shadowy","cool","slightly disturbed"],_OPTION3:["gentle","nature_magic","shadow-binding","lunar-aligned"],_OPTION4:["deepen and swirl","dance playfully","stretch languidly","vibrate slightly"],_OPTION5:["dampness","coolness","magical resonance","life-energy"]},{name:"Sort dried herbs for storage",skills:["labor","alchemy","foraging","memory"],intermediates:["Spreading out bundles of dried {_OPTION0} on the table","Separating leaves from {_OPTION1} stems and roots","Checking for any signs of {_OPTION2} mold or pests","Placing sorted herbs into {_OPTION3} airtight jars","Labeling each jar with the herb name and {_OPTION4} date","Storing the jars in the cool, dark {_OPTION5} apothecary shelves"],_OPTION0:["sun-dried","moon-dried","magically preserved","fire-cured"],_OPTION1:["brittle","still fragrant","potent","unusually colored"],_OPTION2:["magical","mundane","ethereal","alchemical"],_OPTION3:["clay","smoked glass","crystal","rune-sealed"],_OPTION4:["harvest","drying completion","potency peak","expiration"],_OPTION5:["underground","lead-lined","temperature-controlled","warded"]},{name:"Pacify aggressive snapdragons",skills:["nature_magic","life_magic","pharmacology","beast_tongue"],intermediates:["Approaching the {_OPTION0} snapdragon patch cautiously","Humming a {_OPTION1} soothing melody","Offering a small piece of {_OPTION2} crystallized honey","Gently stroking its {_OPTION3} scaled stalk","Spraying a {_OPTION4} calming mist over its snapping jaws","Retreating slowly as the plant becomes {_OPTION5}"],_OPTION0:["fire-breathing","acid-spitting","loudly barking","territorial"],_OPTION1:["lullaby","Nature's harmony","Tower-taught calming chant","simple folk"],_OPTION2:["bee-blessed","mana-infused","drowsing-draught coated","specially prepared"],_OPTION3:["vibrant green","fiery red","surprisingly soft","thorn-covered"],_OPTION4:["herbal","potion-based","magical","moonflower-essence"],_OPTION5:["docile","sleepy","less agitated","momentarily distracted"]},{name:"Graft sun shy roots onto shadowstalks",skills:["nature_magic","alchemy","farming","surgery"],intermediates:["Selecting a healthy {_OPTION0} sun shy root cutting","Making a precise incision in a {_OPTION1} shadowstalk stem","Carefully inserting the {_OPTION2} root into the incision","Binding the graft with {_OPTION3} enchanted plant fibers","Applying an {_OPTION4} alchemical bonding agent","Whispering a {_OPTION5} prayer for successful fusion"],_OPTION0:["pale white","lumina-infused","delicate","surprisingly resilient"],_OPTION1:["mature","young and pliable","dark purple","actively writhing"],_OPTION2:["glowing","pulsating","sensitive","reluctant"],_OPTION3:["living","spider silk","moon-spun","self-tightening"],_OPTION4:["growth-promoting","tissue-fusing","life-sustaining","shadow-attuned"],_OPTION5:["Nature Spirit's","Druidic","Tower's secret","hopeful"]},{name:"Collect dew from slumbering dreamlilies",skills:["legerdemain","nature_magic","oneiromancy","stealth"],intermediates:["Approaching the dreamlily patch at {_OPTION0}","Moving with {_OPTION1} silence to avoid waking them","Using a {_OPTION2} silver spoon to gather dew","Catching the {_OPTION3} iridescent droplets","Storing the dew in a {_OPTION4} crystal vial","Feeling the {_OPTION5} oneiric energies from the collected dew"],_OPTION0:["false dawn","deepest night","the witching hour","the moment before sunrise"],_OPTION1:["cat-like","absolute","unnatural","breathtaking"],_OPTION2:["enchanted","moon-blessed","feather-light","specially crafted"],_OPTION3:["shimmering","rainbow-hued","potent","elusive"],_OPTION4:["stoppered","rune-etched","chilled","dark"],_OPTION5:["faint","powerful","soporific","prophetic"]},{name:"Set wards against blighted fairies",skills:["nature_magic","order_magic","monster_lore","abjuration"],intermediates:["Identifying areas frequented by {_OPTION0} fairies","Sprinkling a line of {_OPTION1} cold iron filings","Hanging {_OPTION2} bells that chime at unwelcome frequencies","Inscribing {_OPTION3} abjuration runes on garden stones","Planting {_OPTION4} fairy-repellent herbs like rue","Activating the wards with a pulse of {_OPTION5} magic"],_OPTION0:["mischievous","malicious","crop-destroying","dream-stealing"],_OPTION1:["pure","consecrated","rust-proofed","magnetized"],_OPTION2:["silver","brass","enchanted crystal","bone"],_OPTION3:["binding","repulsion","confusion","banishment"],_OPTION4:["pungent","thorny","iron-rich","magically treated"],_OPTION5:["Order","Nature","protective","focused"]},{name:"Propagate rare lumina moss",skills:["nature_magic","farming","geomancy","bloom"],intermediates:["Taking a small cutting from the parent {_OPTION0} lumina moss","Preparing a bed of nutrient-rich, {_OPTION1} soil","Gently pressing the {_OPTION2} moss cutting onto the new bed","Watering it with {_OPTION3} geode-infused water","Placing a {_OPTION4} light-focusing crystal nearby","Whispering words of {_OPTION5} encouragement to the new growth"],_OPTION0:["brightly glowing","pulsating softly","ancient","delicate"],_OPTION1:["dark","mineral-heavy","magically charged","cave-simulated"],_OPTION2:["fragile","resilient","shimmering","tentatively glowing"],_OPTION3:["pure","slightly sparkling","energized","life-attuned"],_OPTION4:["quartz","moonstone","sunstone","specially cut"],_OPTION5:["nurturing","growth","light-binding","flourishing"]}],scriptorium:[{name:"Organize unfinished scrolls and codices",skills:["scribing","magical_lore","memory","archive_delving"],intermediates:["Deciphering faded {_OPTION0} script on a forgotten map","Carefully unrolling a brittle scroll detailing {_OPTION1}","Cross-referencing celestial charts from the Grand Orrery","Identifying a misplaced treatise on {_OPTION2} summoning","Re-inking a nearly lost warding symbol on a containment scroll","Muttering a mnemonic chant to recall ancient filing protocols","Sorting parchments by their subtle elemental affinity"],_OPTION0:["draconic","ancient elven","cryptic djinn","celestial"],_OPTION1:["astral projection techniques","elemental binding rituals","golem creation formulae","temporal stasis fields"],_OPTION2:["imp","gargoyle","minor elemental","thought-form"]},{name:"Recycle papyrus scraps",skills:["labor","artisanry","woodworking","alchemy"],intermediates:["Soaking shredded papyrus in a vat of {_OPTION0} solution","Pressing the resulting pulp into new sheets using a heavy {_OPTION1} press","Adding powdered moonstone for enhanced luminosity to the mixture","Carefully peeling a fresh, damp sheet from the drying frame","Filtering out residual ink pigments with a miniature distillation coil","Whispering a minor {_OPTION2} charm for increased durability","Stacking the recycled sheets for the Head Scribe's inspection"],_OPTION0:["riverbloom","star-thistle concocted","crystal-clear","mana-infused"],_OPTION1:["oak","brass-fitted stone","enchanted crystal","clockwork-powered"],_OPTION2:["preservation","mending","strengthening","illumination"]},{name:"Clean ink spills from desks",skills:["labor","alchemy","cleaning"],intermediates:["Mixing a potent {_OPTION0} solvent for stubborn dragon's blood ink","Scrubbing away a shimmering pool of volatile {_OPTION1} ink","Neutralizing a particularly corrosive batch of squid ink with chalk dust","Applying a polishing paste made from powdered {_OPTION2} shell","Carefully wiping down antique mahogany and ebony desks","Disposing of soiled rags in the alchemical waste reclamation unit","Admiring the restored gleam of the ancient Scriptorium surfaces"],_OPTION0:["alchemical","citrus-based","spirit-infused","mineral-based"],_OPTION1:["celestial blue","shadow black","phoenix feather crimson","verdant green illusion"],_OPTION2:["griffin feather","unicorn horn","marble","mother-of-pearl"]},{name:"Sharpen dragon claw quills",skills:["artisanry","scribing","beast_mastery","lapidary_arts"],intermediates:["Selecting a suitably sized claw from the {_OPTION0} dragon talon collection","Carefully grinding the claw tip against a {_OPTION1} whetstone","Testing the newly formed point on a scrap of practice vellum","Polishing the claw's surface with powdered {_OPTION2} for a smooth finish","Checking the ink flow channel for any microscopic blockages","Feeling the subtle thrum of residual elemental magic in the claw","Arranging the sharpened quills in the master calligrapher's ornate stand"],_OPTION0:["young azure","elder emerald","shadow wyrm","crystal"],_OPTION1:["diamond-grit","obsidian shard","enchanted river","meteorite fragment"],_OPTION2:["pearl","ruby dust","sapphire powder","adamantine flakes"]},{name:"Restock vellum and enchanted inks",skills:["scribing","alchemy","enchanting","bookkeeping"],intermediates:["Checking current inventory levels against the master Scriptorium ledger","Unpacking a new crate of freshly cured {_OPTION0} vellum sheets","Carefully decanting shimmering {_OPTION1} ink into smaller, airtight vials","Labeling each ink vial with its specific enchantment and potency","Storing surplus vellum rolls in the climate-controlled archival vault","Noting the dwindling supply of rare {_OPTION2} ink for immediate reorder","Arranging the various supplies neatly on the Scriptorium's designated shelves"],_OPTION0:["lambskin","dragonhide","griffinskin","celestial-grade"],_OPTION1:["everlasting","truth-revealing","illusion-weaving","spell-enhancing"],_OPTION2:["invisibility","transmutation","elemental summoning","prophetic dream"]},{name:"Sort pigments by magical property",skills:["scribing","alchemy","magical_lore","magical_item_analysis"],intermediates:["Examining a vial of glowing {_OPTION0} pigment under a crystal magnifier lens","Identifying the elemental resonance of powdered {_OPTION1} flakes","Separating pigments used for {_OPTION2} spells from those for abjuration rituals","Cataloging a newly acquired sample of shadow-infused ochre from the Underworld","Feeling the subtle warmth emanating from a fire-aspected carmine pigment","Arranging pigment jars according to their school of magic compatibility","Updating the grand pigment inventory with precise runic annotations"],_OPTION0:["moonpetal blue","sunstone yellow","phoenix ash red","void black"],_OPTION1:["dragon scale green","griffin feather gold","mandrake root brown","kraken ink indigo"],_OPTION2:["illusionary","conjuration","transmutation","divination"]},{name:"Dust drafting tables and lecterns",skills:["labor","cleaning"],intermediates:["Wielding a long feather duster made from {_OPTION0} plumes","Wiping down ancient oak and rune-etched drafting tables","Carefully dusting around delicate astrolabes, orreries, and other arcane instruments","Clearing cobwebs spun by crystal spiders from the Scriptorium's high corners","Polishing the brass fittings and gem inlays on the grand central lectern","Trying not to sneeze from the motes of {_OPTION1} dust","Gently shooing away a stray {_OPTION2} that scurried from under a table leg"],_OPTION0:["griffin","phoenix","roc","pegasus wing"],_OPTION1:["magical","ancient library","glittering spell","choking enchanted"],_OPTION2:["scroll-mite","bookwyrm hatchling","escaped ink elemental","paper golem fragment"]},{name:"File away master copies of spells",skills:["scribing","magical_lore","memory","abjuration"],intermediates:["Verifying the {_OPTION0} authenticity seal on a newly scribed master spell scroll","Cross-referencing the spell's classification with the forbidden magic registry","Placing the scroll of {_OPTION1} into its designated, warded arcane niche","Whispering a complex protective ward over the enchanted filing cabinet","Updating the master spell index with the scroll's precise storage coordinates","Feeling the thrum of immense contained power from a nearby {_OPTION2} spell scroll","Ensuring the archival preservation runes are still actively glowing with power"],_OPTION0:["Archmage's personal","Guild Chancellor's official","Head Scribe's meticulous","Tower Guardian's potent"],_OPTION1:["Meteor Shower","Chain Lightning","Animate Dead","Town Portal"],_OPTION2:["Disintegration","Time Stop","Wish","Clone"]},{name:"Prepare fresh vellum for scribing",skills:["labor","leatherworking","scribing","artisanry"],intermediates:["Stretching a supple {_OPTION0} hide tautly on a large wooden frame","Scraping the hide to an even thickness using a lunar-silvered blade","Treating the surface with a carefully measured solution of {_OPTION1} and fine chalk","Polishing the vellum to a perfectly smooth finish with a {_OPTION2} stone","Cutting the prepared vellum into standard scroll and codex page sizes","Inspecting each finished sheet for minute imperfections under enchanted light","Stacking the pristine, prepared vellum for the waiting scribes"],_OPTION0:["young hydra","manticore","wyvern","pegasus foal"],_OPTION1:["moonflower dew","powdered pearl","clarified mana","distilled starlight"],_OPTION2:["pumice","agate","river-smoothed","polished obsidian"]},{name:"Correct misspelled incantations",skills:["scribing","magical_lore","linguistics","spellcraft"],intermediates:["Identifying a critical phonetic error in a complex {_OPTION0} chant","Consulting the 'Lexicon of Arcane {_OPTION1}' for proper enunciation","Carefully erasing the incorrect rune with a specialized alchemical solvent","Re-inking the corrected symbol with unwavering precision and enchanted ink","Cross-referencing the modified passage with a master copy of the {_OPTION2} spell","Muttering the corrected magical phrase softly to test its harmonic resonance","Feeling a wave of arcane stability as the spell matrix correctly aligns"],_OPTION0:["fireball","teleportation","summoning","healing light"],_OPTION1:["Syllables","Phonemes","Vocables","Ancient Runes"],_OPTION2:["Magic Arrow","Bless","Curse","Shield"]},{name:"Transcribe fragile texts before they crumble",skills:["scribing","magical_lore","legerdemain","memory"],intermediates:["Gently turning the brittle, yellowed pages of an ancient {_OPTION0} tome","Using magically enhanced spectacles to decipher nearly faded script","Rapidly memorizing entire passages just before they turn to irreplaceable dust","Swiftly copying the precious text onto fresh, durable {_OPTION1} vellum","Recreating intricate astronomical diagrams of forgotten {_OPTION2} constellations","Whispering a minor stasis charm over the original, crumbling document","Comparing the meticulous transcription for accuracy one final, painstaking time"],_OPTION0:["prophetic","heretical","alchemical","necromantic"],_OPTION1:["dragonscale","moon-treated","enchanted archival","everlasting papyrus"],_OPTION2:["celestial","demonic plane","elemental pathway","draconic lineage"]},{name:"Create forgery proof guild seals on documents",skills:["scribing","enchanting","forgery","order_magic"],intermediates:["Heating the special {_OPTION0} wax over a precisely controlled magical flame","Firmly pressing the Guild's master signet ring into the molten wax","Infusing the cooling seal with a subtle, {_OPTION1} enchantment","Tracing a microscopic rune of authenticity, visible only under {_OPTION2} light","Verifying the complex seal's integrity with a specialized detection charm","Allowing the newly formed seal to cool and harden on important guild decrees","Feeling the faint hum of protective and authenticating magic emanating from the seal"],_OPTION0:["arcane blue","crimson dragon's blood","silver star","obsidian black"],_OPTION1:["truth-binding","identity-verifying","anti-tampering","warding aura"],_OPTION2:["moon","true-seeing","arcane","a specific magical frequency"]},{name:"Illuminate manuscripts with powdered gems",skills:["scribing","artistry","lapidary_arts","enchanting"],intermediates:["Grinding precious {_OPTION0} into a fine, shimmering, dust-like powder","Mixing the valuable gem powder with an enchanted, quick-drying {_OPTION1} binder","Painstakingly applying the luminous, gem-infused paint to the manuscript's borders and capitals","Crafting intricate, flowing knotwork that subtly glows with inner magical light","Embedding a tiny, perfectly cut chip of {_OPTION2} at each chapter's beginning","Channeling a faint, harmonious magical aura into the delicate illuminations","Admiring the way the completed page catches and refracts the arcane library light"],_OPTION0:["sapphires","rubies","emeralds","diamonds"],_OPTION1:["acacia gum","dragon's tear resin","pixie dust solution","moonpetal nectar"],_OPTION2:["starstone","sunstone","fire opal","moonstone"]},{name:"Bind newly copied grimoires",skills:["scribing","leatherworking","artisanry","enchanting"],intermediates:["Selecting a piece of exquisitely treated {_OPTION0} hide for the grimoire's cover","Carefully stitching the gathered pages together with magically strengthened sinew thread","Attaching the sturdy cover and spine using potent {_OPTION1} adhesive","Embossing the grimoire's title and guild symbol using heated metallic stamps","Fastening an ornate clasp made of polished {_OPTION2} to secure the book","Whispering a minor charm of protection and longevity over the finished grimoire","Placing the newly bound grimoire on the 'ready for advanced enchanting' shelf"],_OPTION0:["basilisk","manticore","wyrmling","shadow panther"],_OPTION1:["golem-grade","alchemically potent","spirit gum","elf-crafted resin"],_OPTION2:["silver","brass","carved bone","meteoric iron"]},{name:"Research lost runic languages",skills:["runes","ancient_languages","magical_lore","cryptography"],intermediates:["Comparing a newly discovered obsidian tablet with the entries in the {_OPTION0} Codex","Cross-referencing unknown symbols with known {_OPTION1} pictographic glyphs","Attempting to decipher a recurring, complex rune possibly meaning '{_OPTION2}'","Using a scrying crystal to visualize the runes' original historical and magical context","Theorizing complex grammatical structures of a forgotten, powerful tongue","Experiencing a sudden flash of intuitive insight about a particular runic sequence's meaning","Making a significant breakthrough in translating a prophetic phrase about ancient titans"],_OPTION0:["Dragon Tongue","Celestial Script","Primordial Giant","Atlantean Lost"],_OPTION1:["dwarven mining","ancient elven star","primordial elemental","forgotten draconic"],_OPTION2:["power","warding","gateway","binding","forbidden knowledge"]}],infirmary:[{name:"Sterilize healing instruments",skills:["medicine","life_magic","pyromancy","first_aid"],intermediates:["Arranging silver scalpels, bone saws, and forceps neatly on a sterile tray","Passing each instrument methodically through a {_OPTION0} flame","Submerging the tools in a bubbling cauldron of thrice-sanctified water","Wiping down delicate probes with cloths soaked in a potent {_OPTION1} solution","Chanting a minor but effective purification incantation over the complete set","Checking for any remaining {_OPTION2} or microbial residue with a detection charm","Placing the gleaming, sterilized instruments into a sealed, warded container"],_OPTION0:["blue purifying","white hot magical","continual light","phoenix-conjured"],_OPTION1:["alcohol-based","holy water","alchemically pure spirit","anti-microbial herbal"],_OPTION2:["ethereal taint","spiritual contagion","bacterial presence","negative magical"]},{name:"Dispose of used bandages and poultices",skills:["labor","medicine","toxicology"],intermediates:["Carefully collecting soiled linens and poultice remnants with enchanted tongs","Sorting bandages potentially tainted with lingering {_OPTION0} magic or contagions","Placing infectious or magically hazardous waste into specially warded biohazard containers","Sprinkling neutralizing {_OPTION1} powder over the waste to negate harmful energies","Transporting the sealed containers to the deep-pit alchemical incinerator","Steadfastly avoiding inhalation of any escaping {_OPTION2} fumes during disposal","Washing hands thoroughly with carbolic soap and a final cleansing charm"],_OPTION0:["necrotic","curse-laden","virulent disease","parasitic entity"],_OPTION1:["quicklime","silver salt","purifying crystal dust","consecrated ashwood"],_OPTION2:["miasmatic vapor","toxic effluvium","lingering magical essence","foul spiritual"]},{name:"Restock healing salves and elixirs",skills:["medicine","alchemy","life_magic","bookkeeping"],intermediates:["Checking the infirmary's inventory log for depleted {_OPTION0} potions and balms","Retrieving fresh, potent batches from the secure alchemical storage vaults","Carefully labeling new jars of {_OPTION1} salve with their precise brewing dates and ingredients","Arranging elixirs, potions, and salves by potency, application, and school of magic","Ensuring the {_OPTION2} charm on the main storage cabinet is active and strong","Updating the stock levels meticulously in the infirmary's enchanted ledger","Noticing a critically low supply of unicorn horn powder needed for advanced regeneration potions"],_OPTION0:["regeneration","mana restoration","universal antidote","enhanced vitality"],_OPTION1:["sunpetal","moonleaf","dragonwort","griffin's balm"],_OPTION2:["preservation","cooling stasis","anti-spoilage","purity field"]},{name:"Change bedding in recovery cots",skills:["labor","hospitality","medicine","hygiene"],intermediates:["Stripping soiled and sweat-stained linens from a recently vacated recovery cot","Spraying the cot frame thoroughly with a {_OPTION0} disinfectant mist","Laying out fresh, crisp sheets woven with fine {_OPTION1} threads for comfort","Plumping pillows generously infused with calming herbs like {_OPTION2}","Tucking in the corners with practiced efficiency to ensure patient comfort","Ensuring a completely clean and welcoming environment for the next ailing patient","Taking the bundled soiled linens to the infirmary's enchanted laundry chute"],_OPTION0:["silver-infused","herbal essence","magical cleansing","steam-powered atomized"],_OPTION1:["silver","healing enchantment","comforting charm","anti-microbial ward"],_OPTION2:["lavender","chamomile","dreamleaf","peaceblossom"]},{name:"Organize poultice ingredients",skills:["medicine","foraging","alchemy","memory"],intermediates:["Sorting piles of dried {_OPTION0} leaves from bundles of fresh silvervein mushrooms","Arranging neatly labeled jars of powdered {_OPTION1} alongside rendered troll fat","Checking the freshness and magical potency of rare, recently harvested sunpetal blossoms","Restocking various sizes of bandages and clean binding cloths","Labeling new batches of rare ingredients with their specific harvest date and location","Cross-referencing the 'Apothecary's Grand Concordance' for effective {_OPTION2} combinations","Carefully discarding any ingredients showing the slightest signs of spoilage or magical taint"],_OPTION0:["kingfoil","mandrake root","bloodmoss","willowbark shavings"],_OPTION1:["unicorn horn","manticore stingers","phoenix tear crystals","dragon scale dust"],_OPTION2:["wound-closing","potent anti-venom","rapid fever-reducing","swift bone-mending"]},{name:"Wash linens with cleansing charms",skills:["labor","life_magic","enchanting","tailoring"],intermediates:["Loading heaps of soiled infirmary linens into the enchanted washing cauldron","Adding a precise measure of powdered {_OPTION0} soap, known for its purity","Chanting the ancient 'Aqua Pura Vitae' cleansing incantation over the water","Stirring the churning water with a large, rune-etched oaken paddle","Watching as stubborn stains and impurities magically lift and vanish from the fabric","Rinsing the thoroughly cleansed linens with {_OPTION1} water drawn from a blessed spring","Wringing out the excess water using a magically assisted {_OPTION2} wringer mechanism"],_OPTION0:["sunstone","pearlash","riverbloom essence","powdered silver"],_OPTION1:["pure spring","blessed","crystal clear mountain","mana-infused ritual"],_OPTION2:["self-twisting","clockwork-driven","golem-assisted","enchanted compression"]},{name:"Sweep examination rooms for spirits",skills:["labor","life_magic","spectral_mastery"],intermediates:["Lighting a thick bundle of {_OPTION0} sage, its smoke acrid and purifying","Wafting the billowing, cleansing smoke into shadowy corners and under furniture","Muttering a continuous warding chant to deter lingering {_OPTION1} or sorrowful echoes","Using a polished silver mirror to detect unseen presences or ethereal disturbances","Feeling a distinct cold spot developing near the {_OPTION2} operating table","Sprinkling a line of consecrated salt across all thresholds and windowsills","Confirming the room is now clear and serene with a pendulum dowsed in holy water"],_OPTION0:["ghostsbane","spirit-ward herb","dragon's breath incense","silver birch"],_OPTION1:["wraiths","poltergeists","lost souls","minor mischievous specters"],_OPTION2:["marble","obsidian","enchanted steel","ancient oak examination"]},{name:"Label medicinal herb jars anew",skills:["medicine","alchemy","runes","memory"],intermediates:["Carefully wiping old, faded, and peeling labels from ceramic and glass herb jars","Selecting appropriate, magically resonant runic symbols for an herb's {_OPTION0} properties","Inscribing the herb's common name, for example '{_OPTION1}', in clear, precise script","Adding a small, secondary rune indicating its primary {_OPTION2} or elemental affinity","Attaching the new, informative labels securely with magically adhesive gum arabic","Cross-checking each new label meticulously with entries in the master herbarium codex","Arranging the freshly labeled jars alphabetically and by use on the infirmary shelves"],_OPTION0:["healing","toxic","calming","stimulant","protective"],_OPTION1:["bloodroot","nightshade berries","valerian root","ginseng"],_OPTION2:["Life","Death","Order","Chaos","Nature's balance"]},{name:"Tidy patient bedside tables",skills:["labor","hospitality","patron_care"],intermediates:["Clearing away empty potion vials, used tissues, and discarded bandage scraps","Wiping down the table surface with a soft cloth lightly soaked in {_OPTION0}","Refilling the personal water carafe with fresh, cool, purified water","Neatly arranging any personal items, like a well-worn copy of '{_OPTION1}'","Placing a small, cheerful vase containing a single, fresh {_OPTION2} flower","Ensuring the patient's call bell is within easy, comfortable reach","Offering a quiet, reassuring word of comfort if the patient is awake and lucid"],_OPTION0:["lavender water","lemon-verbena solution","mild antiseptic wash","rosewater mist"],_OPTION1:["Tales of Heroic Knights","Basic Cantrips for Beginners","The Stargazer's Almanac","Mysteries of the Deep"],_OPTION2:["sunpetal","moonflower","peacebloom","whisperwind daisy"]},{name:"Air out wards with purifying incense",skills:["labor","life_magic","alchemy","protection"],intermediates:["Propping open tall windows to allow fresh, {_OPTION0} air to gently circulate","Lighting a swinging censer generously filled with potent {_OPTION1} incense blend","Wafting the fragrant, purifying smoke methodically throughout the entire recovery ward","Visualizing negative energies, miasmas, and lingering illness being dispelled by the smoke","Replacing stale, heavy air with air carrying the clean, uplifting scents of {_OPTION2}","Carefully ensuring the aromatic smoke doesn't irritate any particularly sensitive patients","Closing the windows after the ward's air feels refreshed, cleansed, and revitalized"],_OPTION0:["mountain-crisp","sea-kissed","pine-scented forest","magically filtered tower"],_OPTION1:["frankincense and myrrh","sandalwood and silver flakes","dragonsblood resin","sacred white sage"],_OPTION2:["pine and mint","lavender and chamomile","eucalyptus and camphor","healing herbs and flowers"]},{name:"Brew fever reducing concoctions",skills:["medicine","alchemy","provisions","pharmacology"],intermediates:["Measuring precise amounts of dried willow bark and fresh {_OPTION0} leaves","Gently simmering the combined ingredients in a heavy copper cauldron over a low {_OPTION1} flame","Stirring the thickening mixture widdershins with a polished silver spoon for potency","Adding a single, potent drop of concentrated {_OPTION2} essence to the brew","Carefully straining the completed concoction through fine, sterile muslin cloth","Decanting the warm, aromatic brew into small, clearly labeled phials for dosage","Tasting a minuscule, diluted drop to check for correct bitterness and expected efficacy"],_OPTION0:["feverfew blossoms","yarrow flowers","catnip leaves","crushed boneset"],_OPTION1:["magical","alchemical heat","ethereal blue","slow burning enchanted"],_OPTION2:["peppermint","wintergreen oil","moonpetal nectar","crystal dew"]},{name:"Set broken bones with magical assistance",skills:["medicine","life_magic","geomancy","surgery"],intermediates:["Examining a glowing X-ray plate created by a {_OPTION0} diagnostic spell","Gently yet firmly manipulating the fractured limb back into perfect alignment","Chanting a powerful mending incantation derived from the {_OPTION1} school of magic","Channeling focused life energy directly into the break to accelerate bone knitting","Applying a thick, warm poultice of comfrey root and powdered {_OPTION2}","Immobilizing the healing limb securely with magically hardened and supportive bandages","Continuously monitoring the patient's vital signs and pain levels with a diagnostic charm"],_OPTION0:["Reveal Inner Structure","Clairvoyant Skeletal Sight","Bone-Scan Lumina","Luminous Diagnosis Aura"],_OPTION1:["restoration","Earth Magic","Nature's Mend","Somatic Renewal"],_OPTION2:["adamantine dust","crushed pearl","unicorn horn shavings","granite powder"]},{name:"Suture wounds using enchanted thread",skills:["medicine","tailoring","enchanting","surgery"],intermediates:["Selecting a fine, curved needle threaded with shimmering {_OPTION0} silk","Thoroughly cleaning the wound edges with an antiseptic and numbing solution","Skillfully and swiftly stitching the gaping wound edges neatly together","Whispering a quiet charm of {_OPTION1} into each perfectly placed stitch","Applying a thin layer of regenerative salve to prevent scarring and promote healing","Covering the freshly sutured wound with a sterile, {_OPTION2} dressing","Admiring the neatness and integrity of the magically enhanced, healing suture line"],_OPTION0:["spider-gossamer","silver-spun","self-dissolving enchanted","healing-infused kelp"],_OPTION1:["rapid healing","scar tissue prevention","soothing pain reduction","infection warding light"],_OPTION2:["mana-permeated gauze pad","living moss patch","translucent dragonfly wing membrane","blessed linen strip"]},{name:"Diagnose ailments using divination",skills:["medicine","divination","magical_lore","diagnostics"],intermediates:["Casting a handful of polished rune stones onto a black velvet divination cloth","Carefully interpreting the resulting patterns to understand the patient's afflicted {_OPTION0}","Gazing intently into a mist-filled crystal ball to perceive internal maladies or imbalances","Consulting the ancient, leather-bound 'Atlas of Arcane Afflictions and Their Cures'","Using a silver pendulum to dowse for areas of significant {_OPTION1} disruption","Cross-referencing complex divinatory insights with observed physical symptoms and patient history","Pinpointing the elusive source of the ailment as a rare, invasive {_OPTION2} parasite"],_OPTION0:["aura fluctuations","life force signature","spiritual imbalance points","subtle magical affliction markers"],_OPTION1:["magical energy","elemental harmony","vital life energy","chi flow"],_OPTION2:["ethereal","astral","shadow-born","mana-leeching"]},{name:"Comfort delirious patients with calming illusions",skills:["medicine","mentalism","insight"],intermediates:["Gently placing a cool, reassuring hand on the feverish patient's forehead","Weaving a simple, serene illusion of a peaceful, sun-dappled {_OPTION0} scene","Mentally projecting feelings of profound serenity, safety, and gentle calm","Whispering soft, soothing words in a calm, rhythmic, almost hypnotic tone","Subtly shaping and adapting the illusion to respond to the patient's subconscious needs and fears","Observing the patient's agitated breathing becoming slower, deeper, and more regular","Maintaining the {_OPTION1} illusion steadily until the worst of the {_OPTION2} subsides"],_OPTION0:["meadow filled with wildflowers","starry night sky over a calm sea","tranquil, mist-shrouded lake","sunlit, ancient forest glade"],_OPTION1:["deeply calming","utterly peaceful","gently protective","blissfully serene"],_OPTION2:["frightening delirium","chaotic fever dream","terrifying night terror","disorienting magical confusion"]}],meditation_chamber:[{name:"Polish meditation crystals",skills:["labor","meditation","lapidary_arts","magical_item_analysis"],intermediates:["Gathering polishing cloths and {_OPTION0} solutions","Gently wiping each crystal surface","Removing accumulated {_OPTION1} dust","Inspecting for micro-fractures with a {_OPTION2} lens","Buffing to a high {_OPTION3} sheen","Feeling the crystal's amplified {_OPTION4}"],_OPTION0:["blessed water","alchemical","moon-infused","crystal-specific"],_OPTION1:["psychic","elemental","astral","ambient"],_OPTION2:["magnifying","scrying","truth-seeing","gemcutter's"],_OPTION3:["spiritual","reflective","magical","etheric"],_OPTION4:["resonance","energy","clarity","focus"]},{name:"Arrange contemplation cushions",skills:["labor","hospitality","meditation"],intermediates:["Fluffing the {_OPTION0} cushions","Consulting the ancient texts on {_OPTION1} placement","Aligning cushions with the chamber's {_OPTION2} lines","Ensuring comfortable spacing for {_OPTION3} practitioners","Testing the feel of each spot","Adjusting for optimal {_OPTION4} circulation"],_OPTION0:["velvet","silk","enchanted","levitating"],_OPTION1:["sacred geometry","astral","geomantic","elemental"],_OPTION2:["ley","mana","psychic","architectural"],_OPTION3:["novice","master","visiting","solitary"],_OPTION4:["energy","mana","thought-form","serenity"]},{name:"Sweep the sacred space with blessed broom",skills:["labor","life_magic","meditation"],intermediates:["Retrieving the {_OPTION0} broom from its consecrated stand","Chanting a minor {_OPTION1} purification incantation","Sweeping away physical and {_OPTION2} debris","Focusing intent on cleansing the area","Guiding dislodged energies towards the {_OPTION3} portal","Feeling the renewed sanctity of the {_OPTION4}"],_OPTION0:["silver-birch","ebony-handled","rune-etched","everglowing"],_OPTION1:["cleansing","banishing","sanctifying","warding"],_OPTION2:["ethereal","negative","astral","emotional"],_OPTION3:["disposal","recycling","nullification","elemental"],_OPTION4:["space","chamber","altar","threshold"]},{name:"Refresh incense burners with calming herbs",skills:["labor","alchemy","meditation","pharmacology"],intermediates:["Emptying old ashes into a {_OPTION0} receptacle","Selecting a blend of {_OPTION1} herbs","Grinding herbs with a {_OPTION2} mortar and pestle","Carefully measuring portions for each burner","Lighting the incense with a {_OPTION3} flame","Inhaling the soothing {_OPTION4} aroma"],_OPTION0:["ritual","earthenware","silver","containment"],_OPTION1:["Dreamleaf","Serenity Bloom","Whisperwind Petals","Moonpetal Dust"],_OPTION2:["marble","obsidian","blessed","alchemical"],_OPTION3:["magical","pure","everlasting","tiny dragon's"],_OPTION4:["peaceful","tranquilizing","focus-enhancing","spirit-lifting"]},{name:"Align geomantic stones for optimal flow",skills:["meditation","geomancy","terramancy","divination"],intermediates:["Consulting the {_OPTION0} charts","Sensing the existing {_OPTION1} currents","Gently nudging a {_OPTION2} stone into place","Recalibrating the energy {_OPTION3} with fine adjustments","Verifying alignment with a {_OPTION4} pendulum","Feeling the harmonious {_OPTION5} resonating through the chamber"],_OPTION0:["geomantic","astrological","ley line","elemental"],_OPTION1:["mana","telluric","earth","psychic"],_OPTION2:["lodestone","quartz","granite","obsidian"],_OPTION3:["nexus","grid","matrix","confluence"],_OPTION4:["dowsing","scrying","crystal","sensitive"],_OPTION5:["energy","vibrations","balance","flow"]},{name:"Cleanse aura disturbances",skills:["meditation","life_magic","psychometry","occlumency"],intermediates:["Entering a deep meditative state","Scanning the chamber for {_OPTION0} dissonances","Identifying the source of an {_OPTION1} imprint","Using {_OPTION2} techniques to smooth out auric ripples","Drawing out negative energies with a {_OPTION3} gesture","Sealing the cleansed space with a {_OPTION4} ward","Perceiving the chamber's aura returning to a {_OPTION5} hue"],_OPTION0:["auric","psychic","emotional","ethereal"],_OPTION1:["lingering","turbulent","parasitic","foreign"],_OPTION2:["gentle life magic","focused will","sonic healing","abjuration patterns"],_OPTION3:["sweeping","siphoning","banishing","cleansing"],_OPTION4:["protective","minor","temporary","serenity"],_OPTION5:["clear","golden","serene","balanced"]},{name:"Dust altar and sacred relics",skills:["labor","magical_lore","mythology"],intermediates:["Donning consecrated {_OPTION0} gloves","Choosing a brush made of {_OPTION1} feathers","Gently whisking dust from the Idol of {_OPTION2}","Carefully cleaning around the {_OPTION3} offering bowl","Recalling the history of each {_OPTION4} relic","Polishing the altar surface with {_OPTION5} oil"],_OPTION0:["silk","enchanted linen","purified leather","non-reactive"],_OPTION1:["griffin","phoenix","swan","enchanted owl"],_OPTION2:["the Serpent God","the Moon Goddess","the First Archmage","a Forgotten One"],_OPTION3:["crystal","silver","ancient stone","oracle's"],_OPTION4:["venerable","powerful","possibly cursed","misunderstood"],_OPTION5:["sacred","blessed","lemongrass","myrrh-infused"]},{name:"Tune resonant bowls for harmony",skills:["musical_instruments","bat_ear","meditation"],intermediates:["Selecting a {_OPTION0} striker","Gently tapping the rim of a {_OPTION1} singing bowl","Listening for the precise {_OPTION2} pitch","Making minute adjustments by adding or removing {_OPTION3} water","Harmonizing multiple bowls to create a {_OPTION4} chord","Feeling the air vibrate with {_OPTION5} frequencies"],_OPTION0:["suede-covered","crystal","rosewood","dragonbone"],_OPTION1:["crystal","bronze","silver-alloy","celestial metal"],_OPTION2:["fundamental","harmonic","resonant","healing"],_OPTION3:["blessed","moon-touched","distilled","elementally charged"],_OPTION4:["serene","powerful","meditative","elemental"],_OPTION5:["soothing","cleansing","energizing","balancing"]},{name:"Straighten prayer rugs and mandalas",skills:["labor","meditation","artistry"],intermediates:["Lifting the edge of a {_OPTION0} rug","Smoothing out wrinkles and creases","Aligning the rug's central motif with the chamber's {_OPTION1} axis","Checking the intricate patterns of a sand {_OPTION2}","Carefully adjusting a hanging {_OPTION3} tapestry","Ensuring all sacred patterns are {_OPTION4} and respected"],_OPTION0:["Persian","Naga-woven","celestial silk","elemental-wool"],_OPTION1:["geomantic","focal","spiritual","true north"],_OPTION2:["mandala","yantra","cosmogram","sigil-map"],_OPTION3:["Kalachakra","dream-catcher","ancestral","prophetic"],_OPTION4:["undisturbed","perfectly aligned","ritually correct","symbolically potent"]},{name:"Remove distracting mundane objects",skills:["labor","introspection"],intermediates:["Spotting a misplaced {_OPTION0}","Picking up a dropped {_OPTION1}","Wondering how a {_OPTION2} got in here","Placing items in the 'Lost and Found (Mundane)' {_OPTION3}","Ensuring only objects of {_OPTION4} significance remain","Appreciating the increased {_OPTION5} of the space"],_OPTION0:["quill","ink pot","snack wrapper","mundane novel"],_OPTION1:["coin","button","glove","shopping list"],_OPTION2:["rubber chicken","spork","garden gnome","single sock"],_OPTION3:["box","chest","cubby","dimensional pocket"],_OPTION4:["spiritual","meditative","ritual","magical"],_OPTION5:["clarity","focus","serenity","order"]},{name:"Recharge mana focusing nodes",skills:["meditation","order_magic","enchanting","mana_conservation"],intermediates:["Identifying depleted {_OPTION0} nodes","Drawing ambient mana through a series of {_OPTION1} gestures","Channeling refined energy into a {_OPTION2} crystal matrix","Monitoring the node's {_OPTION3} levels","Sealing the node with a temporary {_OPTION4} sigil","Feeling the subtle thrum of a fully charged {_OPTION5}"],_OPTION0:["crystal","geomantic","astral","ethereal"],_OPTION1:["arcane","somatic","ritualistic","precise"],_OPTION2:["primary","secondary","amplifying","stabilizing"],_OPTION3:["charge","saturation","resonance","output"],_OPTION4:["containment","conservation","efficiency","protection"],_OPTION5:["node","network","system","conduit"]},{name:"Cleanse the chamber of psychic echoes",skills:["meditation","spectral_mastery","abjuration","psychometry"],intermediates:["Tuning into the chamber's {_OPTION0} ambiance","Detecting lingering {_OPTION1} from past meditations","Employing a {_OPTION2} chant to dispel unwanted echoes","Using a {_OPTION3} focus to absorb stray thought-forms","Grounding residual psychic energy into the {_OPTION4}","Feeling the mental {_OPTION5} return to the room"],_OPTION0:["psychic","mental","emotional","ethereal"],_OPTION1:["impressions","emotions","thought-forms","memories"],_OPTION2:["sonic","verbal","runic","silent"],_OPTION3:["crystal","mirror","symbol","personal"],_OPTION4:["earth","void","elemental plane","nearest ley line"],_OPTION5:["stillness","clarity","silence","neutrality"]},{name:"Transcribe meditative mantras onto scrolls",skills:["meditation","scribing","linguistics","calligraphy"],intermediates:["Selecting a high-quality {_OPTION0} parchment","Preparing {_OPTION1} ink infused with calming properties","Choosing a mantra for {_OPTION2} focus","Writing with precise {_OPTION3} strokes","Imbuing each character with meditative {_OPTION4}","Rolling and sealing the completed {_OPTION5} scroll"],_OPTION0:["vellum","papyrus","lambskin","moon-fiber"],_OPTION1:["lapis lazuli","silver","dreamwood sap","star-petal"],_OPTION2:["clarity","peace","insight","elemental"],_OPTION3:["calligraphic","runic","sigilic","ancient"],_OPTION4:["intent","energy","serenity","power"],_OPTION5:["sacred","empowered","instructional","personal"]},{name:"Prepare ritual tea for introspection",skills:["meditation","provisions","alchemy","introspection"],intermediates:["Selecting {_OPTION0} leaves known for enhancing clarity","Heating {_OPTION1} water to the perfect temperature","Steeping the tea in a {_OPTION2} teapot","Adding a drop of {_OPTION3} essence","Pouring the tea into {_OPTION4} cups","Savoring the aroma before the {_OPTION5} begins"],_OPTION0:["Silver Lotus","Mind's Eye","Oracle's Whisper","Starleaf"],_OPTION1:["spring","blessed","twice-boiled","moon-kissed"],_OPTION2:["clay","porcelain","silver","enchanted"],_OPTION3:["honey","lotus nectar","starlight dew","clarity"],_OPTION4:["delicate","runed","simple ceramic","scrying"],_OPTION5:["meditation","ritual","contemplation","journey"]},{name:"Guide apprentices in basic focus techniques",skills:["meditation","pedagogy","leadership","tutoring"],intermediates:["Gathering the {_OPTION0} apprentices","Explaining the importance of a {_OPTION1} mind","Leading a simple {_OPTION2} exercise","Correcting {_OPTION3} posture and breathing","Answering {_OPTION4} questions patiently","Observing their progress in achieving initial {_OPTION5}"],_OPTION0:["eager","distracted","talented","clumsy"],_OPTION1:["still","clear","centered","receptive"],_OPTION2:["breathing","visualization","sensory awareness","candle-gazing"],_OPTION3:["slumped","restless","shallow","erratic"],_OPTION4:["insightful","basic","repetitive","off-topic"],_OPTION5:["focus","calm","concentration","mindfulness"]}],storage_vault:[{name:"Organize resource crates by type",skills:["labor","logistics","bookkeeping","memory"],intermediates:["Dragging a heavy crate of {_OPTION0}","Checking labels or peeking inside","Consulting the {_OPTION1} manifest","Stacking crates of {_OPTION2} together","Making a new {_OPTION3} label if needed","Updating the inventory of the {_OPTION4} section"],_OPTION0:["golem parts","crystal shards","alchemical ingredients","raw ore"],_OPTION1:["master","digital","holographic","ancient scroll"],_OPTION2:["herbs","metals","gems","scrolls"],_OPTION3:["runic","color-coded","magically glowing","self-updating"],_OPTION4:["Gems & Crystals","Metals & Minerals","Herbs & Reagents","Artifact Components"]},{name:"Dust off forgotten artifacts",skills:["labor","magical_lore","history","appraisal"],intermediates:["Locating a particularly dusty {_OPTION0}","Using a soft brush made of {_OPTION1} bristles","Carefully wiping away centuries of {_OPTION2} accumulation","Revealing intricate {_OPTION3} carvings","Trying to recall the artifact's {_OPTION4} or origin","Wondering if it is valuable or just {_OPTION5}"],_OPTION0:["statue","amulet","weapon","codex"],_OPTION1:["griffin feather","manticore hair","dragon's whisker","enchanted silk"],_OPTION2:["cobweb","magical residue","temporal","ectoplasmic"],_OPTION3:["runic","celestial","demonic","forgotten"],_OPTION4:["purpose","legend","creator","curse"],_OPTION5:["cursed","inert","dangerously powerful","historically significant"]},{name:"Take inventory of hoarded supplies",skills:["bookkeeping","memory","appraisal","logistics"],intermediates:["Opening a chest overflowing with {_OPTION0}","Counting individual {_OPTION1} units","Ticking items off the old {_OPTION2} list","Noting discrepancies and {_OPTION3} items","Estimating the value of a pile of {_OPTION4}","Sighing at the sheer amount of {_OPTION5} accumulated"],_OPTION0:["gemstones","gold coins","mana potions","spell components"],_OPTION1:["phials","ingots","scrolls","bundles"],_OPTION2:["parchment","clay tablet","crystal-based","magical"],_OPTION3:["unaccounted","damaged","surprisingly multiplied","transmuted"],_OPTION4:["dragon scales","phoenix feathers","shadowsilk bolts","sunstone nuggets"],_OPTION5:["stuff","loot","reagents","clutter"]},{name:"Clear cobwebs from treasure chests",skills:["labor","cleaning"],intermediates:["Approaching a {_OPTION0} chest","Wielding a long-handled {_OPTION1} duster","Sweeping away thick curtains of {_OPTION2} cobwebs","Dodging a startled (and possibly giant) {_OPTION3}","Checking for any remaining {_OPTION4} nests","Admiring the now visible {_OPTION5} carvings on the chest"],_OPTION0:["ancient oak","iron-bound","rune-covered","suspiciously silent"],_OPTION1:["feather","bristle","enchanted","anti-spider"],_OPTION2:["ancient","glistening","magically reinforced","slightly sticky"],_OPTION3:["spider","cave cricket","dust bunny elemental","silverfish"],_OPTION4:["egg sacs","spiderling","web-based trap","magical"],_OPTION5:["intricate","warning","ownership","protective"]},{name:"Label unmarked containers carefully",skills:["labor","runes","magical_item_analysis","memory"],intermediates:["Picking up an unlabeled {_OPTION0} jar","Sniffing cautiously at the contents or not","Attempting to identify the {_OPTION1} substance within","Inscribing a temporary label with {_OPTION2} chalk","Deciding on a permanent {_OPTION3} rune for identification","Hoping the contents are not something that eats {_OPTION4}"],_OPTION0:["clay","glass","metal","strangely pulsing"],_OPTION1:["powdered","liquid","gaseous","semi-sentient"],_OPTION2:["blessed","mundane","glow-in-the-dark","self-erasing"],_OPTION3:["preservation","warning","contents-identifying","elemental affinity"],_OPTION4:["labels","containers","curiosity","magic users"]},{name:"Reinforce weak shelving under heavy loads",skills:["labor","construction","woodworking","smithing"],intermediates:["Noticing a shelf groaning under stacks of {_OPTION0}","Fetching {_OPTION1} planks and metal braces","Carefully unloading the {_OPTION2} items","Nailing or {_OPTION3} new supports into place","Testing the shelf's new {_OPTION4}","Restacking the items hopefully more {_OPTION5}"],_OPTION0:["lead ingots","obsidian blocks","grimoires bound in iron","petrified dragon eggs"],_OPTION1:["ironwood","steel","stone","magically hardened"],_OPTION2:["heavy","fragile","cursed","unstable"],_OPTION3:["bolting","welding","magically fusing","conjuring"],_OPTION4:["strength","stability","load capacity","structural integrity"],_OPTION5:["securely","evenly","logically","artistically"]},{name:"Sweep vault passages for traps and dust",skills:["labor","trap_handling","perception","stealth"],intermediates:["Entering a dark and {_OPTION0} passage","Using a {_OPTION1} broom to sweep ahead","Listening for the click of a {_OPTION2} mechanism","Carefully disarming a {_OPTION3} glyph","Sweeping piles of {_OPTION4} dust into a bag","Feeling relieved after passing a {_OPTION5} section"],_OPTION0:["dusty","ominous","rarely used","trap-laden"],_OPTION1:["ten-foot","enchanted","weighted","decoy"],_OPTION2:["pressure plate","tripwire","magical","scuttling"],_OPTION3:["fireball","poison dart","net","teleportation"],_OPTION4:["ancient","sparkling","cursed","strangely warm"],_OPTION5:["particularly suspicious","recently reset","notoriously trapped","alarmingly quiet"]},{name:"Polish guarded relics and valuables",skills:["labor","magical_item_analysis","artisanry","lapidary_arts"],intermediates:["Approaching the {_OPTION0} of Unending Bling","Selecting a {_OPTION1} polishing cloth infused with protection spells","Gently rubbing a {_OPTION2} crown careful of its enchantments","Buffing a set of {_OPTION3} goblets","Applying a thin coat of {_OPTION4} wax to a dragon's egg","Stepping back to admire the renewed {_OPTION5} of the treasure"],_OPTION0:["Pedestal","Display Case","Altar","Guardian Golem's Hoard"],_OPTION1:["unicorn hair","dwarven silk","elfin chamois","gnomish microfiber"],_OPTION2:["lich king's","sunken empire's","archmage's","forgotten deity's"],_OPTION3:["diamond-encrusted","solid gold","never-empty","poison-detecting"],_OPTION4:["preservation","anti-tarnish","dragon-repellent","lustrous"],_OPTION5:["sparkle","radiance","magical aura","gleam"]},{name:"Secure loose gemstones and ingots",skills:["labor","legerdemain","appraisal","lapidary_arts"],intermediates:["Spotting a scattering of loose {_OPTION0}","Carefully picking up a shimmering {_OPTION1}","Checking if any have rolled into a {_OPTION2} crevice","Placing them into a {_OPTION3} velvet bag","Ensuring the {_OPTION4} chest lid is properly closed","Counting the secured items for the {_OPTION5}"],_OPTION0:["rubies","emeralds","diamonds","soul gems"],_OPTION1:["star sapphire","black diamond","fire opal","perfectly cut"],_OPTION2:["dark","bottomless","monster-inhabited","trap-triggering"],_OPTION3:["rune-stitched","reinforced","lead-lined","bottomless"],_OPTION4:["treasure","ingot","gem","overflowing"],_OPTION5:["ledger","inventory","peace of mind","next appraisal"]},{name:"Update the vault magical ledger",skills:["bookkeeping","magical_lore","scribing","memory"],intermediates:["Opening the ancient {_OPTION0} ledger","Dipping a {_OPTION1} quill into ever-full ink","Cross-referencing with the latest {_OPTION2} reports","Noting the addition of the {_OPTION3} of a Thousand Screams","Correcting a previous entry about the Orb of {_OPTION4}","Closing the ledger with a {_OPTION5} clasp"],_OPTION0:["dragon-hide bound","iron-clad","self-updating","holographic"],_OPTION1:["phoenix feather","griffin claw","runed silver","self-writing"],_OPTION2:["acquisition","appraisal","de-cursing","containment"],_OPTION3:["Sceptre","Amulet","Dagger","Music Box"],_OPTION4:["Confusion","Slightly-Off-Key Singing","Infinite Puns","Temporary Blindness"],_OPTION5:["satisfying","magical","secure","ominous"]},{name:"Reset arcane locks and wards",skills:["order_magic","lockpicking","enchanting","magical_lore"],intermediates:["Approaching a door secured by {_OPTION0} glowing runes","Consulting the {_OPTION1} schematics for the warding sequence","Carefully disabling the outer {_OPTION2} layer","Recalibrating the {_OPTION3} crystal in the lock mechanism","Inputting the new {_OPTION4} sequence","Feeling the wards snap back into place with renewed {_OPTION5}"],_OPTION0:["pulsating","shifting","ancient","newly installed"],_OPTION1:["master","warden's","emergency","original"],_OPTION2:["alarm","decoy","mana drain","illusory"],_OPTION3:["focusing","key","attunement","power"],_OPTION4:["activation","passphrase","gestural","psychic"],_OPTION5:["vigor","strength","complexity","impenetrability"]},{name:"Appraise newly acquired treasures",skills:["appraisal","magical_item_analysis","commerce_and_trade","history"],intermediates:["Examining a newly found {_OPTION0} goblet","Using a jeweler's loupe on an inscribed {_OPTION1}","Casting a minor {_OPTION2} spell to detect enchantments","Consulting a tome on {_OPTION3} artifacts","Estimating its value in {_OPTION4} gold pieces","Deciding whether to sell study or store the {_OPTION5}"],_OPTION0:["jeweled","plain-looking","strangely humming","cursed-looking"],_OPTION1:["ring","bracer","pendant","tablet"],_OPTION2:["identification","aura reading","history revealing","curse detection"],_OPTION3:["ancient","rare","lost civilization","forbidden"],_OPTION4:["thousands of","a modest sum of","an obscene amount of","unquantifiable"],_OPTION5:["item","treasure","artifact","piece of junk"]},{name:"Identify and contain cursed items",skills:["magical_item_analysis","order_magic","death_magic","risk_assessment"],intermediates:["Carefully approaching a {_OPTION0} that radiates unease","Donning protective {_OPTION1} gauntlets","Using a {_OPTION2} rod to poke the suspicious item","Confirming a {_OPTION3} curse with a detection spell","Placing the item into a {_OPTION4} containment box","Labeling the box with multiple {_OPTION5} warnings"],_OPTION0:["dagger","mirror","doll","music box"],_OPTION1:["lead-lined","rune-etched","silver-woven","abjuration-infused"],_OPTION2:["silver","ten-foot","divining","non-conductive"],_OPTION3:["soul-binding","luck-draining","transformation","babbling"],_OPTION4:["lead-lined","warded","extra-dimensional","null-magic"],_OPTION5:["danger","do not open","curse of instant regret","contact head archivist"]},{name:"Create hidden compartments for sensitive items",skills:["stealth","engineering","woodworking","legerdemain"],intermediates:["Selecting a sturdy {_OPTION0} chest for modification","Measuring out space for a false {_OPTION1}","Carefully cutting and fitting {_OPTION2} panels","Installing a nearly invisible {_OPTION3} mechanism","Testing the compartment with a decoy {_OPTION4}","Admiring the seamless and {_OPTION5} new hiding spot"],_OPTION0:["oak","iron","bookcase","floorboard section"],_OPTION1:["bottom","lid","side","back"],_OPTION2:["wooden","metal","camouflaged","illusory"],_OPTION3:["spring-loaded","pressure-sensitive","magical trigger","puzzle-based"],_OPTION4:["valuable","document","potion","embarrassing personal item"],_OPTION5:["undetectable","cleverly disguised","perfectly hidden","ingenious"]},{name:"Rotate perishable magical components",skills:["alchemy","magical_lore","logistics","memory"],intermediates:["Checking the {_OPTION0} date on a jar of dried Mandrake root","Moving older batches of {_OPTION1} to the front","Discarding any {_OPTION2} reagents into a neutralizing solution","Noting which components like {_OPTION3} need restocking soon","Ensuring proper storage conditions for {_OPTION4} eyes","Updating the {_OPTION5} chart for component freshness"],_OPTION0:["expiration","best-by","harvest","infusion"],_OPTION1:["phoenix tears","dragon's blood","unicorn horn powder","pixie dust"],_OPTION2:["spoiled","inert","dangerously unstable","transmuted"],_OPTION3:["glowmoss","shadowsilk","ectoplasm","moonpetal dew"],_OPTION4:["newt","basilisk","beholder","spider"],_OPTION5:["rotation","inventory","alchemical","perishables"]}],kitchen:[{name:"Scrub cauldrons and stew pots",skills:["labor","provisions","stamina","cleaning"],intermediates:["Soaking with {_OPTION0} water","Scouring with {_OPTION1} sand","Polishing with a {_OPTION2} cloth","Inspecting for any remaining {_OPTION3} residue","Rinsing with enchanted spring water","Stacking them near the everburning hearth"],_OPTION0:["boiling","blessed","purified","elemental"],_OPTION1:["silver","volcanic","river","crystal"],_OPTION2:["linen","silk","wool","enchanted"],_OPTION3:["grease","magic","food","potion"]},{name:"Organize exotic spice racks",skills:["provisions","refined_palate","memory","foraging"],intermediates:["Identifying {_OPTION0} spices by scent","Checking labels written in {_OPTION1}","Arranging jars alphabetically by their {_OPTION2} name","Wiping dust from {_OPTION3} containers","Noting low stock of {_OPTION4}","Cross-referencing with the latest {_OPTION5} recipe book"],_OPTION0:["fiery","aromatic","rare","otherworldly"],_OPTION1:["Dwarvish runes","Elven script","Draconic symbols","Orcish pictograms"],_OPTION2:["common","magical","planetary","astral"],_OPTION3:["crystal","clay","silver","wooden"],_OPTION4:["Dragon Peppers","Moonpetal Dust","Phoenix Ashes","Shadowsalt"],_OPTION5:["Gorgon Ramesses' Cooking Compendium","Archmage Antoine's Alchemical Appetizers","Hag Agatha's Herbal Delights","Griffin Gourmet's Guide to Sky-High Cuisine"]},{name:"Wipe down preparation surfaces",skills:["labor","provisions","hygiene"],intermediates:["Spraying with a {_OPTION0} cleaning solution","Scrubbing away stubborn {_OPTION1} stains","Wiping with a magically absorbent {_OPTION2} sponge","Buffing the {_OPTION3} countertops until they gleam","Applying a thin layer of protective {_OPTION4} wax","Ensuring no {_OPTION5} residue remains for the next concoction"],_OPTION0:["citrus-infused","alchemically potent","naturally derived","blessed"],_OPTION1:["potion","blood","ectoplasm","unknown goo"],_OPTION2:["sea","mana","crystal","living"],_OPTION3:["stone","marble","obsidian","enchanted wood"],_OPTION4:["bees","dragonscale","gleaming","anti-bacterial"],_OPTION5:["magical","chemical","sticky","slimy"]},{name:"Mop the greasy and occasionally sticky floor",skills:["labor","stamina","cleaning"],intermediates:["Pouring {_OPTION0} cleansing liquid into a heavy bucket","Wringing out the {_OPTION1} mop head with effort","Scrubbing at a patch of stubborn {_OPTION2}","Maneuvering around heavy {_OPTION3} legs","Replacing the dirty {_OPTION4} water with fresh","Admiring the briefly shimmering clean floor before the next spill"],_OPTION0:["bubbling","pine-scented","consecrated","self-heating"],_OPTION1:["ogre-hair","elemental-infused","self-wringing","ancient"],_OPTION2:["ectoplasm","spilled rejuvenation potion","troll jam","dragon grease"],_OPTION3:["cauldron","table","apprentice","kitchen golem"],_OPTION4:["murky","glowing","viscous","strangely sentient"]},{name:"Restock basic and magical ingredients",skills:["provisions","alchemy","bookkeeping","logistics"],intermediates:["Checking the {_OPTION0} inventory ledger","Fetching {_OPTION1} from the magically chilled storage","Unpacking a crate of newly delivered {_OPTION2} from the Caravan Guild","Arranging {_OPTION3} on designated, rune-labelled shelves","Updating stock levels with a {_OPTION4} quill on the requisition scroll","Noticing an order of {_OPTION5} is critically low"],_OPTION0:["master","digitalized (gnomish tech)","ethereal","prophetic parchment"],_OPTION1:["Phoenix Eggs","Powdered Unicorn Horn","Dried Mandrake Root","Bottled Starlight"],_OPTION2:["Glowcap Mushrooms from the Underdark","Sunstone Crystals from desert nomads","River Serpent Scales from the Serpent's Spine","Shadow Lily Nectar from the Shadowfel"],_OPTION3:["rare herbs","volatile potions","finely ground reagents","glittering crystals"],_OPTION4:["self-inking","griffin feather","enchanted","invisible ink revealing"],_OPTION5:["Hydra Hearts for regeneration potions","Gorgon's Tears for petrification reversal","Djinn Lamps (empty) for elemental binding","Philosopher's Stone fragments for transmutation"]},{name:"Dispose of food scraps to the composting worms",skills:["labor","provisions","farming","nature_magic"],intermediates:["Gathering fragrant {_OPTION0} scraps from collection bins","Carrying a heavy bucket towards the {_OPTION1} worm farm in the undercroft","Carefully opening the {_OPTION2} lid, releasing an earthy aroma","Tipping the contents for the wriggling, grateful {_OPTION3}","Sprinkling some {_OPTION4} growth enhancer on top","Closing the lid and whispering a {_OPTION5} druidic growth charm"],_OPTION0:["vegetable peelings","magical beast offcuts","enchanted fruit cores","leftover potion dregs"],_OPTION1:["subterranean","magically accelerated","ever-hungry","oversized"],_OPTION2:["heavy stone","runic-sealed wooden","singing mushroom","self-sealing clay"],_OPTION3:["Giant Earthworms of the Deep","Mana Grubs that glow faintly","Carrion Crawlers (young)","Grave Worms (vegetarian diet)"],_OPTION4:["decay acceleration powder","nutrient-rich bone meal","mana-infused soil","earth elemental essence"],_OPTION5:["quickening","enriching","potent","secret"]},{name:"Clean the everburning hearth or oven",skills:["labor","pyromancy","provisions","engineering"],intermediates:["Temporarily dimming the {_OPTION0} flames with a pyromantic gesture","Scraping out {_OPTION1} ash with a {_OPTION2} adamantine shovel","Wiping soot from the {_OPTION3} fire-resistant bricks","Checking the integrity of the heat-focusing {_OPTION4} runes","Polishing the {_OPTION5} metalwork framing the hearth","Reigniting the flames to their full {_OPTION6} glory with a snap of fingers"],_OPTION0:["eternal","magical","elemental-bound","sacred phoenix"],_OPTION1:["magical","cursed (but inert)","glowing ember","never-ending supply of"],_OPTION2:["mithril","obsidian","dragonbone","enchanted iron"],_OPTION3:["fire-resistant","rune-etched","ancient dwarven","self-repairing obsidian"],_OPTION4:["containment","heat amplification","efficiency","elemental binding"],_OPTION5:["brass fittings","copper pipes","adamantine grates","silver inlays"],_OPTION6:["roaring","dancing","whispering","controlled blue"]},{name:"Sharpen carving knives and cleavers",skills:["provisions","smithing","labor","butchery"],intermediates:["Selecting a {_OPTION0} whetstone from the armory","Applying {_OPTION1} honing oil to its surface","Drawing the {_OPTION2} blade across the stone at a precise, ancestral angle","Testing the sharpness on a {_OPTION3} floating feather","Honing the razor edge with a {_OPTION4} steel","Carefully wiping and storing the gleaming, hungry {_OPTION5}"],_OPTION0:["diamond-grit","water-magic infused","volcanic glass","enchanted dwarven"],_OPTION1:["sharpening","sacred anointing","elemental","cooling dragon"],_OPTION2:["orcish cleaver 'Gutrender'","elven carving knife 'Leafblade'","dwarven butchering axe 'Beardtrimmer'","goblin shiv 'Pointy'"],_OPTION3:["piece of parchment that splits silently","hanging hair that parts instantly","target dummy's finger (willingly offered)","shaft of sunlight"],_OPTION4:["dragonbone","mithril","adamantine","obsidian honing rod"],_OPTION5:["blade","tool of art","weapon against tough roasts","instrument of culinary precision"]},{name:"Sort ladles spoons and spatulas",skills:["provisions","analysis_and_logic","memory"],intermediates:["Emptying the {_OPTION0} utensil drawer onto a clean cloth","Wiping down each {_OPTION1} silver item with care","Separating {_OPTION2} soup ladles from {_OPTION3} potion spatulas","Arranging them by size and {_OPTION4} material, following the Guild's strict protocol","Placing them neatly into their respective {_OPTION5} velvet-lined compartments","Finding a rogue {_OPTION6} stirring rod, likely borrowed by an alchemist"],_OPTION0:["overflowing","chaotic","cluttered","mysteriously humming"],_OPTION1:["gleaming silver","polished wood","carved bone","etched crystal"],_OPTION2:["cauldron-sized soup","delicate serving","alchemical measuring","scrying bowl"],_OPTION3:["ingredient mixing","residue scraping","omelette flipping","enchanted runic"],_OPTION4:["magical property affinity","intended alchemical use","rune marking sequence","frequency of use"],_OPTION5:["velvet-lined","clearly labelled","custom-fit magical","rotating enchanted"],_OPTION6:["alchemical glass","enchanted stirring","borrowed ceremonial","slightly sentient wooden"]},{name:"Empty bins of peelings and offcuts",skills:["labor","provisions","urban_survival"],intermediates:["Lifting a surprisingly heavy {_OPTION0} bin overflowing with vegetable matter","Carrying it carefully towards the {_OPTION1} disposal chute leading to the worm farm","Avoiding tripping over a {_OPTION2} scurrying familiar","Tipping the contents into the gaping, steaming {_OPTION3} maw of the chute","Replacing the bin with a fresh {_OPTION4} magically scented liner","Spraying a deodorizing {_OPTION5} charm to cleanse the air"],_OPTION0:["wooden","metal","self-emptying (but currently malfunctioning)","cursed (makes contents heavier)"],_OPTION1:["compost heap","monster-feeding pit","void portal (small, temporary)","recycling elemental"],_OPTION2:["kitchen imp helper","wandering cauldron on tiny legs","pile of animated potatoes","sleeping apprentice under a table"],_OPTION3:["chute's dark","monster's waiting","portal's swirling","grinder's hungry"],_OPTION4:["magically scented","reinforced goblin-weave","self-cleaning (minor enchantment)","disposable parchment"],_OPTION5:["air-freshening breeze","anti-pest warding","odor-nullifying vacuum","illusionary potpourri"]},{name:"Prepare rations for expeditions",skills:["provisions","survival","logistics","cooking"],intermediates:["Consulting the {_OPTION0} expedition manifest for duration and personnel","Portioning out {_OPTION1} high-energy trail mix into individual pouches","Wrapping {_OPTION2} stone-hard hardtack in oilcloth for preservation","Sealing pouches of dried, spiced {_OPTION3} meat against spoilage","Counting out {_OPTION4} water purification tablets blessed by a cleric","Packing everything into {_OPTION5} magically expanded satchels","Adding a small, hidden {_OPTION6} morale booster treat for each member"],_OPTION0:["upcoming perilous","long-term underground","scouting mission","diplomatic envoy's catering"],_OPTION1:["ironwood nut and sunberry","griffin jerky and roasted seeds","dwarven rock biscuit","elven waybread crumb"],_OPTION2:["stone-baked dwarven","elven Lembas-like","orcish iron","twice-baked ship's"],_OPTION3:["wyvern strips","dire boar jerky","giant spider leg (surprisingly tasty)","mystery salted"],_OPTION4:["alchemical purification","cleric-blessed","elemental-infused","emergency teleport (single use, short range)"],_OPTION5:["sturdy leather","expanded carrying capacity","lightweight magical silk","camouflaged beast hide"],_OPTION6:["candied ginger root","honey cake square","flask of potent dwarven ale (miniature)","enchanted berry that tastes of home"]},{name:"Bake enchanted bread for morale",skills:["provisions","enchanting","life_magic","baking_pastry"],intermediates:["Kneading the {_OPTION0} dough with mana-infused hands, making it glow faintly","Adding a pinch of powdered {_OPTION1} for courage","Shaping loaves into uplifting {_OPTION2} forms","Etching subtle {_OPTION3} runes of cheer and fellowship onto the crust before baking","Baking in a {_OPTION4} oven blessed by a hearth spirit","The aroma of {_OPTION5} bread filling the guild, lifting spirits","Glazing the warm loaves with {_OPTION6} sun-kissed honey"],_OPTION0:["golden, glowing","self-rising star-yeast","ancient grain sourdough","mana-enriched"],_OPTION1:["Sunpetal dust","Laughing Cap mushroom spores","Pixie Wing flakes","Ground Moonstone slivers"],_OPTION2:["smiling sun faces","happy griffin shapes","singing sword silhouettes","bountiful cornucopia designs"],_OPTION3:["joy","courage","fellowship","vigor restoration"],_OPTION4:["dragon-fire brick","elemental-powered crystal","blessed clay","arcane energy"],_OPTION5:["courage-inducing cinnamon","hope-instilling honey-wheat","friendship-binding rosemary","heartwarming spiced apple"],_OPTION6:["elfin clover","golden sun","mana-infused crystal","crystallized pixie"]},{name:"Churn butter from manticore milk",skills:["provisions","beast_mastery","alchemy","dairying"],intermediates:["Carefully pouring the volatile, {_OPTION0} manticore milk into the reinforced churn","Adding a coagulant derived from {_OPTION1} to stabilize it","Beginning the rhythmic, strenuous {_OPTION2} churning motion, warding against {_OPTION2_1}","Feeling the mixture thicken into potent, {_OPTION3} butter","Skimming off the slightly {_OPTION4} buttermilk for alchemical use","Pressing the butter into {_OPTION5} molds depicting manticore visages","Chilling the slightly {_OPTION6} butter in the ice-magic pantry"],_OPTION0:["fiery red","acidic green","electrically charged blue","surprisingly placid white"],_OPTION1:["Cockatrice gizzard extract","Basilisk venom (highly diluted)","Gorgon's gaze (reflected and captured)","Harpy feather ash"],_OPTION2:["vigorous","enchanted (self-churning)","hypnotic","exhausting manual"],_OPTION2_1:["explosions","corrosion","accidental poisoning","curdling"],_OPTION3:["spicy and fortifying","tingling and energizing","courage-inducing yet dangerous","glowing with faint power"],_OPTION4:["caustic","energizing","mildly hallucinogenic","surprisingly tasty (for some)"],_OPTION5:["roaring lion head","stinging scorpion tail","wise human face","simple, unassuming block"],_OPTION6:["venomous (but edible)","empowering (temporarily)","courage-inducing (with side effects)","dangerous-if-mishandled by non-initiates"]},{name:"Ferment potent dwarven ale",skills:["fermentation_distillation","alchemy","customs"],intermediates:["Mashing {_OPTION0} iron-rich mountain barley in heated vats","Boiling the wort with bitter {_OPTION1} cave hops and secret dwarven herbs","Adding a strain of {_OPTION2} ancestral yeast, humming ancient songs to it","Sealing the potent mixture in an {_OPTION3} rune-carved oak barrel","Chanting a {_OPTION4} dwarven fermentation song to encourage the process","Monitoring the {_OPTION5} pressure gauges and runic indicators closely","Anticipating the first taste of the legendary, beard-strengthening {_OPTION6} brew"],_OPTION0:["iron-rich volcanic","flame-toasted obsidian","crystal-infused geode","stone-ground ancestral"],_OPTION1:["shadow","magma-kissed","iron-laced","glow-in-the-dark cave"],_OPTION2:["exceptionally hardy and alcohol-tolerant","explosively potent and fast-acting","long-bearded and wise","singing (if you listen closely)"],_OPTION3:["rune-carved petrified","iron-bound thunderwood","obsidian-lined","geode-encrusted"],_OPTION4:["boisterous and off-key","solemn and rumbling","secret and powerful","very loud and enthusiastic"],_OPTION5:["bubbling and gurgling","glowing faintly from within","creaking ominously under pressure","displaying prophetic runic patterns"],_OPTION6:["legendary 'Dragonsbreath'","volatile 'Giantsbane'","mind-bending 'Stoneshaper'","bone-strengthening 'Adamant Ale'"]},{name:"Identify and remove magically tainted foodstuffs",skills:["provisions","magical_item_analysis","toxicology","arcane_sight"],intermediates:["Scanning shelves with an {_OPTION0} enchanted monocle, searching for discordant auras","Waving a {_OPTION1} truth-detection crystal over suspicious-looking items","Noticing a faint, sickly {_OPTION2} aura around some recently acquired {_OPTION3}","Carefully isolating the tainted {_OPTION4} using telekinetic tongs","Neutralizing its harmful magic with a sprinkle of {_OPTION5} counter-agent powder","Disposing of the now inert residue in a {_OPTION6} lead-lined, rune-sealed container for deep burial"],_OPTION0:["truth-seeing","aura-revealing","poison-detecting","curse-identifying"],_OPTION1:["quartz purity","amethyst warding","obsidian nullification","diamond clarity"],_OPTION2:["sickly green miasma","pulsing red malevolence","chilling blue despair","whispering shadow corruption"],_OPTION3:["exotic fruits from a cursed jungle","cheese wheels from a haunted dairy","jugs of wine from a vampire's cellar","mysterious mushrooms offered by a shifty goblin"],_OPTION4:["glowing mushrooms that whisper secrets","weeping sausages that leave trails of slime","chattering teeth (disembodied, found in a pie)","self-peeling potatoes that scream"],_OPTION5:["purification salt","blessed water dew","anti-magic dust","containment rune chalk"],_OPTION6:["lead-lined vault","rune-warded dimensional pocket","extra-dimensional oubliette","bottomless pit (temporarily summoned)"]}],stable:[{name:"Muck out griffin and hippogriff stalls",skills:["labor","beast_mastery","riding","stamina"],intermediates:["Donning {_OPTION0} reinforced leather protective gear","Wielding a {_OPTION1} rune-engraved pitchfork with practiced, weary ease","Scooping piles of surprisingly large {_OPTION2} droppings into a reinforced barrow","Avoiding a playful, razor-sharp nip from a nearby curious {_OPTION3}","Wheeling the barrow to the designated, steaming {_OPTION4} manure heap outside the city walls","Spreading fresh, sweet-smelling {_OPTION5} straw for bedding"],_OPTION0:["heavy leather and steel-toed boots","enchanted linen (surprisingly resilient)","golem-assisted exoskeleton (for the really big messes)","surprisingly flimsy (but blessed) robes"],_OPTION1:["rune-engraved silver","mithril-pronged","blessed oaken","self-cleaning (but slow)"],_OPTION2:["enormous, bowling ball-sized","slightly magical and shimmering","surprisingly fragrant (in a bad way)","corrosive, smoking"],_OPTION3:["griffin fledgling","hippogriff colt","pegasus foal with attitude","young manticore with boundary issues"],_OPTION4:["towering, mountain-like","steaming and vaguely alive","surprisingly fertile (gardeners love it)","slightly dangerous (watch for dung beetles the size of fists)"],_OPTION5:["golden sun-dried","enchanted sleep-inducing","mountain cloud-soft","feather-soft and hypoallergenic"]},{name:"Brush down mounts equine and otherwise",skills:["labor","beast_mastery","riding","animal_companionship"],intermediates:["Approaching a {_OPTION0} with a soothing murmur and an offering of {_OPTION0_1}","Using a {_OPTION1} mithril curry comb to loosen caked mud and dander","Following with a {_OPTION2} dragon-bristle body brush for achieving a brilliant shine","Gently detangling a {_OPTION3} flowing, often magically imbued mane and tail","Checking for any hidden {_OPTION4} ticks, burrs, or minor curses","The mount expressing its deep contentment with a {_OPTION5} rumbling purr or soft nicker"],_OPTION0:["noble war steed","fiery nightmare steed","majestic royal griffin","skittish silver hippogriff"],_OPTION0_1:["a sugar cube","a piece of jerky","a sky-apple","a whispered compliment"],_OPTION1:["silver-chased","dragonscale-studded","enchanted self-warming","whispering wind"],_OPTION2:["soft phoenix feather","magic-infused polishing","self-polishing elemental","dwarven steel-bristle (for nightmares)"],_OPTION3:["flowing silken","fiery ethereal","feathered iridescent","braided with warding charms"],_OPTION4:["shadow","curse-bearing","mana-draining","particularly stubborn normal"],_OPTION5:["soft, grateful nicker","rumbling, chest-vibrating purr (griffins)","happy, whistling screech (hippogriffs)","grateful snort of warm air (nightmares)"]},{name:"Refill water troughs with fresh water",skills:["labor","beast_mastery","hydromancy","animal_husbandry"],intermediates:["Emptying the old, algae-filled {_OPTION0} water from the stone troughs","Scrubbing the trough interior with a stiff {_OPTION1} bristle brush and purifying salts","Channeling fresh, cool water using a {_OPTION2} 'Create Water' spell or a water elemental's aid","Or, if magic fails, carrying heavy buckets from the {_OPTION3} blessed well","Adding a pinch of {_OPTION4} revitalizing mineral salts to the water","Watching the grateful mounts eagerly {_OPTION5} lap up the clean water"],_OPTION0:["murky and insect-laden","slime-covered and stagnant","slightly glowing with unknown residue","surprisingly clean (thanks to a minor enchantment)"],_OPTION1:["stiff-bristled dwarven","elemental-powered scouring","self-scrubbing enchanted","blessed silver-wire"],_OPTION2:["Create Water cantrip","Summon Minor Water Elemental","Aquatic Conduit sigil","Purify Liquid charm"],_OPTION3:["enchanted everfull","bottomless abyss (carefully!)","talking gargoyle-guarded","sacred spring-fed cistern"],_OPTION4:["revitalizing stamina","stamina-boosting electrolytic","magical fortifying","elemental purity"],_OPTION5:["lap delicately","gulp thirstily","splash playfully","delicately sip (unicorns only)"]},{name:"Restock hay oats and specialized feed",skills:["labor","beast_mastery","bookkeeping","provisions"],intermediates:["Checking feed levels in each {_OPTION0} stall's manger","Hoisting a fragrant bale of {_OPTION1} sun-cured mountain hay onto your shoulder","Scooping out precise measures of {_OPTION2} iron-fortified oats","Preparing a special, protein-rich mix of {_OPTION3} for the carnivorous griffins","Updating the {_OPTION4} perpetual feed inventory scroll with a charcoal stylus","Noticing the supply of {_OPTION5} is alarmingly low and needs reordering from the plains nomads"],_OPTION0:["pegasus sky-loft","unicorn glade-stall","nightmare shadow-pen","hippogriff aerie-coop"],_OPTION1:["sweet-smelling timothy","nutrient-rich alfalfa","sun-dried cloud","moon-kissed elven"],_OPTION2:["iron-fortified warhorse","magically enhanced racing","fire-roasted dwarven","lightning-charged storm"],_OPTION3:["Sunmetal Pellets and dried Sky-Herring","Skyberries and Cloudfish Jerky","Essence of Wind and powdered Cloudstone","Freshly hunted mountain goats (on special occasions)"],_OPTION4:["everlasting parchment","self-updating crystal slate","golem-maintained clay tablet","prophetic dream journal (surprisingly accurate for supplies)"],_OPTION5:["Phoenix Cherries (for nightmares' fiery breath)","Rainbow Carrots (for unicorns' coat sheen)","Star Oats (for pegasi's flight endurance)","Lightning Bugs (for hippogriffs' aerial acrobatics)"]},{name:"Organize tack harnesses and flying gear",skills:["labor","riding","beast_mastery","leatherworking"],intermediates:["Untangling a frustrating mess of {_OPTION0} leather reins and straps","Hanging heavy {_OPTION1} aerial saddles on their designated, reinforced racks","Sorting {_OPTION2} enchanted flight goggles by prescription and magical property","Checking all {_OPTION3} load-bearing straps for wear and tear, especially near buckles","Polishing the {_OPTION4} silver buckles and ornamental studs until they shine","Storing {_OPTION5} emergency featherfall parachutes in easily accessible chests"],_OPTION0:["griffin flight","hippogriff training","pegasus ceremonial","nightmare battle"],_OPTION1:["sky-leather combat","dragonhide armored","enchanted silk racing","feather-light scouting"],_OPTION2:["wind-cutting aerodynamic","night-vision goggled","aura-seeing divinatory","fog-piercing clarity"],_OPTION3:["cinch","harness quick-release","saddlebag securing","emergency landing gear deployment"],_OPTION4:["moon-silver celestial","star-forged dwarven","sun-gold elven","rune-etched protective"],_OPTION5:["featherfall-enchanted silk","self-deploying gnomish contraption","spider-silk dragline","blessed griffin-down"]},{name:"Sweep stable aisles and courtyard",skills:["labor","cleaning","animal_husbandry"],intermediates:["Grabbing a {_OPTION0} surprisingly heavy broom from the tool shed","Sweeping loose {_OPTION1} straw, dust, and feathers into growing piles","Dodging a {_OPTION2} delivery cart laden with fresh supplies","Gathering the piles into a {_OPTION3} magically expanding dustpan","Emptying the contents into the designated {_OPTION4} compost bin near the gardens","The air feeling slightly less {_OPTION5} and more breathable"],_OPTION0:["sturdy straw besom","enchanted self-sweeping (but currently sulking)","witch's borrowed flight-capable","dwarven ironwood and bristle"],_OPTION1:["hay fragments","molted feathers of various sizes","spilled oats and seeds","glittering scales from unknown creatures"],_OPTION2:["hay bale","feed sack","newly arrived (and terrified) recruit","runaway imp causing chaos"],_OPTION3:["giant iron","magically expanding canvas","talking (and complaining) enchanted","long-handled silver"],_OPTION4:["designated stable","ever-hungry monstrous","transforming alchemical","slightly magical and self-sorting"],_OPTION5:["dusty and sneeze-inducing","chaotic and feather-filled","dung-scented and fly-ridden","suffocatingly stale"]},{name:"Repair worn reins and saddlebags",skills:["leatherworking","beast_mastery","riding","artisanry"],intermediates:["Inspecting a dangerously frayed {_OPTION0} rein that nearly caused an accident","Selecting a supple piece of {_OPTION1} cured dragonhide for patching","Stitching with an {_OPTION2} elven bone awl and enchanted sinew thread","Replacing a broken {_OPTION3} mithril buckle with a newly forged one","Applying {_OPTION4} weatherproofing conditioning oil to the repaired leather","Testing the repair for {_OPTION5} strength by yanking on it vigorously"],_OPTION0:["griffin's primary steering","hippogriff's emergency brake","nightmare's soul-binding","pegasus's cloud-guiding"],_OPTION1:["wyvern hide (flexible yet tough)","basilisk skin (surprisingly supple)","manticore leather (dangerously barbed)","unicorn pelt (ethically sourced, of course)"],_OPTION2:["elfin silverwood","dwarven runed steel","magically guided self-stitching","self-threading bone"],_OPTION3:["mithril quick-release","adamantine heavy-duty","bone toggle","enchanted bronze self-fastening"],_OPTION4:["dragon's blood waterproofing","unicorn tear softening","manticore fat conditioning","phoenix ash fireproofing"],_OPTION5:["aerial combat stress","sudden dive maneuverability","emergency stop reliability","griffin's impatient tugging"]},{name:"Polish saddles and protective barding",skills:["labor","leatherworking","smithing","riding"],intermediates:["Applying fragrant {_OPTION0} polish to a well-worn leather flight saddle","Buffing it to a {_OPTION1} battle-ready sheen with a soft sheepskin cloth","Cleaning individual {_OPTION2} mithril chainmail links on a piece of griffin barding","Removing {_OPTION3} rust spots from steel plate armor sections using acidic gel","Checking for loose {_OPTION4} enchanted rivets or damaged articulated plates","Admiring the gleaming, imposing, and now fully {_OPTION5} protective gear"],_OPTION0:["wyvern-fat and beeswax","beeswax and rose oil (for pegasi)","shadow-infused (for nightmares)","sunstone dust (for griffins)"],_OPTION1:["battle-ready gleam","parade-ground dazzling","dangerously slick mirror","subtly glowing protective"],_OPTION2:["mithril feather-light","adamantine impervious","dragonscale articulated","shadowsteel silent"],_OPTION3:["bloodstain","acidic slime","magical corrosion","stubborn demonic tarnish"],_OPTION4:["enchanted self-repairing","explosive counter-measure (if mishandled)","vibrating warning","interlocking defense"],_OPTION5:["impressive and intimidating","beautifully crafted and deadly","newly enchanted with minor wards","ready for parade or war"]},{name:"Clear manure piles for the herb garden",skills:["labor","farming","beast_mastery","logistics"],intermediates:["Shoveling highly potent {_OPTION0} manure into a reinforced wheelbarrow","Navigating the winding path to the {_OPTION1} Arch-Alchemist's prized herb garden","Carefully tipping the precious load onto the designated, steaming {_OPTION2} compost heap","Spreading it evenly with a {_OPTION3} silver-tined rake, careful not to damage rare plants","Receiving a rare nod of thanks from the notoriously prickly {_OPTION4} gnome head herbalist","The scent of rich, magical {_OPTION5} earth mixing with the aroma of exotic herbs"],_OPTION0:["griffin 'sky-fertilizer'","hippogriff 'aerie-gold'","unicorn 'rainbow pellets' (surprisingly potent)","nightmare 'shadow-mulch' (surprisingly fertile for dark herbs)"],_OPTION1:["rooftop sun-drenched","secluded moon-kissed","magically tended greenhouse","carnivorous plant conservatory (they love it!)"],_OPTION2:["bubbling alchemical","glowing with earth magic","sentient (and hungry for more)","perfectly balanced elemental"],_OPTION3:["silver-tined elven","enchanted self-spreading","borrowed (and slightly cursed) gnomish","strangely light mithril"],_OPTION4:["cantankerous old","cheerful but demanding","potion-stained and eccentric","slightly mad but brilliant"],_OPTION5:["magical compost","potent fertilizer","life-giving humus","strangely aromatic and energy-rich"]},{name:"Check and secure stall latches",skills:["labor","beast_mastery","engineering"],intermediates:["Walking down the long line of {_OPTION0} heavily reinforced stalls","Testing each complex {_OPTION1} latch mechanism for looseness or tampering","Tightening a {_OPTION2} adamantine bolt with a specialized dwarven torque wrench","Applying {_OPTION3} silent-movement oil to a stiff, squeaking hinge","Replacing a {_OPTION4} magically reinforced but worn-out spring in a latch","Confirming each stall is {_OPTION5} secure against escape artists like {_OPTION6} the notorious hippogriff"],_OPTION0:["griffin aerie","hippogriff nesting-box","nightmare containment","dire wolf den"],_OPTION1:["iron puzzle","mithril combination","rune-locked magical","electrified deterrent"],_OPTION2:["heavy security","enchanted anti-tamper","self-tightening mechanical","cursed (but only against unauthorized opening)"],_OPTION3:["never-rust alchemical","silent-movement shadow","elemental grease","anti-magic nullification (for magical lockpickers)"],_OPTION4:["magically reinforced titanium","adamantine coiled","self-repairing clockwork","captured air elemental powered"],_OPTION5:["doubly","triply","magically warded and","absolutely, positively (hopefully)"],_OPTION6:["'Sparky' the Kleptomaniac Hippogriff","'Shadowmane' the Phase-Shifting Nightmare","'Clawdia' the Lockpicking Griffin","'Houdini' the Vanishing Imp (who sometimes sleeps in stalls)"]},{name:"Train young hippogriffs for aerial maneuvers",skills:["riding","beast_mastery","pedagogy","acrobatics"],intermediates:["Coaxing a {_OPTION0} young, gangly hippogriff onto the cliffside training grounds","Demonstrating a {_OPTION1} perfect barrel roll with an experienced, patient mount","Guiding the fledgling through a gentle, wind-assisted {_OPTION2} ascent, offering encouragement","Rewarding successful maneuvers and brave attempts with tasty {_OPTION3} sky-berries","Practicing {_OPTION4} emergency landings in designated soft patches of cloud-moss","A surge of pride watching the youngling finally master a wobbly but complete {_OPTION5} loop-the-loop","Dodging an accidental, panicked {_OPTION6} dive bomb from the startled creature"],_OPTION0:["nervous and squawking","excitable and nippy","clumsy but eager","overconfident and reckless"],_OPTION1:["flawless, dizzying","textbook slow-motion","slightly showy instructor's","dangerously close to the cliff face"],_OPTION2:["spiral thermal","straight upward gust-riding","wind-assisted hovering","hesitant, flapping"],_OPTION3:["tasty cloud","encouraging sun","magically enhanced agility","rare star"],_OPTION4:["soft cloud-bank","controlled stall","tree-branch snag (gentle)","water-ditch splash (shallow)"],_OPTION5:["perfect vertical","wobbly but successful horizontal","terrifyingly fast inverted","surprisingly graceful (for a beginner)"],_OPTION6:["manure pellet","feather storm","claw-first (unintentionally)","beak-first (with a yelp)"]},{name:"Craft custom horseshoes for nightmare steeds",skills:["smithing","beast_mastery","pyromancy","enchanting"],intermediates:["Heating {_OPTION0} shadowsteel ingots in the forge's roaring {_OPTION1} demonfire flames","Hammering the glowing, malleable metal into a wicked, sharp-edged {_OPTION2} horseshoe shape on the rune-etched anvil","Etching chilling runes of {_OPTION3} speed, terror, and flame-walking onto each shoe","Quenching the still-hot shoe in a trough of {_OPTION4} Stygian soul-chilling oil","Carefully fitting the slightly smoking shoe to a Nightmare's burning, ethereal {_OPTION5} hoof, using fire-resistant tongs","The Nightmare snorting plumes of black smoke approvingly at its new, intimidating {_OPTION6} footwear"],_OPTION0:["cold iron from the Shadowfell","meteoritic soul-infused starmetal","volcanic obsidian mixed with bone ash","crystallized fear essence"],_OPTION1:["hellfire-stoked","dragon's breath bellows-driven","balefire-enhanced","elemental chaos"],_OPTION2:["wicked, serrated-edge","burning, ever-hot","silent, shadow-stepping","fear-inducing, spiked"],_OPTION3:["unholy swiftness","shadow-walking incorporeality","flaming trails of dread","unearthly silence and terror"],_OPTION4:["Stygian soul-chilling","demon ichor tempering","nightshade and blood","ectoplasmic residue"],_OPTION5:["burning, immaterial","shadowy, semi-solid","massive, cloven","surprisingly delicate, yet razor-sharp"],_OPTION6:["infernal clattering","dread-inducing silent","whispering shadow","flame-wreathed terror-tread"]},{name:"Apply healing salves to mount injuries",skills:["medicine","beast_mastery","life_magic","alchemy"],intermediates:["Gently cleaning a {_OPTION0} deep, festering scratch on a griffin's powerful leg","Selecting a jar of potent, glowing {_OPTION1} salve, carefully concocted with rare {_OPTION2}","Murmuring a {_OPTION3} minor healing incantation to soothe pain and accelerate recovery","Carefully applying the thick salve to the angry, {_OPTION4} wound with a sterile wooden applicator","Bandaging the treated area with strips of {_OPTION5} self-adhesive, enchanted linen","The mount visibly relaxing, showing signs of {_OPTION6} immediate relief and gratitude"],_OPTION0:["deep, bleeding","minor, but irritating","magically inflicted cursed","self-inflicted (clumsy landing)"],_OPTION1:["golden phoenix-ash","emerald green troll-blood","pulsating life-essence","soothing blue moonpetal"],_OPTION2:["Phoenix Tears and powdered Unicorn Horn","Sunpetal essence and Basilisk blood (neutralized)","Troll regeneration extract and silver_dew","Dragon scale powder and elven moss"],_OPTION3:["soothing warmth","regenerative light","pain-numbing chill","swift-mending temporal"],_OPTION4:["bleeding and inflamed","infected and oozing","cursed and resistant","irritated and swollen"],_OPTION5:["self-tightening spider-silk","antiseptic silver-weave","regenerative moss-infused","comforting blessed wool"],_OPTION6:["immediate, sighing","gradual, visible mending","faintly glowing","audible (a soft purr or relieved snort)"]},{name:"Braid warding charms into griffins manes",skills:["beast_mastery","enchanting","magical_lore","order_magic"],intermediates:["Selecting auspiciously colored, magically treated {_OPTION0} silk ribbons","Carving small, intricate {_OPTION1} protective runes onto polished {_OPTION2} beads of amber and jet","Carefully braiding sections of the griffin's surprisingly soft, yet resilient {_OPTION3} feathered mane","Weaving in the enchanted ribbons and the {_OPTION4} rune-carved, charmed beads with precision","Chanting a low, rhythmic {_OPTION5} warding spell with each completed knot, focusing intent","The griffin preening proudly, its mane now shimmering with faint {_OPTION6} protective magical energies"],_OPTION0:["sky blue and silver","sun yellow and gold","protective crimson and black","camouflaging green and brown"],_OPTION1:["anti-arrow deflection","fire resistance (minor)","enhanced luck and perception","confusion aura (for enemies targeting it)"],_OPTION2:["amber sunstone","jet black obsidian","moonstone silver","carved dragon bone"],_OPTION3:["majestic, wind-tousled crest","surprisingly soft neck-ruff","electrically charged lightning-blue (storm griffins)","iridescent rainbow-hued (royal griffins)"],_OPTION4:["gleaming, humming","pulsating with stored energy","whispering ancient secrets","warm to the touch with imbued magic"],_OPTION5:["ancient shield-song","powerful deflection verse","subtle redirection cantrip","rhythmic binding chant"],_OPTION6:["faint blue auroral","golden, sun-like","opalescent, shifting","shadowy, obscuring"]},{name:"Exercise restless dire wolves in the courtyard",skills:["beast_mastery","athletics","leadership","animal_companionship"],intermediates:["Unlatching the {_OPTION0} reinforced iron kennel gates with extreme caution and respect","Leading the eager, powerful pack of {_OPTION1} shadow-pelted dire wolves into the spacious, enclosed training courtyard","Throwing an {_OPTION2} magically animated training dummy for them to chase, hunt, and 'destroy'","Running alongside the thundering pack, testing your own considerable {_OPTION3} speed and endurance against theirs","Practicing complex {_OPTION4} formation commands using hand signals and guttural calls","The wolves panting happily, their wild, destructive {_OPTION5} energy productively spent for now","Rewarding their obedience and effort with large, {_OPTION6} smoked boar bones from the kitchen stores"],_OPTION0:["reinforced iron-banded oak","rune-warded silver-steel","electrified containment field","bone-decorated totem-guarded"],_OPTION1:["eager, slavering","massive, muscle-bound","shadow-pelted, red-eyed","frost-breathing, winter-born"],_OPTION2:["indestructible (mostly) golem","self-repairing straw-stuffed","squealing, fleeing illusionary pig","enchanted, darting will-o-wisp"],_OPTION3:["considerable, hard-won","surprising, mage-enhanced","quickly dwindling but determined","legendary, almost wolf-like"],_OPTION4:["encircling attack","defensive phalanx","silent flanking maneuvers","intimidating coordinated howl"],_OPTION5:["pent-up destructive","nervous, pacing","wild, untamed primal","joyful, playful (in a terrifying way)"],_OPTION6:["giant, marrow-filled","magically preserved and flavorful","still-warm and dripping","rune-carved (for dental health)"]}]}}}},Zd={library:{name:"Library",description:"A place to learn new skills and abilities.",cost:{gold:10},clutterPerSecond:.03},dining_hall:{name:"Dining Hall",description:"A place to eat and socialize.",cost:{gold:10},clutterPerSecond:.05},workshop:{name:"Workshop",description:"A place to craft and upgrade items.",cost:{gold:10},clutterPerSecond:.1},alchemists_lab:{name:"Alchemist's Lab",description:"Brew potent potions and transmute materials.",cost:{gold:10},clutterPerSecond:.12},dormitories:{name:"Dormitories",description:"Comfortable living quarters for guild members.",cost:{gold:10},clutterPerSecond:.06},training_grounds:{name:"Training Grounds",description:"Hone combat skills and magical prowess.",cost:{gold:10},clutterPerSecond:.07},scrying_chamber:{name:"Scrying Chamber",description:"Peer into the unseen and gather intelligence.",cost:{gold:10},clutterPerSecond:.02},herb_garden:{name:"Herb Garden",description:"Cultivate rare herbs for potions and rituals.",cost:{gold:10},clutterPerSecond:.04},scriptorium:{name:"Scriptorium",description:"Copy ancient scrolls and inscribe new magical texts.",cost:{gold:10},clutterPerSecond:.08},infirmary:{name:"Infirmary",description:"A place to mend wounds and cure ailments.",cost:{gold:10},clutterPerSecond:.06},meditation_chamber:{name:"Meditation Chamber",description:"A serene space for focus, mana regeneration, and contemplation.",cost:{gold:10},clutterPerSecond:.01},storage_vault:{name:"Storage Vault",description:"Securely stores guild resources, treasures, and artifacts.",cost:{gold:10},clutterPerSecond:.05},kitchen:{name:"Kitchen",description:"Where meals for the guild are prepared.",cost:{gold:10},clutterPerSecond:.09},stable:{name:"Stable",description:"Housing for mounts and other mundane or magical creatures.",cost:{gold:10},clutterPerSecond:.08}};class eu{constructor(){N(this,"events",new Map);N(this,"characters",new Hc);N(this,"attributes",new Vc);N(this,"skills");N(this,"tasks",new sd);N(this,"buildings",new od);N(this,"techs",new Map);N(this,"ingressWords");N(this,"welcomeLocations");N(this,"behTrees");N(this,"isLoaded",!1);this.skills=new ad(this.attributes),this.ingressWords=new mn,this.welcomeLocations=new Hr,this.behTrees=new Gd,this.loadAllDefinitions()}loadAllDefinitions(){if(!this.isLoaded){console.log("Processing library definitions...");try{this.events=this._processDataDefinitions(Vd),this.characters.loadCharacters(Kd),this.characters.loadCharacters(Yd),this.characters.loadCharacters(Xd),this.characters.loadCharacters(Qd),this.buildings.loadBuildings(Zd),this.tasks.loadTasks(Jd),this.tasks.verifyAllTasks(this.skills,this.buildings),this.isLoaded=!0,console.log("Library definitions processed successfully.")}catch(t){console.error("Failed to process library definitions:",t),this.isLoaded=!1}}}_processDataDefinitions(t){const i=new Map;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s={...t[n],id:n};i.set(n,s)}return i}getEvent(t){return this.events.get(t)}getBuilding(t){return this.buildings.getBuilding(t)}getTech(t){return this.techs.get(t)}getCharacter(t){return this.characters.getCharacter(t)}getAttributeLib(){return this.attributes}getSkillLib(){return this.skills}getTaskLib(){return this.tasks}getBuildingLib(){return this.buildings}getIngressWordsLib(){return this.ingressWords}}const Os=10,Li={1:[1],2:[.6,.5],3:[.5,.5,.2],4:[.4,.4,.3,.2]},Zn=.1;function Jr(e){if(e<=0)return[];if(Li[e])return Li[e];const t=4;if(!Li[t])return console.error("Base skill multipliers for 4 skills are not defined!"),Array(e).fill(Zn);const n=[...Li[t]];for(let a=4;a<e;a++)n.push(Zn);return n}function tu(e){return`TASK_${e.getAndIncrementTaskUidValue()}`}function Zr(e){if(e.stepCount<=0||e.stepIdx<0||e.stepIdx>=e.stepCount){e.stepEffortTarget=e.totalEffort;return}const t=e.stepCount-e.stepIdx,i=e.investedEffort,n=Math.max(0,e.totalEffort-i);if(n===0){e.stepEffortTarget=i;return}const a=n/t,s=1+(Math.random()*.5-.25);let r=a*s;r=Math.max(r,60),e.stepEffortTarget=i+r,e.stepEffortTarget=Math.min(e.stepEffortTarget,e.totalEffort)}function iu(e,t){var n;ru.check(e.tick)&&nu(e),ou.check(e.tick)&&au(e);const i=[];for(const a of e.processingTasks){if(a.status!==Me.Processing){a.status!==Me.Complete&&i.push(a);continue}let s=0,r=0;if(a.assignedCharacterIds.length>0){const o=a.assignedCharacterIds[0],l=e.characters.find(d=>d.characterId===o);if(l){const{speed:d,proficiencies:c}=to(l,a,e);r=d,a.assignedCharacterEffectiveScores=c,s+=r*e.workSpeed.value*t}else a.assignedCharacterEffectiveScores={}}else a.assignedCharacterEffectiveScores={};if(a.investedEffort+=s,a.workTime+=t,a.assignedCharacterIds.length>0?a.speed=r:a.speed=0,a.stepCount>0&&a.stepIdx>=0&&a.investedEffort>=a.stepEffortTarget)if(a.stepIdx<a.stepCount-1){a.stepIdx++;const o=eo(a.resolvedDefinitionDetails.intermediates||[],a.resolvedDefinitionDetails);o?(a.stepIntermediateIdx=o.intermediateIndex,a.stepOptionIdx=o.optionIndex):(console.warn(`Task ${a.uid}: Failed to generate details for step ${a.stepIdx}. Step progression might halt.`),a.stepEffortTarget=a.totalEffort),Zr(a)}else a.stepEffortTarget=a.totalEffort;if(a.investedEffort>=a.totalEffort){if(a.status=Me.Complete,(n=a.resolvedParentDefinition)!=null&&n.reward){const o=a.resolvedParentDefinition.reward;if(typeof o.clutterPerEffort=="number"&&o.clutterPerEffort<0){const l=e.resources.get("clutter");if(l&&l.current&&e.connections){const d=o.clutterPerEffort*a.totalEffort,c=l.current.value,g=Math.max(0,c+d);J.setIndependentStat(l.current,g,e.connections),a.clutterReduction=g-c}else console.warn("[Task Processing] Clutter resource, its .current property, or gameState.connections not found for reward processing.")}}e.completedTasks.push(a),console.log(`Task ${a.name} (UID: ${a.uid}) completed. Assigned characters: ${a.assignedCharacterIds.join(", ")} are now free.`),a.assignedCharacterIds=[]}else i.push(a)}e.processingTasks=i,e.completedTasks.length>20&&(e.completedTasks=e.completedTasks.slice(-20))}function eo(e,t){if(!e||e.length===0)return null;const i=[];for(const o of e){let l=3;const d=o.match(/{[a-zA-Z0-9_]+}/g);if(d&&d.length>0){const c=d[0],g=c.substring(1,c.length-1),u=t[g];u&&Array.isArray(u)&&(l+=u.length)}i.push(l)}if(i.length===0)return null;const n=cd(i);if(n===-1)return{intermediateIndex:0,optionIndex:-1};let a=-1;const r=e[n].match(/{[a-zA-Z0-9_]+}/g);if(r&&r.length>0){const o=r[0],l=o.substring(1,o.length-1),d=t[l];d&&Array.isArray(d)&&d.length>0&&(a=Math.floor(Math.random()*d.length))}return{intermediateIndex:n,optionIndex:a}}function nu(e){var a,s,r,o,l,d,c,g;if(e.availableTasks.length+e.queuedTasks.length+e.processingTasks.length>=20)return;const i=e.resources.get("clutter");if(!i){console.warn("Clutter resource not found in gameState.");return}const n=e.queuedTasks.concat(e.processingTasks).concat(e.availableTasks).filter(u=>u.type===tt.Maintenance&&u.status!==Me.Complete);if(i.current.value>Os*n.length){let u=0;for(const h of n)(s=(a=h.resolvedParentDefinition)==null?void 0:a.reward)!=null&&s.clutterPerEffort&&(u+=(h.resolvedParentDefinition.reward.clutterPerEffort<0?-h.resolvedParentDefinition.reward.clutterPerEffort:0)*h.totalEffort);if(i.current.value-u>Os){let h,v=0;const w=5,k=e.lib.tasks.getTask("declutter");if(!k||!((r=k.reward)!=null&&r.clutterPerEffort&&k.reward.clutterPerEffort<0)){console.warn("'declutter' task definition not found or does not reduce clutter. No maintenance task created.");return}let C=0;const A=[];for(const b of e.buildings){const O=e.lib.buildings.getBuilding(b.buildingId);O&&O.clutterPerSecond>0&&(C+=O.clutterPerSecond,A.push({id:b.buildingId,clutterPerSecond:O.clutterPerSecond}))}if(C===0||A.length===0){console.warn("No buildings generating clutter found or total clutter generation is zero. No maintenance task created.");return}for(;!h&&v<w;){v++;let b=Math.random()*C,O;for(const Q of A){if(b<=Q.clutterPerSecond){O=Q.id;break}b-=Q.clutterPerSecond}if(!O&&A.length>0&&(O=A[Math.floor(Math.random()*A.length)].id),!O)continue;let I,$,B=-1;const Z=(l=(o=k.names)==null?void 0:o.byBuilding)==null?void 0:l[O];if(Z&&Z.length>0)B=Math.floor(Math.random()*Z.length),I=Z[B],$=["declutter","byBuilding",O,B];else{const Q=(c=(d=k.names)==null?void 0:d.byBuilding)==null?void 0:c.generic;if(Q&&Q.length>0)B=Math.floor(Math.random()*Q.length),I=Q[B],$=["declutter","byBuilding","generic",B];else{console.warn(`Attempt ${v}: No specific or generic declutter task details found for building ${O} or generic. Retrying.`);continue}}if(!I||!$){console.warn(`Attempt ${v}: Failed to resolve task details. Retrying.`);continue}if(!n.some(Q=>{var ee;return((ee=Q.resolvedParentDefinition)==null?void 0:ee.id)!=="declutter"||!Q.definitionPath||!$||Q.definitionPath.length!==$.length?!1:Q.definitionPath.every((L,q)=>L===$[q])})||v===w){const Q=tu(e),ee=Math.floor(Math.random()*(k.effortMax-k.effortMin)*.1)*10+k.effortMin,L=Math.random(),q=I.intermediates||[];let H=0,T=-1,S=-1;if(q.length>0){let ne=3+(Math.max(100,Math.min(3e3,ee))-100)/2900*27;const te=1+(Math.random()*.5-.25);ne*=te,H=Math.round(Math.max(3,Math.min(30,ne)));const Te=eo(q,I);Te?(T=Te.intermediateIndex,S=Te.optionIndex):(H=0,console.warn(`Task ${Q}: Could not generate first step details despite having intermediates. Setting stepCount to 0.`))}const x={uid:Q,type:tt.Maintenance,status:Me.Available,definitionPath:$,resolvedDefinitionDetails:I,resolvedParentDefinition:k,name:I.name||k.id,totalEffort:ee,investedEffort:0,assignedCharacterIds:[],startedAt:0,workTime:0,stepIntermediateIdx:T,stepOptionIdx:S,stepIdx:H>0?0:-1,stepCount:H,stepEffortTarget:0,randomSeed:L};(g=k.reward)!=null&&g.clutterPerEffort&&k.reward.clutterPerEffort<0&&(x.clutterReduction=k.reward.clutterPerEffort*x.totalEffort),h=x}}h?(e.availableTasks.push(h),console.log(`Generated maintenance task '${h.name}' UID: ${h.uid} (${h.definitionPath[2]}.`)):v===w&&console.warn("Max attempts reached for generating a unique 'declutter' task. No task created or duplicate was kept if forced.")}}}function to(e,t,i){const n=t.resolvedDefinitionDetails.skills,a={};let s=0;if(!n||n.length===0)return{speed:1,proficiencies:a};const r=[];for(const l of n){const d=$t.getProficiency(e,l,i);a[l]=d,r.push(d)}const o=Jr(r.length);for(let l=0;l<r.length;l++)s+=r[l]*(o[l]||0);return{speed:s>0?s:0,proficiencies:a}}function Ui(e,t,i){let n,a=-1,s={};for(const r of t){const{speed:o,proficiencies:l}=to(e,r,i);o>a&&(a=o,n=r,s=l)}if(n)return{task:n,speed:a,proficiencies:s}}function au(e){const t=e.characters.filter(n=>{const a=e.processingTasks.some(r=>r.assignedCharacterIds.includes(n.characterId)),s=e.queuedTasks.some(r=>r.assignedCharacterIds.includes(n.characterId)&&(r.status===Me.Queued||r.status===Me.Paused));return!a&&!s});if(t.length===0)return;let i={character:null,task:null,speed:0,proficiencies:{},sourceList:null};for(const n of t){const a=e.queuedTasks.filter(u=>u.status===Me.Queued&&(!u.assignedCharacterIds||u.assignedCharacterIds.length===0)&&u.queuedForCharacterId===n.characterId),s=Ui(n,a,e);s&&s.speed>i.speed&&(i={character:n,task:s.task,speed:s.speed,proficiencies:s.proficiencies,sourceList:"queuedTasks"});const r=e.availableTasks.filter(u=>u.type===tt.Maintenance&&u.status===Me.Available),o=Ui(n,r,e);o&&o.speed>i.speed&&(i={character:n,task:o.task,speed:o.speed,proficiencies:o.proficiencies,sourceList:"availableTasks"});const l=e.queuedTasks.filter(u=>u.status===Me.Queued&&(!u.assignedCharacterIds||u.assignedCharacterIds.length===0)&&!u.queuedForCharacterId),d=Ui(n,l,e);d&&d.speed>i.speed&&(i={character:n,task:d.task,speed:d.speed,proficiencies:d.proficiencies,sourceList:"queuedTasks"});const c=e.availableTasks.filter(u=>u.type===tt.Opportunity&&u.status===Me.Available),g=Ui(n,c,e);g&&g.speed>i.speed&&(i={character:n,task:g.task,speed:g.speed,proficiencies:g.proficiencies,sourceList:"availableTasks"})}if(i.task&&i.character&&i.speed>=0){const n=i.task,a=i.character;n.status=Me.Processing,n.assignedCharacterIds=[a.characterId],n.startedAt=e.gameTime,n.speed=i.speed,n.assignedCharacterEffectiveScores=i.proficiencies,n.stepCount>0&&n.stepIdx===0&&n.stepEffortTarget<=n.investedEffort&&Zr(n),e.processingTasks.push(n),i.sourceList==="availableTasks"?e.availableTasks=e.availableTasks.filter(s=>s.uid!==n.uid):i.sourceList==="queuedTasks"&&(e.queuedTasks=e.queuedTasks.filter(s=>s.uid!==n.uid),e.availableTasks=e.availableTasks.filter(s=>s.uid!==n.uid)),console.log(`Auto-assigned ${n.type} task '${n.name}' (UID: ${n.uid}) to ${a.characterId} with speed ${i.speed.toFixed(2)}.`)}}class io{constructor(t,i,n){N(this,"modulus");N(this,"targetTickInModulus");t<=0?(console.error("SlowTick: minInterval must be positive."),this.modulus=1):this.modulus=Math.max(1,Math.floor(i/t));const a=16777619;let r=2166136261;if(n.length===0)console.warn("SlowTick: Empty key provided, using default hash basis which may lead to less unique tick offsets.");else for(let l=0;l<n.length;l++)r^=n.charCodeAt(l),r=r*a|0;const o=Math.abs(r)%this.modulus;this.modulus>1&&o===0?this.targetTickInModulus=1:this.targetTickInModulus=o}check(t){return t%this.modulus===this.targetTickInModulus}}class su{constructor(){N(this,"trees",[]);N(this,"completedTrees",[]);N(this,"eventListeners",new Map);N(this,"updateListeners",[]);N(this,"logVerbose",!1);N(this,"listenersMutationCount",0)}addTree(t,i){this.logVerbose&&console.log(`[Invoker] Adding and initializing tree: ${t.name}`),t.invoker=this,this.trees.push(t),t.init(i)}reportTreeComplete(t){this.logVerbose&&console.log(`[Invoker] Tree completed: ${t.name}`),this.trees=this.trees.filter(i=>i.uid!==t.uid),this.completedTrees.includes(t.name)||this.completedTrees.push(t.name)}update(t,i){var s,r;const n=this.listenersMutationCount,a=[...this.updateListeners];for(const o of a)n===this.listenersMutationCount?(s=o.update)==null||s.call(o,t,i):this.updateListeners.find(l=>l.uid===o.uid)&&((r=o.update)==null||r.call(o,t,i))}handleEvent(t,i,n){var o,l;const a=this.eventListeners.get(t.id);if(!a||a.length===0)return;this.logVerbose&&console.log(`[Invoker] Handling event: ${t.id} for ${a.length} listeners.`);const s=this.listenersMutationCount,r=[...a];for(const d of r)if(s===this.listenersMutationCount)(o=d.handleEvent)==null||o.call(d,t,i,n);else{const c=this.eventListeners.get(t.id);c!=null&&c.find(g=>g.uid===d.uid)&&((l=d.handleEvent)==null||l.call(d,t,i,n))}}addEventListener(t,i){this.eventListeners.has(t)||this.eventListeners.set(t,[]);const n=this.eventListeners.get(t);n.find(a=>a.uid===i.uid)||(n.push(i),this.listenersMutationCount++)}removeEventListener(t){for(const i of this.eventListeners.values()){const n=i.findIndex(a=>a.uid===t.uid);n>-1&&(i.splice(n,1),this.listenersMutationCount++)}}addUpdateListener(t){this.updateListeners.find(i=>i.uid===t.uid)||(this.updateListeners.push(t),this.listenersMutationCount++)}removeUpdateListener(t){const i=this.updateListeners.length;this.updateListeners=this.updateListeners.filter(n=>n.uid!==t.uid),this.updateListeners.length!==i&&this.listenersMutationCount++}}const no=["Castle","Crew","Quests","Tasks","Debug"],Ta=.05,ru=new io(Ta,5,"maintenance_task_gen"),ou=new io(Ta,1.5,"task_assignment_process"),ri=[];class lu{constructor(){N(this,"connections",new jc);N(this,"lib",new eu);N(this,"resources",new Map);N(this,"characters",[]);N(this,"buildings",[]);N(this,"discoveredItems",{});N(this,"activeMinigame",null);N(this,"invoker",new su);N(this,"gold");N(this,"clutter");N(this,"totalCharacterUpkeep");N(this,"totalBuildingsClutter");N(this,"taskUidCounter");N(this,"workSpeed");N(this,"clutterRatio");N(this,"dateStarted",Date.now());N(this,"dateModified",Date.now());N(this,"gameTime",0);N(this,"tick",0);N(this,"locationId","turfablie");N(this,"minDeltaTime",Ta);N(this,"timeScale",{current:1,previous:1});N(this,"allowedUpdates",0);N(this,"availableTasks",[]);N(this,"queuedTasks",[]);N(this,"processingTasks",[]);N(this,"completedTasks",[]);N(this,"uiState");if(this.totalCharacterUpkeep=J.createParameter("total_character_upkeep",this.connections),this.totalBuildingsClutter=J.createParameter("total_buildings_clutter",this.connections),this.taskUidCounter=J.createStat("task_uid_counter",0,this.connections),this.workSpeed=J.createParameter("workSpeed",this.connections),J.modifyParameterADD(this.workSpeed,1,this.connections),this.clutterRatio=J.createParameter("clutterRatio",this.connections),this.uiState=Tt({resources:{},debugStats:{},characters:[],selectedCharacterId:null,activeTabName:"",constructedBuildingIds:new Set,uiCompletedTasks:[],uiActiveTasks:[],uiQueuedTasks:[],uiMaintenanceTasks:[],uiOpportunityTasks:[],uiEndeavourTasks:[],uiQuestTasks:[],currentTimeScale:this.timeScale.current,uiWorkSpeed:0,uiClutterRatio:0,discoveredItemsCount:0,activeMinigameType:null,activeMinigameState:null}),this.setupInitialResources(),this.lib.isLoaded){const t=this.lib.events.get("startGame");t?Gt.processSingleEvent(t,this):console.error("GameState Constructor: 'startGame' event not found in Lib.")}else console.error("Cannot run initial event processing: Lib failed to load.");hs(this)}update(t){this.gameTime+=t;const i=Math.floor(this.gameTime/this.minDeltaTime);i!=this.tick?this.tick=i:this.tick=0,hd(this.resources,t,this.connections),iu(this,t),this.activeMinigame&&this.activeMinigame.update(this,t),this.invoker.update(t,this),hs(this),this.dateModified=Date.now(),this.tick=i}setupInitialResources(){this.gold=Xn(this.resources,"gold",0,0,this.connections),this.clutter=Xn(this.resources,"clutter",0,100,this.connections),J.connectStat(this.totalCharacterUpkeep,this.gold.income,Ie.SUB,this.connections),J.connectStat(this.totalBuildingsClutter,this.clutter.income,Ie.ADD,this.connections),J.connectStat(this.clutterRatio,this.clutter.income,Ie.MULTY,this.connections),J.connectStat(this.clutter.max,this.clutterRatio,Ie.ADD,this.connections),J.connectStat(this.clutter.current,this.clutterRatio,Ie.SUB,this.connections),J.connectStat(this.clutter.max,this.clutterRatio,Ie.DIV,this.connections),J.connectStat(this.clutterRatio,this.workSpeed,Ie.MULTY,this.connections)}processEventsForCharacter(t,i,n){for(const a of t){const s=this.lib.events.get(a);if(s)try{Gt.processSingleEvent(s,this,i)}catch(r){console.error(`GS-PROC-EVENTS-FOR-CHAR: Error calling processSingleEvent for '${a}':`,r)}else console.warn(`GS-PROC-EVENTS-FOR-CHAR: Event definition NOT FOUND for ID: ${a}`)}}addBuilding(t){return Ni.addBuilding(this,t)}getAndIncrementTaskUidValue(){const t=this.taskUidCounter.value;return J.modifyStat(this.taskUidCounter,1,this.connections),t}swapTimeScale(){const t=this.timeScale.current;this.timeScale.current=this.timeScale.previous,this.timeScale.previous=t}setTimeScale(t){this.timeScale.previous=this.timeScale.current,this.timeScale.current=t}setActiveTab(t){this.uiState.activeTabName=t}modifyIndependentStat(t,i){const n=this.connections.connectablesByName.get(t);n&&"independent"in n&&n.independent?J.modifyStat(n,i,this.connections):console.warn(`Cannot set stat ${t}: not found or not independent`)}markAsDiscovered(t){this.discoveredItems[t]||(this.discoveredItems[t]=!0,this.uiState.discoveredItemsCount=Object.keys(this.discoveredItems).length)}isDiscovered(t){return!!this.discoveredItems[t]}startMinigame(t){if(this.activeMinigame){console.warn("Cannot start a new minigame, one is already active:",this.activeMinigame.type);return}this.activeMinigame=t,this.uiState.activeMinigameType=t.type,this.uiState.activeMinigameState=t.state,console.log(`Minigame started: ${t.type}`)}exitMinigame(){if(this.activeMinigame){const t=this.activeMinigame.type;console.log(`Exiting minigame: ${this.activeMinigame.type}`),this.activeMinigame.destroy(this),this.activeMinigame=null,this.uiState.activeMinigameType=null,this.uiState.activeMinigameState=null;const i={id:"minigameComplete",params:{minigameType:t},effects:[]};Gt.processSingleEvent(i,this)}}}const cu={class:"resource-panel"},du={key:0},uu={key:1},gu={key:2},hu={class:"resource-name"},pu={class:"resource-amount-group"},mu={class:"resource-current"},fu={class:"resource-max"},yu={class:"resource-income"},Ou=me({__name:"ResourceDisplay",setup(e){const t=$e("gameState"),i=X(()=>t?Object.entries(t.uiState.resources).filter(([n])=>t.isDiscovered(n)):[]);return(n,a)=>(f(),_("div",cu,[a[1]||(a[1]=p("h2",null,"Resources",-1)),de(t)?i.value.length===0?(f(),_("div",uu,"No resources defined or discovered.")):(f(),_("div",gu,[(f(!0),_(re,null,Pe(i.value,([s,r])=>(f(),_("div",{key:s,class:"resource-item"},[p("span",hu,U(s.charAt(0).toUpperCase()+s.slice(1))+":",1),p("div",pu,[p("span",mu,U(r.current.toFixed(1)),1),a[0]||(a[0]=p("span",{class:"resource-separator"},"/",-1)),p("span",fu,U(r.max.toFixed(0)),1)]),p("span",yu," +"+U(r.income.toFixed(2)),1)]))),128))])):(f(),_("div",du,"Loading resources..."))]))}}),fe=(e,t)=>{const i=e.__vccOpts||e;for(const[n,a]of t)i[n]=a;return i},bu=fe(Ou,[["__scopeId","data-v-8a692263"]]),vu={class:"building-item"},_u=me({__name:"BuildingDisplayItem",props:{building:{},isConstructed:{type:Boolean}},setup(e){const t=e,i=$e("gameState"),n=!t.isConstructed;function a(){if(!t.isConstructed){const s={name:"CmdConstructBuilding",buildingId:t.building.id};ri.push(s)}}return(s,r)=>(f(),_("div",vu,[p("h4",null,U(de(i)&&de(i).isDiscovered(s.building.id)?s.building.name:de(Se)(s.building.name)),1),p("p",null,U(s.building.description),1),p("p",null,"Clutter: "+U(s.building.clutterPerSecond)+"/s",1),n?(f(),_("button",{key:0,onClick:a},"Construct")):W("",!0)]))}}),bs=fe(_u,[["__scopeId","data-v-f9a8214b"]]),wu={class:"castle-view-container"},Tu={class:"columns"},Iu={class:"column"},Pu={class:"building-grid"},Nu={key:0},ku={class:"column"},Cu={class:"building-grid"},Su={key:0},xu=me({__name:"CastleView",setup(e){const t=$e("gameState"),i=X(()=>!t||!t.lib.buildings.isLoaded?[]:Array.from(t.lib.buildings.values())),n=X(()=>!t||!t.uiState?new Set:t.uiState.constructedBuildingIds),a=X(()=>i.value.filter(r=>!n.value.has(r.id))),s=X(()=>i.value.filter(r=>n.value.has(r.id)));return(r,o)=>(f(),_("div",wu,[o[2]||(o[2]=p("h3",null,"Castle View",-1)),p("div",Tu,[p("div",Iu,[o[0]||(o[0]=p("h4",null,"Constructed Buildings",-1)),p("div",Pu,[(f(!0),_(re,null,Pe(s.value,l=>(f(),pe(bs,{key:l.id,building:l,isConstructed:!0},null,8,["building"]))),128))]),s.value.length===0?(f(),_("p",Nu,"No buildings constructed yet.")):W("",!0)]),p("div",ku,[o[1]||(o[1]=p("h4",null,"Available Buildings",-1)),p("div",Cu,[(f(!0),_(re,null,Pe(a.value,l=>(f(),pe(bs,{key:l.id,building:l,isConstructed:!1},null,8,["building"]))),128))]),a.value.length===0?(f(),_("p",Su,"All available buildings have been constructed.")):W("",!0)])])]))}}),Au=fe(xu,[["__scopeId","data-v-b8844592"]]),vs="gameState";function Si(){const e=$e(vs),t=jo(e||null);return e||console.warn(`[useGameState] GameState was not provided. Ensure an ancestor component calls app.provide('${vs}', yourGameStateInstance).`),{gameState:t}}const Eu={class:"progress-section"},Mu=["value","max"],$u={class:"progress-overlay-text-container"},Du={class:"progress-effort-text"},zu={key:0,class:"progress-speed-text"},Bu=me({__name:"EffortBar",props:{investedEffort:{type:Number,required:!0},totalEffort:{type:Number,required:!0},speed:{type:Number,default:0},status:{type:String,required:!0}},setup(e){const t=e,{gameState:i}=Si(),n=X(()=>i.value?t.speed*i.value.workSpeed.value:t.speed),a=[{time:0,color:{r:0,g:255,b:0}},{time:60,color:{r:0,g:255,b:0}},{time:300,color:{r:255,g:255,b:0}},{time:1200,color:{r:255,g:0,b:0}},{time:2400,color:{r:139,g:0,b:0}}];function s(d,c,g){const u=Math.round(d.r+g*(c.r-d.r)),h=Math.round(d.g+g*(c.g-d.g)),v=Math.round(d.b+g*(c.b-d.b));return`rgb(${u}, ${h}, ${v})`}function r(d){if(d<=a[0].time){const g=a[0].color;return`rgb(${g.r}, ${g.g}, ${g.b})`}for(let g=0;g<a.length-1;g++){const u=a[g],h=a[g+1];if(d>=u.time&&d<=h.time){const v=(d-u.time)/(h.time-u.time);return s(u.color,h.color,v)}}const c=a[a.length-1].color;return`rgb(${c.r}, ${c.g}, ${c.b})`}const o=X(()=>n.value&&n.value>0&&t.totalEffort>t.investedEffort?(t.totalEffort-t.investedEffort)/n.value:1/0),l=X(()=>t.investedEffort>=t.totalEffort||t.status===Me.Complete?"rgb(100, 100, 100)":r(o.value));return(d,c)=>(f(),_("div",Eu,[p("progress",{value:e.investedEffort,max:e.totalEffort,class:"task-progress",style:nt({"--progress-bar-color":l.value})},null,12,Mu),p("div",$u,[p("span",Du,U(Math.round(e.investedEffort))+"/"+U(Math.round(e.totalEffort)),1),e.status==="Processing"&&e.speed!==void 0&&e.speed>0?(f(),_("span",zu,"+"+U(n.value.toFixed(1)),1)):W("",!0)])]))}}),ao=fe(Bu,[["__scopeId","data-v-9623c203"]]),Ru={class:"task-card"},Lu={class:"task-name"},Uu={key:0,class:"current-step-text"},Fu={key:0,class:"character-portrait-area"},Wu={class:"skills-area"},ju={class:"skill-pill-name"},qu={class:"skill-pill-value"},Hu={key:0,class:"separator-container"},Gu={key:1,class:"task-result-item"},Vu={key:4,class:"separator-container-actions"},Ku={key:5,class:"task-actions"},Yu={key:0},Xu={key:1},Qu={key:6,class:"completed-task-info"},Ju={key:0,class:"completed-task-effect"},Zu={key:1},eg=me({__name:"TaskCard",props:{task:{type:Object,required:!0}},setup(e){const t=e,{gameState:i}=Si(),n=X(()=>{if(!t.task.assignedCharacterIds||t.task.assignedCharacterIds.length===0||!i.value)return null;const l=t.task.assignedCharacterIds[0],d=i.value.characters.find(g=>g.characterId===l);if(d)return d.name;const c=i.value.lib.characters.getCharacter(l);return(c==null?void 0:c.name)||"Unknown"}),a=X(()=>t.task.status===Me.Complete),s=X(()=>[tt.Opportunity,tt.Endeavour,tt.Quest].includes(t.task.type)&&t.task.status===Me.Available),r=X(()=>t.task.status===Me.Processing),o=l=>{var c;if(!i.value)return"Unknown Skill";const d=((c=i.value.lib.skills.items[l])==null?void 0:c.displayName)||"Unknown Skill";return i.value.isDiscovered(l)?d:Se(d)};return(l,d)=>(f(),_("div",Ru,[p("div",Lu,U(e.task.name),1),!a.value&&e.task.currentStepResolvedText?(f(),_("div",Uu,U(e.task.currentStepResolvedText),1)):W("",!0),a.value?W("",!0):(f(),pe(ao,{key:1,investedEffort:e.task.investedEffort,totalEffort:e.task.totalEffort,speed:e.task.speed,status:e.task.status},null,8,["investedEffort","totalEffort","speed","status"])),!a.value&&e.task.resolvedDefinitionDetails.skills&&e.task.resolvedDefinitionDetails.skills.length>0?(f(),_("div",{key:2,class:ue(["skills-character-container",{"boxed-layout":n.value}])},[n.value?(f(),_("div",Fu," P ")):W("",!0),p("div",Wu,[(f(!0),_(re,null,Pe(e.task.resolvedDefinitionDetails.skills,(c,g)=>(f(),_("div",{key:c,class:"skill-pill"},[p("span",ju,U(o(c)),1),p("span",qu,[n.value&&e.task.assignedCharacterEffectiveScores&&e.task.assignedCharacterEffectiveScores[c]!==void 0?(f(),_(re,{key:0},[Le(U(e.task.assignedCharacterEffectiveScores[c].toFixed(1)),1)],64)):e.task.resolvedDefinitionDetails.skills?(f(),_(re,{key:1},[Le(" x"+U((de(Jr)(e.task.resolvedDefinitionDetails.skills.length)[g]||de(Zn)).toFixed(1)),1)],64)):W("",!0)])]))),128))])],2)):W("",!0),a.value?W("",!0):(f(),_(re,{key:3},[e.task.clutterReduction&&e.task.clutterReduction<0?(f(),_("div",Hu,d[0]||(d[0]=[p("hr",{class:"separator-line"},null,-1),p("span",{class:"separator-text"},"Results",-1),p("hr",{class:"separator-line"},null,-1)]))):W("",!0),e.task.clutterReduction&&e.task.clutterReduction<0?(f(),_("div",Gu," Clutter Reduction: "+U((-e.task.clutterReduction).toFixed(1)),1)):W("",!0)],64)),a.value?W("",!0):(f(),_("div",Vu,d[1]||(d[1]=[p("hr",{class:"separator-line-full"},null,-1)]))),a.value?W("",!0):(f(),_("div",Ku,[s.value?(f(),_("button",Yu,"Enqueue")):W("",!0),r.value?(f(),_("button",Xu,"Put off")):W("",!0)])),a.value?(f(),_("div",Qu,[e.task.clutterReduction&&e.task.clutterReduction<0?(f(),_("span",Ju," Clutter: "+U(e.task.clutterReduction.toFixed(1)),1)):(f(),_("span",Zu,"Completed"))])):W("",!0)]))}}),kt=fe(eg,[["__scopeId","data-v-085ce4fc"]]),tg={class:"mini-task-display"},ig={class:"task-name"},ng=me({__name:"MiniTaskDisplay",props:{task:{type:Object,required:!0}},setup(e){return(t,i)=>(f(),_("div",tg,[p("div",ig,U(e.task.name),1),ve(ao,{investedEffort:e.task.investedEffort,totalEffort:e.task.totalEffort,speed:e.task.speed,status:e.task.status},null,8,["investedEffort","totalEffort","speed","status"])]))}}),ag=fe(ng,[["__scopeId","data-v-336b9d24"]]),sg={class:"char-name"},rg={class:"char-stats"},og={class:"char-level"},lg={class:"char-upkeep"},cg={key:0,class:"assigned-task-container"},dg=me({__name:"CharacterListItem",props:{character:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["select"],setup(e){const t=e,{gameState:i}=Si(),n=X(()=>{if(!i.value)return null;const a=i.value.processingTasks.find(s=>s.assignedCharacterIds.includes(t.character.id));return a?{...a}:null});return(a,s)=>(f(),_("div",{class:ue(["character-item",{selected:e.isSelected}]),onClick:s[0]||(s[0]=r=>a.$emit("select"))},[p("div",sg,U(e.character.name),1),p("div",rg,[p("span",og,"Level "+U(e.character.level),1),p("span",lg,"Upkeep: "+U(e.character.upkeep.toFixed(1)),1)]),n.value?(f(),_("div",cg,[e.isSelected?(f(),pe(kt,{key:0,task:n.value},null,8,["task"])):(f(),pe(ag,{key:1,task:n.value},null,8,["task"]))])):W("",!0)],2))}}),ug=fe(dg,[["__scopeId","data-v-309e9005"]]),gg={key:0,class:"no-characters"},hg={key:1,class:"character-items"},pg=me({__name:"CharacterList",props:{characters:{type:Array,required:!0},selectedCharacterId:{type:String,default:null}},emits:["select-character"],setup(e){return(t,i)=>!e.characters||e.characters.length===0?(f(),_("div",gg," No characters available. ")):(f(),_("div",hg,[(f(!0),_(re,null,Pe(e.characters,n=>(f(),pe(ug,{key:n.id,character:n,"is-selected":n.id===e.selectedCharacterId,onSelect:a=>t.$emit("select-character",n.id)},null,8,["character","is-selected","onSelect"]))),128))]))}}),mg=fe(pg,[["__scopeId","data-v-26d19459"]]),fg={class:"attributes-section"},yg={key:0,class:"no-attribute-data"},Og={key:1,class:"attribute-categories"},bg=["onMouseenter"],vg=["onMouseenter"],_g={class:"category-name"},wg={class:"category-value"},Tg={class:"secondary-attributes"},Ig=["onMouseenter"],Pg={class:"attribute-name"},Ng={class:"attribute-value"},kg=me({__name:"CharacterAttributes",props:{attributes:{type:Array,required:!0},currentHint:{type:String,default:null}},emits:["set-hint"],setup(e){const t=$e("gameState");return(i,n)=>(f(),_("div",fg,[n[3]||(n[3]=p("h4",null,"Attributes:",-1)),!e.attributes||e.attributes.length===0?(f(),_("div",yg," No attribute data available. ")):(f(),_("div",Og,[(f(!0),_(re,null,Pe(e.attributes,a=>(f(),_("div",{key:a.key,class:ue(["attribute-category",`attribute-category-${a.key.toLowerCase()}`]),onMouseenter:s=>i.$emit("set-hint",de(t)&&de(t).isDiscovered(a.key)?a.description||null:de(Se)(a.description||"")),onMouseleave:n[2]||(n[2]=s=>i.$emit("set-hint",null))},[p("div",{class:"category-header",onMouseenter:s=>i.$emit("set-hint",de(t)&&de(t).isDiscovered(a.key)?a.description||null:de(Se)(a.description||"")),onMouseleave:n[0]||(n[0]=s=>i.$emit("set-hint",null))},[p("span",_g,U(de(t)&&de(t).isDiscovered(a.key)?a.displayName:de(Se)(a.displayName)),1),p("span",wg,U(a.value),1)],40,vg),p("div",Tg,[(f(!0),_(re,null,Pe(a.attributes,s=>(f(),_("div",{key:s.key,class:ue(["attribute-row",{highlighted:e.currentHint===s.description||e.currentHint===de(Se)(s.description||"")}]),onMouseenter:r=>i.$emit("set-hint",de(t)&&de(t).isDiscovered(s.key)?s.description||null:de(Se)(s.description||"")),onMouseleave:n[1]||(n[1]=r=>i.$emit("set-hint",null))},[p("span",Pg,U(de(t)&&de(t).isDiscovered(s.key)?s.displayName:de(Se)(s.displayName)),1),p("span",Ng,U(s.value),1)],42,Ig))),128))])],42,bg))),128))]))]))}}),Cg=fe(kg,[["__scopeId","data-v-2561a297"]]),Sg=[{name:"skills",imagePath:"img/skills.png",jsonPath:"img/skills.json"},{name:"heroes",imagePath:"img/heroes.jpg",jsonPath:"img/heroes.json"}],qt=class qt{constructor(t){N(this,"atlasLoadPromises",new Map);for(const i of t){if(this.atlasLoadPromises.has(i.name)){console.warn("AtlasManager: Duplicate atlas name "+i.name+" in config. Ignoring subsequent entry.");continue}this.atlasLoadPromises.set(i.name,this.loadAtlas(i))}}static getInstance(){return qt.instance||(qt.instance=new qt(Sg)),qt.instance}async loadAtlas(t){try{const i=new Promise((r,o)=>{const l=new Image;l.onload=()=>r(l),l.onerror=d=>o(new Error("Failed to load atlas image "+t.imagePath+": "+d)),l.src=t.imagePath}),n=fetch(t.jsonPath).then(r=>{if(!r.ok)throw new Error("Failed to fetch atlas JSON "+t.jsonPath+": "+r.statusText);return r.json()}).catch(r=>{throw new Error("Failed to fetch or parse atlas JSON "+t.jsonPath+": "+r.message)}),[a,s]=await Promise.all([i,n]);return{image:a,description:s}}catch(i){throw console.error("AtlasManager: Error loading atlas "+t.name+":",i),i}}async getAtlasImage(t,i){const n=this.atlasLoadPromises.get(t);if(!n){console.warn("AtlasManager: Atlas "+t+" not configured.");return}try{const a=await n,s=a.description[i];if(!s){a.description||console.warn("AtlasManager: Atlas description for "+t+" is missing or invalid.");return}return{image:a.image,rect:s}}catch{return}}};N(qt,"instance",null);let ea=qt;const xg={class:"image-holder-wrapper"},Ag=me({__name:"ImageHolder",props:{atlasName:{},imageName:{},displayWidth:{},displayHeight:{}},setup(e){const t=e,i=he(null),n=ea.getInstance();return Pr(async()=>{if(!i.value)return;const a=i.value;a.width=t.displayWidth,a.height=t.displayHeight;const s=a.getContext("2d");if(!s){console.error("ImageHolder: Could not get 2D context from canvas.");return}if(s.clearRect(0,0,a.width,a.height),!(!t.atlasName||!t.imageName))try{const r=await n.getAtlasImage(t.atlasName,t.imageName);if(r){const{image:o,rect:l}=r,d=(t.displayWidth-l.w)/2,c=(t.displayHeight-l.h)/2;s.drawImage(o,l.x,l.y,l.w,l.h,d,c,l.w,l.h)}}catch(r){console.error("ImageHolder: Error getting image from atlas:",r)}}),(a,s)=>(f(),_("div",xg,[p("canvas",{ref_key:"canvasRef",ref:i},null,512)]))}}),tn=fe(Ag,[["__scopeId","data-v-6412d2f0"]]),Eg={class:"image-overlay skill-name-overlay"},Mg={class:"image-overlay level-overlay"},$g={key:0,class:"image-overlay proficiency-overlay"},Dg={class:"skill-details-container"},zg={class:"hint-line"},Bg={key:0,class:"specializations-row"},Rg=["onMouseover"],Lg={class:"image-overlay spec-name-overlay"},Ug={class:"image-overlay level-overlay spec-level-overlay"},Fg={key:0,class:"image-overlay proficiency-overlay spec-proficiency-overlay"},Wg=me({__name:"SkillItem",props:{skill:{},characterId:{}},setup(e){const t=e,i=he(""),n=X(()=>!t.skill||!t.skill.attribute?"":`skill-attribute-${t.skill.attribute.toLowerCase()}`),a=(c,g=!1)=>c===void 0?"0":typeof c=="number"?g?Math.round(c).toString():Number.isInteger(c)?c.toString():c.toFixed(1):c.toString(),s=c=>{t.skill&&l&&!l.isDiscovered(t.skill.id)?i.value=Se(c||""):i.value=c||""},r=(c,g)=>{l&&!l.isDiscovered(g)?i.value=Se(c||""):i.value=c||""},o=()=>{i.value=""},l=$e("gameState"),d=()=>{if(t.skill&&t.characterId){const c={name:"CmdCheatSkillUp",characterId:t.characterId,skillId:t.skill.id,amount:1};ri.push(c)}};return(c,g)=>(f(),_("div",{class:ue(["skill-item",n.value]),onMouseleave:o},[p("div",{class:"skill-image-container",onMouseover:g[0]||(g[0]=u=>s(t.skill.description)),onClick:d},[ve(tn,{atlasName:"skills",imageName:t.skill.id,displayWidth:128,displayHeight:128,class:"skill-icon"},null,8,["imageName"]),p("div",Eg,U(de(l)&&de(l).isDiscovered(t.skill.id)?t.skill.displayName:de(Se)(t.skill.displayName)),1),p("div",Mg,U(a(t.skill.level)),1),t.skill.proficiency!==void 0?(f(),_("div",$g,U(a(t.skill.proficiency,!0)),1)):W("",!0)],32),p("div",Dg,[p("div",zg,U(i.value)+"",1),t.skill.specializations&&t.skill.specializations.length>0?(f(),_("div",Bg,[(f(!0),_(re,null,Pe(t.skill.specializations,u=>(f(),_("div",{key:u.id,class:"specialization-item",onMouseover:h=>r(u.description,u.id)},[ve(tn,{atlasName:"skills",imageName:u.id,displayWidth:128,displayHeight:96,class:"specialization-icon"},null,8,["imageName"]),p("div",Lg,U(de(l)&&de(l).isDiscovered(u.id)?u.displayName:de(Se)(u.displayName)),1),p("div",Ug,U(a(u.level)),1),u.proficiency!==void 0?(f(),_("div",Fg,U(a(u.proficiency,!0)),1)):W("",!0)],40,Rg))),128))])):W("",!0)])],34))}}),jg=fe(Wg,[["__scopeId","data-v-9ee1a65c"]]),qg={class:"skills-section"},Hg={key:0,class:"no-skills-data"},Gg={key:1,class:"skill-list"},Vg=me({__name:"CharacterSkills",props:{skills:{},characterId:{}},setup(e){const t=e;return(i,n)=>(f(),_("div",qg,[n[0]||(n[0]=p("h4",null,"Skills:",-1)),!t.skills||t.skills.length===0?(f(),_("div",Hg," No skills data available. ")):(f(),_("div",Gg,[(f(!0),_(re,null,Pe(t.skills,a=>(f(),pe(jg,{key:a.id,skill:a,characterId:t.characterId},null,8,["skill","characterId"]))),128))]))]))}}),Kg=fe(Vg,[["__scopeId","data-v-e4e21681"]]),Yg={key:0,class:"no-selection"},Xg={key:1,class:"character-details-grid"},Qg={class:"character-info-column"},Jg={class:"character-header"},Zg={class:"character-stats"},eh={class:"stat-badge"},th={class:"stat-badge"},ih={class:"image-bio-row"},nh={class:"bio-section"},ah={key:0},sh={key:1,class:"bio-placeholder"},rh={key:2,class:"bio-placeholder"},oh={class:"character-attributes-column"},lh={key:1,class:"no-attributes"},ch={class:"character-skills-row"},dh={key:1,class:"no-skills"},uh=me({__name:"CharacterDetails",props:{selectedCharacter:{type:Object,default:null},currentHint:{type:String,default:null}},emits:["set-hint"],setup(e){return(t,i)=>e.selectedCharacter?(f(),_("div",Xg,[p("div",Qg,[p("div",Jg,[p("h3",null,U(e.selectedCharacter.name),1),p("div",Zg,[p("span",eh,"Level "+U(e.selectedCharacter.level),1),p("span",th,"Upkeep: "+U(e.selectedCharacter.upkeep.toFixed(1))+" gold",1)])]),p("div",ih,[i[2]||(i[2]=p("div",{class:"image-holder-placeholder"},[p("span",null,"256x256 Image Placeholder")],-1)),p("div",nh,[e.currentHint?(f(),_("p",ah,U(e.currentHint),1)):e.selectedCharacter.bio?(f(),_("p",sh,U(e.selectedCharacter.bio),1)):(f(),_("p",rh,"No description available."))])])]),p("div",oh,[e.selectedCharacter.attributes?(f(),pe(Cg,{key:0,attributes:e.selectedCharacter.attributes,"current-hint":e.currentHint,onSetHint:i[0]||(i[0]=n=>t.$emit("set-hint",n))},null,8,["attributes","current-hint"])):(f(),_("div",lh," No attribute data available. "))]),p("div",ch,[e.selectedCharacter.skills&&e.selectedCharacter.skills.length>0?(f(),pe(Kg,{key:0,skills:e.selectedCharacter.skills,characterId:e.selectedCharacter.id},null,8,["skills","characterId"])):(f(),_("div",dh," No skills data available. "))])])):(f(),_("div",Yg,i[1]||(i[1]=[p("p",null,"Select a character to view details",-1)])))}}),gh=fe(uh,[["__scopeId","data-v-34e7d969"]]),hh={class:"crew-container"},ph={class:"character-list"},mh={class:"character-details"},fh=me({__name:"CrewView",setup(e){const t=$e("gameState"),i=he(null),n=X(()=>t?t.uiState.characters||[]:[]),a=X(()=>t?t.uiState.selectedCharacterId:null),s=X(()=>!t||!a.value?null:t.uiState.characters.find(l=>l.id===a.value)||null),r=l=>{t&&(t.uiState.selectedCharacterId=l,i.value=null)},o=l=>{i.value=l};return(l,d)=>(f(),_("div",hh,[p("div",ph,[ve(mg,{characters:n.value,"selected-character-id":a.value,onSelectCharacter:r},null,8,["characters","selected-character-id"])]),p("div",mh,[ve(gh,{"selected-character":s.value,"current-hint":i.value,onSetHint:o},null,8,["selected-character","current-hint"])])]))}}),yh=fe(fh,[["__scopeId","data-v-7325a97e"]]),Oh=me({__name:"QuestsView",setup(e){return(t,i)=>(f(),_("div",null,i[0]||(i[0]=[p("h3",null,"Quests View",-1),p("p",null,"Content for the Quests tab goes here. View available quests, track progress.",-1)])))}}),bh=fe(Oh,[["__scopeId","data-v-fb6bc9b3"]]),vh={class:"debug-view"},_h={class:"button-container"},wh={class:"filter-inputs"},Th={key:0,class:"stats-container"},Ih={class:"stat-controls"},Ph=["onClick"],Nh=["onClick"],kh=["onUpdate:modelValue","onKeyup"],Ch=["onClick"],Sh={key:1,class:"placeholder-controls"},xh={class:"stat-name"},Ah={class:"stat-value"},Eh={key:0,class:"stat-params"},Mh={key:1},$h=me({__name:"DebugView",props:{stats:{type:Object,required:!0}},setup(e){const t=e,i=$e("gameState"),n=Tt({}),a=he(""),s=he(""),r=he(!0),o=he(!0),l=X(()=>t.stats&&Object.keys(t.stats).length>0),d=X(()=>{if(!t.stats)return{};let H=Object.keys(t.stats);if(r.value=!0,o.value=!0,a.value.trim()!=="")try{const x=new RegExp(a.value.trim(),"i");H=H.filter(M=>x.test(M))}catch(x){console.warn("Invalid include regex:",x),r.value=!1}if(s.value.trim()!=="")try{const x=new RegExp(s.value.trim(),"i");H=H.filter(M=>!x.test(M))}catch(x){console.warn("Invalid exclude regex:",x),o.value=!1}const T=H.sort(),S={};return T.forEach(x=>{S[x]=t.stats[x],n[x]===void 0&&(n[x]=String(t.stats[x].value))}),S}),c=H=>!H.params,g=H=>"add"in H&&"multiCache"in H?`${H.add} * ${H.multiCache}`:"argument"in H?`formula(${H.argument})`:Object.entries(H).map(([T,S])=>`${T}: ${S}`).join(", "),u=(H,T)=>{if(!i)return;const S=i.connections.connectablesByName.get(H);S&&"independent"in S&&S.independent&&(i.modifyIndependentStat(H,T),n[H]=String(S.value+T))},h=H=>{if(!i)return;const T=i.connections.connectablesByName.get(H);if(T&&"independent"in T&&T.independent){const S=Number(n[H]);i&&i.connections&&(J.setIndependentStat(T,S,i.connections),Gr(i))}},v=he(null),w=H=>{v.value=H,setTimeout(()=>{v.value=null},1e3)},k=(H,T)=>{var be,xe;if(!i||!((be=i.lib)!=null&&be.getSkillLib)||!((xe=i.lib)!=null&&xe.getAttributeLib)){console.error("GameState, SkillLib, or AttributeLib not available via getters");return}let S="";const x=i.lib.getSkillLib(),M=i.lib.getAttributeLib(),G=x.getAllSkills(),le=M.getAttributeDefinitions(),ge=ne=>{for(const te of Object.values(le))if(te.attributes[ne])return te.attributes[ne].displayName;return ne};Object.values(G).forEach(ne=>{var te,Te;if(S+=`${ne.displayName}: ${ne.description}
`,H){const Ee=((te=ne.governedBy)==null?void 0:te.map(ot=>ge(ot)).join(", "))||"none",ze=((Te=ne.assistedBy)==null?void 0:Te.map(ot=>ge(ot)).join(", "))||"none";S+=`Governed by: ${Ee}
`,S+=`Assisted by: ${ze}
`}ne.specializations&&ne.specializations.length>0&&ne.specializations.forEach(Ee=>{const ze=x.getSpecialization(Ee);ze&&(S+=`* ${ze.displayName}: ${ze.description}
`)}),S+=`
`}),navigator.clipboard.writeText(S).then(()=>{w(H?"attributes":"basic")}).catch(ne=>{console.error("Failed to copy skills to clipboard:",ne)})},C=H=>{var x;if(!i||!((x=i.lib)!=null&&x.getAttributeLib)){console.error("GameState or AttributeLib not available via getter");return}let T="";const S=i.lib.getAttributeLib().getAttributeDefinitions();Object.entries(S).forEach(([,M])=>{T+=`${M.displayName}: ${M.description}
`,Object.entries(M.attributes).forEach(([,G])=>{T+=`* ${G.displayName}: ${G.description}
`}),T+=`
`}),navigator.clipboard.writeText(T).then(()=>{w("attributesCopy")}).catch(M=>{console.error("Failed to copy attributes to clipboard:",M)})},A=H=>{var be,xe;if(!i||!((be=i.lib)!=null&&be.getSkillLib)||!((xe=i.lib)!=null&&xe.getAttributeLib)){console.error("GameState, SkillLib, or AttributeLib not available via getters");return}const S=i.lib.getSkillLib().getAllSkills(),x=i.lib.getAttributeLib().getAttributeDefinitions(),M={};Object.entries(x).forEach(([,ne])=>{Object.keys(ne.attributes).forEach(te=>{M[te]={governs:0,assists:0}})});const G={};Object.values(S).forEach(ne=>{ne.governedBy&&ne.governedBy.forEach(te=>{M[te]&&(M[te].governs++,G[te]||(G[te]=[]),G[te].includes(`${ne.displayName} (Governs)`)||G[te].push(`${ne.displayName} (Governs)`))}),ne.assistedBy&&ne.assistedBy.forEach(te=>{M[te]&&(M[te].assists++,G[te]||(G[te]=[]),G[te].includes(`${ne.displayName} (Assists)`)||G[te].push(`${ne.displayName} (Assists)`))})});let le=`Attribute Skill Governance Stats:

`;const ge=ne=>{for(const te of Object.values(x))if(te.attributes[ne])return te.attributes[ne].displayName;return ne};Object.entries(M).sort(([,ne],[,te])=>te.governs+te.assists-(ne.governs+ne.assists)).forEach(([ne,te])=>{const Te=ge(ne);le+=`${Te} - Governs: ${te.governs}, Assists: ${te.assists}
`,G[ne]&&G[ne].length>0&&G[ne].sort().forEach(Ee=>{le+=`  - ${Ee}
`})}),navigator.clipboard.writeText(le.trim()).then(()=>{w("attributeStats")}).catch(ne=>{console.error("Failed to copy attribute skill stats to clipboard:",ne)})},b=H=>{var M;if(!i||!((M=i.lib)!=null&&M.getSkillLib)){console.error("GameState or SkillLib not available");return}const T=i.lib.getSkillLib(),S=T.getAllSkills();let x="";Object.values(S).forEach(G=>{x+=`${G.displayName}
`,G.specializations&&G.specializations.length>0&&G.specializations.forEach(le=>{const ge=T.getSpecialization(le);ge&&(x+=`* ${ge.displayName}
`)})}),navigator.clipboard.writeText(x.trim()).then(()=>{w("skillNames")}).catch(G=>{console.error("Failed to copy skill names to clipboard:",G)})},O=H=>{var ne;if(!i||!((ne=i.lib)!=null&&ne.getSkillLib)){console.error("GameState or SkillLib not available for keyword stats");return}const T=i.lib.getSkillLib(),S=T.getAllSkills(),x=T.keywordLookup;let M=`Skill Keyword Statistics:

`;const G={},le={};Object.values(S).forEach(te=>{const Te=(Ee,ze)=>{Ee.keywords&&Array.isArray(Ee.keywords)&&Ee.keywords.flat().forEach(ot=>{const Ve=ot.toLowerCase();G[Ve]=(G[Ve]||0)+1,le[Ve]||(le[Ve]=[]),le[Ve].includes(ze)||le[Ve].push(ze)})};Te(te,te.displayName),te.specializations&&te.specializations.length>0&&te.specializations.forEach(Ee=>{const ze=T.getSpecialization(Ee);ze&&Te(ze,`${te.displayName} > ${ze.displayName}`)})}),Object.entries(G).sort(([,te],[,Te])=>Te-te).forEach(([te,Te])=>{M+=`${te} (${Te}):
`,(le[te]||[]).sort().forEach(ze=>{M+=`  - ${ze}
`}),M+=`
`});let be=!1;const xe=[];for(const te of x.keys())if(!G[te.toLowerCase()]){be||(xe.push(`Unused Keywords (from lookup map but not found on skills/specs):
`),be=!0);const Te=x.get(te)||"N/A";xe.push(`- ${te} (Points to: ${Te})
`)}be&&(M+=`
`+xe.join("")),navigator.clipboard.writeText(M.trim()).then(()=>{w("skillKeywords")}).catch(te=>{console.error("Failed to copy skill keyword stats to clipboard:",te)})},I=H=>{var M;if(!i||!((M=i.lib)!=null&&M.getSkillLib)){console.error("GameState or SkillLib not available for skill names and descriptions.");return}const T=i.lib.getSkillLib(),S=T.getAllSkills();let x="";Object.values(S).forEach(G=>{x+=`"${G.displayName}": "${G.description}",
`,G.specializations&&G.specializations.length>0&&G.specializations.forEach(le=>{const ge=T.getSpecialization(le);ge&&(x+=`  "${ge.displayName}": "${ge.description}",
`)})}),navigator.clipboard.writeText(x.trim().replace(/,\n$/,`
`)).then(()=>{w("skillNameDesc")}).catch(G=>{console.error("Failed to copy skill names and descriptions to clipboard:",G)})},$=H=>{var M;if(!i||!((M=i.lib)!=null&&M.getSkillLib)){console.error("GameState or SkillLib not available for skill IDs.");return}const S=i.lib.getSkillLib().getAllSkills();let x="";Object.values(S).forEach(G=>{x+=`${G.id}
`,G.specializations&&G.specializations.length>0&&G.specializations.forEach(le=>{x+=`${le}
`})}),navigator.clipboard.writeText(x.trim()).then(()=>{w("skillIds")}).catch(G=>{console.error("Failed to copy skill IDs to clipboard:",G)})},B=H=>{if(!i){console.error("GameState not available");return}const T={...i},S=["connections","lib","uiState"],x=["eventProcessor"];for(const M of S)M in T&&delete T[M];for(const M of x)M in T&&delete T[M];try{const M=JSON.stringify(T,null,2);navigator.clipboard.writeText(M).then(()=>{w("gameState")}).catch(G=>{console.error("Failed to copy game state to clipboard:",G)})}catch(M){console.error("Error serializing game state:",M),navigator.clipboard.writeText("Error serializing game state. Check console for details.").then(()=>w("gameStateError")).catch(G=>console.error("Failed to copy error message to clipboard:",G))}},Z=async H=>{var T;if(!i||!((T=i.lib)!=null&&T.getSkillLib)){console.error("GameState or SkillLib not available for replacing names with IDs."),w("replaceNamesWithIdsError");return}try{let S=await navigator.clipboard.readText();const x=i.lib.getSkillLib(),M=x.getAllSkills(),G=[];Object.values(M).forEach(ge=>{G.push({searchDisplayName:ge.displayName,replacementId:ge.id}),ge.specializations&&ge.specializations.length>0&&ge.specializations.forEach(be=>{const xe=x.getSpecialization(be);xe&&G.push({searchDisplayName:xe.displayName,replacementId:xe.id})})}),G.sort((ge,be)=>be.searchDisplayName.length-ge.searchDisplayName.length);const le=ge=>ge.replace(/[.*+?^${}()|[\]\\\\]/g,"\\\\$&");G.forEach(ge=>{const be=new RegExp(`"${le(ge.searchDisplayName)}"`,"g"),xe=`"${ge.replacementId}"`;S=S.replace(be,xe)}),await navigator.clipboard.writeText(S),w("replaceNamesWithIds")}catch(S){console.error("Failed to replace skill names with IDs in clipboard:",S),w("replaceNamesWithIdsError")}},K=async H=>{try{let T=await navigator.clipboard.readText();const S=/"([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)"/g,x=T.replace(S,(M,G,le)=>`"${le}"`);await navigator.clipboard.writeText(x),w("simplifyClipboard")}catch(T){console.error("Failed to simplify clipboard text:",T),w("simplifyClipboardError")}},Q=()=>{a.value="",r.value=!0},ee=()=>{s.value="",o.value=!0},L=()=>{Q(),ee()},q=H=>{if(!i||!i.lib||!i.lib.characters){console.error("GameState, Lib, or CharacterLib not available for character names and bios."),w("characterNamesAndBiosError");return}const S=i.lib.characters.values();let x="";for(const M of S)x+=`Name: ${M.name}
`,x+=`Bio: ${M.bio||"N/A"}

`;navigator.clipboard.writeText(x.trim()).then(()=>{w("characterNamesAndBios")}).catch(M=>{console.error("Failed to copy character names and bios to clipboard:",M),w("characterNamesAndBiosError")})};return(H,T)=>(f(),_("div",vh,[T[15]||(T[15]=p("h2",null,"Debug Stats",-1)),p("div",_h,[p("button",{onClick:T[0]||(T[0]=S=>k(!1)),class:ue(["action-btn",{"copy-success":v.value==="basic"}])},"Skills (Basic)",2),p("button",{onClick:T[1]||(T[1]=S=>k(!0)),class:ue(["action-btn",{"copy-success":v.value==="attributes"}])},"Skills (With Attributes)",2),p("button",{onClick:T[2]||(T[2]=S=>C()),class:ue(["action-btn",{"copy-success":v.value==="attributesCopy"}])},"Attributes",2),p("button",{onClick:T[3]||(T[3]=S=>A()),class:ue(["action-btn",{"copy-success":v.value==="attributeStats"}])},"Attribute Skill Stats",2),p("button",{onClick:T[4]||(T[4]=S=>b()),class:ue(["action-btn",{"copy-success":v.value==="skillNames"}])},"Skill Names",2),p("button",{onClick:T[5]||(T[5]=S=>O()),class:ue(["action-btn",{"copy-success":v.value==="skillKeywords"}])},"Skill Keyword Stats",2),p("button",{onClick:T[6]||(T[6]=S=>I()),class:ue(["action-btn",{"copy-success":v.value==="skillNameDesc"}])},"Skill Names & Descriptions",2),p("button",{onClick:T[7]||(T[7]=S=>$()),class:ue(["action-btn",{"copy-success":v.value==="skillIds"}])},"Skill IDs",2),p("button",{onClick:T[8]||(T[8]=S=>B()),class:ue(["action-btn",{"copy-success":v.value==="gameState"}])},"Game State (JSON)",2),p("button",{onClick:T[9]||(T[9]=S=>Z()),class:ue(["action-btn",{"copy-success":v.value==="replaceNamesWithIds"}])},"Replace Names with IDs",2),p("button",{onClick:T[10]||(T[10]=S=>K()),class:ue(["action-btn",{"copy-success":v.value==="simplifyClipboard"}])},"Simplify Clipboard Text",2),p("button",{onClick:T[11]||(T[11]=S=>q()),class:ue(["action-btn",{"copy-success":v.value==="characterNamesAndBios"}])},"Character Names & Bios",2)]),p("div",wh,[mi(p("input",{type:"text","onUpdate:modelValue":T[12]||(T[12]=S=>a.value=S),placeholder:"Include Regex (e.g., ^Player)",class:ue(["filter-input",{"invalid-regex":!r.value}])},null,2),[[Oi,a.value]]),mi(p("input",{type:"text","onUpdate:modelValue":T[13]||(T[13]=S=>s.value=S),placeholder:"Exclude Regex (e.g., Mana$)",class:ue(["filter-input",{"invalid-regex":!o.value}])},null,2),[[Oi,s.value]]),p("button",{onClick:L,class:"clear-btn clear-all-btn"},"Clear Filters")]),l.value?(f(),_("div",Th,[(f(!0),_(re,null,Pe(d.value,(S,x)=>(f(),_("div",{key:x,class:"stat-row"},[p("div",Ih,[c(S)?(f(),_(re,{key:0},[p("button",{onClick:M=>u(x,-1),class:"control-btn"},"-",8,Ph),p("button",{onClick:M=>u(x,1),class:"control-btn"},"+",8,Nh),mi(p("input",{type:"text","onUpdate:modelValue":M=>n[x]=M,class:"stat-input",onKeyup:Fr(M=>h(x),["enter"])},null,40,kh),[[Oi,n[x]]]),p("button",{onClick:M=>h(x),class:"control-btn"},"Set",8,Ch)],64)):(f(),_("div",Sh))]),p("div",xh,U(x),1),T[14]||(T[14]=p("div",{class:"stat-separator"},":",-1)),p("div",Ah,[Le(U(S.value)+" ",1),S.params?(f(),_("span",Eh," = "+U(g(S.params)),1)):W("",!0)])]))),128))])):(f(),_("p",Mh,"No stats available."))]))}}),Dh=fe($h,[["__scopeId","data-v-a8344dcc"]]),zh=me({__name:"TooltipBubble",props:{visible:{type:Boolean,default:!1},targetElement:{type:Object,default:null}},setup(e){const t=e,{visible:i,targetElement:n}=Go(t),a=he({});return Pr(()=>{if(i.value&&n.value){const s=n.value.getBoundingClientRect();a.value={position:"fixed",left:`${s.left}px`,top:`${s.bottom+5}px`,zIndex:"1000"}}else a.value={}}),(s,r)=>de(i)?(f(),_("div",{key:0,class:"tooltip-bubble",style:nt(a.value)},[ml(s.$slots,"default",{},void 0)],4)):W("",!0)}}),Bh=fe(zh,[["__scopeId","data-v-4dda30ca"]]),Rh={class:"buff-bar-container"},Lh=me({__name:"BuffBar",setup(e){const{gameState:t}=Si(),i=X(()=>{var r;return((r=t.value)==null?void 0:r.uiState.uiWorkSpeed.toFixed(2))||"0.00"}),n=X(()=>{var o;return`From clutter: ${Math.round(((((o=t.value)==null?void 0:o.uiState.uiClutterRatio)||0)-1)*100)}%`}),a=he(!1),s=he(null);return(r,o)=>(f(),_("div",Rh,[p("span",{class:"work-speed-buff",onMouseover:o[0]||(o[0]=l=>a.value=!0),onMouseleave:o[1]||(o[1]=l=>a.value=!1),ref_key:"workSpeedBuffElement",ref:s}," Work Speed: "+U(i.value),545),ve(Bh,{visible:a.value,targetElement:s.value},{default:cn(()=>[Le(U(n.value),1)]),_:1},8,["visible","targetElement"])]))}}),Uh=fe(Lh,[["__scopeId","data-v-71ad6262"]]),Fh={class:"tasks-view-container"},Wh={class:"task-columns"},jh={class:"task-column"},qh={class:"task-column"},Hh={class:"task-column"},Gh={class:"task-column"},Vh={class:"task-column"},Kh={class:"task-column"},Yh={class:"task-column"},Xh=me({__name:"TasksView",setup(e){const{gameState:t}=Si();return(i,n)=>{var a,s,r,o,l,d,c;return f(),_("div",Fh,[ve(Uh),p("div",Wh,[p("div",jh,[n[0]||(n[0]=p("h3",null,"Completed",-1)),(f(!0),_(re,null,Pe((a=de(t))==null?void 0:a.uiState.uiCompletedTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",qh,[n[1]||(n[1]=p("h3",null,"Active",-1)),(f(!0),_(re,null,Pe((s=de(t))==null?void 0:s.uiState.uiActiveTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",Hh,[n[2]||(n[2]=p("h3",null,"Queued",-1)),(f(!0),_(re,null,Pe((r=de(t))==null?void 0:r.uiState.uiQueuedTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",Gh,[n[3]||(n[3]=p("h3",null,"Maintenance",-1)),(f(!0),_(re,null,Pe((o=de(t))==null?void 0:o.uiState.uiMaintenanceTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",Vh,[n[4]||(n[4]=p("h3",null,"Opportunity",-1)),(f(!0),_(re,null,Pe((l=de(t))==null?void 0:l.uiState.uiOpportunityTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",Kh,[n[5]||(n[5]=p("h3",null,"Endeavour",-1)),(f(!0),_(re,null,Pe((d=de(t))==null?void 0:d.uiState.uiEndeavourTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))]),p("div",Yh,[n[6]||(n[6]=p("h3",null,"Quest",-1)),(f(!0),_(re,null,Pe((c=de(t))==null?void 0:c.uiState.uiQuestTasks,g=>(f(),pe(kt,{key:g.uid,task:g},null,8,["task"]))),128))])])])}}}),Qh=fe(Xh,[["__scopeId","data-v-450bef4b"]]),Jh={key:0,class:"click-counter-overlay"},Zh={class:"click-counter-content"},ep=me({__name:"ClickCounterView",setup(e){const t=$e("gameState"),i=X(()=>{var s;return((s=t==null?void 0:t.activeMinigame)==null?void 0:s.type)==="ClickCounter"?t.uiState.activeMinigameState:null}),n=()=>{t&&t.activeMinigame instanceof Yr&&t.activeMinigame.recordClick(t)},a=X(()=>i.value?`Close (${i.value.clicksToWin-i.value.clickCount} more clicks)`:"Close");return(s,r)=>i.value?(f(),_("div",Jh,[p("div",Zh,[r[0]||(r[0]=p("h2",null,"Click Counter Minigame",-1)),p("p",null,"You have clicked "+U(i.value.clickCount)+" times.",1),p("p",null,"You need to click "+U(i.value.clicksToWin)+" times to close this.",1),p("button",{onClick:n},U(a.value),1)])])):W("",!0)}}),tp=fe(ep,[["__scopeId","data-v-607001ba"]]),ip={class:"choice-option"},np={class:"card-header"},ap=["src","alt"],sp={key:0,class:"progress-bar-container"},rp={class:"details"},op={class:"pros"},lp={key:0},cp={key:1},dp={class:"cons"},up={key:0},gp={key:1},hp={key:0,class:"button-container"},pp=me({__name:"ChoiceOption",props:{id:{},name:{},imageName:{},pros:{},cons:{},description:{},isExploring:{type:Boolean},explorationProgress:{},canBeSelected:{type:Boolean},areProsConsTitlesVisible:{type:Boolean},nameObfuscationPercentage:{}},emits:["selected","mouseenter-choice","mouseleave-choice","explore"],setup(e,{emit:t}){const i=e,n=t,a=he(!1),s=()=>{i.canBeSelected&&n("selected",i.id)},r=()=>{n("explore",i.id)},o=()=>{a.value=!0,n("mouseenter-choice",i.description)},l=()=>{a.value=!1,n("mouseleave-choice")};return(d,c)=>(f(),_("div",{class:ue(["choice-wrapper",{hovered:a.value,"can-select":d.canBeSelected}]),onMouseover:o,onMouseleave:l,onClick:s},[p("div",ip,[p("div",np,[p("img",{src:"img/"+d.imageName,alt:d.name,class:"choice-image"},null,8,ap),d.isExploring?(f(),_("div",sp,[p("div",{class:"progress-bar",style:nt({width:d.explorationProgress*100+"%"})},null,4)])):W("",!0),p("h3",null,U(d.name),1)]),p("div",rp,[p("div",op,[d.areProsConsTitlesVisible?(f(),_("h4",lp,"Pros:")):W("",!0),d.areProsConsTitlesVisible?(f(),_("ul",cp,[(f(!0),_(re,null,Pe(d.pros,(g,u)=>(f(),_("li",{key:"pro-"+u},U(g),1))),128))])):W("",!0)]),p("div",dp,[d.areProsConsTitlesVisible?(f(),_("h4",up,"Cons:")):W("",!0),d.areProsConsTitlesVisible?(f(),_("ul",gp,[(f(!0),_(re,null,Pe(d.cons,(g,u)=>(f(),_("li",{key:"con-"+u},U(g),1))),128))])):W("",!0)])])]),ve(cc,{name:"slide"},{default:cn(()=>[!d.canBeSelected&&!d.isExploring?(f(),_("div",hp,[p("button",{onClick:Oa(r,["stop"]),class:"explore-button"}," Explore ")])):W("",!0)]),_:1})],34))}}),mp=fe(pp,[["__scopeId","data-v-800c3047"]]),fp={class:"stage-one-container"},yp={class:"choices-container"},Op={class:"hovered-description-container"},bp={key:0},vp={key:1},_p=me({__name:"WelcomeChoices",props:{explorableChoices:{}},emits:["choiceMade","startExploration"],setup(e,{emit:t}){const i=e,n=t,a=X(()=>i.explorableChoices),s=he(null),r=X(()=>{if(!s.value)return null;const g=a.value.find(u=>u.id===s.value);return g&&g.isDescriptionVisible?g.descriptionObfuscationPercentage>0&&g.description?Se(g.description,g.descriptionObfuscationPercentage):g.description||null:null}),o=g=>{const u=a.value.find(h=>h.id===g);u&&u.canBeSelected&&n("choiceMade",g)},l=g=>{n("startExploration",g)},d=g=>{s.value=g.id},c=()=>{s.value=null};return(g,u)=>(f(),_("div",fp,[u[0]||(u[0]=p("p",{class:"stage-text"},[Le("We've established a telepathic link to a new worldone with "),p("b",null,"magic"),Le(".")],-1)),u[1]||(u[1]=p("p",{class:"stage-text"},"To tap into this power, we need a stable gateway built from both sides.",-1)),u[2]||(u[2]=p("p",{class:"stage-text"},"The plan: possses an isolated guild master who has the necessary infrastructure.",-1)),u[3]||(u[3]=p("p",{class:"stage-text"},"Several candidates exist across different regions. Choose the region.",-1)),p("div",yp,[(f(!0),_(re,null,Pe(a.value,h=>(f(),pe(mp,{key:h.id,id:h.id,name:h.nameObfuscationPercentage>0?de(Se)(h.name,h.nameObfuscationPercentage):h.name,imageName:h.imageName,atlasName:h.atlasName,pros:h.pros.slice(0,h.revealedProsCount),cons:h.cons.slice(0,h.revealedConsCount),description:h.description,isExploring:h.isExploring,explorationProgress:h.explorationProgress,canBeSelected:h.canBeSelected,areProsConsTitlesVisible:h.areProsConsTitlesVisible,nameObfuscationPercentage:h.nameObfuscationPercentage,onSelected:v=>o(h.id),onExplore:v=>l(h.id),onMouseenterChoice:v=>d(h),onMouseleaveChoice:c},null,8,["id","name","imageName","atlasName","pros","cons","description","isExploring","explorationProgress","canBeSelected","areProsConsTitlesVisible","nameObfuscationPercentage","onSelected","onExplore","onMouseenterChoice"]))),128))]),p("div",Op,[r.value?(f(),_("p",bp,U(r.value),1)):(f(),_("p",vp,""))])]))}}),wp=fe(_p,[["__scopeId","data-v-f842ccba"]]),Tp={class:"connection-view-container"},Ip=me({__name:"WelcomeView",setup(e){const t=$e("gameState"),i=X(()=>{var r;return((r=t==null?void 0:t.activeMinigame)==null?void 0:r.type)==="Welcome"&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null}),n=X(()=>{var r;return((r=t==null?void 0:t.activeMinigame)==null?void 0:r.type)==="Welcome"?t.activeMinigame:null}),a=r=>{n.value&&t?n.value.makeChoiceAndPrepareExit(r,t):console.error("WelcomeGame instance or gameState not available for handleChoiceMade")},s=r=>{var o;(o=n.value)==null||o.startExploration(r)};return oi(()=>{var r,o;(o=(r=i.value)==null?void 0:r.lib)!=null&&o.isLoaded,i.value}),(r,o)=>(f(),_("div",Tp,[i.value&&i.value.lib&&i.value.explorableChoices?(f(),pe(wp,{key:0,explorableChoices:i.value.explorableChoices,onChoiceMade:a,onStartExploration:s},null,8,["explorableChoices"])):W("",!0)]))}}),Pp=fe(Ip,[["__scopeId","data-v-8d5fcf79"]]),Np={class:"column-title"},kp={class:"word-list-container"},Cp={class:"word-list"},Sp=["id","onMouseover"],xp={class:"word-item"},Ap={class:"word-item-edge"},Ep={class:"badge-placeholder"},Mp={class:"word-name"},$p={key:0,class:"stars"},Dp={key:0,class:"typo-sticker"},zp=me({__name:"IngressWordColumn",props:{title:{},words:{},anyBadgeHovered:{type:Boolean}},emits:["word-hover","word-leave"],setup(e,{emit:t}){const i=t,n=c=>typeof c=="object"?c.definition.id:null,a=c=>typeof c=="string"?c:c.definition.name,s=c=>typeof c=="string"?0:Math.min(c.pointsEarned,4),r=c=>typeof c=="string"?!1:c.wasTypo,o=c=>typeof c=="object"&&c.sourceCharacterIds?c.sourceCharacterIds.length:0,l=(c,g)=>{typeof c=="object"&&c.sourceCharacterIds&&c.sourceCharacterIds.length>0&&i("word-hover",{word:c,event:g})},d=()=>{i("word-leave")};return(c,g)=>(f(),_("div",{class:ue(["ingress-word-column-component",{condensed:c.words.length>25}])},[p("p",Np,U(c.title),1),p("div",kp,[p("ul",Cp,[(f(!0),_(re,null,Pe(c.words,(u,h)=>(f(),_("li",{key:h,class:"word-item-wrapper",id:n(u)?`word-li-${n(u)}`:void 0,onMouseover:v=>l(u,v),onMouseleave:g[0]||(g[0]=v=>d())},[p("div",xp,[p("div",Ap,[p("div",Ep,[o(u)>0?(f(),_("div",{key:0,class:ue(["character-badge",{"animate-pulse-glow":!c.anyBadgeHovered,"static-badge":c.anyBadgeHovered}])},[p("span",null,U(o(u)),1),g[1]||(g[1]=p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})],-1))],2)):W("",!0)])]),p("span",Mp,U(a(u)),1),s(u)>0?(f(),_("span",$p,U("".repeat(s(u))),1)):W("",!0)]),r(u)?(f(),_("div",Dp,"TYPO")):W("",!0)],40,Sp))),128))])])],2))}}),Bp=fe(zp,[["__scopeId","data-v-eb0d66ce"]]),Rp=me({__name:"IngressWordColumns",props:{columns:{},anyBadgeHovered:{type:Boolean}},emits:["word-hover","word-leave"],setup(e){return(t,i)=>(f(),pe(Sc,{appear:"",name:"slide-from-right",tag:"div",class:"ingress-word-columns-container"},{default:cn(()=>[(f(!0),_(re,null,Pe(t.columns,n=>(f(),pe(Bp,{key:n.id,title:n.title,words:n.words,class:"word-column",onWordHover:i[0]||(i[0]=a=>t.$emit("word-hover",a)),onWordLeave:i[1]||(i[1]=a=>t.$emit("word-leave")),"any-badge-hovered":t.anyBadgeHovered},null,8,["title","words","any-badge-hovered"]))),128))]),_:1}))}}),Lp=fe(Rp,[["__scopeId","data-v-b5099c71"]]),Up={class:"card-content"},Fp={key:0,class:"unexplored-content"},Wp={key:1,class:"name-content"},jp={class:"character-name"},qp={key:2,class:"portrait-content"},Hp={key:1,class:"xp-bonus-overlay"},Gp={class:"character-name overlay-name"},Vp=["disabled"],Kp={key:0,class:"cost-stars"},Yp=me({__name:"IngressCharacterCard",props:{option:{},xpBonus:{}},emits:["explore"],setup(e,{emit:t}){const i=e,n=t,a=$e("gameState"),s=X(()=>{var h;return((h=a==null?void 0:a.activeMinigame)==null?void 0:h.type)===_t&&a.uiState.activeMinigameState?a.uiState.activeMinigameState:null}),r=X(()=>{var h;return i.option.characterName?(h=s.value)!=null&&h.characterRenames&&s.value.characterRenames[i.option.characterId]?s.value.characterRenames[i.option.characterId]:i.option.characterName:"???"}),o=X(()=>{switch(i.option.discoveryState){case"unexplored":return i.option.explorationCosts[0];case"name_revealed":return i.option.explorationCosts[1];default:return 0}}),l=X(()=>{switch(i.option.discoveryState){case"unexplored":return"Focus attention";case"name_revealed":return"Intensify Focus";default:return""}}),d=X(()=>i.option.discoveryState!=="unexplored"&&i.option.discoveryState!=="name_revealed"?!0:!s.value||s.value.possessionCharges<o.value),c=X(()=>{const h=o.value;return h<=0?"":"".repeat(h)}),g=()=>{d.value||n("explore",i.option)},u=()=>{i.option.discoveryState==="portrait_revealed"&&n("explore",i.option)};return(h,v)=>(f(),_("div",{class:ue(["character-card",[`state-${h.option.discoveryState}`,{"is-clickable":h.option.discoveryState==="portrait_revealed"}]]),onClick:u},[p("div",Up,[h.option.discoveryState==="unexplored"?(f(),_("div",Fp,v[0]||(v[0]=[p("span",{class:"question-mark"},"?",-1)]))):W("",!0),h.option.discoveryState==="name_revealed"?(f(),_("div",Wp,[p("h3",jp,U(r.value),1)])):W("",!0),h.option.discoveryState==="portrait_revealed"?(f(),_("div",qp,[h.option.characterImage?(f(),pe(tn,{key:0,"atlas-name":"heroes","image-name":h.option.characterImage.portrait||h.option.characterImage.full,"display-width":254,"display-height":360},null,8,["image-name"])):W("",!0),h.xpBonus>0?(f(),_("div",Hp,"+"+U(h.xpBonus)+"% XP",1)):W("",!0),p("h3",Gp,U(r.value),1)])):W("",!0),h.option.discoveryState==="unexplored"||h.option.discoveryState==="name_revealed"?(f(),_("button",{key:3,onClick:Oa(g,["stop"]),disabled:d.value,class:"explore-button"},[Le(U(l.value)+" ",1),c.value?(f(),_("span",Kp,U(c.value),1)):W("",!0)],8,Vp)):W("",!0)])],2))}}),Xp=fe(Yp,[["__scopeId","data-v-319139e2"]]),Qp={class:"content-overlay"},Jp={class:"stars"},Zp={key:0,class:"progress-text-container"},em={key:0,class:"possession-ready"},tm={key:1,class:"possession-progress"},im={key:0,class:"hint-tooltip"},nm=me({__name:"PossessionChargesBar",props:{charges:{},possessionProgress:{},totalPossessionCharges:{},upgrades:{},showProgress:{type:Boolean,default:!0}},setup(e){const t=e,i=he(!1),n=he("default"),a=X(()=>t.charges<=0?"":"".repeat(t.charges).replace(/(.{5})/g,"$1 ").trimEnd()),s=X(()=>t.possessionProgress.toFixed(3)),r=X(()=>{var d;let l=t.totalPossessionCharges;return(d=t.upgrades)!=null&&d.breach_possession_speed&&(l*=2),l}),o=X(()=>`${t.possessionProgress%1*100}%`);return Wi(()=>t.charges,(l,d)=>{if(d!==void 0){if(l>d)n.value="increase";else if(l<d)n.value="decrease";else return;setTimeout(()=>{n.value="default"},1.3*1e3)}}),(l,d)=>(f(),_("div",{class:ue(["possession-charges-bar",{"flash-green-possession":n.value==="increase","flash-dark-possession":n.value==="decrease"}])},[l.showProgress?(f(),_("div",{key:0,class:"progress-bar-fill",style:nt({width:o.value})},null,4)):W("",!0),p("div",Qp,[d[4]||(d[4]=p("span",{class:"possession-charges-label"},"Possession Charges: ",-1)),p("span",Jp,U(a.value),1),l.showProgress?(f(),_("div",Zp,[l.possessionProgress>=100?(f(),_("span",em," Ready to Possess ")):(f(),_("span",tm," Possession progress: "+U(s.value)+"%, rate: "+U(r.value)+"x ",1)),l.possessionProgress<100?(f(),_("div",{key:2,class:"input-hint-container",onMouseenter:d[0]||(d[0]=c=>i.value=!0),onMouseleave:d[1]||(d[1]=c=>i.value=!1)},[d[3]||(d[3]=p("span",{class:"hint-icon"},"?",-1)),i.value?(f(),_("div",im,d[2]||(d[2]=[p("ul",null,[p("li",null,"The rate is proportional to the total amount of charges you've earned."),p("li",null,"Spending charges does not affect the rate, but may tickle the sense of greed. This is normal.")],-1)]))):W("",!0)],32)):W("",!0)])):W("",!0)])],2))}}),so=fe(nm,[["__scopeId","data-v-7761e464"]]),am={class:"inspect-view-panel"},sm={key:1,class:"inspect-content"},rm={class:"char-portrait-panel"},om={class:"name-container"},lm={class:"char-name"},cm=["disabled"],dm={class:"portrait-container"},um={key:1,class:"xp-bonus-overlay"},gm={class:"char-details-panel"},hm={class:"bio-container"},pm={class:"bio-text"},mm={class:"actions-container"},fm=["disabled"],ym={key:0,class:"commit-panel"},Om={class:"location-image-container"},bm=["src","alt"],vm={class:"possess-button-container"},_m=["disabled"],wm={class:"highlight-name"},Tm={class:"highlight-name"},Im={key:0,class:"possess-button-overlay"},Pm={class:"overlay-percentage"},Nm={key:2,class:"rename-dialog-backdrop"},km={class:"rename-dialog"},Cm={class:"rename-dialog-actions"},Sm=["disabled"],xm=me({__name:"IngressCharacterInspectView",setup(e){const t=$e("gameState"),i=he(""),n=X(()=>{var b;return((b=t==null?void 0:t.activeMinigame)==null?void 0:b.type)===_t&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null}),a=X(()=>{var b;return((b=t==null?void 0:t.activeMinigame)==null?void 0:b.type)===_t?t.activeMinigame:null}),s=X(()=>{var b;return!((b=n.value)!=null&&b.inspectingCharacterId)||!t?null:t.lib.characters.getCharacter(n.value.inspectingCharacterId)}),r=X(()=>{var b;return(b=n.value)!=null&&b.inspectingCharacterId&&n.value.characterXpBonuses[n.value.inspectingCharacterId]||0}),o=X(()=>{var b;return s.value?(b=n.value)!=null&&b.characterRenames&&n.value.characterRenames[s.value.id]?n.value.characterRenames[s.value.id]:s.value.name:""}),l=X(()=>{var b;return!((b=s.value)!=null&&b.location)||!t?null:t.lib.welcomeLocations.getLocation(s.value.location)}),d=X(()=>{var b;return!((b=s.value)!=null&&b.bio)||n.value===null?"":Se(s.value.bio,n.value.bioObfuscation,.4)}),c=()=>{var b;(b=a.value)==null||b.deobfuscateBio()},g=X(()=>n.value?n.value.possessionProgress<100||n.value.possessionCharges<10:!0),u=()=>{a.value&&t&&a.value.commitAndPossess(t)},h=()=>{var b;(b=a.value)==null||b.closeCharacterInspection()},v=X(()=>i.value.trim().length>=3&&i.value.trim().length<=12),w=()=>{var b;s.value&&(i.value=o.value,(b=a.value)==null||b.openRenameDialog())},k=()=>{var b;(b=a.value)==null||b.closeRenameDialog()},C=()=>{var b;v.value&&((b=a.value)==null||b.renameCharacter(i.value))},A=X(()=>{if(!n.value)return"See through";switch(Math.round(n.value.bioObfuscation*5)){case 5:return"Squint";case 3:return"Grasp";case 2:return"Discern";case 1:return"Absorb";default:return"See through"}});return(b,O)=>{var I;return f(),_("div",am,[p("button",{class:"close-button",onClick:h},""),n.value?(f(),pe(so,{key:0,charges:n.value.possessionCharges,"possession-progress":n.value.possessionProgress,"total-possession-charges":n.value.totalPossessionCharges,upgrades:n.value.upgrades,"show-progress":!1},null,8,["charges","possession-progress","total-possession-charges","upgrades"])):W("",!0),s.value?(f(),_("div",sm,[p("div",rm,[p("div",om,[p("h2",lm,U(o.value),1),p("button",{onClick:w,class:"rename-button",disabled:!n.value||n.value.possessionCharges<1},"Rename ",8,cm)]),p("div",dm,[s.value.fullImage?(f(),pe(tn,{key:0,"atlas-name":"heroes","image-name":s.value.portraitImage||s.value.fullImage,"display-width":254,"display-height":360},null,8,["image-name"])):W("",!0),r.value>0?(f(),_("div",um,"+"+U(r.value)+"% XP",1)):W("",!0)])]),p("div",gm,[p("div",hm,[p("p",pm,U(d.value),1)]),p("div",mm,[n.value&&n.value.bioObfuscation>0?(f(),_("button",{key:0,onClick:c,disabled:n.value.possessionCharges<1,class:"action-button deobfuscate-button"},U(A.value)+"  ",9,fm)):W("",!0)])]),l.value?(f(),_("div",ym,[p("div",Om,[p("img",{src:"img/"+l.value.imageName,alt:l.value.name,class:"location-image"},null,8,bm)]),p("div",vm,[p("button",{onClick:u,disabled:g.value,class:"action-button possess-button"},[O[1]||(O[1]=Le(" Commit and possess ")),O[2]||(O[2]=p("br",null,null,-1)),O[3]||(O[3]=Le()),p("span",wm,U(o.value),1),O[4]||(O[4]=Le(" in ")),p("span",Tm,U(l.value.name),1),O[5]||(O[5]=p("br",null,null,-1)),O[6]||(O[6]=Le("   "))],8,_m),n.value&&n.value.possessionProgress<100?(f(),_("div",Im,[p("span",Pm,U(Math.floor(n.value.possessionProgress))+"%",1)])):W("",!0)])])):W("",!0)])):W("",!0),n.value&&n.value.renamingCharacterId===((I=s.value)==null?void 0:I.id)?(f(),_("div",Nm,[p("div",km,[p("h3",null,"Rename "+U(o.value),1),mi(p("input",{type:"text","onUpdate:modelValue":O[0]||(O[0]=$=>i.value=$),class:"rename-input",placeholder:"Inscribe New Name"},null,512),[[Oi,i.value]]),p("div",Cm,[p("span",{class:ue(["error-message",{"error-visible":!v.value}])},"Names require 3-12 characters.",2),p("button",{onClick:k,class:"dialog-button cancel-button"},"Cancel"),p("button",{onClick:C,class:"dialog-button confirm-button",disabled:!n.value||n.value.possessionCharges<1||!v.value},"Rename ",8,Sm)])])])):W("",!0)])}}}),Am=fe(xm,[["__scopeId","data-v-a62db042"]]),Em={key:0,class:"upgrade-view-panel"},Mm=["disabled"],$m={class:"upgrade-content"},Dm={class:"column"},zm=["disabled","onClick"],Bm={key:0,class:"purchase-flash"},Rm={class:"column"},Lm=["disabled","onClick"],Um={key:0},Fm={key:1},Wm={key:2,class:"purchase-flash"},jm=me({__name:"IngressUpgradeView",setup(e){const t=$e("gameState"),i=X(()=>{var c;return t&&((c=t.activeMinigame)==null?void 0:c.type)===_t&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null}),n=X(()=>{var c;return t&&((c=t.activeMinigame)==null?void 0:c.type)===_t?t.activeMinigame:null}),a=he(new Set),s=X(()=>i.value?i.value.characterOptions.filter(c=>c.discoveryState==="portrait_revealed").length:0),r=[{id:"char_attribute_point",text:"+1 Attribute point",cost:15,stars:"  "},{id:"char_skill_point",text:"+1 Skill point",cost:10,stars:" "},{id:"char_spec_point",text:"+1 Specialization point",cost:5,stars:""},{id:"char_xp_boost",text:"+25% of next level XP",cost:3,stars:""}],o=[{id:"breach_possession_speed",text:"+100% Faster possession rate",cost:5,stars:""},{id:"breach_word_bonus",text:"+1 from future 'useful' words",cost:5,stars:""},{id:"breach_typo_tolerance",text:"+1 typo tolerance",cost:2,stars:""},{id:"breach_word_counter",text:"Display remaining 'useful' words count",cost:1,stars:""}],l=(c,g)=>{n.value&&(n.value.purchaseUpgrade(c,g),a.value.add(c),setTimeout(()=>{a.value.delete(c)},3500))},d=()=>{n.value&&n.value.revealUpgrades()};return(c,g)=>i.value&&s.value>=2?(f(),_("div",Em,[p("div",{class:ue(["upgrades-reveal-container",{hidden:i.value.upgradesRevealed}])},[g[1]||(g[1]=p("h3",null,"Upgrades",-1)),p("button",{onClick:d,class:"explore-button",disabled:i.value.possessionCharges<1},g[0]||(g[0]=[Le(" Connect "),p("span",{class:"cost-stars"},"",-1)]),8,Mm)],2),p("div",{class:ue(["upgrade-content-wrapper",{revealed:i.value.upgradesRevealed}])},[p("div",$m,[p("div",Dm,[g[2]||(g[2]=p("h3",null,"Upon possession, the host gains:",-1)),(f(),_(re,null,Pe(r,u=>p("button",{key:u.id,class:ue(["upgrade-button",{purchased:i.value.upgrades[u.id]}]),disabled:i.value.upgrades[u.id]||i.value.possessionCharges<u.cost,onClick:h=>l(u.id,u.cost)},[p("span",null,U(u.text),1),p("span",{class:"stars",style:nt({visibility:i.value.upgrades[u.id]?"hidden":"visible"})},U(u.stars),5),a.value.has(u.id)?(f(),_("div",Bm)):W("",!0)],10,zm)),64))]),p("div",Rm,[g[4]||(g[4]=p("h3",null,"Widen the telepathic breach:",-1)),(f(),_(re,null,Pe(o,u=>p("button",{key:u.id,class:ue(["upgrade-button",{purchased:i.value.upgrades[u.id]}]),disabled:i.value.upgrades[u.id]||i.value.possessionCharges<u.cost,onClick:h=>l(u.id,u.cost)},[u.id==="breach_word_bonus"?(f(),_("span",Um,g[3]||(g[3]=[Le("+1 "),p("span",{class:"star-symbol"},"",-1),Le(" from future useful words")]))):(f(),_("span",Fm,U(u.text),1)),p("span",{class:"stars",style:nt({visibility:i.value.upgrades[u.id]?"hidden":"visible"})},U(u.stars),5),a.value.has(u.id)?(f(),_("div",Wm)):W("",!0)],10,Lm)),64))])])],2)])):W("",!0)}}),qm=fe(jm,[["__scopeId","data-v-5deadc97"]]),Hm={key:0},Gm=me({__name:"IngressCharacterHint",props:{word:{},position:{}},setup(e){const t=e,i=$e("gameState"),n=X(()=>!!t.word&&!!t.position),a=X(()=>t.position?{position:"fixed",left:`${t.position.x-15}px`,top:`${t.position.y}px`,transform:"translateX(-100%) translateY(-50%)",pointerEvents:"none"}:{}),s=X(()=>{var o;if(!((o=t.word)!=null&&o.sourceCharacterIds)||!i)return[];const r=i.uiState.activeMinigameState;return t.word.sourceCharacterIds.map(l=>{var u;const d=((u=r==null?void 0:r.characterXpBonuses)==null?void 0:u[l])||0;let c="Unknown Character";const g=r==null?void 0:r.characterOptions.find(h=>h.characterId===l);if(g&&g.characterName)c=g.characterName;else{const h=i.lib.characters.getCharacter(l);h&&(c=h.name)}return{id:l,name:c,totalBonus:d}})});return(r,o)=>n.value?(f(),_("div",{key:0,class:"ingress-character-hint",style:nt(a.value)},[o[0]||(o[0]=p("p",null,"This word resonates with the following characters:",-1)),p("ul",null,[(f(!0),_(re,null,Pe(s.value,l=>(f(),_("li",{key:l.id},U(l.name),1))),128))]),r.word?(f(),_("p",Hm,"Grants +"+U(r.word.pointsEarned)+"% next level XP upon possessing them.",1)):W("",!0)],4)):W("",!0)}}),Vm=fe(Gm,[["__scopeId","data-v-9d63aeca"]]),Km={class:"input-and-prompt-area-wrapper"},Ym={class:"input-and-prompt-area"},Xm={key:0,class:"input-prompt large-prompt"},Qm={key:1,class:"input-prompt prompt-with-a-break"},Jm={class:"action-area"},Zm={class:"input-wrapper"},ef={key:0,class:"hint-tooltip"},tf=me({__name:"IngressInputArea",props:{showHint:{type:Boolean},chargesBarRevealed:{type:Boolean},engaged:{type:Boolean},engagementProgress:{}},emits:["submit-word","engage-game","engage-hover","engagement-click","engagement-mousedown","engagement-mouseup","engagement-mouseleave"],setup(e,{expose:t,emit:i}){const n=e,a=i,s=he(""),r=he(null),o=he(null),l=he(null),d=he(!1),c=he(!1),g=he(!1);oi(()=>{setTimeout(()=>{c.value=!0},5e3)});const u=X(()=>{if(n.engagementProgress>50){const O=1-(n.engagementProgress-50)/50;return{opacity:Math.max(0,O)}}return{}}),h=he("default"),v=()=>{var I;const O=s.value.trim();if(O){const $=(I=r.value)==null?void 0:I.getBoundingClientRect();a("submit-word",{word:O,inputRect:$})}else s.value="",h.value="default"},w=()=>{(h.value==="blank-error"||h.value==="scored-points")&&(h.value="typing")},k=()=>{a("engagement-click"),g.value=!0,setTimeout(()=>{g.value=!1},800)},C=()=>{a("engage-hover",null),a("engagement-mouseup")},A=()=>{var O;a("engage-hover",((O=l.value)==null?void 0:O.getBoundingClientRect())??null),a("engagement-mousedown")},b=()=>{a("engagement-mouseleave")};return t({clearInput:()=>{s.value=""},selectInput:()=>{var O;(O=r.value)==null||O.select()},focusInput:()=>{var O;(O=r.value)==null||O.focus()},showBlankError:()=>{h.value="blank-error"},showScoredPoints:()=>{h.value="scored-points",setTimeout(()=>{h.value==="scored-points"&&(h.value="default")},500)},resetState:()=>{h.value="default"}}),(O,I)=>(f(),_("div",Km,[p("div",Ym,[O.chargesBarRevealed?W("",!0):(f(),_("p",Xm,"Time to initiate possession.")),O.chargesBarRevealed?W("",!0):(f(),_("p",Qm,"This process is mentally strenuous, stock up on coffee or tea.")),p("div",Jm,[p("div",{class:ue(["engaged-content",{hidden:!O.engaged}])},[I[5]||(I[5]=p("p",{class:"input-prompt"},[Le("Type in "),p("b",null,"nouns"),Le(" you believe might resonate across the dimensional barrier. The right words will accelerate the possession.")],-1)),p("div",Zm,[p("div",{ref_key:"inputAreaRef",ref:o,class:ue(["input-area",{"shake-animation":h.value==="blank-error","flash-green-animation":h.value==="scored-points"}])},[mi(p("input",{ref_key:"inputElementRef",ref:r,type:"text","onUpdate:modelValue":I[0]||(I[0]=$=>s.value=$),onKeyup:Fr(v,["enter"]),onInput:w,placeholder:"type a magic noun and hit Enter",class:ue({"input-blank-highlight":h.value==="blank-error","input-typing-highlight":h.value==="typing"})},null,34),[[Oi,s.value]]),p("button",{onClick:v},"Enter")],2),O.showHint?(f(),_("div",{key:0,class:"input-hint-container",onMouseenter:I[1]||(I[1]=$=>d.value=!0),onMouseleave:I[2]||(I[2]=$=>d.value=!1)},[I[4]||(I[4]=p("span",{class:"hint-icon"},"?",-1)),d.value?(f(),_("div",ef,I[3]||(I[3]=[p("ul",null,[p("li",null,"Verbs can not transcend universal boundaries. Only nouns pave the way."),p("li",null,"Use simple, singular forms (i.e. 'farm' instead of 'farmer'). Trivial cases will be autocorrected."),p("li",null,"Nobody can tell you which words to type. Telepathy responds to instinct."),p("li",null,"There is no penalty for errors. Despair is your only undoing.")],-1)]))):W("",!0)],32)):W("",!0)])],2),p("button",{ref_key:"engageButtonRef",ref:l,class:ue([{hidden:O.engaged||!c.value,"engage-button--clicked":g.value},"engage-button"]),style:nt(u.value),onClick:k,onMousedown:A,onMouseup:C,onMouseleave:b}," Engage now ",38)])])]))}}),nf=fe(tf,[["__scopeId","data-v-9f65d7aa"]]),af=me({__name:"StarfieldBackground",props:{attractorPosition:{},isEngaged:{type:Boolean},engagementProgress:{},engagementCompletionTime:{}},emits:["all-stars-gone"],setup(e,{emit:t}){const i=e,n=t,a=he(null);let s;const r=he(null),o=d=>{r.value={x:d.clientX,y:d.clientY}},l=()=>{r.value=null};return oi(()=>{const d=a.value;if(!d)return;const c=d.getContext("2d");if(!c)return;window.addEventListener("mousemove",o),window.addEventListener("mouseleave",l);let g=0,u=0;const h=[],v=1e3,w=.05;function k(I,$=!1){const B=(Math.random()-.5)*.015;I.cosAV=Math.cos(B),I.sinAV=Math.sin(B),I.sensitivity=.2+Math.random()*1.3,I.baseRadius=1+Math.random()*5,I.creationTime=Date.now(),I.z=$?g+Math.random()*g:g*.8+Math.random()*g*.4;const Z=Math.min(g,u),K=g/2,Q=u/2,ee=Math.random()*Math.PI*2,L=Math.hypot(K,Q)*1.1,q=K+Math.cos(ee)*L,H=Q+Math.sin(ee)*L;I.x=(q-K)*I.z/Z,I.y=(H-Q)*I.z/Z;const T=4+Math.random()*4,S=Math.hypot(I.x,I.y);S>0?(I.vx=-I.x/S*T,I.vy=-I.y/S*T):(I.vx=0,I.vy=0)}function C(){if(d){g=d.width=d.offsetWidth,u=d.height=d.offsetHeight,h.length=0;for(let I=0;I<v;I++){const $={};k($,!0),h.push($)}}}function A(){if(!d||!c){s=requestAnimationFrame(A);return}let I;const $=.7,B=.07,Z=2;if(i.isEngaged&&i.engagementCompletionTime){const L=Date.now()-i.engagementCompletionTime,H=Math.min(L/1e4,1);I=B+($-B)*H}else{const L=i.engagementProgress/100;I=$*Math.pow(B/$,Math.pow(L,Z))}c.fillStyle=`rgba(44, 62, 80, ${I})`,c.fillRect(0,0,g,u);const K=g/2,Q=u/2,ee=Math.min(g,u);if(i.isEngaged){if(h.length===0){cancelAnimationFrame(s);return}for(let L=h.length-1;L>=0;L--){const q=h[L];if(!q.isFlyingOut){const x=q.x*q.cosAV-q.y*q.sinAV-q.x,M=q.x*q.sinAV+q.y*q.cosAV-q.y;q.vx+=x,q.vy+=M;const G=Math.hypot(q.vx,q.vy),le=3;if(G<le){const ge=q.x-g/2,be=q.y-u/2,xe=Math.hypot(ge,be);if(xe>0)q.vx=ge/xe*le,q.vy=be/xe*le;else{const ne=Math.random()*Math.PI*2;q.vx=Math.cos(ne)*le,q.vy=Math.sin(ne)*le}}q.isFlyingOut=!0}q.x+=q.vx,q.y+=q.vy,q.z-=w;const H=q.x/q.z*ee+K,T=q.y/q.z*ee+Q,S=100;if(q.z<=0||H<-100||H>g+S||T<-100||T>u+S)h.splice(L,1);else{const x=q.baseRadius/q.z*ee*.5,M=Math.min(1,ee/q.z*1.5);c.fillStyle=`rgba(226, 232, 240, ${M})`,c.beginPath(),c.arc(H,T,x,0,Math.PI*2),c.fill()}}h.length===0&&n("all-stars-gone")}else{const H=Date.now();for(const T of h){if(T.z-=w,T.z<=0){k(T,!1);continue}const S=1/T.z,x=T.x*S*ee+K,M=T.y*S*ee+Q;let G=0,le=0;if(i.attractorPosition){const lt=i.attractorPosition.x-x,m=i.attractorPosition.y-M,y=lt*lt+m*m;if(y>1){const P=220/y;G+=lt*P,le+=m*P}}else if(r.value){const lt=x-r.value.x,m=M-r.value.y,y=lt*lt+m*m,P=Math.min(g,u)*.1*T.sensitivity;if(y<P*P&&y>1){const D=50/y;G+=lt*D,le+=m*D}}(Math.abs(G)>0||Math.abs(le)>0)&&(T.vx+=G*T.z/ee,T.vy+=le*T.z/ee);const ge=T.x*T.cosAV-T.y*T.sinAV,be=T.x*T.sinAV+T.y*T.cosAV;T.x=ge,T.y=be;const xe=T.vx*T.cosAV-T.vy*T.sinAV,ne=T.vx*T.sinAV+T.vy*T.cosAV;T.vx=xe,T.vy=ne,T.x+=T.vx,T.y+=T.vy,H-T.creationTime>5500-(Math.abs(T.vx)+Math.abs(T.vy))*300&&(T.vx*=.95,T.vy*=.95);const Te=T.x*S*ee+K,Ee=T.y*S*ee+Q,ze=T.baseRadius*S*ee*.5,ot=Math.hypot(Te-K,Ee-Q),Ve=Math.min(g,u)*.05*T.sensitivity;if(ot>Ve&&Te>0&&Te<g&&Ee>0&&Ee<u){const lt=Math.min(1,ee*S*1.5);c.fillStyle=`rgba(226, 232, 240, ${lt})`,c.beginPath(),c.arc(Te,Ee,ze,0,Math.PI*2),c.fill()}}}s=requestAnimationFrame(A)}let b=!1;const O=new ResizeObserver(I=>{for(let $ of I)$.contentRect.width>0&&$.contentRect.height>0&&(C(),b||(A(),b=!0))});O.observe(d),pa(()=>{cancelAnimationFrame(s),window.removeEventListener("mousemove",o),window.removeEventListener("mouseleave",l),d&&O.unobserve(d)})}),(d,c)=>(f(),_("canvas",{ref_key:"canvasEl",ref:a,class:"starfield-background"},null,512))}}),sf=fe(af,[["__scopeId","data-v-2baf7d80"]]),rf={class:"game-content-wrapper"},of={class:"main-content-area"},lf={key:1,class:"character-options-container"},cf={class:"inspect-views-panel-container"},df={class:"word-item"},uf={class:"word-name"},gf={key:0,class:"stars"},hf={key:0,class:"typo-sticker"},pf=me({__name:"IngressView",setup(e){const t=he(!0),i=$e("gameState"),n=he(null),a=he(null),s=he(null),r=he(null),o=he(!1),l=X(()=>u.value?u.value.usefulWords.length+u.value.offensiveWords.length>=2:!1),d=he(null),c=X(()=>d.value?{"--start-x":`${d.value.from.x}px`,"--start-y":`${d.value.from.y}px`,"--end-x":`${d.value.to.x}px`,"--end-y":`${d.value.to.y}px`,width:`${d.value.wordItemWidth}px`}:{}),g=()=>{if(d.value){const B=document.getElementById(`word-li-${d.value.wordId}`);B&&(B.style.visibility="visible",B.classList.add("new-word-entry-animation")),d.value=null}},u=X(()=>{var B;return((B=i==null?void 0:i.activeMinigame)==null?void 0:B.type)===_t&&i.uiState.activeMinigameState?i.uiState.activeMinigameState:null}),h=X(()=>{var B;return((B=i==null?void 0:i.activeMinigame)==null?void 0:B.type)===_t?i.activeMinigame:null}),v=X(()=>{if(!i||!h.value)return 0;const B=i.lib.ingressWords;return h.value.getUsefulWordsCount(B,i)}),w=X(()=>{const B=[];if(!u.value)return[];if(u.value.usefulWords.length>0||u.value.upgrades.breach_word_counter){let K="Useful";if(u.value.upgrades.breach_word_counter){const Q=u.value.usefulWords.length,ee=v.value;K=`Useful ${Q}/${ee}`}B.push({id:"useful",title:K,words:[...u.value.usefulWords].reverse()})}return u.value.offensiveWords.length>0&&B.push({id:"offensive",title:"Offensive",words:[...u.value.offensiveWords].reverse()}),B}),k=async B=>{var Z,K,Q,ee,L,q,H;if(h.value&&(i!=null&&i.lib.ingressWords)){const{word:T,inputRect:S}=B,x=h.value.processSubmittedWord(T,i.lib.ingressWords,i);if((Z=n.value)==null||Z.resetState(),await Ys(),x.classification==="blank")(K=n.value)==null||K.showBlankError(),(Q=n.value)==null||Q.selectInput();else if(x.classification==="offensive"||x.isNewAddition?(ee=n.value)==null||ee.clearInput():x.classification==="useful"&&!x.isNewAddition&&((L=n.value)==null||L.selectInput()),(q=n.value)==null||q.focusInput(),x.classification==="useful"&&x.pointsEarned>0&&x.isNewAddition){if(u.value&&u.value.usefulWords.length>0&&S){const M=u.value.usefulWords[u.value.usefulWords.length-1],G=document.getElementById(`word-li-${M.definition.id}`),le=G==null?void 0:G.getBoundingClientRect();le&&G&&(G.style.visibility="hidden",d.value={wordId:M.definition.id,from:{x:S.left+S.width/2,y:S.top+S.height/2},to:{x:le.left,y:le.top},wordName:M.definition.name,wordPoints:M.pointsEarned,wordWasTypo:M.wasTypo,wordItemWidth:le.width})}(H=n.value)==null||H.showScoredPoints()}else x.classification==="useful"&&x.pointsEarned>0&&x.isNewAddition}},C=B=>{s.value=B.word,r.value={x:B.event.clientX,y:B.event.clientY},o.value||(o.value=!0)},A=()=>{s.value=null,r.value=null},b=B=>{h.value&&i&&(B.discoveryState==="portrait_revealed"?h.value.startCharacterInspection(B.characterId):h.value.exploreCharacter(B.characterId,i))},O=()=>{var B;(B=h.value)==null||B.closeCharacterInspection()},I=()=>{var B;(B=h.value)==null||B.engage()},$=B=>{B?a.value={x:B.left+B.width/2,y:B.top+B.height/2}:a.value=null};return(B,Z)=>{var K,Q,ee,L,q,H;return f(),_("div",{class:ue(["ingress-view-container",{"center-content":!((K=u.value)!=null&&K.engaged)}])},[t.value?(f(),pe(sf,{key:0,"attractor-position":a.value,"is-engaged":!!((Q=u.value)!=null&&Q.engaged),"engagement-progress":((ee=u.value)==null?void 0:ee.engagementProgress)??0,"engagement-completion-time":((L=u.value)==null?void 0:L.engagementCompletionTime)??null,onAllStarsGone:Z[0]||(Z[0]=()=>{t.value=!1,console.log("[IngressView] Starfield component removed.")})},null,8,["attractor-position","is-engaged","engagement-progress","engagement-completion-time"])):W("",!0),p("div",rf,[p("div",{class:ue(["game-content-below-bar",{engaged:(q=u.value)==null?void 0:q.engaged}])},[p("div",of,[u.value&&u.value.chargesBarRevealed&&u.value.engaged?(f(),pe(so,{key:0,charges:u.value.possessionCharges,"possession-progress":u.value.possessionProgress,"total-possession-charges":u.value.totalPossessionCharges,upgrades:u.value.upgrades,"show-progress":!0},null,8,["charges","possession-progress","total-possession-charges","upgrades"])):W("",!0),u.value&&u.value.characterOptions.length>0&&u.value.engaged?(f(),_("div",lf,[(f(!0),_(re,null,Pe(u.value.characterOptions,T=>(f(),pe(Xp,{key:T.characterId,option:T,"xp-bonus":u.value.characterXpBonuses[T.characterId]||0,onExplore:b},null,8,["option","xp-bonus"]))),128))])):W("",!0),u.value&&h.value?(f(),pe(nf,{key:2,ref_key:"ingressInputAreaRef",ref:n,"show-hint":l.value,"charges-bar-revealed":u.value.chargesBarRevealed,engaged:u.value.engaged,"engagement-progress":u.value.engagementProgress,onSubmitWord:k,onEngageGame:I,onEngageHover:$,onEngagementClick:Z[1]||(Z[1]=T=>h.value.handleEngagementClick()),onEngagementMousedown:Z[2]||(Z[2]=T=>h.value.handleEngagementMouseDown()),onEngagementMouseup:Z[3]||(Z[3]=T=>h.value.stopEngagementHold()),onEngagementMouseleave:Z[4]||(Z[4]=T=>h.value.stopEngagementHold())},null,8,["show-hint","charges-bar-revealed","engaged","engagement-progress"])):W("",!0)]),w.value.length>0&&((H=u.value)!=null&&H.engaged)?(f(),pe(Lp,{columns:w.value,key:w.value.length,onWordHover:C,onWordLeave:A,"any-badge-hovered":o.value},null,8,["columns","any-badge-hovered"])):W("",!0)],2)]),u.value&&u.value.inspectingCharacterId?(f(),_("div",{key:1,class:"inspect-views-container-backdrop",onClick:Oa(O,["self"])},[p("div",cf,[ve(Am),ve(qm)])])):W("",!0),ve(Vm,{word:s.value,position:r.value},null,8,["word","position"]),d.value?(f(),_("div",{key:2,class:"word-flyer",style:nt(c.value),onAnimationend:g},[p("div",df,[p("span",uf,U(d.value.wordName),1),d.value.wordPoints>0?(f(),_("span",gf,U("".repeat(Math.min(d.value.wordPoints,4))),1)):W("",!0)]),d.value.wordWasTypo?(f(),_("div",hf,"TYPO")):W("",!0)],36)):W("",!0)],2)}}}),mf=fe(pf,[["__scopeId","data-v-b576f491"]]),ff={class:"example-view-container"},yf=me({__name:"ExampleView",setup(e){const t=$e("gameState");X(()=>{var n;return((n=t==null?void 0:t.activeMinigame)==null?void 0:n.type)===en&&t.uiState.activeMinigameState?t.uiState.activeMinigameState:null}),X(()=>{var n;return((n=t==null?void 0:t.activeMinigame)==null?void 0:n.type)===en?t.activeMinigame:null});const i=()=>{t&&t.exitMinigame()};return(n,a)=>(f(),_("div",ff,[a[0]||(a[0]=p("h1",null,"Example Minigame",-1)),a[1]||(a[1]=p("p",null,"This is the Example minigame. Build your UI here!",-1)),p("button",{onClick:i},"Exit Minigame")]))}}),Of=fe(yf,[["__scopeId","data-v-6fecc5fc"]]),bf={class:"app-container"},vf={class:"sidebar"},_f={class:"main-content"},wf={class:"tabs"},Tf=["onClick"],If={class:"time-controls"},Pf={class:"current-timescale"},Nf=["onClick"],kf={key:1,class:"minigame-overlay-container"},Cf={key:2,class:"minigame-overlay-container"},Sf={key:3,class:"minigame-overlay-container"},xf={key:4,class:"minigame-overlay-container"},Af={key:5,class:"dialog-overlay"},Ef={class:"dialog-content"},Mf=me({__name:"App",setup(e){const t=$e("gameState"),i=he("Castle"),n=X(()=>t?no.filter(h=>t.isDiscovered(h)):[]),a=X(()=>(t==null?void 0:t.uiState.discoveredItemsCount)??0),s=X(()=>t==null?void 0:t.uiState.activeMinigameType),r=X(()=>{var h;return((h=t==null?void 0:t.activeMinigame)==null?void 0:h.hidesMainUI)===!0}),o=[{label:"Pause",value:0},{label:"0.01x",value:.01},{label:"0.1x",value:.1},{label:"0.3x",value:.3},{label:"1x",value:1},{label:"3x",value:3},{label:"10x",value:10},{label:"100x",value:100}],l=X(()=>t?t.uiState.currentTimeScale.toFixed(2):"1.00"),d=h=>{if(t){const v={name:"CmdTimeScale",scale:h};ri.push(v)}},c=()=>{if(t){const h={name:"CmdTickOnce"};ri.push(h)}},g=h=>{i.value=h,t&&t.setActiveTab(h)},u=he(!1);return oi(()=>{if(!t){console.error("GameState not injected or provided!");return}t&&t.setActiveTab(i.value)}),(h,v)=>(f(),_("div",bf,[r.value?W("",!0):(f(),_(re,{key:0},[p("div",vf,[ve(bu)]),p("div",_f,[p("div",wf,[(f(!0),_(re,null,Pe(n.value,w=>(f(),_("button",{key:w,onClick:k=>g(w),class:ue({active:i.value===w})},U(w),11,Tf))),128)),p("div",If,[p("span",Pf,U(l.value)+"x",1),(f(),_(re,null,Pe(o,w=>p("button",{key:w.label,onClick:k=>d(w.value),class:ue({active:de(t)&&de(t).uiState.currentTimeScale===w.value})},U(w.label),11,Nf)),64)),p("button",{onClick:v[0]||(v[0]=w=>c()),class:"tick-button"},"Tick")])]),(f(),_("div",{class:"tab-content",key:a.value},[i.value==="Castle"?(f(),pe(Au,{key:0})):W("",!0),i.value==="Crew"?(f(),pe(yh,{key:1})):W("",!0),i.value==="Quests"?(f(),pe(bh,{key:2})):W("",!0),i.value==="Tasks"?(f(),pe(Qh,{key:3})):W("",!0),i.value==="Debug"&&de(t)?(f(),pe(Dh,{key:4,stats:de(t).uiState.debugStats},null,8,["stats"])):W("",!0)]))])],64)),s.value==="ClickCounter"?(f(),_("div",kf,[ve(tp)])):s.value==="Welcome"?(f(),_("div",Cf,[ve(Pp)])):s.value==="Ingress"?(f(),_("div",Sf,[ve(mf)])):s.value==="Example"?(f(),_("div",xf,[ve(Of)])):W("",!0),u.value&&!r.value?(f(),_("div",Af,[p("div",Ef,[v[2]||(v[2]=p("h2",null,"Dialog Title",-1)),v[3]||(v[3]=p("p",null,"This is the dialog content. It appears on top of everything.",-1)),p("button",{onClick:v[1]||(v[1]=w=>u.value=!1)},"Close")])])):W("",!0)]))}}),$f=fe(Mf,[["__scopeId","data-v-b68473a5"]]),xi=new Map;xi.set("CmdCheatSkillUp",zf);xi.set("CmdConstructBuilding",Bf);xi.set("CmdTimeScale",Rf);xi.set("CmdTickOnce",Lf);function Df(e){for(const t of ri){const i=xi.get(t.name);i?i(e,t):console.error(`No handler registered for command: ${t.name}`)}ri.length=0}function zf(e,t){const i=t,n=e.characters.find(s=>s.characterId===i.characterId);if(!n){console.error(`CmdCheatSkillUp: Character with ID '${i.characterId}' not found.`);return}const a=n.skills[i.skillId];if(!a){console.error(`CmdCheatSkillUp: Skill with ID '${i.skillId}' not found for character '${n.name}' (ID: ${n.characterId}).`);return}J.setIndependentStat(a,a.value+i.amount,e.connections)}function Bf(e,t){const i=t;Ni.addBuilding(e,i.buildingId)}function Rf(e,t){const i=t;e.timeScale.current===i.scale?e.swapTimeScale():e.setTimeScale(i.scale)}function Lf(e,t){e.allowedUpdates++,e.timeScale.current!==0&&(e.timeScale.previous=e.timeScale.current),e.timeScale.current=0}class Uf{constructor(){}run(t,i,n){const a={key:i,params:n},s={id:`console_event_${i}_${Date.now()}`,effects:[a]};try{Gt.processSingleEvent(s,t)}catch(r){console.error(`[DebugConsole] Error processing effect '${i}':`,r)}}}function Ff(e){if(window.run){console.warn("[DebugConsole] `run` is already defined on window. Skipping initialization.");return}const t=new Uf;window.run=(i,n)=>{const a=e();if(!a){console.error("[DebugConsole] GameState is not available. Ensure it's initialized and the getter function is correct.");return}t.run(a,i,n)}}const Wf=e=>{var n;const t=(n=e.activeMinigame)==null?void 0:n.state,i=e.uiState.activeMinigameState;t&&i&&typeof i=="object"?(i.clickCount=t.clickCount,i.clicksToWin=t.clicksToWin):console.warn("syncClickCounterUI: logicState or UIMinigameState is null or not an object during sync.")},jf=e=>{var n;const t=(n=e.activeMinigame)==null?void 0:n.state,i=e.uiState.activeMinigameState;t&&i?(t.selectedLocation!==void 0?i.selectedLocation={...t.selectedLocation}:i.selectedLocation=void 0,t.explorableChoices&&Array.isArray(t.explorableChoices)?!i.explorableChoices||i.explorableChoices.length!==t.explorableChoices.length?i.explorableChoices=t.explorableChoices.map(a=>({...a})):t.explorableChoices.forEach((a,s)=>{const r=i.explorableChoices[s];r&&r.id===a.id?(r.explorationProgress=a.explorationProgress,r.isExploring=a.isExploring,r.nameObfuscationPercentage=a.nameObfuscationPercentage,r.isDescriptionVisible=a.isDescriptionVisible,r.descriptionObfuscationPercentage=a.descriptionObfuscationPercentage,r.areProsConsTitlesVisible=a.areProsConsTitlesVisible,r.revealedProsCount=a.revealedProsCount,r.revealedConsCount=a.revealedConsCount,r.canBeSelected=a.canBeSelected):(console.warn("Sync issue: Mismatch at index "+s+" for explorableChoices"),i.explorableChoices[s]={...a})}):i.explorableChoices=[]):console.warn("welcomeUISync: logicState or uiState is null or undefined during sync.")},qf=e=>{var n;const t=(n=e.activeMinigame)==null?void 0:n.state,i=e.uiState.activeMinigameState;t&&i&&(t.possessionCharges!==i.possessionCharges&&(i.possessionCharges=t.possessionCharges),t.totalPossessionCharges!==i.totalPossessionCharges&&(i.totalPossessionCharges=t.totalPossessionCharges),JSON.stringify(t.characterOptions)!==JSON.stringify(i.characterOptions)&&(i.characterOptions=JSON.parse(JSON.stringify(t.characterOptions))),t.inspectingCharacterId!==i.inspectingCharacterId&&(i.inspectingCharacterId=t.inspectingCharacterId),t.bioObfuscation!==i.bioObfuscation&&(i.bioObfuscation=t.bioObfuscation),t.usefulWords!==i.usefulWords&&(i.usefulWords=[...t.usefulWords]),t.offensiveWords!==i.offensiveWords&&(i.offensiveWords=[...t.offensiveWords]),t.blankWords!==i.blankWords&&(i.blankWords=[...t.blankWords]),JSON.stringify(t.upgrades)!==JSON.stringify(i.upgrades)&&(i.upgrades=JSON.parse(JSON.stringify(t.upgrades))),t.upgradesRevealed!==i.upgradesRevealed&&(i.upgradesRevealed=t.upgradesRevealed),t.possessionProgress!==i.possessionProgress&&(i.possessionProgress=t.possessionProgress),JSON.stringify(t.characterXpBonuses)!==JSON.stringify(i.characterXpBonuses)&&(i.characterXpBonuses=JSON.parse(JSON.stringify(t.characterXpBonuses))),t.engaged!==i.engaged&&(i.engaged=t.engaged),t.engagementProgress!==i.engagementProgress&&(i.engagementProgress=t.engagementProgress),t.engagementCompletionTime!==i.engagementCompletionTime&&(i.engagementCompletionTime=t.engagementCompletionTime))},Hf=e=>{var t;(t=e.activeMinigame)==null||t.state,e.uiState.activeMinigameState};function Wt(e,t,i){if(e!==t)throw console.error(` Test Failed: ${i}`),console.error(`   Expected: ${t}`),console.error(`   Got:      ${e}`),new Error(`Assertion failed: ${i}`)}function Jt(e,t){if(!e)throw console.error(` Test Failed: ${t}`),new Error(`Assertion failed: ${t}`)}function Gf(){Wt(Se("",1),"","Empty string should remain empty"),Wt(Se("A",1),"","Single char should be obfuscated with '' at 100%"),Wt(Se("A",.6),"","Single char should be obfuscated with '' above 0.5 threshold"),Wt(Se("A",.5),"A","Single char should not be obfuscated below 0.5 threshold"),Wt(Se("A",.4),"A","Single char should not be obfuscated below threshold"),Wt(Se("Hello",0),"Hello","0% obfuscation should return original string")}function Vf(){const e="The quick brown fox jumps over the lazy dog.",t={1:"        ?","0.8":"h qi  f     ?","0.6":"The quik bo fo ps ve   ?","0.4":"The quick brow fox ps ver te l ?","0.2":"The quick brown fox jumps over the lazy dog?",0:"The quick brown fox jumps over the lazy dog."};for(const i in t){const n=parseFloat(i),a=Se(e,n,.5);Wt(a,t[i],`Progressive obfuscation at ${n*100}%`)}}function Kf(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=[.1,.2,.3,.4,.5,.6,.7,.8,.9],i=(a,s)=>{const r=new Set;for(let o=0;o<a.length;o++)a[o]!==s[o]&&r.add(o);return r};let n=new Set;for(const a of t){const s=Se(e,a,0),r=i(e,s),o=[...n].every(l=>r.has(l));Jt(o,`Stability failed: obfuscation at ${a*100}% is not a superset of ${(a-.1)*100}%`),n=r}}function Yf(){const e="a".repeat(2e3),t=e.length,i=.05,n=(w,k)=>{let C=0;for(let A=0;A<w.length;A++)w[A]!==k[A]&&C++;return C},a=[.2,.4,.5,.6,.8];for(const w of a){const k=Se(e,w,0),C=n(e,k)/t;Jt(Math.abs(C-w)<i,`Standard obfuscation ratio is off. Expected ~${w}, got ${C}`);const A=Se(e,w,.5),b=n(e,A)/t,O=w<=.5?2*w**2:-2*w**2+4*w-1;Jt(Math.abs(b-O)<i,`Progressive obfuscation ratio is off. Expected ~${O.toFixed(2)}, got ${b.toFixed(2)} for p=${w}`)}const r=Se(e,.75,.5),o=e.substring(0,t/2),l=r.substring(0,t/2),d=e.substring(t/2),c=r.substring(t/2),g=n(o,l),u=n(d,c);Jt(g<u,`Progressive distribution failed: first half obfuscation (${g}) should be less than second half (${u})`);const h=g/(t/2),v=u/(t/2);Jt(Math.abs(h-.75)<i,`Progressive distribution failed for first half. Expected ~0.75, got ${h}`),Jt(Math.abs(v-1)<i,`Progressive distribution failed for second half. Expected ~1.0, got ${v}`)}function Xf(){try{Gf(),Vf(),Kf(),Yf(),console.log(`
Tests passed`)}catch{console.error(`
 Some tests failed. See logs above.`)}}function Qf(){const e=new lu;if(!e.lib.isLoaded){console.error("Initialization failed: Could not process library definitions."),document.getElementById("app").innerHTML='<h1 style="color: red;">Error processing game data. Please check console.</h1>';return}const t=Uc($f);t.provide("gameState",e),Ri(Kr,Wf),Ri(Xr,jf),Ri(_t,qf),Ri(en,Hf),Ff(()=>e),t.mount("#app"),Xf();let i=0,n=0;function a(s){i===0&&(i=s);const r=(s-i)/1e3;i=s;const o=r*e.timeScale.current;n+=o,Df(e),e.allowedUpdates>0?(e.update(e.minDeltaTime),e.allowedUpdates--,n=0):n>=e.minDeltaTime&&(e.update(Math.min(10,n)),n=0),requestAnimationFrame(a)}requestAnimationFrame(a)}Qf();
